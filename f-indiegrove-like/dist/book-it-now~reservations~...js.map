{"version":3,"sources":["webpack:///../node_modules/core-js/internals/array-method-has-species-support.js","webpack:///../node_modules/core-js/modules/es.array.filter.js","webpack:///./shared/reservation-calendar/header/rc-adjustments.component.js","webpack:///./shared/reservation-calendar/header/rc-adjustments.scss?a7ef","webpack:///./shared/reservation-calendar/header/rc-header.component.js","webpack:///./shared/reservation-calendar/header/rc-header.scss?c4e4","webpack:///./shared/reservation-calendar/header/rc-header.tpl.html","webpack:///./shared/reservation-calendar/layers/rc-availability.component.js","webpack:///./shared/reservation-calendar/layers/rc-availability.scss?c08e","webpack:///./shared/reservation-calendar/layers/rc-buffer.component.js","webpack:///./shared/reservation-calendar/layers/rc-buffer.scss?c236","webpack:///./shared/reservation-calendar/layers/rc-layer-active.component.js","webpack:///./shared/reservation-calendar/layers/rc-layer-active.tpl.html","webpack:///./shared/reservation-calendar/layers/rc-layer-availability.component.js","webpack:///./shared/reservation-calendar/layers/rc-layer-buffers.component.js","webpack:///./shared/reservation-calendar/layers/rc-layer-grid-b.component.js","webpack:///./shared/reservation-calendar/layers/rc-layer-grid-h.component.js","webpack:///./shared/reservation-calendar/layers/rc-layer-grid-v.component.js","webpack:///./shared/reservation-calendar/layers/rc-layer-grid.scss?5501","webpack:///./shared/reservation-calendar/layers/rc-layer-reservations.component.js","webpack:///./shared/reservation-calendar/layers/rc-reservation.component.js","webpack:///./shared/reservation-calendar/layers/rc-reservation.scss?096a","webpack:///./shared/reservation-calendar/layers/rc-staff-only.component.js","webpack:///./shared/reservation-calendar/layers/rc-staff-only.scss?1306","webpack:///./shared/reservation-calendar/rc-calendar.component.js","webpack:///./shared/reservation-calendar/rc-calendar.scss?1668","webpack:///./shared/reservation-calendar/rc-calendar.tpl.html","webpack:///./shared/reservation-calendar/sidebar/rc-sidebar.component.js","webpack:///./shared/reservation-calendar/sidebar/rc-sidebar.scss?6d6d","webpack:///./shared/reservation-calendar/sidebar/rc-sidebar.tpl.html","webpack:///./shared/reservation-calendar/toolbar/rc-legend.component.js","webpack:///./shared/reservation-calendar/toolbar/rc-options.component.js","webpack:///./shared/reservation-calendar/toolbar/rc-options.tpl.html","webpack:///./shared/reservation-calendar/toolbar/rc-toolbar.component.js","webpack:///./shared/reservation-calendar/toolbar/rc-toolbar.scss?e501","webpack:///./shared/reservation-calendar/toolbar/rc-toolbar.tpl.html"],"names":["angular","module","component","template","controller","require","$rcCalendar","niceTimeDirective","name","$element","$scope","$locale","$ctrl","$onInit","weekTimeFormat","timeFormat","$watchGroup","startDate","getCalStartDate","endDate","getCalEndDate","date","delta","mode","vgrid","clone","add","push","dateToX","times","comparator","hour","x","time","highlight","weekdays","width","ffBlock","bindings","availability","$translate","rcHelper","state","appDim","editMode","attr","instant","on","event","onClick","$apply","$onDestroy","off","moment","Math","floor","from","to","offsetX","offsetWidth","floorDate","setParam","dateToStr","reservationUnit","id","next","setPath","max","min","left","css","top","rowHeight","reservation","buffer","subtract","rcAvailability","rcBuffer","rcReservation","rcStaffOnly","addClass","markerTimeFormat","onClickHint","$event","preventDefault","stopPropagation","userRoles","session","isVisible","role","type","isAdmin","bgrid","frame","minute","userId","getCurrentUserId","isLoggedAdmin","rcToolbar","rcSidebar","rcAdjustments","rcHeader","rcLayerGridH","rcLayerGridV","rcLayerGridB","rcLayerAvailability","rcLayerBuffers","rcLayerReservations","rcLayerActive","directive","scope","bindToController","calData","settings","showPricing","$filter","$timeout","$interval","helper","dwAlerts","calendarService","rowGroupHeaderHeight","modes","day","minWidth","maxWidth","week","getParam","filter","isMoment","bindParamsToUrl","cancel","timer","getCenterName","getCurrentCenter","$watch","toggleClass","scrollToTime","getCurrentCenterId","newVal","oldVal","equals","fetch","reservations","availabilities","staffOnly","reservationTypes","isArray","forEach","resType","reservationType","extend","reservationUnits","resUnit","checkIntersection","length","hideStaffOnlyUnits","whoCanReserve","preCalcGeometry","weekStart","second","millisecond","weekEnd","start","end","force","fetching","query","then","result","catch","err","error","finally","val","replace","viewPort","document","querySelector","scrollLeft","y","gridHeight","reservationCategoryService","pricing","tipHover","category","$$spin","get","cat","products","$broadcast","rcDateSelector","rcLegend","rcOptions"],"mappings":"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","file":"book-it-now~reservations~...js?_rev=fa9221e94dd9b96ca897","sourcesContent":["var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import './rc-adjustments.scss';\n\n/**\n * rcAdjustments component - adjustments block (zoom) for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcAdjustments', [])\n\n  .component('rcAdjustments', {\n    template:\n      '<label><span translate=\"RESERVATIONS.CALENDAR.ZOOM\"></span>' +\n        '<input type=\"range\" class=\"rc-range\" title=\"{{\\'RESERVATIONS.CALENDAR.ZOOM.HINT\\' | translate}}\"' +\n          ' min=\"{{$ctrl.$rcCalendar.modes.day.minWidth}}\" max=\"{{$ctrl.$rcCalendar.modes.day.maxWidth}}\"' +\n          ' ng-model=\"$ctrl.$rcCalendar.modes.day.width\" ng-show=\"$ctrl.$rcCalendar.mode === \\'day\\'\">' +\n        '<input type=\"range\" class=\"rc-range\" title=\"{{\\'RESERVATIONS.CALENDAR.ZOOM.HINT\\' | translate}}\"' +\n          ' min=\"{{$ctrl.$rcCalendar.modes.week.minWidth}}\" max=\"{{$ctrl.$rcCalendar.modes.week.maxWidth}}\"' +\n          ' ng-model=\"$ctrl.$rcCalendar.modes.week.width\" ng-show=\"$ctrl.$rcCalendar.mode === \\'week\\'\">' +\n      '</label>',\n    controller: 'RcAdjustmentsController',\n    require: {\n      $rcCalendar: '^rcCalendar'\n    }\n  })\n\n  .controller('RcAdjustmentsController', function() {\n    // var $ctrl = this;\n    //\n    // $ctrl.$onInit = function() {\n    // };\n  });\n","// extracted by extract-css-chunks-webpack-plugin","import './rc-header.scss';\nimport template from './rc-header.tpl.html';\nimport niceTimeDirective from 'shared/nice-date-time/nice-time.directive';\n\n/**\n * rcHeader component - timetable header for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcHeader', [\n  niceTimeDirective.name,\n])\n\n  .component('rcHeader', {\n    template,\n    controller: 'RcHeaderController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcHeaderController', function($element, $scope, $locale) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $ctrl.weekTimeFormat = $locale.timeFormat === 24 ? 'H' : 'h';\n    };\n\n    /**\n     * Recalculate vertical grid when calendar day/week mode changes\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.getCalStartDate().valueOf()'], () => {\n      var startDate = $ctrl.$rcCalendar.getCalStartDate();\n      var endDate = $ctrl.$rcCalendar.getCalEndDate();\n      var date, delta;\n\n      // Vertical grid generation\n      delta = $ctrl.$rcCalendar.mode === 'week' ? 1 : 0.5;\n      $ctrl.vgrid = [];\n      for (date = startDate.clone(); date <= endDate; date.add(delta, 'h')) {\n        $ctrl.vgrid.push($ctrl.$rcCalendar.dateToX(date));\n      }\n\n      // Time grid generation\n      $ctrl.times = [];\n      var comparator = $ctrl.$rcCalendar.mode === 'week' ? 'isBefore' : 'isSameOrBefore';\n      for (date = startDate.clone(); date[comparator](endDate); date.add(1, 'h')) {\n        if ($ctrl.$rcCalendar.mode !== 'week' || (date.hour() % 2) === 0) {\n          $ctrl.times.push({\n            x: $ctrl.$rcCalendar.dateToX(date),\n            time: date.clone(),\n            highlight: $ctrl.$rcCalendar.mode === 'week' || (date.hour() % 12) === 0\n          });\n        }\n      }\n\n      // Week days generation\n      if ($ctrl.$rcCalendar.mode === 'week') {\n        $ctrl.weekdays = [];\n        for (date = startDate.clone(); date < endDate; date.add(1, 'd')) {\n          $ctrl.weekdays.push({\n            x: $ctrl.$rcCalendar.dateToX(date),\n            width: $ctrl.$rcCalendar.dateToX(date.clone().add(1, 'd')) - $ctrl.$rcCalendar.dateToX(date),\n            time: date.clone()\n          });\n        }\n      }\n    });\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \" <div class=\\\"rc-header-scrollable\\\" ng-style=\\\"{ width: $ctrl.$rcCalendar.modes[$ctrl.$rcCalendar.mode].width + 'px' }\\\"> <div class=\\\"rc-borders-h\\\"></div> <div class=\\\"rc-borders-v\\\" ng-repeat=\\\"x in $ctrl.vgrid\\\" ng-style=\\\"{ left: x + '%' }\\\"></div> <span ng-bind=\\\"item.time | date:$ctrl.weekTimeFormat\\\" ng-if=\\\"$ctrl.$rcCalendar.mode === 'week'\\\" ng-repeat=\\\"item in $ctrl.times\\\" ng-style=\\\"{ left: item.x + '%' }\\\" class=\\\"rc-time\\\" ng-class=\\\"{ 'rc-highlight': item.highlight }\\\"></span> <div ng-if=\\\"$ctrl.$rcCalendar.mode === 'week'\\\" ng-repeat=\\\"day in $ctrl.weekdays\\\" class=\\\"rc-weekday\\\" ng-style=\\\"{ left: day.x + '%', width: day.width + '%' }\\\"> <div ng-bind=\\\"day.time | date:'EEEE'\\\"></div> <div class=\\\"rc-pictogram\\\"> <ff-row> <div class=\\\"serifs\\\"><hr><hr><hr></div> </ff-row> <span ng-bind=\\\"day.time | date:'dd'\\\"></span> </div> </div> <rc-layer-grid-b ng-st1yle=\\\"{ width: $ctrl.$rcCalendar.modes[$ctrl.$rcCalendar.mode].width + 'px', height: $ctrl.$rcCalendar.gridHeight + 'px' }\\\"></rc-layer-grid-b> <span nice-time=\\\"item.time\\\" ng-repeat=\\\"item in $ctrl.times\\\" ng-if=\\\"$ctrl.$rcCalendar.mode === 'day'\\\" ng-style=\\\"{ left: item.x + '%' }\\\" class=\\\"rc-time\\\" ng-class=\\\"{ 'rc-highlight': item.highlight }\\\"></span> </div> \";\n// Exports\nmodule.exports = code;","import './rc-availability.scss';\n\n/**\n * rcAvailability component - availability item for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcAvailability', ['deskworks.appDim'])\n\n  .component('rcAvailability', {\n    template: '',\n    controller: 'RcAvailabilityController',\n    require: {\n      $rcCalendar: '^^rcCalendar',\n      ffBlock: '^^?ffBulkReadOnly',\n    },\n    bindings: {\n      availability: '<',\n    }\n  })\n\n  .controller('RcAvailabilityController', function($element, $scope, $translate, rcHelper, state, appDim) {\n    const $ctrl = this;\n\n    /**\n     * Init\n     */\n    $ctrl.$onInit = function() {\n      if ($ctrl.ffBlock && !$ctrl.ffBlock.editMode)\n        return $element.attr('title', $translate.instant('RESERVATIONS.CALENDAR.NO_PERMISSION.HINT'));\n\n      $element.attr('title', $translate.instant('RESERVATIONS.CALENDAR.AVAILABLE.HINT'));\n      $element.on('click', event => {\n        $ctrl.onClick(event);\n        $scope.$apply();\n      });\n    };\n\n    /**\n     * Destroy\n     */\n    $ctrl.$onDestroy = function() {\n      $element.off('click');\n    };\n\n    /**\n     * Click handler, navigates to reservation form\n     */\n    $ctrl.onClick = function(event) {\n      const date = moment(Math.floor($ctrl.from + ($ctrl.to - $ctrl.from) * event.offsetX / $element[0].offsetWidth));\n      rcHelper.floorDate(date, 30);\n      state.setParam('date', rcHelper.dateToStr(date));\n      state.setParam('unit', $ctrl.availability.reservationUnit.id);\n\n      appDim(true);\n\n      if ($ctrl.$rcCalendar.next) return $ctrl.$rcCalendar.next(); // external next handler\n\n      return state.setPath('/new-reservation');\n    };\n\n    /**\n     * Recalculate availability geometry on week/day mode change\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.filter'], () => {\n      // Prevent overlapping calendar start/end dates via Math.max/min\n      $ctrl.from = Math.max($ctrl.availability.from, $ctrl.$rcCalendar.getCalStartDate());\n      $ctrl.to = Math.min($ctrl.availability.to, $ctrl.$rcCalendar.getCalEndDate());\n      const left = $ctrl.$rcCalendar.dateToX($ctrl.from);\n      const width = $ctrl.$rcCalendar.dateToX($ctrl.to) - left;\n\n      $element.css('top', $ctrl.availability.reservationUnit.top + 'px');\n      $element.css('height', $ctrl.$rcCalendar.rowHeight + 'px');\n      $element.css('left', left + '%');\n      $element.css('width', width + '%');\n    });\n  });\n","// extracted by extract-css-chunks-webpack-plugin","import './rc-buffer.scss';\n\n/**\n * rcBuffer component - reservation buffer item for Deskworks reservation calendar\n */\nexport default angular.module('deskworks.rcBuffer', [])\n\n  .component('rcBuffer', {\n    template: '',\n    controller: 'RcBufferController',\n    require: {\n      $rcCalendar: '^^rcCalendar',\n    },\n    bindings: {\n      reservation: '<',\n    },\n  })\n\n  .controller('RcBufferController', function($element, $scope, $translate, rcHelper, state) {\n    const $ctrl = this;\n\n    /**\n     * Init\n     */\n    $ctrl.$onInit = function() {\n      $element.attr('title', $translate.instant('RESERVATIONS.RESERVATION_BUFFER'));\n    };\n\n    /**\n     * Recalculate buffer geometry on week/day mode change\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.filter'], () => {\n      const buffer = $ctrl.reservation.reservationUnit.buffer || 0;\n      const from = $ctrl.reservation.from.clone().subtract(buffer, 'minutes');\n      const to = $ctrl.reservation.to.clone().add(buffer, 'minutes');\n      $ctrl.from = Math.max(from, $ctrl.$rcCalendar.getCalStartDate()); // prevent overlapping calendar start/end dates\n      $ctrl.to = Math.min(to, $ctrl.$rcCalendar.getCalEndDate());\n      const left = $ctrl.$rcCalendar.dateToX($ctrl.from);\n      const width = $ctrl.$rcCalendar.dateToX($ctrl.to) - left;\n\n      $element.css('top', $ctrl.reservation.reservationUnit.top + 'px');\n      $element.css('height', $ctrl.$rcCalendar.rowHeight + 'px');\n      $element.css('left', left + '%');\n      $element.css('width', width + '%');\n    });\n  });\n","// extracted by extract-css-chunks-webpack-plugin","import template from './rc-layer-active.tpl.html';\nimport rcAvailability from './rc-availability.component';\nimport rcBuffer from './rc-buffer.component';\nimport rcReservation from './rc-reservation.component';\nimport rcStaffOnly from './rc-staff-only.component';\n\n/**\n * rcLayerActive component - active (hover/click) availabilities/reservations layer for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerActive', [\n  rcAvailability.name,\n  rcBuffer.name,\n  rcReservation.name,\n  rcStaffOnly.name,\n])\n\n.component('rcLayerActive', {\n  template,\n  controller: 'RcLayerActiveController',\n  require: {\n    $rcCalendar: '^rcCalendar',\n  },\n})\n\n  .controller('RcLayerActiveController', function($element, $scope, $locale, $translate) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $element.addClass('rc-layer');\n      $element.attr('title', $translate.instant('RESERVATIONS.CALENDAR.NOT_AVAILABLE.HINT'));\n      $ctrl.markerTimeFormat = $locale.timeFormat === 24 ? 'HH:mm' : 'hh:mm';\n    };\n\n    $ctrl.onClickHint = function($event) {\n      $event.preventDefault();\n      $event.stopPropagation();\n    };\n  });\n","// Module\nvar code = \"<rc-staff-only ng-repeat=\\\"resUnit in $ctrl.$rcCalendar.staffOnly\\\" reservation-unit=\\\"resUnit\\\"></rc-staff-only> <rc-availability ng-repeat=\\\"availability in $ctrl.$rcCalendar.availabilities\\\" availability=\\\"availability\\\"></rc-availability> <rc-buffer ng-repeat=\\\"reservation in $ctrl.$rcCalendar.reservations\\\" reservation=\\\"reservation\\\"></rc-buffer> <rc-reservation ng-repeat=\\\"reservation in $ctrl.$rcCalendar.reservations\\\" reservation=\\\"reservation\\\"> <ff-tip class=\\\"rc-marker-info\\\" ng-if=\\\"reservation.userName || reservation.reservationNote\\\" ng-click=\\\"$ctrl.onClickHint($event)\\\"> <h6> <span ng-if=\\\"reservation.userCompany\\\" class=\\\"company\\\">{{reservation.userCompany}}:</span> <span ng-if=\\\"reservation.userName\\\">{{reservation.userName}}</span> </h6> <div ng-if=\\\"reservation.accessCode && $ctrl.$rcCalendar.settings.enableAccessCodes\\\"> <span class=\\\"label\\\"><span translate=\\\"RESERVATIONS.ACCESS_CODE\\\"></span>:</span> <span class=\\\"value\\\">{{reservation.accessCode}}</span> </div> <div ng-if=\\\"reservation.addedBy\\\"> <span class=\\\"label\\\"><span translate=\\\"RESERVATIONS.ADDED_BY\\\"></span>:</span> <span class=\\\"value\\\">{{reservation.addedBy}}</span> </div> <div ng-if=\\\"reservation.title\\\"> <span class=\\\"label\\\"><span translate=\\\"RESERVATIONS.TITLE.SHORT\\\"></span>:</span> <span class=\\\"value\\\">{{reservation.title}}</span> </div> <div ng-if=\\\"reservation.reservationNote\\\">{{reservation.reservationNote}}</div> </ff-tip> <ff-tip class=\\\"rc-marker-start\\\"> <span ng-bind=\\\"reservation.from | date:$ctrl.markerTimeFormat\\\"></span> </ff-tip> <ff-tip class=\\\"rc-marker-end\\\"> <span ng-bind=\\\"reservation.to | date:$ctrl.markerTimeFormat\\\"></span> </ff-tip> </rc-reservation> \";\n// Exports\nmodule.exports = code;","import rcAvailability from './rc-availability.component';\n\n/**\n * rcLayerAvailability component - availability layer for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerAvailability', [\n  rcAvailability.name,\n])\n\n  .component('rcLayerAvailability', {\n    template: '<rc-availability ng-repeat=\"availability in $ctrl.$rcCalendar.availabilities\" availability=\"availability\"></rc-availability>',\n    controller: 'RcLayerAvailabilityController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    }\n  })\n\n  .controller('RcLayerAvailabilityController', function($element, $scope) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $element.addClass('rc-layer');\n    };\n  });\n","import rcBuffer from './rc-buffer.component';\n\n/**\n * rcLayerBuffers component - reservation buffers layer for Deskworks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerBuffers', [\n  rcBuffer.name,\n  'deskworks.userRoles',\n  'session',\n])\n\n  .component('rcLayerBuffers', {\n    template: '<rc-buffer ng-if=\"$ctrl.isVisible()\" ng-repeat=\"reservation in $ctrl.$rcCalendar.reservations\" reservation=\"reservation\"></rc-buffer>',\n    controller: 'RcLayerBuffersController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcLayerBuffersController', function($element, $scope, userRoles, session) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = () => {\n      $element.addClass('rc-layer');\n    };\n\n    $ctrl.isVisible = () => {\n      return $ctrl.$rcCalendar.role ? (userRoles[$ctrl.$rcCalendar.role] || {}).type !== 'admin' : !session.isAdmin();\n    };\n  });\n","import './rc-layer-grid.scss';\n\n/**\n * rcLayerGridB component - boundary grid layer for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerGridB', [])\n\n  .component('rcLayerGridB', {\n    template: '<div class=\"rc-borders-b\" ng-repeat=\"x in $ctrl.bgrid\" ng-style=\"{ left: x + \\'%\\' }\"></div>',\n    controller: 'RcLayerGridBController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcLayerGridBController', function($element, $scope) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $element.addClass('rc-layer');\n    };\n\n    /**\n     * Recalculate vertical grid when calendar day/week mode changes\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.getCalStartDate().valueOf()'], () => {\n      const startDate = $ctrl.$rcCalendar.getCalStartDate();\n      const endDate = $ctrl.$rcCalendar.getCalEndDate();\n      let date;\n\n      $ctrl.bgrid = [];\n      if ($ctrl.$rcCalendar.mode === 'week') {\n        for (date = startDate.clone(); date <= endDate; date.add(1, 'd')) {\n          $ctrl.bgrid.push($ctrl.$rcCalendar.dateToX(date));\n        }\n      } else {\n        for (date = startDate.clone(); date <= endDate; date.hour(date.hour() ? 24 : 12)) {\n          $ctrl.bgrid.push($ctrl.$rcCalendar.dateToX(date));\n        }\n      }\n    });\n  });\n","import './rc-layer-grid.scss';\n\n/**\n * rcLayerGridH component - horizontal grid layer for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerGridH', [])\n\n  .component('rcLayerGridH', {\n    template:\n      '<div class=\"rc-borders-h\" ng-repeat-start=\"resType in $ctrl.$rcCalendar.reservationTypes\" ' +\n        'ng-style=\"{ top: resType.top + \\'px\\', height: $ctrl.$rcCalendar.rowGroupHeaderHeight + \\'px\\' }\"></div>' +\n      '<div class=\"rc-borders-h\" ng-repeat-end ng-repeat=\"resUnit in resType.reservationUnits\" ' +\n        'ng-style=\"{ top: resUnit.top + \\'px\\', height: $ctrl.$rcCalendar.rowHeight + \\'px\\' }\"></div>',\n    controller: 'RcLayerGridHController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcLayerGridHController', function($element) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $element.addClass('rc-layer');\n    };\n  });\n","import './rc-layer-grid.scss';\n\n/**\n * rcLayerGridV component - vertical grid layer for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerGridV', [])\n\n  .component('rcLayerGridV', {\n    template: '<div class=\"rc-borders-v\" ng-repeat=\"x in $ctrl.vgrid\" ng-style=\"{ left: x + \\'%\\' }\"></div>',\n    controller: 'RcLayerGridVController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcLayerGridVController', function($element, $scope) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $element.addClass('rc-layer');\n    };\n\n    /**\n     * Recalculate vertical grid when calendar day/week mode changes\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.getCalStartDate().valueOf()'], () => {\n      const startDate = $ctrl.$rcCalendar.getCalStartDate();\n      const endDate = $ctrl.$rcCalendar.getCalEndDate();\n      const frame = $ctrl.$rcCalendar.mode === 'week' ? 3 : 0.5;\n      let date;\n\n      $ctrl.vgrid = [];\n      for (date = startDate.clone(); date <= endDate; date.add(0.5, 'h')) {\n        if (((date.hour() + date.minute() / 60) % frame) === 0) {\n          $ctrl.vgrid.push($ctrl.$rcCalendar.dateToX(date));\n        }\n      }\n    });\n  });\n","// extracted by extract-css-chunks-webpack-plugin","import rcReservation from './rc-reservation.component';\n\n/**\n * rcLayerReservations component - reservations layer for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLayerReservations', [\n  rcReservation.name,\n])\n\n  .component('rcLayerReservations', {\n    template: '<rc-reservation ng-repeat=\"reservation in $ctrl.$rcCalendar.reservations\" reservation=\"reservation\"></rc-reservation>',\n    controller: 'RcLayerReservationsController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcLayerReservationsController', function($element, $scope) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $element.addClass('rc-layer');\n    };\n  });\n","import './rc-reservation.scss';\n\n/**\n * rcReservation component - reservation item for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcReservation', ['deskworks.appDim'])\n\n  .component('rcReservation', {\n    template: '',\n    controller: 'RcReservationController',\n    require: {\n      $rcCalendar: '^^rcCalendar',\n      ffBlock: '^^?ffBulkReadOnly',\n    },\n    bindings: {\n      reservation: '<',\n    },\n  })\n\n  .controller('RcReservationController', function($element, $scope, $translate, rcHelper, state, appDim) {\n    const $ctrl = this;\n\n    /**\n     * Init\n     */\n    $ctrl.$onInit = function() {\n      $element.attr('title', $translate.instant('RESERVATIONS.CALENDAR.RESERVED.HINT'));\n\n      if ($ctrl.reservation.userId == state.getCurrentUserId()) $element.addClass('own');\n\n      if ($ctrl.ffBlock && !$ctrl.ffBlock.editMode) return;\n\n      $element.on('click', event => {\n        $ctrl.onClick(event);\n        $scope.$apply();\n      });\n    };\n\n    /**\n     * Destroy\n     */\n    $ctrl.$onDestroy = function() {\n      $element.off('click');\n    };\n\n    /**\n     * Click handler, navigates to reservation form\n     */\n    $ctrl.onClick = function(event) {\n      if (!state.isLoggedAdmin() && $ctrl.reservation.userId != state.getCurrentUserId()) return;\n\n      appDim(true);\n      state.setParam('date', rcHelper.dateToStr($ctrl.reservation.from));\n      return state.setPath('/edit-reservation/' + $ctrl.reservation.id);\n    };\n\n    /**\n     * Recalculate reservation geometry on week/day mode change\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.filter'], () => {\n      // Prevent overlapping calendar start/end dates via Math.max/min\n      $ctrl.from = Math.max($ctrl.reservation.from, $ctrl.$rcCalendar.getCalStartDate());\n      $ctrl.to = Math.min($ctrl.reservation.to, $ctrl.$rcCalendar.getCalEndDate());\n      var left = $ctrl.$rcCalendar.dateToX($ctrl.from);\n      var width = $ctrl.$rcCalendar.dateToX($ctrl.to) - left;\n\n      $element.css('top', $ctrl.reservation.reservationUnit.top + 'px');\n      $element.css('height', $ctrl.$rcCalendar.rowHeight + 'px');\n      $element.css('left', left + '%');\n      $element.css('width', width + '%');\n    });\n  });\n","// extracted by extract-css-chunks-webpack-plugin","import './rc-staff-only.scss';\n\n/**\n * rcStaffOnly component - Staff Only available item for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcStaffOnly', [])\n\n  .component('rcStaffOnly', {\n    template: '',\n    controller: 'RcStaffOnlyController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n    bindings: {\n      reservationUnit: '<',\n    },\n  })\n\n  .controller('RcStaffOnlyController', function($element, $scope, $translate) {\n    const $ctrl = this;\n\n    /**\n     * Init\n     */\n    $ctrl.$onInit = function() {\n      $element.attr('title', $translate.instant('RESERVATIONS.CALENDAR.STAFF_ONLY.HINT'));\n    };\n\n    /**\n     * Recalculate availability geometry on week/day mode change\n     */\n    $scope.$watchGroup(['$ctrl.$rcCalendar.mode', '$ctrl.$rcCalendar.filter'], () => {\n      const left = $ctrl.$rcCalendar.dateToX($ctrl.$rcCalendar.getCalStartDate());\n      const width = $ctrl.$rcCalendar.dateToX($ctrl.$rcCalendar.getCalEndDate()) - left;\n\n      $element.css('top', $ctrl.reservationUnit.top + 'px');\n      $element.css('height', $ctrl.$rcCalendar.rowHeight + 'px');\n      $element.css('left', left + '%');\n      $element.css('width', width + '%');\n    });\n  });\n","// extracted by extract-css-chunks-webpack-plugin","import './rc-calendar.scss';\nimport template from './rc-calendar.tpl.html';\nimport rcToolbar from './toolbar/rc-toolbar.component';\nimport rcSidebar from './sidebar/rc-sidebar.component';\nimport rcAdjustments from './header/rc-adjustments.component';\nimport rcHeader from './header/rc-header.component';\nimport rcLayerGridH from './layers/rc-layer-grid-h.component';\nimport rcLayerGridV from './layers/rc-layer-grid-v.component';\nimport rcLayerGridB from './layers/rc-layer-grid-b.component';\nimport rcLayerAvailability from './layers/rc-layer-availability.component';\nimport rcLayerBuffers from './layers/rc-layer-buffers.component';\nimport rcLayerReservations from './layers/rc-layer-reservations.component';\nimport rcLayerActive from './layers/rc-layer-active.component';\n\n/**\n * rcCalendar component - DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcCalendar', [\n  'deskworks.rcHelper',\n  'deskworks.calendarService',\n  rcToolbar.name,\n  rcSidebar.name,\n  rcAdjustments.name,\n  rcHeader.name,\n  rcLayerGridH.name,\n  rcLayerGridV.name,\n  rcLayerGridB.name,\n  rcLayerAvailability.name,\n  rcLayerBuffers.name,\n  rcLayerReservations.name,\n  rcLayerActive.name,\n])\n\n  .directive('rcCalendar', function() {\n    return {\n      template,\n      scope: true,\n      controller: 'RcCalendarController as $ctrl',\n      bindToController: {\n        calData: '<',\n        settings: '<',\n        next: '&?',\n        showPricing: '<',\n      },\n    };\n  })\n\n  .controller('RcCalendarController', function($element, $scope, $filter, $timeout, $interval,\n                                               helper, rcHelper, state, dwAlerts, calendarService) {\n    const $ctrl = this;\n\n    /**\n     * Init\n     */\n    $ctrl.$onInit = () => {\n      $ctrl.rowHeight = 36;\n      $ctrl.rowGroupHeaderHeight = 20;\n\n      $ctrl.modes = { day: { minWidth: 1400, maxWidth: 2400 }, week: { minWidth: 1600, maxWidth: 3600 } };\n      // $timeout - workaround for angular bug with input type range: https://github.com/angular/angular.js/issues/6726\n      $timeout(() => { $ctrl.modes.day.width = 1670; $ctrl.modes.week.width = 2400; });\n\n      $ctrl.mode = state.getParam('mode') || 'day';\n      $ctrl.filter = state.getParam('filter') || 'available';\n      $ctrl.role = state.getParam('role');\n      $ctrl.date = $filter('toDate')(state.getParam('date'));\n      if (!moment.isMoment($ctrl.date)) { $ctrl.date = moment(); }\n      rcHelper.floorDate($ctrl.date, 30);\n\n      bindParamsToUrl();\n\n      // $timeout(function() {\n      //   angular.element(document.querySelector('.rc-scroller')).on('scroll', syncScroll);\n      // });\n    };\n\n    /**\n     * Destroy\n     */\n    $ctrl.$onDestroy = () => {\n      $interval.cancel($ctrl.timer);\n    };\n\n    $ctrl.getCenterName = () => (state.getCurrentCenter() || {}).name;\n\n    /**\n     * Switch .mode-day/.mode-week class depending on $ctrl.mode\n     */\n    $scope.$watch('$ctrl.mode', () => {\n      $element.toggleClass('mode-day', $ctrl.mode === 'day');\n      $element.toggleClass('mode-week', $ctrl.mode !== 'day');\n      scrollToTime($ctrl.date);\n    });\n\n    /**\n     * Fetch data from server on date/mode change\n     */\n    $scope.$watchGroup(['$ctrl.mode', '$ctrl.date', '$ctrl.role', () => state.getCurrentCenterId()], (newVal, oldVal) => {\n      if (angular.equals(newVal, oldVal)) { // prevent duplicate fetch on initialization (due to $resolve.calData)\n        $ctrl.timer = $interval($ctrl.fetch, 1000 * 60);\n      } else {\n        $ctrl.reservations = [];\n        $ctrl.availabilities = [];\n        $ctrl.fetch(true);\n      }\n    });\n\n    /**\n     * Transform $ctrl.calData to flat data\n     */\n    $scope.$watchGroup(['$ctrl.calData', '$ctrl.filter', '$ctrl.mode'], (newVal, oldVal) => {\n      $ctrl.reservations = [];\n      $ctrl.availabilities = [];\n      $ctrl.staffOnly = [];\n      $ctrl.reservationTypes = [];\n      if (!angular.isArray($ctrl.calData)) { return; }\n\n      $ctrl.calData.forEach(resType => {\n\n        // Shallow copy each reservation category, filter reservation units, filter reservation categories for at least one reservation unit\n        const reservationType = angular.extend({}, resType); // shallow copy each reservation category\n        reservationType.reservationUnits = [];\n\n        resType.reservationUnits.forEach(resUnit => {\n          // Filter reservations\n          const reservations = resUnit.reservations.filter(reservation => {\n            if (rcHelper.checkIntersection(reservation.from, reservation.to, $ctrl.getCalStartDate(), $ctrl.getCalEndDate())) {\n              reservation.reservationType = reservationType;\n              reservation.reservationUnit = resUnit;\n              return true;\n            }\n          });\n\n          // Filter availabilities\n          const availabilities = resUnit.availabilities.filter(availability => {\n            if (rcHelper.checkIntersection(availability.from, availability.to, $ctrl.getCalStartDate(), $ctrl.getCalEndDate())) {\n              availability.reservationType = reservationType;\n              availability.reservationUnit = resUnit;\n              return true;\n            }\n          });\n\n          // Filter reservation units by availabilities or include all depending on $ctrl.filter\n          if (resUnit.availabilities.length || $ctrl.filter === 'all' || !$ctrl.settings.hideStaffOnlyUnits && resUnit.whoCanReserve === 'staffOnly') {\n            $ctrl.reservations = $ctrl.reservations.concat(reservations);\n            $ctrl.availabilities = $ctrl.availabilities.concat(availabilities);\n            reservationType.reservationUnits.push(resUnit);\n            if (!availabilities.length && resUnit.whoCanReserve === 'staffOnly') {\n              $ctrl.staffOnly.push(resUnit);\n            }\n          }\n        });\n\n        // Include only non-empty reservation categories\n        if (reservationType.reservationUnits.length) {\n          $ctrl.reservationTypes.push(reservationType); // include reservation category only if it has at least one reservation unit\n        }\n      });\n\n      preCalcGeometry($ctrl.reservationTypes);\n    });\n\n\n    /**\n     * Get calendar start date\n     */\n    $ctrl.getCalStartDate = () => {\n      const date = $ctrl.mode === 'week' ? rcHelper.weekStart($ctrl.date) : $ctrl.date.clone();\n      return date.hour(0).minute(0).second(0).millisecond(0);\n    };\n\n    /**\n     * Get calendar end date\n     */\n    $ctrl.getCalEndDate = () => {\n      const date = $ctrl.mode === 'week' ? rcHelper.weekEnd($ctrl.date) : $ctrl.date.clone();\n      return date.hour(24).minute(0).second(0).millisecond(0);\n    };\n\n    /**\n     * Calculates absolute X offset for specified date in percents\n     */\n    $ctrl.dateToX = (date) => {\n      const start = $ctrl.getCalStartDate();\n      const end = $ctrl.getCalEndDate();\n      return (date - start) * 100 / (end - start);\n    };\n\n    /**\n     * Fetches calendar data from server (reservation categories, reservation units, reservations, availability)\n     */\n    $ctrl.fetch = (force) => {\n      $interval.cancel($ctrl.timer);\n\n      if ($ctrl.fetching && !force) return; // skip fetching when called by timer\n\n      $ctrl.fetching = true;\n      return calendarService.query(state.getCurrentCenterId(), rcHelper.weekStart($ctrl.date), rcHelper.weekEnd($ctrl.date), $ctrl.role)\n        .then(result => { $ctrl.calData = result; })\n        .catch(err => dwAlerts.error(err, 'Failed to fetch calendar data.'))\n        .finally(() => {\n          $ctrl.fetching = false;\n          $interval.cancel($ctrl.timer);\n          $ctrl.timer = $interval($ctrl.fetch, 1000 * 60);\n        });\n    };\n\n    /**\n     * One-way bind reservation calendar params to URL search params\n     */\n    function bindParamsToUrl() {\n      $scope.$watch('$ctrl.date', val => { state.setParam('date', rcHelper.dateToStr(val)).replace(); });\n      $scope.$watch('$ctrl.mode', val => { state.setParam('mode', val).replace(); });\n      $scope.$watch('$ctrl.filter', val => { state.setParam('filter', val).replace(); });\n      $scope.$watch('$ctrl.role', val => { state.setParam('role', val || null).replace(); });\n    }\n\n    // /**\n    //  * Synchronize scrolling sidebar with timetable\n    //  */\n    // function syncScroll(event) {\n    //   angular.element(document.querySelector('.rc-sidebar-scrollable')).css('top', -event.target.scrollTop + 'px');\n    //   angular.element(document.querySelector('.rc-header-scrollable')).css('left', -event.target.scrollLeft + 'px');\n    // }\n\n    /**\n     * Scroll calendar to specified date/time\n     */\n    function scrollToTime(date) {\n      $timeout(() => {\n        const viewPort = document.querySelector('.rc-scroller');\n        viewPort.scrollLeft = Math.floor($ctrl.modes[$ctrl.mode].width * $ctrl.dateToX(date - 3600000 * 4) / 100);\n      });\n    }\n\n    /**\n     * Pre-calculates vertical offset for each reservation category and unit and total grid height\n     */\n    function preCalcGeometry(reservationTypes) {\n      let y = 0;\n      reservationTypes.forEach(reservationType => {\n        reservationType.top = y;\n        y += $ctrl.rowGroupHeaderHeight - 1; // -1 for border collapsing\n\n        reservationType.reservationUnits.forEach(reservationUnit => {\n          reservationUnit.top = y;\n          y += $ctrl.rowHeight - 1; // -1 for border collapsing\n        });\n      });\n      $ctrl.gridHeight = y;\n    }\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<div class=\\\"rc-scroller\\\"> <div class=\\\"rc-header-hint gutter-h-half\\\" ng-if=\\\"$ctrl.showPricing\\\"> <span class=\\\"rc-header-hint-center\\\"><span>{{$ctrl.getCenterName()}}</span></span> <span class=\\\"rc-header-hint-hint\\\"><span><ff-icon sense=\\\"info\\\"></ff-icon> <span translate=\\\"RESERVATIONS.CALENDAR.HINT\\\"></span></span></span> </div> <rc-toolbar class=\\\"ff-read-only-ignore\\\" ng-style=\\\"{ marginTop: $app.hideHeader ? '-62px' : null }\\\"></rc-toolbar> <rc-header></rc-header> <rc-adjustments></rc-adjustments> <rc-layer-background class=\\\"rc-layer\\\" ng-style=\\\"{ width: +$ctrl.modes[$ctrl.mode].width + 40 + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-background> <rc-layer-availability ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-availability> <rc-layer-buffers ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-buffers> <rc-layer-reservations ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-reservations> <rc-layer-grid-h ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-grid-h> <rc-layer-grid-v ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-grid-v> <rc-layer-grid-b ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-grid-b> <rc-layer-active ng-style=\\\"{ width: $ctrl.modes[$ctrl.mode].width + 'px', height: $ctrl.gridHeight + 'px' }\\\"></rc-layer-active> <rc-sidebar ng-style=\\\"{ height: $ctrl.gridHeight + 'px' }\\\"></rc-sidebar> </div> \";\n// Exports\nmodule.exports = code;","import './rc-sidebar.scss';\nimport template from './rc-sidebar.tpl.html';\nimport rcLayerGridH from '../layers/rc-layer-grid-h.component';\n\n/**\n * rcSidebar component - sidebar with reservation categories/units for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcSidebar', [\n  rcLayerGridH.name,\n])\n\n  .component('rcSidebar', {\n    template,\n    controller: 'RcSidebarController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcSidebarController', function(state, dwAlerts, reservationCategoryService) {\n    const $ctrl = this;\n\n    $ctrl.pricing = {};\n\n    $ctrl.tipHover = (category, scope) => {\n      if (!$ctrl.$rcCalendar.showPricing) return; // skip pricing\n      if ($ctrl.pricing[category.id]) return; // already fired\n\n      $ctrl.pricing[category.id] = { $$spin: true };\n      return reservationCategoryService.get(state.getCurrentCenterId(), category.id)\n        .catch(err => dwAlerts.error(err, 'Failed to get reservation category.'))\n        .finally(() => { $ctrl.pricing[category.id].$$spin = false; })\n        .then(cat => {\n          $ctrl.pricing[cat.id].products = cat.products;\n          scope.$broadcast('ffTip:layout');\n        });\n    };\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<div class=\\\"rc-sidebar-scroller\\\"> <div class=\\\"rc-sidebar-scrollable\\\" ng-style=\\\"{ height: $ctrl.$rcCalendar.gridHeight + 'px' }\\\"> <div ng-repeat=\\\"resType in $ctrl.$rcCalendar.reservationTypes\\\"> <div class=\\\"rc-row-group-header ff-tip-trigger\\\" ng-style=\\\"{ top: resType.top + 'px' }\\\" title=\\\"{{::resType.name}}\\\"> <span>{{::resType.name}}</span> <ng-include src=\\\"'rcSidebarHintTpl'\\\" onload=\\\"item=resType\\\"></ng-include> </div> <div class=\\\"rc-row-header\\\" ng-repeat=\\\"resUnit in resType.reservationUnits\\\" title=\\\"{{::resUnit.name}}\\\" ng-style=\\\"{ top: resUnit.top + 'px', height: $ctrl.config.rowHeight + 'px' }\\\"> <div class=\\\"rc-unit-name\\\">{{::resUnit.name}}</div> <div class=\\\"rc-unit-icon ff-tip-trigger\\\" ng-if=\\\"::resUnit.photo\\\"> <ff-img ff-src=\\\"{{::resUnit.photo}}\\\" ff-alt=\\\"{{::resUnit.name}}\\\"></ff-img> <ng-include src=\\\"'rcSidebarHintTpl'\\\" onload=\\\"item=resUnit\\\"></ng-include> </div> </div> </div> <rc-layer-grid-h></rc-layer-grid-h> <ff-info ng-if=\\\"!$ctrl.$rcCalendar.reservationTypes.length\\\" class=\\\"ff-center\\\" translate=\\\"RESERVATIONS.CALENDAR.EMPTY\\\"></ff-info> </div> </div> <script type=\\\"text/ng-template\\\" id=\\\"rcSidebarHintTpl\\\"> <ff-tip class=\\\"ff-tip-right\\\" tip-type=\\\"white\\\" tip-hover=\\\"$ctrl.tipHover(resType, this)\\\">\\n\\t\\t<h6>{{::item.name}}</h6>\\n\\t\\t<div class=\\\"rc-tip-scroller\\\">\\n\\t\\t\\t<ff-img ff-src=\\\"{{::item.photo}}\\\" ff-alt=\\\"{{::item.name}}\\\"></ff-img>\\n\\t\\t\\t<div class=\\\"rc-cat-descr\\\" ng-if=\\\"::item.description || resType.description\\\" ng-bind-html=\\\"::item.description || resType.description\\\"></div>\\n\\t\\t\\t<div class=\\\"rc-cat-descr\\\" ng-if=\\\"::item.capacity\\\" translate=\\\"RESERVATIONS.CALENDAR.CAPACITY\\\" translate-values=\\\"{ capacity: item.capacity }\\\"></div>\\n\\t\\t\\t<div class=\\\"rc-cat-pricing\\\" ng-if=\\\"$ctrl.$rcCalendar.showPricing\\\">\\n\\t\\t\\t\\t<ff-header ng-if=\\\"$ctrl.pricing[resType.id].products.length !== 0\\\"><span translate=\\\"RESERVATIONS.CALENDAR.PRICES\\\"></span></ff-header>\\n\\t\\t\\t\\t<ff-spin ng-if=\\\"$ctrl.pricing[resType.id].$$spin\\\" class=\\\"ff-spin-placeholder\\\"></ff-spin>\\n\\t\\t\\t\\t<div ng-repeat=\\\"product in $ctrl.pricing[resType.id].products\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"rc-cat-product-name\\\" ng-if=\\\"product.priceItems.length\\\">{{::product.name}}</div>\\n\\t\\t\\t\\t\\t<ff-row ng-repeat=\\\"item in product.priceItems\\\">\\n\\t\\t\\t\\t\\t\\t<div>{{::item.name}}</div>\\n\\t\\t\\t\\t\\t\\t<div flex=\\\"0 0 50px\\\" class=\\\"ff-right rc-cat-item-price\\\">{{::item.price | ncurrency}}</div>\\n\\t\\t\\t\\t\\t</ff-row>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</ff-tip> </script> \";\n// Exports\nmodule.exports = code;","/**\n * rcLegend component - legend for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcLegend', [\n  'deskworks.state',\n])\n\n  .component('rcLegend', {\n    template:\n      '<div class=\"rc-reserved\" translate=\"RESERVATIONS.CALENDAR.LEGEND.RESERVED\" title=\"{{\\'RESERVATIONS.CALENDAR.LEGEND.RESERVED.HINT\\' | translate}}\"></div>' +\n      '<div class=\"rc-own\" translate=\"RESERVATIONS.CALENDAR.LEGEND.OWN\" title=\"{{\\'RESERVATIONS.CALENDAR.LEGEND.OWN.HINT\\' | translate}}\"></div>' +\n      '<div class=\"rc-available\" translate=\"RESERVATIONS.CALENDAR.LEGEND.AVAILABLE\" title=\"{{\\'RESERVATIONS.CALENDAR.LEGEND.AVAILABLE.HINT\\' | translate}}\"></div>',\n    controller: 'RcLegendController',\n  })\n\n  .controller('RcLegendController', function(state) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $ctrl.state = state;\n    };\n  });\n","import template from './rc-options.tpl.html';\n/**\n * rcOptions component - options for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcOptions', [\n  'deskworks.state',\n])\n\n  .component('rcOptions', {\n    template,\n    controller: 'RcOptionsController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcOptionsController', function(state) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = function() {\n      $ctrl.state = state;\n    };\n  });\n","// Module\nvar code = \"<ff-col class=\\\"ff-no-frame\\\"> <div ng-if=\\\"$ctrl.state.isLoggedAdmin()\\\"> <ff-select ff-model=\\\"$ctrl.$rcCalendar.role\\\" class=\\\"rc-role\\\"> <option value=\\\"\\\" translate=\\\"RESERVATIONS.CALENDAR.ROLE.COORDINATOR\\\"></option> <option value=\\\"member\\\" translate=\\\"RESERVATIONS.CALENDAR.ROLE.MEMBER\\\"></option> <option value=\\\"nonMember\\\" translate=\\\"RESERVATIONS.CALENDAR.ROLE.NON_MEMBER\\\"></option> </ff-select> </div> <div class=\\\"ff-grid\\\"> <ff-select flex=\\\"0 0 auto\\\" name=\\\"filter\\\" ff-model=\\\"$ctrl.$rcCalendar.filter\\\" class=\\\"rc-filter\\\" ng-if=\\\"$ctrl.state.isLoggedAdmin()\\\"> <option value=\\\"available\\\" translate=\\\"RESERVATIONS.CALENDAR.FILTER.AVAILABLE\\\"></option> <option value=\\\"all\\\" translate=\\\"RESERVATIONS.CALENDAR.FILTER.ALL\\\"></option> </ff-select> <ff-select flex=\\\"0 0 auto\\\" name=\\\"mode\\\" ff-model=\\\"$ctrl.$rcCalendar.mode\\\" class=\\\"rc-mode\\\"> <option value=\\\"day\\\" translate=\\\"RESERVATIONS.CALENDAR.MODE.DAY\\\"></option> <option value=\\\"week\\\" translate=\\\"RESERVATIONS.CALENDAR.MODE.WEEK\\\"></option> </ff-select> </div> </ff-col> \";\n// Exports\nmodule.exports = code;","import './rc-toolbar.scss';\nimport template from './rc-toolbar.tpl.html';\nimport rcDateSelector from 'shared/reservation-form/rc-date-selector.component';\nimport rcLegend from './rc-legend.component';\nimport rcOptions from './rc-options.component';\n\n/**\n * rcToolbar component - toolbar for DeskWorks reservation calendar\n */\nexport default angular.module('deskworks.rcToolbar', [\n  rcDateSelector.name,\n  rcLegend.name,\n  rcOptions.name,\n])\n\n  .component('rcToolbar', {\n    template,\n    controller: 'RcToolbarController',\n    require: {\n      $rcCalendar: '^rcCalendar',\n    },\n  })\n\n  .controller('RcToolbarController', function() {\n    // const $ctrl = this;\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<rc-date-selector mode=\\\"$ctrl.$rcCalendar.mode\\\" date=\\\"$ctrl.$rcCalendar.date\\\"></rc-date-selector> <rc-legend></rc-legend> <rc-options></rc-options> \";\n// Exports\nmodule.exports = code;"],"sourceRoot":""}