(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+3Wt":function(t,e,n){"use strict";n.r(e);var r=n("K7LD"),a=n.n(r);e.default=angular.module("deskworks.affiliatlySettingsDirective",[]).directive("affiliatlySettings",(function(){return{template:a.a,restrict:"E",scope:!0,controller:"AffiliatlySettingsCtrl as $ctrl",bindToController:{settings:"<"}}})).controller("AffiliatlySettingsCtrl",(function(){}))},K7LD:function(t,e){t.exports='<label class="ff-row"> <ff-label flex="{xs: \'0 1 160px\', sm: \'0 1 250px\'}"> <span> <span translate="SETUP_SETTINGS.AFFILIATLY_ID"></span> <ff-hint><span translate="SETUP_SETTINGS.AFFILIATLY_ID.HINT"></span></ff-hint> </span> </ff-label> <ff-text name="affiliatlyId" ff-model="$ctrl.settings.affiliatlyId" placeholder="AF-XXXXXXX" ff-validate-alert="{{\'SETUP_SETTINGS.AFFILIATLY_ID\' | translate}}"></ff-text> </label> '},NDNm:function(t,e,n){var r={"./services/affiliatly.service.js":"n5NK","./settings/affiliatly-settings.directive.js":"+3Wt"};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id="NDNm"},n5NK:function(t,e,n){"use strict";n.r(e);var r=n("yCd9"),a=n.n(r),i=n("03wM"),l=n.n(i);n("8cZI");e.default=angular.module("deskworks.Affiliatly",[]).factory("Affiliatly",["$http","dwAlerts","setupService",function(t,e,n){var r="https://www.affiliatly.com/api_request.php";return{track:function(){return i().then((function(e){var n=e.affiliatlyId,a={mode:"track-v2",id_affiliatly:n,tracking_parameter:{get:{aff:"1"},hash:{}}};document.referer&&(a.referer=document.referer),t.post(r,f(a),{withCredentials:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{aid:n}})}))},markPurchase:function(e){var n=e.orderId,a=e.total,l=e.email;return i().then((function(e){var i=e.affiliatlyId;if(i){var o={mode:"mark_shopify",id_affiliatly:i,order:n,price:a,client_email:l};t.post(r,f(o),{withCredentials:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{aid:i}})}}))}};function i(){return n.getSetupSettings().catch((function(t){return e.error(t,"Failed to get setup settings.")}))}function f(t){var e;return a()(e=l()(t)).call(e,(function(e){return[encodeURIComponent(e),encodeURIComponent(angular.isObject(t[e])?angular.toJson(t[e]):t[e])].join("=")})).join("&")}}])},zrTu:function(t,e,n){"use strict";n.r(e);var r=n("yCd9"),a=n.n(r),i=n("lRNC"),l=n.n(i),f=["$injector",function(t){var e,r,i=(e=n("NDNm"),a()(r=l()(e).call(e)).call(r,e));t.loadNewModules(a()(i).call(i,(function(t){return t.default.name})))}];e.default=f}}]);