{"version":3,"sources":["webpack:///./bundles/doorflow sync .*\\.tpl\\.html$","webpack:///./bundles/doorflow sync \\..+\\/.+\\.js$","webpack:///./bundles/doorflow/access-group/doorflow-access-group.directive.js","webpack:///./bundles/doorflow/access-group/doorflow-access-group.tpl.html","webpack:///./bundles/doorflow/index.js","webpack:///./bundles/doorflow/services/doorflow-access-group.service.js","webpack:///./bundles/doorflow/services/doorflow-center.service.js","webpack:///./bundles/doorflow/services/doorflow-product.service.js","webpack:///./bundles/doorflow/services/doorflow-settings.service.js","webpack:///./bundles/doorflow/services/doorflow-site.service.js","webpack:///./bundles/doorflow/services/doorflow-user.service.js","webpack:///./bundles/doorflow/settings/doorflow-settings.directive.js","webpack:///./bundles/doorflow/settings/doorflow-settings.tpl.html","webpack:///./bundles/doorflow/user-access/doorflow-user-access.directive.js","webpack:///./bundles/doorflow/user-access/doorflow-user-access.tpl.html"],"names":["angular","module","directive","$compile","$templateCache","templateUrl","restrict","scope","controller","bindToController","save","productId","$q","dwAlerts","helper","state","DoorflowAccessGroup","DoorflowCenter","DoorflowProduct","$ctrl","$onInit","product","doorflowGroupId","groups","id","name","load","promises","centers","query","catch","err","error","get","getCurrentCenterId","all","then","result","center","enabled","length","index","$injector","importAll","r","js","require","loadNewModules","m","default","invoke","ctx","forEach","key","put","replace","factory","$resource","deskworksConfig","res","getApiAbsUrl","centerId","$promise","update","method","data","userId","debounce","centerService","DoorflowSettings","DoorflowSite","doorflowSettings","getCenters","doorflowCenters","doorflowSites","spin","finally","saveSettings","form","$invalid","saveCenter","$$spin","changeSite","DoorflowUser","doorflowCenter","isUid","doorflowUser","doorflowEnabled"],"mappings":"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","file":"doorflow~._bundles_doorflow .js?_rev=70673bfec47459b919dc","sourcesContent":["var map = {\n\t\"./access-group/doorflow-access-group.tpl.html\": \"./bundles/doorflow/access-group/doorflow-access-group.tpl.html\",\n\t\"./settings/doorflow-settings.tpl.html\": \"./bundles/doorflow/settings/doorflow-settings.tpl.html\",\n\t\"./user-access/doorflow-user-access.tpl.html\": \"./bundles/doorflow/user-access/doorflow-user-access.tpl.html\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/doorflow sync recursive .*\\\\.tpl\\\\.html$\";","var map = {\n\t\"./access-group/doorflow-access-group.directive.js\": \"./bundles/doorflow/access-group/doorflow-access-group.directive.js\",\n\t\"./services/doorflow-access-group.service.js\": \"./bundles/doorflow/services/doorflow-access-group.service.js\",\n\t\"./services/doorflow-center.service.js\": \"./bundles/doorflow/services/doorflow-center.service.js\",\n\t\"./services/doorflow-product.service.js\": \"./bundles/doorflow/services/doorflow-product.service.js\",\n\t\"./services/doorflow-settings.service.js\": \"./bundles/doorflow/services/doorflow-settings.service.js\",\n\t\"./services/doorflow-site.service.js\": \"./bundles/doorflow/services/doorflow-site.service.js\",\n\t\"./services/doorflow-user.service.js\": \"./bundles/doorflow/services/doorflow-user.service.js\",\n\t\"./settings/doorflow-settings.directive.js\": \"./bundles/doorflow/settings/doorflow-settings.directive.js\",\n\t\"./user-access/doorflow-user-access.directive.js\": \"./bundles/doorflow/user-access/doorflow-user-access.directive.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/doorflow sync recursive \\\\..+\\\\/.+\\\\.js$\";","/**\n * Product -> Doorflow Access Group directive\n */\nexport default angular.module('deskworks.doorflowAccessGroupDirective', [\n  'deskworks.DoorflowAccessGroup',\n  'deskworks.DoorflowCenter',\n  'deskworks.DoorflowProduct',\n])\n\n  .directive('doorflowAccessGroup', function($compile, $templateCache) {\n    const templateUrl = 'doorflow/doorflow-access-group.tpl.html';\n    return {\n      templateUrl,\n      restrict: 'E',\n      scope: true,\n      controller: 'DoorflowAccessGroupCtrl as $ctrl',\n      bindToController: {\n        save: '=',\n        productId: '<',\n      },\n    };\n  })\n\n    .controller('DoorflowAccessGroupCtrl', function($q, dwAlerts, helper, state,\n                                                    DoorflowAccessGroup, DoorflowCenter, DoorflowProduct) {\n      const $ctrl = this;\n\n      $ctrl.$onInit = function() {\n        $ctrl.product = { doorflowGroupId: 5535 };\n        $ctrl.groups = [{ id: 22, name: \"Hola Group\" }];\n        $ctrl.save = save;\n        // $ctrl.load();\n      };\n\n      /**\n       * Load data\n       */\n      $ctrl.load = function() {\n        var promises = {\n          centers: DoorflowCenter.query()\n            .catch(err => dwAlerts.error(err, 'Failed to query Doorflow centers.')),\n          product: DoorflowProduct.get(state.getCurrentCenterId(), $ctrl.productId)\n            .catch(err => dwAlerts.error(err, 'Failed to load Doorflow product.')),\n        };\n        return $q.all(promises)\n          .then(result => {\n            // $ctrl.product = result.product;\n\n            var center = helper.find(result.centers, state.getCurrentCenterId());\n            if (center && center.enabled) {\n              return DoorflowAccessGroup.query(state.getCurrentCenterId())\n                                        .catch(err => dwAlerts.error(err, 'Failed to query QuickBooks income accounts.'))\n                                        .then(groups => {\n                                          $ctrl.groups = groups;\n                                          if ($ctrl.groups && $ctrl.groups.length) $ctrl.save = save; // expose save method only if have accounts\n                                        });\n            }\n          });\n      };\n\n/**\n * Save settings\n */\nfunction save() {\n  return DoorflowProduct.save(state.getCurrentCenterId(), $ctrl.productId, $ctrl.product)\n                        .catch(err => dwAlerts.error(err, 'Failed to save Doorflow product.'));\n}\n});\n","// Module\nvar code = \"<label class=\\\"ff-row animate-collapse\\\"> Hello Vasya! </label> \";\n// Exports\nmodule.exports = code;","const index = ['$injector', function index($injector) {\n  // JS\n  const importAll = r => r.keys().map(r);\n  const js = importAll(require.context('./', true, /\\..+\\/.+\\.js$/));\n  $injector.loadNewModules(js.map(m => m.default.name));\n\n  // Templates\n  $injector.invoke(['$templateCache', function($templateCache) {\n    const ctx = require.context('./', true, /.*\\.tpl\\.html$/);\n    ctx.keys().forEach(key => $templateCache.put(key.replace(/^\\.\\//, ''), ctx(key)));\n  }]);\n}];\n\nexport default index;\n","export default angular.module('deskworks.DoorflowAccessGroup', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowAccessGroup', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId/doorflow-groups'));\n\n    return {\n      query: centerId => {\n        return res.query({ centerId }).$promise;\n      },\n    };\n  });\n","export default angular.module('deskworks.DoorflowCenter', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowCenter', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n\n      save: data => res.update({ centerId: data.id }, data).$promise,\n    };\n  });\n","export default angular.module('deskworks.DoorflowProduct', [\n    'ngResource',\n    'deskworks.config',\n])\n\n    .factory('DoorflowProduct', function($resource, deskworksConfig) {\n        const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId/products/:productId'), {}, {\n            get: { method: 'GET' },\n            update: { method: 'PUT' },\n        });\n\n        return {\n            get: function(centerId, productId) {\n                return res.get({ centerId, productId }).$promise;\n            },\n\n            save: function(centerId, productId, data) {\n                return res.update({ centerId, productId }, data).$promise;\n            },\n        };\n    });\n","export default angular.module('deskworks.DoorflowSettings', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowSettings', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/settings'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: () => res.get().$promise,\n\n      save: data => res.update({}, data).$promise,\n    };\n  });\n","export default angular.module('deskworks.DoorflowSite', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowSite', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/doorflow-sites'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n    };\n  });\n","export default angular.module('deskworks.DoorflowUser', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowUser', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId/users/:userId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: (centerId, userId) => res.get({ centerId, userId }).$promise,\n\n      save: (centerId, data) => res.update({ centerId, userId: data.id }, data).$promise,\n    };\n  });\n","/**\n * Integrations Setup -> DoorFlow Settings directive\n */\nexport default angular.module('deskworks.doorflowSettingsDirective', [\n  'debounce',\n  'deskworks.DoorflowSettings',\n  'deskworks.DoorflowCenter',\n  'deskworks.DoorflowSite',\n  'deskworks.DoorflowAccessGroup',\n  'deskworks.center.service',\n])\n\n  .directive('doorflowSettings', function() {\n    const templateUrl = 'settings/doorflow-settings.tpl.html';\n    return {\n      templateUrl,\n      restrict: 'E',\n      scope: true,\n      controller: 'DoorflowSettingsCtrl as $ctrl',\n    };\n  })\n\n  .controller('DoorflowSettingsCtrl', function(dwAlerts, $q, debounce, helper, centerService,\n              DoorflowSettings, DoorflowCenter, DoorflowAccessGroup, DoorflowSite) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = () => {\n      $ctrl.load();\n    };\n\n    /**\n     * Load settings\n     */\n    $ctrl.load = () => {\n      const promises = {\n        doorflowSettings: DoorflowSettings.get()\n          .catch(err => dwAlerts.error(err, 'Failed to load DoorFlow settings.')),\n        centers: centerService.getCenters()\n          .catch(err => dwAlerts.error(err, 'Failed to query centers.')),\n        doorflowCenters: DoorflowCenter.query()\n          .catch(err => dwAlerts.error(err, 'Failed to query DoorFlow centers.')),\n        doorflowSites: DoorflowSite.query()\n          .catch(err => dwAlerts.error(err, 'Failed to query DoorFlow sites.')),\n      };\n\n      $ctrl.spin = true;\n\n      return $q.all(promises)\n        .then(result => {\n          $ctrl.doorflowSettings = result.doorflowSettings;\n          $ctrl.doorflowCenters = result.doorflowCenters;\n          $ctrl.doorflowSites = result.doorflowSites;\n          return result;\n        })\n        .finally(() => { $ctrl.spin = false; });\n    };\n\n    /**\n     * Save DoorFlow settings\n     */\n    $ctrl.saveSettings = debounce(saveSettings, 1000);\n    function saveSettings(form) {\n      if (form && form.$invalid) return;\n      $ctrl.spin = true;\n      return DoorflowSettings.save($ctrl.doorflowSettings)\n        .catch(err => dwAlerts.error(err, 'Failed to save DoorFlow settings.'))\n        .finally(() => { $ctrl.spin = false; })\n        .then(() => {\n          delete $ctrl.doorflowCenters;\n          return $ctrl.load();\n        });\n    }\n\n    /**\n     * Save DoorFlow center\n     */\n    $ctrl.saveCenter = debounce(saveCenter, 500);\n    function saveCenter(center, form) {\n      if (form && form.$invalid) return;\n      center.$$spin = true;\n      return DoorflowCenter.save(center)\n        .finally(() => { center.$$spin = false; })\n        .catch(err => dwAlerts.error(err, 'Failed to save DoorFlow center.'));\n    }\n\n    /**\n     * Change DoorFlow Site handler\n     */\n    $ctrl.changeSite = (center, form) => {\n      return $ctrl.saveCenter(center, form);\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header ff-spin=\\\"$ctrl.spin\\\" class=\\\"ff-spin-right\\\"> <span translate=\\\"INTEGRATIONS_SETUP.DOORFLOW.HEADER\\\"></span> </ff-panel-header> <form name=\\\"form\\\" novalidate ff-dim=\\\"$ctrl.spin\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 120px\\\"><req translate=\\\"INTEGRATIONS_SETUP.API_KEY\\\"></req></ff-label> <ff-text ff-model=\\\"$ctrl.doorflowSettings.apiKey\\\" ff-change=\\\"$ctrl.saveSettings(form)\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'INTEGRATIONS_SETUP.API_KEY' | translate}}\\\"></ff-text> </label> </form> <form name=\\\"form\\\" novalidate ng-repeat=\\\"center in $ctrl.doorflowCenters\\\" class=\\\"animate-collapse\\\"> <ff-header ff-dim=\\\"center.$$spin\\\" style=\\\"padding-top:.6rem\\\"><cell>{{center.$$name}}</cell></ff-header> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"1 1 270px\\\"><span translate=\\\"INTEGRATIONS_SETUP.ENABLED\\\"></span></ff-label> <ff-static flex=\\\"1 1 305px\\\"> <ff-checkbox name=\\\"enabled\\\" ff-model=\\\"center.enabled\\\" ff-change=\\\"$ctrl.saveCenter(center, form)\\\"></ff-checkbox> </ff-static> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"1 1 270px\\\"><req translate=\\\"INTEGRATIONS_SETUP.DOORFLOW.SITE\\\"></req></ff-label> <ff-select flex=\\\"1 1 305px\\\" name=\\\"doorflowSiteId\\\" ff-model=\\\"center.doorflowSiteId\\\" ff-required=\\\"true\\\" ff-options=\\\"site.id as site.name for site in $ctrl.doorflowSites\\\" ff-change=\\\"$ctrl.changeSite(center, form)\\\" ff-validate-alert=\\\"{{'INTEGRATIONS_SETUP.DOORFLOW.SITE' | translate}}\\\"></ff-select> </label> </form> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * Member -> DoorFlow User Access directive\n */\nexport default angular.module('deskworks.doorflowUserAccessDirective', [\n  'deskworks.DoorflowCenter',\n  'deskworks.DoorflowUser',\n])\n\n  .directive('doorflowUserAccess', function() {\n    const templateUrl = 'user-access/doorflow-user-access.tpl.html';\n    return {\n      templateUrl,\n      restrict: 'E',\n      scope: true,\n      controller: 'DoorflowUserAccessCtrl as $ctrl',\n      bindToController: {\n        userId: '<',\n        save: '=',\n      },\n    };\n  })\n\n  .controller('DoorflowUserAccessCtrl', function($q, dwAlerts, helper, state, DoorflowCenter, DoorflowUser) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = () => {\n      $ctrl.load();\n    };\n\n    /**\n     * Load data\n     */\n    $ctrl.load = () => {\n      return DoorflowCenter.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query DoorFlow centers.'))\n        .then(doorflowCenters => {\n          $ctrl.doorflowCenter = helper.find(doorflowCenters, state.getCurrentCenterId());\n\n          if (!$ctrl.doorflowCenter || !$ctrl.doorflowCenter.enabled) return;\n\n          const promises = {};\n\n          if ($ctrl.userId && $ctrl.userId !== 'new' && !helper.isUid($ctrl.userId)) {\n            promises.doorflowUser = DoorflowUser.get(state.getCurrentCenterId(), $ctrl.userId)\n              .catch(err => dwAlerts.error(err, 'Failed to get DoorFlow user.'));\n          }\n\n          return $q.all(promises)\n            .then(result => {\n              if (result.doorflowUser) {\n                $ctrl.doorflowUser = result.doorflowUser;\n              } else {\n                $ctrl.doorflowUser = { doorflowEnabled: false };\n              }\n\n              $ctrl.save = save;\n            });\n        });\n    };\n\n    /**\n     * Save DoorFlow user\n     */\n    function save() {\n      if (!$ctrl.doorflowCenter.enabled) return;\n\n      $ctrl.doorflowUser.id = $ctrl.userId;\n      return DoorflowUser.save(state.getCurrentCenterId(), $ctrl.doorflowUser)\n        .catch(err => dwAlerts.error(err, 'Failed to save DoorFlow user.'));\n    }\n  });\n","// Module\nvar code = \"<label class=\\\"ff-row animate-collapse\\\" ng-if=\\\"$ctrl.doorflowCenter.enabled\\\"> <ff-label flex=\\\"0 1 116px\\\"><span translate=\\\"USER_PROFILE.MEMBERSHIP.DOORFLOW_ACCESS\\\"></span></ff-label> <ff-checkbox name=\\\"doorflowEnabled\\\" ff-model=\\\"$ctrl.doorflowUser.doorflowEnabled\\\"> <span translate=\\\"USER_PROFILE.MEMBERSHIP.DOORFLOW_ACCESS_DESCRIPTION\\\"></span> </ff-checkbox> </label> \";\n// Exports\nmodule.exports = code;"],"sourceRoot":""}