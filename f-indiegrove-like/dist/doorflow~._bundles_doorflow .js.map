{"version":3,"sources":["webpack:///./bundles/doorflow sync .*\\.tpl\\.html$","webpack:///./bundles/doorflow sync \\..+\\/.+\\.js$","webpack:///./bundles/doorflow/access-group/doorflow-access-group.directive.js","webpack:///./bundles/doorflow/access-group/doorflow-access-group.tpl.html","webpack:///./bundles/doorflow/index.js","webpack:///./bundles/doorflow/services/doorflow-access-group.service.js","webpack:///./bundles/doorflow/services/doorflow-center.service.js","webpack:///./bundles/doorflow/services/doorflow-product.service.js","webpack:///./bundles/doorflow/services/doorflow-settings.service.js","webpack:///./bundles/doorflow/services/doorflow-site.service.js","webpack:///./bundles/doorflow/services/doorflow-user.service.js","webpack:///./bundles/doorflow/settings/doorflow-settings.directive.js","webpack:///./bundles/doorflow/settings/doorflow-settings.tpl.html","webpack:///./bundles/doorflow/user-access/doorflow-user-access.directive.js","webpack:///./bundles/doorflow/user-access/doorflow-user-access.tpl.html"],"names":["angular","module","directive","$compile","$templateCache","templateUrl","restrict","scope","controller","bindToController","save","productId","$q","dwAlerts","helper","state","DoorflowAccessGroup","DoorflowCenter","DoorflowProduct","$ctrl","$onInit","load","promises","centers","query","catch","err","error","product","get","getCurrentCenterId","all","then","result","center","enabled","groups","length","index","$injector","importAll","r","js","require","loadNewModules","m","default","name","invoke","ctx","forEach","key","put","replace","factory","$resource","deskworksConfig","res","getApiAbsUrl","centerId","$promise","update","method","data","id","userId","debounce","centerService","DoorflowSettings","DoorflowSite","doorflowSettings","getCenters","doorflowCenters","doorflowSites","spin","finally","saveSettings","form","$invalid","saveCenter","$$spin","changeSite","DoorflowUser","doorflowCenter","isUid","doorflowUser","doorflowEnabled"],"mappings":"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","file":"doorflow~._bundles_doorflow .js?_rev=360980d485443040176b","sourcesContent":["var map = {\n\t\"./access-group/doorflow-access-group.tpl.html\": \"./bundles/doorflow/access-group/doorflow-access-group.tpl.html\",\n\t\"./settings/doorflow-settings.tpl.html\": \"./bundles/doorflow/settings/doorflow-settings.tpl.html\",\n\t\"./user-access/doorflow-user-access.tpl.html\": \"./bundles/doorflow/user-access/doorflow-user-access.tpl.html\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/doorflow sync recursive .*\\\\.tpl\\\\.html$\";","var map = {\n\t\"./access-group/doorflow-access-group.directive.js\": \"./bundles/doorflow/access-group/doorflow-access-group.directive.js\",\n\t\"./services/doorflow-access-group.service.js\": \"./bundles/doorflow/services/doorflow-access-group.service.js\",\n\t\"./services/doorflow-center.service.js\": \"./bundles/doorflow/services/doorflow-center.service.js\",\n\t\"./services/doorflow-product.service.js\": \"./bundles/doorflow/services/doorflow-product.service.js\",\n\t\"./services/doorflow-settings.service.js\": \"./bundles/doorflow/services/doorflow-settings.service.js\",\n\t\"./services/doorflow-site.service.js\": \"./bundles/doorflow/services/doorflow-site.service.js\",\n\t\"./services/doorflow-user.service.js\": \"./bundles/doorflow/services/doorflow-user.service.js\",\n\t\"./settings/doorflow-settings.directive.js\": \"./bundles/doorflow/settings/doorflow-settings.directive.js\",\n\t\"./user-access/doorflow-user-access.directive.js\": \"./bundles/doorflow/user-access/doorflow-user-access.directive.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/doorflow sync recursive \\\\..+\\\\/.+\\\\.js$\";","/**\n * Product -> Doorflow Access Group directive\n */\nexport default angular.module('deskworks.doorflowAccessGroupDirective', [\n  'deskworks.DoorflowAccessGroup',\n  'deskworks.DoorflowCenter',\n  'deskworks.DoorflowProduct',\n])\n\n  .directive('doorflowAccessGroup', function($compile, $templateCache) {\n    const templateUrl = 'doorflow/doorflow-access-group.tpl.html';\n    return {\n      templateUrl,\n      restrict: 'E',\n      scope: true,\n      controller: 'DoorflowAccessGroupCtrl as $ctrl',\n      bindToController: {\n        save: '=',\n        productId: '<',\n      },\n    };\n  })\n\n    .controller('DoorflowAccessGroupCtrl', function($q, dwAlerts, helper, state,\n                                                    DoorflowAccessGroup, DoorflowCenter, DoorflowProduct) {\n      const $ctrl = this;\n\n      $ctrl.$onInit = function() {\n        $ctrl.load();\n      };\n\n      /**\n       * Load data\n       */\n      $ctrl.load = function() {\n        var promises = {\n          centers: DoorflowCenter.query()\n            .catch(err => dwAlerts.error(err, 'Failed to query Doorflow centers.')),\n          product: DoorflowProduct.get(state.getCurrentCenterId(), $ctrl.productId)\n            .catch(err => dwAlerts.error(err, 'Failed to load Doorflow product.')),\n        };\n        return $q.all(promises)\n          .then(result => {\n            $ctrl.product = result.product;\n\n            var center = helper.find(result.centers, state.getCurrentCenterId());\n            if (center && center.enabled) {\n              return DoorflowAccessGroup.query(state.getCurrentCenterId())\n                                        .catch(err => dwAlerts.error(err, 'Failed to query QuickBooks income accounts.'))\n                                        .then(groups => {\n                                          $ctrl.groups = groups;\n                                          if ($ctrl.groups && $ctrl.groups.length) $ctrl.save = save; // expose save method only if have accounts\n                                        });\n            }\n          });\n      };\n\n/**\n * Save settings\n */\nfunction save() {\n  return DoorflowProduct.save(state.getCurrentCenterId(), $ctrl.productId, $ctrl.product)\n                        .catch(err => dwAlerts.error(err, 'Failed to save Doorflow product.'));\n}\n});\n","// Module\nvar code = \"<label class=\\\"ff-row animate-collapse\\\" ng-if=\\\"$ctrl.groups.length\\\"> <ff-label flex=\\\"0 0 102px\\\" class=\\\"ff-small\\\"><span translate=\\\"PRODUCTS.DOORFLOW_GROUP\\\"></span></ff-label> <ff-select name=\\\"doorflowGroup\\\" ff-model=\\\"$ctrl.product.doorflowGroupId\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.groups\\\"> <option value=\\\"\\\">-</option> </ff-select> </label> \";\n// Exports\nmodule.exports = code;","const index = ['$injector', function index($injector) {\n  // JS\n  const importAll = r => r.keys().map(r);\n  const js = importAll(require.context('./', true, /\\..+\\/.+\\.js$/));\n  $injector.loadNewModules(js.map(m => m.default.name));\n\n  // Templates\n  $injector.invoke(['$templateCache', function($templateCache) {\n    const ctx = require.context('./', true, /.*\\.tpl\\.html$/);\n    ctx.keys().forEach(key => $templateCache.put(key.replace(/^\\.\\//, ''), ctx(key)));\n  }]);\n}];\n\nexport default index;\n","export default angular.module('deskworks.DoorflowAccessGroup', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowAccessGroup', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId/doorflow-groups'));\n\n    return {\n      query: centerId => {\n        return res.query({ centerId }).$promise;\n      },\n    };\n  });\n","export default angular.module('deskworks.DoorflowCenter', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowCenter', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n\n      save: data => res.update({ centerId: data.id }, data).$promise,\n    };\n  });\n","export default angular.module('deskworks.DoorflowProduct', [\n    'ngResource',\n    'deskworks.config',\n])\n\n    .factory('DoorflowProduct', function($resource, deskworksConfig) {\n        const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId/products/:productId'), {}, {\n            get: { method: 'GET' },\n            update: { method: 'PUT' },\n        });\n\n        return {\n            get: function(centerId, productId) {\n                return res.get({ centerId, productId }).$promise;\n            },\n\n            save: function(centerId, productId, data) {\n                return res.update({ centerId, productId }, data).$promise;\n            },\n        };\n    });\n","export default angular.module('deskworks.DoorflowSettings', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowSettings', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/settings'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: () => res.get().$promise,\n\n      save: data => res.update({}, data).$promise,\n    };\n  });\n","export default angular.module('deskworks.DoorflowSite', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowSite', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/doorflow-sites'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n    };\n  });\n","export default angular.module('deskworks.DoorflowUser', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('DoorflowUser', function($resource, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/doorflow/centers/:centerId/users/:userId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: (centerId, userId) => res.get({ centerId, userId }).$promise,\n\n      save: (centerId, data) => res.update({ centerId, userId: data.id }, data).$promise,\n    };\n  });\n","/**\n * Integrations Setup -> DoorFlow Settings directive\n */\nexport default angular.module('deskworks.doorflowSettingsDirective', [\n  'debounce',\n  'deskworks.DoorflowSettings',\n  'deskworks.DoorflowCenter',\n  'deskworks.DoorflowSite',\n  'deskworks.DoorflowAccessGroup',\n  'deskworks.center.service',\n])\n\n  .directive('doorflowSettings', function() {\n    const templateUrl = 'settings/doorflow-settings.tpl.html';\n    return {\n      templateUrl,\n      restrict: 'E',\n      scope: true,\n      controller: 'DoorflowSettingsCtrl as $ctrl',\n    };\n  })\n\n  .controller('DoorflowSettingsCtrl', function(dwAlerts, $q, debounce, helper, centerService,\n              DoorflowSettings, DoorflowCenter, DoorflowAccessGroup, DoorflowSite) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = () => {\n      $ctrl.load();\n    };\n\n    /**\n     * Load settings\n     */\n    $ctrl.load = () => {\n      const promises = {\n        doorflowSettings: DoorflowSettings.get()\n          .catch(err => dwAlerts.error(err, 'Failed to load DoorFlow settings.')),\n        centers: centerService.getCenters()\n          .catch(err => dwAlerts.error(err, 'Failed to query centers.')),\n        doorflowCenters: DoorflowCenter.query()\n          .catch(err => dwAlerts.error(err, 'Failed to query DoorFlow centers.')),\n        doorflowSites: DoorflowSite.query()\n          .catch(err => dwAlerts.error(err, 'Failed to query DoorFlow sites.')),\n      };\n\n      $ctrl.spin = true;\n\n      return $q.all(promises)\n        .then(result => {\n          $ctrl.doorflowSettings = result.doorflowSettings;\n          $ctrl.doorflowCenters = result.doorflowCenters;\n          $ctrl.doorflowSites = result.doorflowSites;\n          return result;\n        })\n        .finally(() => { $ctrl.spin = false; });\n    };\n\n    /**\n     * Save DoorFlow settings\n     */\n    $ctrl.saveSettings = debounce(saveSettings, 1000);\n    function saveSettings(form) {\n      if (form && form.$invalid) return;\n      $ctrl.spin = true;\n      return DoorflowSettings.save($ctrl.doorflowSettings)\n        .catch(err => dwAlerts.error(err, 'Failed to save DoorFlow settings.'))\n        .finally(() => { $ctrl.spin = false; })\n        .then(() => {\n          delete $ctrl.doorflowCenters;\n          return $ctrl.load();\n        });\n    }\n\n    /**\n     * Save DoorFlow center\n     */\n    $ctrl.saveCenter = debounce(saveCenter, 500);\n    function saveCenter(center, form) {\n      if (form && form.$invalid) return;\n      center.$$spin = true;\n      return DoorflowCenter.save(center)\n        .finally(() => { center.$$spin = false; })\n        .catch(err => dwAlerts.error(err, 'Failed to save DoorFlow center.'));\n    }\n\n    /**\n     * Change DoorFlow Site handler\n     */\n    $ctrl.changeSite = (center, form) => {\n      return $ctrl.saveCenter(center, form);\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header ff-spin=\\\"$ctrl.spin\\\" class=\\\"ff-spin-right\\\"> <span translate=\\\"INTEGRATIONS_SETUP.DOORFLOW.HEADER\\\"></span> </ff-panel-header> <form name=\\\"form\\\" novalidate ff-dim=\\\"$ctrl.spin\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 120px\\\"><req translate=\\\"INTEGRATIONS_SETUP.API_KEY\\\"></req></ff-label> <ff-text ff-model=\\\"$ctrl.doorflowSettings.apiKey\\\" ff-change=\\\"$ctrl.saveSettings(form)\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'INTEGRATIONS_SETUP.API_KEY' | translate}}\\\"></ff-text> </label> </form> <form name=\\\"form\\\" novalidate ng-repeat=\\\"center in $ctrl.doorflowCenters\\\" class=\\\"animate-collapse\\\"> <ff-header ff-dim=\\\"center.$$spin\\\" style=\\\"padding-top:.6rem\\\"><cell>{{center.$$name}}</cell></ff-header> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"1 1 270px\\\"><span translate=\\\"INTEGRATIONS_SETUP.ENABLED\\\"></span></ff-label> <ff-static flex=\\\"1 1 305px\\\"> <ff-checkbox name=\\\"enabled\\\" ff-model=\\\"center.enabled\\\" ff-change=\\\"$ctrl.saveCenter(center, form)\\\"></ff-checkbox> </ff-static> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"1 1 270px\\\"><req translate=\\\"INTEGRATIONS_SETUP.DOORFLOW.SITE\\\"></req></ff-label> <ff-select flex=\\\"1 1 305px\\\" name=\\\"doorflowSiteId\\\" ff-model=\\\"center.doorflowSiteId\\\" ff-required=\\\"true\\\" ff-options=\\\"site.id as site.name for site in $ctrl.doorflowSites\\\" ff-change=\\\"$ctrl.changeSite(center, form)\\\" ff-validate-alert=\\\"{{'INTEGRATIONS_SETUP.DOORFLOW.SITE' | translate}}\\\"></ff-select> </label> </form> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * Member -> DoorFlow User Access directive\n */\nexport default angular.module('deskworks.doorflowUserAccessDirective', [\n  'deskworks.DoorflowCenter',\n  'deskworks.DoorflowUser',\n])\n\n  .directive('doorflowUserAccess', function() {\n    const templateUrl = 'user-access/doorflow-user-access.tpl.html';\n    return {\n      templateUrl,\n      restrict: 'E',\n      scope: true,\n      controller: 'DoorflowUserAccessCtrl as $ctrl',\n      bindToController: {\n        userId: '<',\n        save: '=',\n      },\n    };\n  })\n\n  .controller('DoorflowUserAccessCtrl', function($q, dwAlerts, helper, state, DoorflowCenter, DoorflowUser) {\n    const $ctrl = this;\n\n    $ctrl.$onInit = () => {\n      $ctrl.load();\n    };\n\n    /**\n     * Load data\n     */\n    $ctrl.load = () => {\n      return DoorflowCenter.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query DoorFlow centers.'))\n        .then(doorflowCenters => {\n          $ctrl.doorflowCenter = helper.find(doorflowCenters, state.getCurrentCenterId());\n\n          if (!$ctrl.doorflowCenter || !$ctrl.doorflowCenter.enabled) return;\n\n          const promises = {};\n\n          if ($ctrl.userId && $ctrl.userId !== 'new' && !helper.isUid($ctrl.userId)) {\n            promises.doorflowUser = DoorflowUser.get(state.getCurrentCenterId(), $ctrl.userId)\n              .catch(err => dwAlerts.error(err, 'Failed to get DoorFlow user.'));\n          }\n\n          return $q.all(promises)\n            .then(result => {\n              if (result.doorflowUser) {\n                $ctrl.doorflowUser = result.doorflowUser;\n              } else {\n                $ctrl.doorflowUser = { doorflowEnabled: false };\n              }\n\n              $ctrl.save = save;\n            });\n        });\n    };\n\n    /**\n     * Save DoorFlow user\n     */\n    function save() {\n      if (!$ctrl.doorflowCenter.enabled) return;\n\n      $ctrl.doorflowUser.id = $ctrl.userId;\n      return DoorflowUser.save(state.getCurrentCenterId(), $ctrl.doorflowUser)\n        .catch(err => dwAlerts.error(err, 'Failed to save DoorFlow user.'));\n    }\n  });\n","// Module\nvar code = \"<label class=\\\"ff-row animate-collapse\\\" ng-if=\\\"$ctrl.doorflowCenter.enabled\\\"> <ff-label flex=\\\"0 1 116px\\\"><span translate=\\\"USER_PROFILE.MEMBERSHIP.DOORFLOW_ACCESS\\\"></span></ff-label> <ff-checkbox name=\\\"doorflowEnabled\\\" ff-model=\\\"$ctrl.doorflowUser.doorflowEnabled\\\"> <span translate=\\\"USER_PROFILE.MEMBERSHIP.DOORFLOW_ACCESS_DESCRIPTION\\\"></span> </ff-checkbox> </label> \";\n// Exports\nmodule.exports = code;"],"sourceRoot":""}