{"version":3,"sources":["webpack:///./common/services/communications/email-all-members.service.js","webpack:///./common/services/communications/email-site-members.service.js","webpack:///./common/services/communications/message-board.service.js","webpack:///./common/services/communications/splash-page.service.js","webpack:///./common/services/credentials.service.js","webpack:///./common/services/dashboard.service.js","webpack:///./common/services/dw-config.service.js","webpack:///./common/services/inventory/membership-category.service.js","webpack:///./common/services/inventory/opts-count-check-ins-per.service.js","webpack:///./common/services/inventory/opts-pass-max.service.js","webpack:///./common/services/inventory/opts-pass-min.service.js","webpack:///./common/services/inventory/opts-product-type.service.js","webpack:///./common/services/inventory/pass-product.service.js","webpack:///./common/services/inventory/pricelist.service.js","webpack:///./common/services/inventory/product-category.service.js","webpack:///./common/services/inventory/product.service.js","webpack:///./common/services/inventory/reservation-category.service.js","webpack:///./common/services/members/check-in-log.service.js","webpack:///./common/services/members/checked-in-members.service.js","webpack:///./common/services/members/checked-in-users.service.js","webpack:///./common/services/members/member-usage.service.js","webpack:///./common/services/members/membership.service.js","webpack:///./common/services/members/opts-our-members-sort.service.js","webpack:///./common/services/members/our-members.service.js","webpack:///./common/services/members/usage-entry.service.js","webpack:///./common/services/notifications.service.js","webpack:///./common/services/reservation-rules/opts-days-in-advance.service.js","webpack:///./common/services/reservation-rules/opts-reservation-limit-max.service.js","webpack:///./common/services/reservation-rules/opts-reservation-limit-min.service.js","webpack:///./common/services/reservation-rules/opts-time-in-advance.service.js","webpack:///./common/services/reservation-rules/opts-who-can-reserve.service.js","webpack:///./common/services/reservation-rules/reservation-rules.service.js","webpack:///./common/services/reservations/calendar.service.js","webpack:///./common/services/reservations/opts-repeat-frequency.service.js","webpack:///./common/services/reservations/reservation-cost.service.js","webpack:///./common/services/reservations/reservation-price.service.js","webpack:///./common/services/reservations/reservation.service.js","webpack:///./common/services/session/session-injector.service.js","webpack:///./common/services/session/session-refresher.service.js","webpack:///./common/services/session/session.service.js","webpack:///./common/services/setup/allowed-host.service.js","webpack:///./common/services/setup/bank.service.js","webpack:///./common/services/setup/net-check-in-settings.service.js","webpack:///./common/services/setup/opts-dashboard-income.service.js","webpack:///./common/services/setup/opts-free-access-length.service.js","webpack:///./common/services/setup/opts-invoice-date.service.js","webpack:///./common/services/setup/opts-min-pass-fraction-unit.service.js","webpack:///./common/services/setup/opts-prorate-at-start.service.js","webpack:///./common/services/setup/opts-prorate-at-termination.service.js","webpack:///./common/services/setup/opts-reservation-credits-unit.service.js","webpack:///./common/services/setup/opts-task-permission.service.js","webpack:///./common/services/setup/opts-timezone.service.js","webpack:///./common/services/setup/owner.service.js","webpack:///./common/services/setup/printer-usage-type-names.service.js","webpack:///./common/services/setup/region.service.js","webpack:///./common/services/setup/roles.service.js","webpack:///./common/services/setup/setup.service.js","webpack:///./common/services/setup/task.service.js","webpack:///./common/services/setup/white-label-links.service.js","webpack:///./common/services/system/access-card.service.js","webpack:///./common/services/system/admin.service.js","webpack:///./common/services/system/center.service.js","webpack:///./common/services/system/opts-admin-permission.service.js","webpack:///./common/services/system/opts-system-email-function.service.js","webpack:///./common/services/system/system.service.js","webpack:///./common/services/user-profile/opts-address-type.service.js","webpack:///./common/services/user-profile/opts-bank-account-holer-type.service.js","webpack:///./common/services/user-profile/opts-bank-account-type.service.js","webpack:///./common/services/user-profile/opts-billing-method.service.js","webpack:///./common/services/user-profile/opts-cc-expiry-month.service.js","webpack:///./common/services/user-profile/opts-cc-expiry-year.service.js","webpack:///./common/services/user-profile/opts-country.service.js","webpack:///./common/services/user-profile/opts-mailbox-handling.service.js","webpack:///./common/services/user-profile/opts-membership-status.service.js","webpack:///./common/services/user-profile/opts-phone-type.service.js","webpack:///./common/services/user-profile/opts-share-email.service.js","webpack:///./common/services/user-profile/opts-state.service.js","webpack:///./common/services/user-profile/up-address.service.js","webpack:///./common/services/user-profile/up-cache.service.js","webpack:///./common/services/user-profile/up-co-member.service.js","webpack:///./common/services/user-profile/up-credit-card.service.js","webpack:///./common/services/user-profile/up-document.service.js","webpack:///./common/services/user-profile/up-e-check.service.js","webpack:///./common/services/user-profile/up-mailbox.service.js","webpack:///./common/services/user-profile/up-phone.service.js","webpack:///./common/services/user-profile/up-photo.service.js","webpack:///./common/services/user-profile/up-printer-code.service.js","webpack:///./common/services/user-profile/user-profile-fields.service.js","webpack:///./common/services/user-profile/user-profile.service.js","webpack:///./common/services/user-profile/user-roles.service.js","webpack:///./common/services/user-tasks.service.js"],"names":["angular","module","factory","$resource","deskworksConfig","res","getApiAbsUrl","resTpl","update","method","send","data","test","save","$promise","query","includeNonMembers","getTpl","get","saveTpl","centerId","membershipCategoryIds","checkedInOnly","join","membershipTypeIds","$timeout","datesDeserializer","helper","desDates","isArray","transformResponse","fromJson","deserialize","params","id","messageId","then","result","delete","forEach","msg","author","fullName","firstName","lastName","login","cr","service","dashboardService","resCenterStats","resReservationConflicts","getCenterStats","resetReservationConflict","conflictId","selfRegistrations","user","fullNameCompany","company","provider","apiUrl","apiPostfix","defaultRoute","wsUrl","siteId","sitesUrl","setApiUrl","url","setApiPostfix","postfix","getDefaultRoute","setDefaultRoute","route","setWsUrl","setSiteId","setSitesUrl","$get","$window","getApiDomain","customApiUrl","match","location","hostname","getApiOrigin","origin","getSiteId","domain","_API_URL_","split","length","Error","relativeUrl","getWsUrl","getSitesUrl","$q","membershipTypeId","create","membershipCategory","$rootScope","$translate","opts","_name","translate","$on","opt","name","instant","import","resProduct","getPricelists","getPricelist","priceListId","pl","visibleForVisitors","useFor","products","options","when","createPricelist","updatePricelist","deletePricelist","clonePricelist","dstCenterId","copy","destination","priceList","createProduct","updateProduct","productRelId","deleteProduct","productCategory","productCategoryId","$filter","optsProductType","optsBillingFrequency","optsPassMin","optsPassMax","resMembership","resPriceList","new","resolve","getProducts","getMembershipProducts","getProduct","productId","self","product","unresolve","createPriceList","updatePriceList","priceListRelId","deletePriceList","savePriceItem","priceItem","priceLists","productTypes","billingFrequencies","type","membershipTypes","membershipType","billingFrequency","passMin","passMax","taxable","reserveWithNonMemberRules","countCheckInsPer","hideInSelfRegistration","showInSelfRegistration","hasRegistrationFee","typeId","findByKeyValue","price","reservationCredit","passQty","reservationTypeId","toString","description","custom","productNumber","isCreditable","undefined","hasPasses","trackAcrossAllCenters","passProduct","passProductId","securityDepositAmount","printerUsageFreeCopiesSettings","passSize","allowReservationCredits","canBuyOnSplashPage","Upload","resPhoto","cancellationNonMemberNoticeHours","cancellationMemberNoticeHours","cat","photos","resCategory","getUnavailableDates","unavailableDates","createPhoto","file","upload","withCredentials","photo","updatePhoto","photoId","deletePhoto","toDate","getLog","userId","page","pageSize","macAddress","logData","checkInTime","log","rec","time","updateLog","logId","deleteLog","checkInOut","operation","resUsage","memberUsageId","deletePassRefill","usageId","resType","p","sort","q","limit","offset","fdate","transformRequest","serializer","toJson","extend","checkOutTime","moment","notes","usages","usage","reject","error","methods","resTplAtt","resBulkInvoices","resRecurringInvoices","resExpiredCardEmail","resDeclinedCardEmail","resWelcomeLetter","resWelcomeLetterAtt","resResConfirmation","resResConfirmationAtt","resCalSyncError","resPassesUsedUp","resBucketUsedUp","resMsgBoard","resDeskTablet","getEmailTemplate","tplId","saveEmailTemplate","attachEmailTemplate","detachEmailTemplate","getBulkInvoices","saveBulkInvoices","getRecurringInvoices","saveRecurringInvoices","getExpiredCardEmail","saveExpiredCardEmail","getDeclinedCardEmail","saveDeclinedCardEmail","getWelcomeLetter","saveWelcomeLetter","attachWelcomeLetter","detachWelcomeLetter","attachmentId","getCalSyncErrorEmail","saveCalSyncErrorEmail","getPassesUsedUpEmail","savePassesUsedUpEmail","getBucketUsedUpEmail","saveBucketUsedUpEmail","getReservationConfirmation","saveReservationConfirmation","attachReservationConfirmation","detachReservationConfirmation","getMessageBoardEmailTemplate","templateId","saveMessageBoardEmailTemplate","getDeskTabletTemplate","saveDeskTabletTemplate","value","unit","$locale","urlCenter","urlUnit","resCenter","ruleId","serialize","resUnit","reservationUnitId","roles","$isVisible","whoCanReserve","rule","promise","role","intervals","rules","uid","DATETIME_FORMATS","SHORTDAY","interval","from","to","date","reduce","o","i","purify","key","repeatDurationFilter","repeatDurationOptions","dwAlerts","ReservationPrice","calendarService","calcSync","timeStart","timeEnd","reservationPrices","resCategoryId","rp","passes","pass","minutes_to_passes","passPrice","prev","curr","calcAsync","all","prices","catch","err","cats","reservationUnits","pricing","minutes","pass_size","pass_min","pass_max","hrs","round_time_diff","Math","floor","max","toFixed","round_minutes_diff","step","minutes_in_step","parts","fraction_of_part","total_minutes","fDate","resPayment","reservation","accessCode","reservationId","saveWithPayment","emailConfirmation","repeatFrequency","repeatDuration","$injector","request","config","session","isAnonymous","headers","accessToken","$location","responseError","response","status","$http","refresh","search","path","userRoles","wait","logout","isAdmin","isRole","loginSilent","reset","finally","some","expireAt","onSession","username","password","remember","post","allowedHost","allowedHostId","bankId","bank","creditCardCutOffTime","hours","hoursCount","owner","ownerId","names","_names","printBlack","printColor","scan","fax","region","regionId","assignTranslations","roleNames","nonMember","member","coMember","accountant","coordinator","admin","management","master","optsInvoiceDate","centerService","userProfileService","autoCacheFactory","cache","resSetupSettings","resetCache","removeAll","getSetupSettings","invoiceDate","obj","updateSetupSettings","newData","locale","timeFormat","sendNoticesFromLocalCenter","enableEChecks","skipPlanMemberSignUp","creditCardTypes","creditCardAddressOptional","enableEmailing","dashboardIncome","enableAccessCodes","isFranchise","activateMembersForAllCenters","declinedPaymentAutoRetryPeriod","declinedPaymentAutoRetryAttempts","enableSecurityDepositInMembershipProducts","limitRefundProcessingTo","limitDeletingOrderItemsTo","enableRenewalNotices","multiLevelProductCategory","invoiceTemplate","enableGdprDelete","sweepCharges","emailSweptInvoices","prorateAtStart","prorateAtTermination","enablePaymentProcessingCharges","paymentProcessingRates","cc","ach","addCenterPrefixToCalendar","calendarOwners","item","isNumber","mask","hideReservationCostEstimate","hideRecurringReservations","hideStaffOnlyUnits","reservationCreditsUnit","minPassInPercent","passGracePeriod","publicReservationDetails","gtmContainerId","affiliatlyId","enableAddOnProductsAtRegistration","enableExtraFieldsAtRegistration","advanceInvoicingDays","updateSetupSettingsRaw","queryLocales","window","dwLocales","queryTimezones","default","taskId","task","emptyAll","uploadTermsOfService","termsOfService","uploadReservationAgreement","reservationAgreement","accessCardId","adminId","receiveUrgentReservationNotices","receiveWelcomeEmailCopies","receiveReservationConfirmationCopies","seeDashboardRevenue","centers","center","emailing","permission","optsCountry","optsState","getCenter","getCenters","_","createCenter","updateCenter","deleteCenter","uploadThumbnail","country","state","US","banks","taxRates","street","address","countryId","shortName","street1","street2","city","zip","phone","email","forInternalUse","hideInMemberSignUp","map","directions","color","timezone","taxId","taxRate","rate","qboClasses","qboClassId","resSystemEmail","resAccessCard","resLeadSource","getSystemEmails","getSystemEmail","systemEmailId","sysEmail","createSystemEmail","updateSystemEmail","removeSystemEmail","getAccessCard","effectiveDate","card","createAccessCard","updateAccessCard","removeAccessCard","getLeadSources","getLeadSource","leadSourceId","createLeadSource","updateLeadSource","removeLeadSource","paymentMethodKey","restricted","months","Date","curDate","setDate","setMonth","push","month","years","setFullYear","getFullYear","String","userProfileCache","optsAddressType","isNew","isUid","addressId","accessCards","coMemberId","makeInactive","stripUid","existingUserId","canMakeReservations","canSeeAccountingInfo","getCenterNotices","convertUserToCoMember","phones","number","comments","optsCCExpiryMonth","optsCCExpiryYear","userProfile","billingAddress","ccv","creditCardId","expiryDate","expiry","expiryMonth","expiryYear","year","verification","userAccess","doc","document","documentId","optsBankAccountHolderType","optsBankAccountType","bankAccountHolderType","bankAccountType","eCheck","eCheckId","bankName","bankRoutingNumber","bankAccountNumber","optsMailboxHandling","handling","mailbox","mailboxId","optsPhoneType","phoneId","ext","photoFile","membershipStatus","prCode","printerCodeId","code","fields","field","upPhotoService","upAddressService","upPhoneService","upPrinterCodeService","upDocumentService","upCoMemberService","upMailboxService","upCreditCardService","systemService","upECheckService","optsMembershipStatus","optsBillingMethod","UserProfileFields","resMember","resNonMember","resRestorePassword","resGdpr","getResSave","printerCode","creditCard","scenario","addresses","printerCodes","documents","coMembers","mailboxes","billingMethod","membershipStartDate","registration","updateRaw","schema","getForRegistration","joinDate","order","users","quickSearch","activeMembers","nonMembers","restorePassword","deleteGdpr","membershipPriceList","membershipPriceLists","membershipPriceListId","leadSource","leadSources","creditCards","eChecks","passwordConfirmation","middleName","occupation","membershipProductId","membershipProduct","discountCode","bindTestUserGenerator","$scope","reg","addEventListener","fillTestUserData","removeEventListener","event","altKey","keyCode","unix","selfRegistration","membershipPackages","$apply","bindTestBillingGenerator","fillTestBillingData","ec","registerNewUser","promises","addr","saveMessageBoardUserSettings","saveBillingProfile","block","querySelector","element","scope","$broadcast","results","paymentMethodId","console","warn","saveBillingMethod","sidebarTasks","cordova","uTasks","interpolateTaskUrl","tasks","group","open","indexOf","target","rel","replace","directUrl","resultParams","param","getCurrentCenterId","isLoggedAdmin","getCurrentUserId","getLoggedUserId","encodeURIComponent"],"mappings":"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","file":"main~._common_services_c.js?_rev=f8417ff66929eaa4f932","sourcesContent":["export default angular.module('deskworks.emailAllMembers.service', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('emailAllMembers', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/email-all-members'));\n    const resTpl = $resource(deskworksConfig.getApiAbsUrl('/email-templates/email-all-members'), {}, { update: { method: 'PUT' } });\n\n    return {\n      send: (data, test) => res.save({ test: test || null }, data).$promise,\n\n      query: (includeNonMembers) => res.query({ includeNonMembers }).$promise,\n\n      getTpl: () => resTpl.get().$promise,\n\n      saveTpl: (data) => resTpl.update({}, data).$promise,\n    };\n  });\n","export default angular.module('deskworks.emailSiteMembers.service', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('emailSiteMembers', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/email-site-members'));\n    const resTpl = $resource(deskworksConfig.getApiAbsUrl('/email-templates/email-site-members'), {}, { update: { method: 'PUT' } });\n\n    return {\n      send: (centerId, data, test) => res.save({ centerId, test: test || null }, data).$promise,\n\n      query: (centerId, membershipCategoryIds, checkedInOnly) => {\n        membershipCategoryIds = membershipCategoryIds && membershipCategoryIds.join();\n        return res.query({ centerId, membershipTypeIds: membershipCategoryIds, checkedInOnly }).$promise;\n      },\n\n      getTpl: () => resTpl.get().$promise,\n\n      saveTpl: (data) => resTpl.update({}, data).$promise,\n    };\n  });\n","angular.module('deskworks.MessageBoard', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer',\n])\n\n  .factory('MessageBoard', function($resource, $timeout, deskworksConfig, datesDeserializer, helper) { 'use strict';\n    var desDates = datesDeserializer(['createdAt']);\n\n    // var res = $resource('http://0.0.0.0:3015' + '/api/messages/:messageId', {}, {\n    var res = $resource(deskworksConfig.getApiAbsUrl('/message-board/messages/:messageId'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, deserialize] },\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: function(params) {\n        return res.query(params).$promise;\n      },\n\n      save: function(data) {\n        if(data.id) return res.update({ messageId: data.id }, data).$promise;\n\n        return res.save({}, data).$promise\n          .then(function(result) { data.id = result.id; return result; });\n      },\n\n      delete: function(messageId) {\n        return res.delete({ messageId: messageId }).$promise;\n      },\n\n      deserialize: deserialize,\n    };\n\n    function deserialize(data) {\n      data = desDates(data);\n\n      angular.forEach(angular.isArray(data) ? data : [data], function(msg) {\n        if(!msg || !msg.author) return;\n        msg.author.fullName = helper.join([msg.author.firstName, msg.author.lastName], ' ');\n      });\n\n      return data;\n    }\n  });\n","export default angular.module('deskworks.SplashPage', [\n  'ngResource',\n  'deskworks.config'\n])\n\n  .factory('SplashPage', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/net-check-in/splash-page/:centerId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      get: function(centerId) {\n        return res.get({ centerId: centerId }).$promise;\n      },\n\n      save: function(centerId, data) {\n        return res.update({ centerId: centerId }, data).$promise;\n      },\n    };\n  });\n","angular.module('deskworks.Credentials', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('Credentials', function($resource, $timeout, deskworksConfig) { 'use strict';\n    const res = $resource(deskworksConfig.getApiAbsUrl('/credentials/:login'));\n\n    return {\n      get: login => res.get({ login }).$promise\n        .then(cr => {\n          cr.login = login;\n          return cr;\n        }),\n    };\n  });\n","export default angular.module('deskworks.dashboard.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper',\n  'datesDeserializer'\n])\n\n  .service('dashboardService', function($resource, deskworksConfig, helper, datesDeserializer) {\n    const dashboardService = this;\n\n    const desDates = datesDeserializer([\n      'reservationsToday.startTime', 'reservationsToday.endTime', 'reservationsToday.updatedAt',\n      'reservationsTomorrow.startTime', 'reservationsTomorrow.endTime', 'reservationsTomorrow.updatedAt',\n      'reservationsConflicts.startTime', 'reservationsConflicts.endTime'\n    ]);\n\n    const resCenterStats = $resource(deskworksConfig.getApiAbsUrl('/dashboard/center-stats'), {}, {\n      get: { method: 'GET', isArray: false, transformResponse: [desDates, deserialize] },\n      update: { method: 'PUT' }\n    });\n\n    const resReservationConflicts = $resource(deskworksConfig.getApiAbsUrl('/dashboard/reservations-conflicts/:conflictId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    /**\n     * Center Stats for admin/coordinator\n     */\n    dashboardService.getCenterStats = (centerId) => resCenterStats.get({ centerId }).$promise,\n\n    /**\n     * Reset Reservation Conflict\n     */\n    dashboardService.resetReservationConflict = (conflictId) => resReservationConflicts.delete({ conflictId }).$promise;\n\n    function deserialize(data) {\n      data = angular.fromJson(data);\n\n      data.selfRegistrations.forEach(user => {\n        user.fullNameCompany = helper.join([user.company, user.fullName], ', ');\n      });\n\n      return data;\n    }\n  });\n","angular.module('deskworks.config', [])\n\n  .provider('deskworksConfig', function() { 'use strict';\n    var apiUrl = '/api/v1', apiPostfix = '';\n    var defaultRoute = '/dashboard';\n    var wsUrl = null;\n    var siteId = null;\n    var sitesUrl = 'https://sites.satellitedeskworks.com/';\n\n    return {\n      setApiUrl: function(url) {\n        apiUrl = url;\n      },\n      setApiPostfix: function(postfix) {\n        apiPostfix = postfix;\n      },\n      getDefaultRoute: function() {\n        return defaultRoute;\n      },\n      setDefaultRoute: function(route) {\n        defaultRoute = route;\n      },\n      setWsUrl: function(url) {\n        wsUrl = url;\n      },\n      setSiteId: function(id) {\n        siteId = id;\n      },\n      setSitesUrl: function(url) {\n        sitesUrl = url;\n      },\n      $get: function($window) {\n        return {\n          getApiDomain: function(customApiUrl) {\n            var match = (customApiUrl || apiUrl).match(/^(.*:)\\/\\/([A-Za-z0-9\\-\\.]+)(:[0-9]+)?(.*)$/i);\n            if (match && match[2]) return match[2];\n            return $window.location.hostname;\n          },\n          getApiOrigin: function() {\n            const match = apiUrl.match(/^(.*:)\\/\\/([A-Za-z0-9\\-\\.]+)(:[0-9]+)?(.*)$/i);\n            if (match && match[2]) return `${match[1]}//${match[2]}${match[3] || ''}`;\n            return $window.location.origin;\n          },\n          getSiteId: function() {\n            if (siteId) return siteId;\n            var domain = this.getApiDomain(_API_URL_).split('.');\n            domain = domain[domain.length - 3];\n            if (!domain) throw new Error('configuration issue: siteId is undefined');\n            return domain;\n          },\n          getApiAbsUrl: function(relativeUrl) {\n            return apiUrl + relativeUrl + apiPostfix;\n          },\n          getDefaultRoute: function() {\n            return defaultRoute;\n          },\n          getWsUrl: function() {\n            return wsUrl;\n          },\n          getSitesUrl: function() {\n            return sitesUrl;\n          }\n        };\n      }\n    };\n  });\n","angular.module('deskworks.inventory.membershipCategory.service', [\n  'ngResource',\n  'deskworks.config'\n])\n\n  .factory('membershipCategoryService', function($resource, $q, deskworksConfig) { 'use strict';\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/membership-types/:membershipTypeId'), {}, {\n      update: {method: 'PUT'}\n    });\n\n    return {\n\n      query: function() {\n        return res.query().$promise;\n      },\n\n      get: function(membershipTypeId) {\n        return res.get({ membershipTypeId: membershipTypeId }).$promise;\n      },\n\n      create: function(data) {\n        return res.save({}, data).$promise;\n      },\n\n      update: function(membershipTypeId, data) {\n        return res.update({ membershipTypeId: membershipTypeId }, data).$promise;\n      },\n\n      delete: function(membershipTypeId) {\n        return res.delete({ membershipTypeId: membershipTypeId }).$promise;\n      },\n\n      save: function(membershipCategory) {\n        return (membershipCategory.id ?\n          res.update({ membershipTypeId: membershipCategory.id }, membershipCategory).$promise :\n          res.save({}, membershipCategory).$promise)\n          .then(function(result) { membershipCategory.id = result.id; return result; });\n      }\n    };\n  });\n","/**\n * Options for 'Count Check-Ins per' in Inventory / Product Edit\n */\nangular.module('deskworks.inventory.optsCountCheckInsPer', [])\n\n  .factory('optsCountCheckInsPer', function($rootScope, $translate) {\n    const opts = [\n      { id: 'coMember', _name: 'PRODUCTS.COUNT_CHECK_INS_PER.CO_MEMBER' },\n      { id: 'company', _name: 'PRODUCTS.COUNT_CHECK_INS_PER.COMPANY' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for 'Max Passes billed in 24-hour period' in Inventory / Product Edit\n */\nangular.module('deskworks.inventory.optsPassMax', [])\n  .factory('optsPassMax', function() { 'use strict';\n    return [\n      { id: '1', name: '1' },\n      { id: '2', name: '2' },\n      { id: '4', name: '4' },\n      { id: '0', name: '' }\n    ];\n  });\n","/**\n * Options for 'Min time billed after 1st Pass' in Inventory / Product Edit\n */\nangular.module('deskworks.inventory.optsPassMin', [])\n  .factory('optsPassMin', function() { 'use strict';\n    return [\n      { id: '0.25', name: '' },\n      { id: '0.5', name: '' },\n      { id: '1.0', name: '1' },\n      { id: '2.0', name: '2' }\n    ];\n  });\n","/**\n * Options for Product Type\n */\nangular.module('deskworks.inventory.optsProductType', [])\n\n  .factory('optsProductType', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'membership', _name: 'PRODUCTS.PRODUCT_TYPE.MEMBERSHIP', import: 'Membership' },\n      { id: 'registration', _name: 'PRODUCTS.PRODUCT_TYPE.REGISTRATION', import: 'Registration' },\n      { id: 'rental', _name: 'PRODUCTS.PRODUCT_TYPE.RENTAL_HOURS', import: 'Rental Hours' },\n      { id: 'print', _name: 'PRODUCTS.PRODUCT_TYPE.PRINT', import: 'Print' },\n      { id: 'services', _name: 'PRODUCTS.PRODUCT_TYPE.SERVICES', import: 'Services' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","angular.module('deskworks.PassProduct.service', [\n  'ngResource',\n  'deskworks.config'\n])\n\n  .factory('PassProduct', function($resource, $q, deskworksConfig) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/pass-products'));\n    return {\n      query: function(centerId) {\n        return res.query({ centerId: centerId }).$promise;\n      }\n    };\n  });\n","angular.module('deskworks.inventory.priceList.service', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer'\n])\n\n  .factory('priceListService', function($resource, $q, datesDeserializer, deskworksConfig) { 'use strict';\n    var desDates = datesDeserializer(['date']);\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/price-lists/:priceListId'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] },\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n      update: { method: 'PUT' }\n    });\n\n    var resProduct = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/price-lists/:priceListId/price-list-products/:productRelId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      getPricelists: function(centerId) {\n        return res.query({ centerId: centerId }).$promise;\n      },\n\n      getPricelist: function(centerId, priceListId) {\n        if(priceListId === 'new') {\n          var pl = {\n            id: 'new',\n            name: '',\n            visibleForVisitors: true,\n            useFor: 'none',\n            products: [],\n            options: { products: [] }\n          };\n          return $q.when(pl);\n        }\n        return res.get({ centerId: centerId, priceListId: priceListId }).$promise;\n      },\n\n      createPricelist: function(centerId, data) {\n        return res.save({ centerId: centerId }, data).$promise;\n      },\n\n      updatePricelist: function(centerId, priceListId, data) {\n        return res.update({ centerId: centerId, priceListId: priceListId }, data).$promise;\n      },\n\n      deletePricelist: function(centerId, priceListId) {\n        return res.delete({ centerId: centerId, priceListId: priceListId }).$promise;\n      },\n\n      clonePricelist: function(centerId, priceListId, dstCenterId) {\n        return res.save({ centerId: centerId, copy: priceListId, destination: dstCenterId }, {}).$promise;\n      },\n\n      save: function(centerId, priceList) { // save (create/update) price list\n        return (priceList.id ?\n          res.update({ centerId: centerId, priceListId: priceList.id }, priceList).$promise :\n          res.save({ centerId: centerId }, priceList).$promise)\n          .then(function(result) { priceList.id = result.id; return result; });\n      },\n\n      createProduct: function(centerId, priceListId, data) {\n        return resProduct.save({ centerId: centerId, priceListId: priceListId }, data).$promise;\n      },\n\n      updateProduct: function(centerId, priceListId, productRelId, data) {\n        return resProduct.update({ centerId: centerId, priceListId: priceListId, productRelId: productRelId }, data).$promise;\n      },\n\n      deleteProduct: function(centerId, priceListId, productRelId) {\n        return resProduct.delete({ centerId: centerId, priceListId: priceListId, productRelId: productRelId }).$promise;\n      }\n    };\n  });\n","angular.module('deskworks.ProductCategory', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper',\n])\n\n  .factory('ProductCategory', function($resource, $q, deskworksConfig, helper) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/product-categories/:productCategoryId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      query: function() {\n        return res.query().$promise;\n      },\n      save: function(productCategory) {\n        if(productCategory.id) return res.update({ productCategoryId: productCategory.id }, productCategory).$promise;\n        return res.save(productCategory).$promise\n          .then(function(result) { productCategory.id = result.id; });\n      },\n      delete: function(productCategoryId) {\n        return res.delete({ productCategoryId: productCategoryId }).$promise;\n      }\n    };\n  });\n","export default angular.module('deskworks.inventory.product.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.inventory.optsProductType',\n  'deskworks.billing.optsBillingFrequency',\n  'deskworks.inventory.optsPassMin',\n  'deskworks.inventory.optsPassMax',\n])\n\n  .factory('productService', function($resource, $q, $filter, deskworksConfig, helper,\n                                      optsProductType, optsBillingFrequency, optsPassMin, optsPassMax) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/products/:productId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    const resMembership = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/membership-products'));\n\n    const resPriceList = $resource(deskworksConfig.getApiAbsUrl('/products/:productId/price-list-products/:priceListRelId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      /**\n       * Get new product template.\n       */\n      new: function() {\n        return this.resolve({});\n      },\n\n      getProducts: function() {\n        return res.query().$promise;\n      },\n\n      getMembershipProducts: function(centerId) {\n        return resMembership.query({ centerId: centerId }).$promise;\n      },\n\n      getProduct: function(productId) {\n        var self = this;\n        return res.get({ productId: productId }).$promise\n          .then(function(result) { return self.resolve(result); });\n      },\n\n      createProduct: function(product) {\n        var self = this;\n        return res.save({}, self.unresolve(product)).$promise;\n      },\n\n      updateProduct: function(product) {\n        var self = this;\n        return res.update({ productId: product.id }, self.unresolve(product)).$promise;\n      },\n\n      deleteProduct: function(productId) {\n        return res.delete({ productId: productId }).$promise;\n      },\n\n      save: function(product) { // save (create/update) product\n        var self = this;\n        return (product.id ?\n          res.update({ productId: product.id }, self.unresolve(product)).$promise :\n          res.save({}, self.unresolve(product)).$promise)\n          .then(function(result) { product.id = result.id; return result; });\n      },\n\n      createPriceList: function(productId, data) {\n        return resPriceList.save({ productId: productId }, data).$promise;\n      },\n\n      updatePriceList: function(productId, priceListRelId, data) {\n        return resPriceList.update({ productId: productId, priceListRelId: priceListRelId }, data).$promise;\n      },\n\n      deletePriceList: function(productId, priceListRelId) {\n        return resPriceList.delete({ productId: productId, priceListRelId: priceListRelId }).$promise;\n      },\n\n      savePriceItem: function(productId, priceItem) {\n        return (priceItem.id ?\n          resPriceList.update({ productId: productId, priceListRelId: priceItem.id }, priceItem).$promise :\n          resPriceList.save({ productId: productId }, priceItem).$promise)\n          .then(function(result) { priceItem.id = result.id; return result; });\n      },\n\n\n      /**\n       * Resolves options/dependencies in product from GET request\n       */\n      resolve: (product) => {\n        if (!product.priceLists) {\n          product.priceLists = [];\n        }\n        if (!product.options) {\n          product.options = {};\n        }\n\n        product.options.productTypes = optsProductType;\n        product.options.billingFrequencies = optsBillingFrequency;\n\n        //if(product.id === 'new') {\n        if (!product.id) {\n          // New Product\n          //product.id = 'new';\n          product.type = optsProductType[0];\n          if (product.options.membershipTypes && product.options.membershipTypes.length > 0) {\n            product.membershipType = product.options.membershipTypes[0];\n          }\n          product.billingFrequency = product.options.billingFrequencies[0];\n          product.passMin = optsPassMin[0].id;\n          product.passMax = optsPassMax[2];\n          product.taxable = true;\n          product.reserveWithNonMemberRules = false;\n          product.countCheckInsPer = 'company';\n          product.hideInSelfRegistration = true;\n          product.showInSelfRegistration = false;\n          product.hasRegistrationFee = true;\n        } else {\n          product.typeId = product.type;\n          // Existing Product\n          product.type = helper.findByKeyValue(optsProductType, 'id', product.type);\n\n          // Convert membershipTypeId -> membershipType\n          if (product.options.membershipTypes && product.options.membershipTypes.length > 0) {\n            product.membershipType = helper.findByKeyValue(product.options.membershipTypes, 'id', product.membershipTypeId);\n          }\n\n          // Convert priceListId -> options.priceList reference\n          if (product.options.priceLists && product.options.priceLists.length > 0) {\n            product.priceLists.forEach(priceList => {\n              priceList.priceList = helper.findByKeyValue(product.options.priceLists, 'id', priceList.priceListId);\n              priceList.price = $filter('price')(priceList.price);\n              if (priceList.reservationCredit) {\n                priceList.reservationCredit = $filter('price')(priceList.reservationCredit);\n              }\n              if (priceList.passQty === null) {\n                priceList.passQty = 0;\n              }\n            });\n          }\n\n          product.billingFrequency = helper.findByKeyValue(product.options.billingFrequencies, 'id', product.billingFrequency);\n\n          product.billingFrequency = product.billingFrequency || product.options.billingFrequencies[0];\n          product.passMin = product.passMin || optsPassMin[0].id;\n          product.passMax = helper.findByKeyValue(optsPassMax, 'id', product.passMax) || optsPassMax[2];\n\n          product.reservationTypeId = product.reservationTypeId && product.reservationTypeId.toString() || product.reservationTypeId;\n\n          product.showInSelfRegistration = !product.hideInSelfRegistration;\n        }\n\n        return product;\n      },\n\n      /**\n       * Converts Product to data ready for POST/PUT\n       */\n      unresolve: function(product) {\n        const data = {\n          name: product.name,\n          type: product.type ? product.type.id : product.typeId,\n          description: product.description,\n          custom: !!product.custom,\n          productCategoryId: product.productCategoryId,\n          productNumber: '' + product.productNumber,\n          taxable: product.taxable,\n          hideInSelfRegistration: !product.showInSelfRegistration,\n          hasRegistrationFee: !!product.hasRegistrationFee,\n        };\n        if (product.type && product.type.id === 'membership') {\n          data.isCreditable = !!product.isCreditable;\n          data.membershipTypeId = product.membershipType ? product.membershipType.id : undefined;\n          data.reserveWithNonMemberRules = !!product.reserveWithNonMemberRules;\n          data.countCheckInsPer = product.countCheckInsPer;\n          data.hasPasses = !!product.hasPasses;\n          data.trackAcrossAllCenters = !!product.trackAcrossAllCenters;\n          if (data.hasPasses && product.passProduct) {\n            data.passProductId = product.passProduct.id;\n          }\n          if (product.securityDepositAmount) data.securityDepositAmount = +product.securityDepositAmount;\n          data.printerUsageFreeCopiesSettings = product.printerUsageFreeCopiesSettings;\n        }\n        if (product.type && (product.type.id === 'membership' || product.type.id === 'services')) {\n          data.billingFrequency = product.billingFrequency.id;\n        }\n        if (product.type && product.type.id === 'rental') {\n          data.passSize = product.passSize;\n          data.passMin = product.passMin;\n          data.passMax = product.passMax.id;\n          data.allowReservationCredits = !!product.allowReservationCredits;\n          data.canBuyOnSplashPage = !!product.canBuyOnSplashPage;\n          data.reservationTypeId = product.reservationTypeId;\n        }\n\n        return data;\n      }\n    };\n  });\n","angular.module('deskworks.reservationCategory.service', [\n  'ngResource',\n  'deskworks.config',\n  'ngFileUpload'\n])\n  .factory('reservationCategoryService', function($resource, $q, Upload, deskworksConfig) { 'use strict';\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/reservation-types/:reservationTypeId/:unavailableDates'), {}, {\n      update: {method: 'PUT'}\n    });\n\n    var resPhoto = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/reservation-types/:reservationTypeId/photos/:photoId'), {}, {\n      update: {method: 'PUT'}\n    });\n\n    return {\n      get: function(centerId, reservationTypeId) {\n        if(reservationTypeId === 'new') {\n          return $q.when({ id: 'new', cancellationNonMemberNoticeHours: 24, cancellationMemberNoticeHours: 24 });\n        }\n        return res.get({ centerId: centerId, reservationTypeId: reservationTypeId }).$promise\n          .then(cat => {\n            if (cat.photos[0] && cat.photos[0].id === null) {\n              cat.photos.splice(0, 1);\n            }\n            return cat;\n          });\n      },\n      query: function(centerId) {\n        return res.query({ centerId: centerId }).$promise;\n      },\n      create: function(centerId, data) {\n        return res.save({ centerId: centerId }, data).$promise;\n      },\n      update: function(centerId, reservationTypeId, data) {\n        return res.update({ centerId: centerId, reservationTypeId: reservationTypeId }, data).$promise;\n      },\n      delete: function(centerId, reservationTypeId) {\n        return res.delete({ centerId: centerId, reservationTypeId: reservationTypeId }).$promise;\n      },\n\n      save: function(centerId, resCategory) {\n        return resCategory.id ?\n          res.update({ centerId: centerId, reservationTypeId: resCategory.id }, resCategory).$promise :\n          res.save({ centerId: centerId }, resCategory).$promise\n            .then(function(result) { resCategory.id = result.id; return result; });\n      },\n\n      getUnavailableDates: function(centerId, reservationTypeId) {\n        return res.query({ centerId: centerId, reservationTypeId: reservationTypeId, unavailableDates: 'unavailable-dates' }).$promise;\n      },\n\n      /**\n       * Photos\n       */\n      createPhoto: function(centerId, reservationTypeId, file) {\n        return Upload.upload({\n          url: deskworksConfig.getApiAbsUrl('/centers/' + centerId + '/reservation-types/' + reservationTypeId + '/photos'),\n          method: 'POST',\n          withCredentials: true,\n          data: { photo: file }\n        });\n      },\n      updatePhoto: function(centerId, reservationTypeId, photoId, file) {\n        return Upload.upload({\n          url: deskworksConfig.getApiAbsUrl('/centers/' + centerId + '/reservation-types/' + reservationTypeId + '/photos/' + photoId),\n          method: 'PUT',\n          withCredentials: true,\n          data: { photo: file }\n        });\n      },\n      deletePhoto: function(centerId, reservationTypeId, photoId) {\n        return resPhoto.delete({ centerId: centerId, reservationTypeId: reservationTypeId, photoId: photoId }).$promise;\n      }\n    };\n  });\n","angular.module('deskworks.checkInLog.service', [\n  'ngResource',\n  'deskworks.config'\n])\n  .factory('checkInLogService', function($resource, $filter, deskworksConfig, helper) { 'use strict';\n    var toDate = $filter('toDate');\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/logs/:logId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      getLog: function(centerId, userId, page, pageSize, macAddress) {\n        return res.get({ centerId: centerId, userId: userId, page: page, pageSize: pageSize, macAddress: macAddress }).$promise\n          .then(function(logData) {\n            logData.checkInTime = toDate(logData.checkInTime);\n            logData.log.forEach(function(rec) {\n              rec.time = toDate(rec.time);\n            });\n            return logData;\n          });\n      },\n\n      updateLog: function(centerId, userId, logId, data) {\n        return res.update({ centerId: centerId, userId: userId, logId: logId }, data).$promise;\n      },\n\n      deleteLog: function(centerId, userId, logId) {\n        return res.delete({ centerId: centerId, userId: userId, logId: logId }).$promise;\n      },\n\n      checkInOut: function(centerId, userId, operation, time) {\n        time = $filter('date')(time, 'iso');\n        return res.save({ centerId: centerId, userId: userId }, { operation: operation, time: time }).$promise;\n      }\n    };\n  });\n","angular.module('deskworks.CheckedInMembers', [\n  'ngResource',\n  'deskworks.config'\n])\n  .factory('CheckedInMembers', function($resource, $timeout, $filter, deskworksConfig, helper) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/checked-in-members'), {}, {});\n\n    return {\n      query: function(centerId) {\n        return res.query({ centerId: centerId }).$promise;\n      },\n    };\n  });\n","angular.module('deskworks.CheckedInUsers', [\n  'ngResource',\n  'deskworks.config'\n])\n\n  .factory('CheckedInUsers', function($resource, deskworksConfig) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/checked-in-users'));\n\n    return {\n      query: function(centerId) {\n        return res.query({ centerId: centerId }).$promise;\n      },\n    };\n  });\n","angular.module('deskworks.memberUsageService', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer'\n])\n\n  .factory('memberUsageService', function($resource, $filter, deskworksConfig, helper, datesDeserializer) { 'use strict';\n    var desDates = datesDeserializer([\n      'usages.date',\n      'usages.reservationLog.startTime', 'usages.reservationLog.endTime',\n      'usages.checkInLog.startTime', 'usages.checkInLog.endTime'\n    ]);\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/member-usages/:memberUsageId'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] },\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n      update: { method: 'PUT' }\n    });\n\n    var resUsage = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/member-usages/:memberUsageId/usages/:usageId'), {}, {});\n\n    return {\n      query: function(centerId, userId, page, pageSize) {\n        return res.query({\n          centerId: centerId || 0,\n          userId: userId,\n          page: page || 1,\n          pageSize: pageSize || 10\n        }).$promise;\n      },\n\n      get: function(centerId, userId, memberUsageId, page, pageSize) {\n        return res.get({\n          centerId: centerId,\n          userId: userId,\n          memberUsageId: memberUsageId,\n          page: page || 1,\n          pageSize: pageSize || 10\n        }).$promise;\n      },\n\n      deletePassRefill: function(centerId, userId, memberUsageId, usageId) {\n        return resUsage.delete({\n          centerId: centerId,\n          userId: userId,\n          memberUsageId: memberUsageId,\n          usageId: usageId\n        }).$promise;\n      }\n    };\n  });\n","angular.module('deskworks.membership.service', [\n  'ngResource',\n  'deskworks.config'\n])\n\n  .factory('membershipService', function($resource, deskworksConfig) { 'use strict';\n    var resType = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/membership-types'));\n\n    return {\n      query: function(centerId) {\n        return resType.query({centerId: centerId}).$promise;\n      }\n    };\n  });\n","/**\n * Options for Members -> Our Members -> Order By\n */\nangular.module('deskworks.optsOurMembersSort', [])\n\n  .factory('optsOurMembersSort', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'name', _name: 'OUR_MEMBERS.SORT.NAME' },\n      { id: 'occupation', _name: 'OUR_MEMBERS.SORT.OCCUPATION' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","export default angular.module('deskworks.OurMembers', [\n  'ngResource',\n  'deskworks.config'\n])\n\n  .factory('OurMembers', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/our-members'));\n\n    return {\n      query: params => {\n        const p = {\n          centerId: params.centerId || null,\n          sort: params.sort || null,\n          q: params.q || null,\n          limit: params.limit || null,\n          offset: params.offset || null,\n        };\n        return res.query(p).$promise;\n      },\n    };\n  });\n","angular.module('deskworks.usageEntryService', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer'\n])\n\n  .factory('usageEntryService', function($resource, $q, $filter, deskworksConfig, helper, datesDeserializer) { 'use strict';\n    var fdate = $filter('date');\n    var desDates = datesDeserializer(['usages.checkInTime', 'usages.checkOutTime']);\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/usage-entries/:usageId'), {}, {\n      query: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n      save: { method: 'POST', transformRequest: [serializer, angular.toJson] },\n      update: { method: 'PUT', transformRequest: [serializer, angular.toJson] }\n    });\n\n    function serializer(data) {\n      data = angular.extend({}, data);\n      data.checkInTime = fdate(data.checkInTime, 'iso');\n      data.checkOutTime = fdate(data.checkOutTime, 'iso');\n      return data;\n    }\n\n    return {\n      query: function(centerId, userId, page, pageSize) {\n        return res.query({ userId: userId, centerId: centerId, page: page, pageSize: pageSize }).$promise;\n      },\n\n      get: function(centerId, userId, usageId) {\n        if(usageId === 'new') {\n          return $q.when({\n            id: 'new',\n            checkInTime: moment(),\n            checkOutTime: moment(),\n            notes: ''\n          });\n        }\n\n        return res.query({ userId: userId, centerId: centerId }).$promise\n          .then(function(usages) { // as we have only get usages array operation, we have to find necessary usage by id\n            var usage = helper.findByKeyValue(usages.usages, 'id', usageId);\n            if(usage) return usage;\n            return $q.reject({ data: { error: 'Failed to find usage with id=' + usageId } });\n          });\n      },\n\n      save: function(centerId, userId, usage) {\n        if(!usage.id || usage.id === 'new') return res.save({ userId: userId, centerId: centerId }, usage).$promise;\n        return res.update({ userId: userId, centerId: centerId, usageId: usage.id }, usage).$promise;\n      },\n\n      delete: function(centerId, userId, usageId) {\n        return res.delete({ userId: userId, centerId: centerId, usageId: usageId }).$promise;\n      }\n    };\n  });\n","export default angular.module('deskworks.notifications.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper'\n])\n\n  .factory('Notifications', function($resource, $timeout, deskworksConfig, helper) {\n    const methods = { update: { method: 'PUT' } };\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/notifications/:id'), {}, methods);\n    const resTpl = $resource(deskworksConfig.getApiAbsUrl('/email-templates/:tplId'), {}, methods);\n    const resTplAtt = $resource(deskworksConfig.getApiAbsUrl('/email-templates/:tplId/attachments/:id'), {}, methods);\n\n    var resBulkInvoices = $resource(deskworksConfig.getApiAbsUrl('/setup/bulk-invoices'));\n    var resRecurringInvoices = $resource(deskworksConfig.getApiAbsUrl('/setup/recurring-invoices'));\n    var resExpiredCardEmail = $resource(deskworksConfig.getApiAbsUrl('/setup/expired-card-emails'));\n    var resDeclinedCardEmail = $resource(deskworksConfig.getApiAbsUrl('/setup/declined-card-emails'));\n    var resWelcomeLetter = $resource(deskworksConfig.getApiAbsUrl('/setup/welcome-letters'));\n    var resWelcomeLetterAtt = $resource(deskworksConfig.getApiAbsUrl('/setup/welcome-letters/123/attachments/:attachmentId'));\n    var resResConfirmation = $resource(deskworksConfig.getApiAbsUrl('/setup/reservation-confirmations'));\n    var resResConfirmationAtt = $resource(deskworksConfig.getApiAbsUrl('/setup/reservation-confirmations/123/attachments/:attachmentId'));\n    var resCalSyncError = $resource(deskworksConfig.getApiAbsUrl('/setup/calendar-sync-error-emails'));\n    var resPassesUsedUp = $resource(deskworksConfig.getApiAbsUrl('/setup/passes-used-up-emails'));\n    var resBucketUsedUp = $resource(deskworksConfig.getApiAbsUrl('/setup/bucket-used-up-emails'));\n    const resMsgBoard = $resource(deskworksConfig.getApiAbsUrl('/dw-mail/message-board/templates/:templateId'), {}, methods);\n    const resDeskTablet = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/desk-tablet-template'), {}, methods);\n\n    return {\n      get: function(id) {\n        return res.get({ id }).$promise;\n      },\n      save: function(id, data) {\n        return res.update({ id }, data).$promise;\n      },\n\n      getEmailTemplate: (tplId) => resTpl.get({ tplId }).$promise,\n      saveEmailTemplate: (tplId, data) => resTpl.update({ tplId }, data).$promise,\n      attachEmailTemplate: (tplId, data) =>resTplAtt.save({ tplId }, data).$promise,\n      detachEmailTemplate: (tplId, id) => resTplAtt.delete({ tplId, id }).$promise,\n\n      /**\n       * Bulk Invoices\n       */\n      getBulkInvoices: function() {\n        return resBulkInvoices.get({}).$promise;\n      },\n      saveBulkInvoices: function(data) {\n        return resBulkInvoices.save({}, data).$promise;\n      },\n\n      /**\n       * Recurring Invoices\n       */\n      getRecurringInvoices: function() {\n        return resRecurringInvoices.get({}).$promise;\n      },\n      saveRecurringInvoices: function(data) {\n        return resRecurringInvoices.save({}, data).$promise;\n      },\n\n      /**\n       * Expired Card Email\n       */\n      getExpiredCardEmail: function() {\n        return resExpiredCardEmail.get({}).$promise;\n      },\n      saveExpiredCardEmail: function(data) {\n        return resExpiredCardEmail.save({}, data).$promise;\n      },\n\n      /**\n       * Declined Card Email\n       */\n      getDeclinedCardEmail: function() {\n        return resDeclinedCardEmail.get({}).$promise;\n      },\n      saveDeclinedCardEmail: function(data) {\n        return resDeclinedCardEmail.save({}, data).$promise;\n      },\n\n      /**\n       * Welcome Letter\n       */\n      getWelcomeLetter: function() {\n        return resWelcomeLetter.get({}).$promise;\n      },\n      saveWelcomeLetter: function(data) {\n        return resWelcomeLetter.save({}, data).$promise;\n      },\n      attachWelcomeLetter: function(data) {\n        return resWelcomeLetterAtt.save({}, data).$promise;\n      },\n      detachWelcomeLetter: function(attachmentId) {\n        return resWelcomeLetterAtt.delete({ attachmentId: attachmentId }).$promise;\n      },\n\n      /**\n       * Calendar Sync Error Email\n       */\n      getCalSyncErrorEmail: function() {\n        return resCalSyncError.get({}).$promise;\n      },\n      saveCalSyncErrorEmail: function(data) {\n        return resCalSyncError.save({}, data).$promise;\n      },\n\n      /**\n       * Passes Used Up\n       */\n      getPassesUsedUpEmail: function() {\n        return resPassesUsedUp.get({}).$promise;\n      },\n      savePassesUsedUpEmail: function(data) {\n        return resPassesUsedUp.save({}, data).$promise;\n      },\n\n      /**\n       * Bucket Used Up\n       */\n      getBucketUsedUpEmail: function() {\n        return resBucketUsedUp.get({}).$promise;\n      },\n      saveBucketUsedUpEmail: function(data) {\n        return resBucketUsedUp.save({}, data).$promise;\n      },\n\n      /**\n       * Reservation Confirmation\n       */\n      getReservationConfirmation: function() {\n        return resResConfirmation.get({}).$promise;\n      },\n      saveReservationConfirmation: function(data) {\n        return resResConfirmation.save({}, data).$promise;\n      },\n      attachReservationConfirmation: function(data) {\n        return resResConfirmationAtt.save({}, data).$promise;\n      },\n      detachReservationConfirmation: function(attachmentId) {\n        return resResConfirmationAtt.delete({ attachmentId: attachmentId }).$promise;\n      },\n\n      /**\n       * Message Board Notices\n       */\n      getMessageBoardEmailTemplate: (templateId) => resMsgBoard.get({ templateId }).$promise,\n      saveMessageBoardEmailTemplate: (templateId, data) => resMsgBoard.update({ templateId }, data).$promise,\n\n      getDeskTabletTemplate: (centerId) => resDeskTablet.get({ centerId }).$promise,\n      saveDeskTabletTemplate: (centerId, data) => resDeskTablet.update({ centerId }, data).$promise,\n    };\n  });\n","/**\n * Options for Reservation Rules / Days in Advance Reservations Permitted\n */\nangular.module('deskworks.reservationRules.optsDaysInAdvance', [])\n  .factory('optsDaysInAdvance', function($rootScope, $translate, $filter) { 'use strict';\n    const opts = [\n      { id: 0, _name: 'RESERVATION_RULES.UNLIMITED' },\n      { id: 180 },\n      { id: 120 },\n      { id: 90 },\n      { id: 60 },\n      { id: 45 },\n      { id: 30 },\n      { id: 14 },\n      { id: 7 },\n      { id: 1 },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      opts.forEach(opt => {\n        opt.name = opt._name ? $translate.instant(opt._name) : $filter('days')(opt.id);\n      });\n    }\n\n    return opts;\n  });\n","/**\n * Options for Reservation Rules / Maximum Hours/Day/Person\n */\nangular.module('deskworks.reservationRules.optsReservationLimitMax', [])\n\n  .factory('optsReservationLimitMax', function($rootScope, $translate, $filter) { 'use strict';\n    const opts = [\n      { id: '0.0', _name: 'RESERVATION_RULES.UNLIMITED' },\n      { id: '12.0', value: 12, unit: 'hours' },\n      { id: '10.0', value: 10, unit: 'hours' },\n      { id: '9.0', value: 9, unit: 'hours' },\n      { id: '8.0', value: 8, unit: 'hours' },\n      { id: '7.0', value: 7, unit: 'hours' },\n      { id: '6.0', value: 6, unit: 'hours' },\n      { id: '5.0', value: 5, unit: 'hours' },\n      { id: '4.0', value: 4, unit: 'hours' },\n      { id: '3.0', value: 3, unit: 'hours' },\n      { id: '2.0', value: 2, unit: 'hours' },\n      { id: '1.0', value: 1, unit: 'hours' },\n      { id: '0.5', value: 30, unit: 'minutes' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      opts.forEach(opt => {\n        if (opt._name) opt.name = $translate.instant(opt._name);\n        if (opt.unit) opt.name = $filter(opt.unit)(opt.value) + '/' + $filter('days')(1, true);\n      });\n    }\n\n    return opts;\n  });\n","/**\n * Options for Reservation Rules / Minimum Reservable Time\n */\nangular.module('deskworks.reservationRules.optsReservationLimitMin', [])\n\n  .factory('optsReservationLimitMin', function($rootScope, $translate, $filter) { 'use strict';\n    const opts = [\n      { id: '0.25', value: 15, unit: 'minutes', name: '15 min' },\n      { id: '0.5', value: 30, unit: 'minutes', name: '30 min' },\n      { id: '1.0', value: 1, unit: 'hours', name: '1 hr' },\n      { id: '2.0', value: 2, unit: 'hours', name: '2 hr' },\n      { id: '4.0', value: 4, unit: 'hours', name: '4 hr' },\n      { id: '24.0', value: 1, unit: 'days', name: '1 day' },\n      { id: '72.0', value: 3, unit: 'days', name: '3 day' },\n      { id: '168.0', value: 1, unit: 'weeks', name: '1 week' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $filter(opt.unit)(opt.value); }); }\n\n    return opts;\n  });\n","/**\n * Options for Reservation Rules / Time in Advance Reservations Required\n */\nangular.module('deskworks.reservationRules.optsTimeInAdvance', [])\n  .factory('optsTimeInAdvance', function($rootScope, $translate, $filter) { 'use strict';\n    const opts = [\n      { id: 0, _name: 'GLOBAL.NONE' },\n      { id: 1 },\n      { id: 12 },\n      { id: 24 },\n      { id: 48 },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      opts.forEach(opt => {\n        opt.name = opt._name ? $translate.instant(opt._name) : $filter('hours')(opt.id);\n      });\n    }\n\n    return opts;\n  });\n","/**\n * Options for Reservation Rules / Who Can Reserve\n */\nangular.module('deskworks.reservationRules.optsWhoCanReserve', [])\n  .factory('optsWhoCanReserve', function($rootScope, $translate) { 'use strict';\n    const opts = [\n      { id: 'anyone', _name: 'RESERVATION_RULES.WHO_CAN_RESERVE.ANYONE' },\n      { id: 'nonMember', _name: 'RESERVATION_RULES.WHO_CAN_RESERVE.NON_MEMBER' },\n      { id: 'member', _name: 'RESERVATION_RULES.WHO_CAN_RESERVE.MEMBER' },\n      { id: 'staffOnly', _name: 'RESERVATION_RULES.WHO_CAN_RESERVE.STAFF_ONLY' },\n      { id: 'notAvailable', _name: 'RESERVATION_RULES.WHO_CAN_RESERVE.NOT_AVAILABLE' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * ReservationRules resource\n */\nangular.module('deskworks.reservationRules.service', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('ReservationRules', function($resource, $timeout, $filter, $rootScope, $translate, $locale, helper, deskworksConfig) { 'use strict';\n    const urlCenter = deskworksConfig.getApiAbsUrl('/centers/:centerId/reservation-rules/:ruleId');\n    const urlUnit = deskworksConfig.getApiAbsUrl('/centers/:centerId/reservation-units/:reservationUnitId/reservation-rules/:ruleId');\n\n    const resCenter = $resource(urlCenter, { centerId: '@centerId', ruleId: '@ruleId' }, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, deserialize] },\n      save: { method: 'POST', transformRequest: [serialize, angular.toJson], transformResponse: [angular.fromJson, deserialize] },\n      update: { method: 'PUT', transformRequest: [serialize, angular.toJson], transformResponse: [angular.fromJson, deserialize] },\n      delete: { method: 'DELETE' },\n    });\n\n    const resUnit = $resource(urlUnit, { centerId: '@centerId', reservationUnitId: '@reservationUnitId', ruleId: '@ruleId' }, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, deserialize] },\n      save: { method: 'POST', transformRequest: [serialize, angular.toJson], transformResponse: [angular.fromJson, deserialize] },\n      update: { method: 'PUT', transformRequest: [serialize, angular.toJson], transformResponse: [angular.fromJson, deserialize] },\n    });\n\n    const roles = [\n      { id: 'member', _name: 'RESERVATION_RULES.MEMBER', $isVisible: whoCanReserve => whoCanReserve !== 'staffOnly' && whoCanReserve !== 'notAvailable' && whoCanReserve !== 'nonMember' },\n      { id: 'nonMember', _name: 'RESERVATION_RULES.NON_MEMBER', $isVisible: whoCanReserve => whoCanReserve === 'anyone' || whoCanReserve === 'nonMember' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { roles.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return {\n      roles: roles,\n\n      /**\n       * Query\n       */\n      query: params => (params.reservationUnitId ? resUnit.query(params).$promise : resCenter.query(params).$promise),\n\n      /**\n       * Save / Update\n       */\n      save: (params, rule) => {\n        params = Object.assign({ ruleId: rule.id }, params);\n        let promise;\n        if (rule.id) {\n          promise = params.reservationUnitId ? resUnit.update(params, rule).$promise : resCenter.update(params, rule).$promise;\n        } else {\n          promise =  params.reservationUnitId ? resUnit.save(params, rule).$promise : resCenter.save(params, rule).$promise;\n        }\n        return promise.then(result => { // update id and intervals\n          rule.id = result.id;\n          roles.forEach(role => {\n            if (result[role.id] && result[role.id].intervals) {\n              rule[role.id].intervals = result[role.id].intervals;\n            }\n          });\n          return rule;\n        });\n      },\n\n      /**\n       * Delete Annual Holiday Calendar rule\n       */\n      delete: params => resCenter.delete(params).$promise,\n    };\n\n    /**\n     * Deserialize rules\n     * @param rule\n     */\n    function deserialize(rule) {\n      const rules = angular.isArray(rule) ? rule : [rule];\n      rules.forEach(rule => {\n        switch(rule.uid) {\n          case 'whoCanReserve': rule.type = 'value'; break;\n          case 'scale': rule.type = 'value'; break;\n          case 'buffer': rule.type = 'value'; break;\n          case 'fullTimeProduct': rule.type = 'value'; break;\n          case 'attachedUser': rule.type = 'static'; break;\n          case 'limitMin':\n          case 'limitMax':\n          case 'daysInAdvance': rule.type = 'roles'; break;\n          case 'timeInAdvance': rule.type = 'roles'; break;\n          case 'nestedUnits': rule.type = 'checklist'; break;\n          case 'sun': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[0]; rule.type = 'weekday'; break;\n          case 'mon': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[1]; rule.type = 'weekday'; break;\n          case 'tue': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[2]; rule.type = 'weekday'; break;\n          case 'wed': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[3]; rule.type = 'weekday'; break;\n          case 'thu': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[4]; rule.type = 'weekday'; break;\n          case 'fri': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[5]; rule.type = 'weekday'; break;\n          case 'sat': rule.name = $locale.DATETIME_FORMATS.SHORTDAY[6]; rule.type = 'weekday'; break;\n          default: rule.type = 'date';\n        }\n\n        if (rule.type === 'weekday' || rule.type === 'date') {\n          roles.forEach(role => {\n            rule[role.id].intervals.forEach(interval => {\n              interval.from = $filter('toDate')(interval.from);\n              interval.to = $filter('toDate')(interval.to);\n            });\n          });\n        }\n\n        if (rule.type === 'date') {\n          rule.date = $filter('toDate')(rule.date);\n        }\n\n        if (rule.type === 'checklist') {\n          rule.value = rule.value && rule.value.reduce((o, i) => (o[i] = true, o), {}); // array to object\n        }\n      });\n\n      return rule;\n    }\n\n    /**\n     * Serialize rule for POST/PUT\n     * @param rule - rule to serialize\n     * @returns {*} - rule passed\n     */\n    function serialize(rule) {\n      const type = rule.type;\n      rule = angular.copy(helper.purify(rule, ['type']));\n\n      if (type === 'weekday' || type === 'date') {\n        roles.forEach(role => {\n          rule[role.id] = helper.purify(rule[role.id]);\n          angular.forEach(rule[role.id].intervals, interval => {\n            interval.from = $filter('date')(interval.from, 'HH:mm');\n            interval.to = $filter('date')(interval.to, 'HH:mm');\n            if (interval.to === '00:00') interval.to = '24:00';\n          });\n        });\n      }\n\n      if (type === 'date') {\n        rule.date = $filter('date')(rule.date, 'yyyy-MM-dd');\n      }\n\n      if (type === 'checklist') {\n        rule.value = rule.value && Object.keys(rule.value).filter(key => !!rule.value[key]).map(key => +key);\n      }\n\n      return rule;\n    }\n  });\n","export default angular.module('deskworks.calendarService', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer',\n])\n\n  .factory('calendarService', function($resource, $filter, deskworksConfig, helper, datesDeserializer) {\n    const desDates = datesDeserializer([\n      'reservationUnits.reservations.from', 'reservationUnits.reservations.to',\n      'reservationUnits.availabilities.from', 'reservationUnits.availabilities.to'\n    ]);\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/reservations'),\n      { centerId: '@centerId', from: '@from', to: '@to' },\n      { query: { method: 'GET', isArray: true, transformResponse: desDates } },\n    );\n\n    return {\n      query: (centerId, from, to, role) => res.query({\n        centerId: centerId,\n        from: $filter('date')(from, 'yyyy-MM-dd'),\n        to: $filter('date')(to, 'yyyy-MM-dd'),\n        role: role || undefined\n      }).$promise,\n    };\n  });\n","/**\n * Options for Repeat Frequency in Simple Reservation / Time\n */\nangular.module('deskworks.reservationUnit.optsRepeatFrequency', [])\n\n  .factory('optsRepeatFrequency', function($rootScope, $filter, $translate) { 'use strict';\n    var opts = [\n      {\n        _name: 'RESERVATIONS.REPEAT_FREQUENCY.NONE',\n      },\n      {\n        id: '1.day',\n        _name: 'RESERVATIONS.REPEAT_FREQUENCY.DAILY',\n        repeatDurationFilter: $filter('days'),\n        repeatDurationOptions: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\n      },\n      {\n        id: '1.week',\n        _name: 'RESERVATIONS.REPEAT_FREQUENCY.WEEKLY',\n        repeatDurationFilter: $filter('weeks'),\n        repeatDurationOptions: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n      },\n      {\n        id: '1.month',\n        _name: 'RESERVATIONS.REPEAT_FREQUENCY.MONTHLY',\n        repeatDurationFilter: $filter('months'),\n        repeatDurationOptions: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n      },\n      {\n        id: '4.weeks',\n        _name: 'RESERVATIONS.REPEAT_FREQUENCY.MONTHLY_WEEKLY',\n        repeatDurationFilter: $filter('months'),\n        repeatDurationOptions: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n      }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * ReservationCost service\n */\nexport default angular.module('deskworks.ReservationCost', [\n  'deskworks.ReservationPrice',\n  'deskworks.calendarService',\n])\n  .factory('ReservationCost', function($q, $filter, dwAlerts, ReservationPrice, calendarService) {\n\n    return {\n      /**\n       * Sync calculation - used in Reservation Form for estimated reservation cost\n       */\n      calcSync: (timeStart, timeEnd, reservationPrices, resCategoryId) => {\n        if (!reservationPrices) return null;\n\n        const resCategory = reservationPrices.find(rp => rp.id === resCategoryId);\n        const length = (timeEnd - timeStart) / 60000;\n\n        if (!resCategory) return null;\n\n        return resCategory.passes\n          .map(pass => minutes_to_passes(length, +pass.passSize, +pass.passMin, +pass.passMax) * pass.passPrice)\n          .reduce((prev, curr) => curr < prev ? curr : prev);\n      },\n\n      /**\n       * Async calculation - used for skipping purchase for free reservations\n       * in Simple Reservation wizard after User Profile step\n       */\n      calcAsync: (centerId, userId, reservationUnitId, timeStart, timeEnd) => {\n        timeStart = $filter('toDate')(timeStart);\n        timeEnd = $filter('toDate')(timeEnd);\n\n        return $q.all({\n          prices: ReservationPrice.query(centerId, userId)\n            .catch(err => dwAlerts.error(err, 'Failed to query reservation prices.')),\n          cats: calendarService.query(centerId, timeStart, timeEnd)\n            .catch(err => dwAlerts.error(err, 'Failed to query calendar data.')),\n        })\n          .then(result => {\n            const cat = result.cats.find(cat => !!cat.reservationUnits.find(unit => unit.id === +reservationUnitId));\n            return cat && result.prices.find(p => p.id === cat.id);\n          })\n          .then(pricing => {\n            if (!pricing) return null;\n            const length = (timeEnd - timeStart) / 60000;\n            return pricing.passes\n              .map(pass => minutes_to_passes(length, +pass.passSize, +pass.passMin, +pass.passMax) * pass.passPrice)\n              .reduce((prev, curr) => curr < prev ? curr : prev);\n          });\n      },\n    };\n\n    /**\n     * Reservation length to passes conversion logic (from ruby code)\n     */\n    function minutes_to_passes(minutes, pass_size, pass_min, pass_max) {\n      const hrs = round_time_diff(Math.floor(minutes / 60), minutes % 60, pass_size * pass_min);\n      let passes = Math.max(+(hrs / (pass_size || 1)).toFixed(2), 1.0);\n      if (pass_max > 0 && passes > pass_max) {\n        passes = pass_max;\n      }\n      return passes;\n    }\n    function round_minutes_diff(minutes, step) {\n      const minutes_in_step = 60 * step;\n      let parts = Math.floor(minutes / minutes_in_step);\n      const fraction_of_part = minutes - parts * minutes_in_step;\n      if (fraction_of_part > 5) {\n        parts += 1;\n      }\n      return parts * minutes_in_step / 60.0;\n    }\n    function round_time_diff(hrs, minutes, step) {\n      const total_minutes = hrs * 60 + minutes;\n      return round_minutes_diff(total_minutes, step || 0.25);\n    }\n\n  });\n","/**\n * ReservationPrice service\n */\nexport default angular.module('deskworks.ReservationPrice', [\n  'ngResource',\n  'deskworks.config',\n])\n  .factory('ReservationPrice', function($resource, $q, deskworksConfig) {\n    const url = deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/reservation-prices');\n\n    const res = $resource(url, { centerId: '@centerId', userId: '@userId' }, { query: { method: 'GET', isArray: true } });\n\n    return {\n      query: (centerId, userId) => res.query({ centerId, userId }).$promise,\n    };\n  });\n","angular.module('deskworks.reservationService', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer',\n])\n\n  .factory('reservationService', function($resource, $filter, deskworksConfig, helper, datesDeserializer) { 'use strict';\n    const fDate = $filter('date');\n    const desDates = datesDeserializer(['from', 'to', 'updatedAt']);\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/reservations/:reservationId'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] },\n      save: { method: 'POST', transformRequest: serializer },\n      update: { method: 'PUT', transformRequest: serializer },\n    });\n\n    const resPayment = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/reservations-with-payments'), {}, {\n      save: { method: 'POST', transformRequest: serializer },\n    });\n\n    return {\n      query: function(params) {\n        params = angular.extend({}, params);\n        params.from = params.from && fDate(params.from, 'iso');\n        params.to = params.to && fDate(params.to, 'iso');\n        return res.query(params).$promise;\n      },\n\n      save: function(centerId, userId, reservation) {\n        if(!reservation.id) return res.save({ centerId: centerId, userId: userId }, reservation).$promise\n          .then(function(result) { reservation.id = result.id; reservation.accessCode = result.accessCode; return reservation; });\n\n        return res.update({ centerId: centerId, userId: userId, reservationId: reservation.id }, reservation).$promise;\n      },\n\n      saveWithPayment: function(centerId, userId, reservation) {\n        return resPayment.save({ centerId, userId }, reservation).$promise;\n      },\n\n      delete: function(centerId, userId, reservationId, emailConfirmation, repeatFrequency, repeatDuration) {\n        return res.delete({ centerId, userId, reservationId, emailConfirmation, repeatFrequency, repeatDuration }).$promise;\n      }\n    };\n\n    function serializer(data) {\n      data = angular.extend({}, data);\n      data.from = fDate(data.from, 'iso');\n      data.to = fDate(data.to, 'iso');\n      return angular.toJson(data);\n    }\n  });\n","angular.module('sessionInjector', [\n  'session',\n])\n\n  .factory('sessionInjector', function($injector) { 'use strict';\n    return {\n      request: request,\n    };\n\n    function request(config) {\n      if(!config.url.match(/\\/api\\//i)) return config;\n      var session = $injector.get('session');\n      if(!session.isAnonymous()) {\n        config.headers['Authorization'] = 'Bearer ' + session.accessToken; // jshint ignore:line\n      }\n      return config;\n    }\n  });\n","angular.module('sessionRefresher', [\n  'session',\n])\n\n  .factory('sessionRefresher', function($q, $injector, $location) { 'use strict';\n    return {\n      responseError: function(response) {\n        if (response.status === 419) {\n          var $http = $injector.get('$http');\n          var session = $injector.get('session');\n          return session.refresh()\n            .catch(function(err) {\n              $location.search('redirect', $location.path());\n              $location.path('/sign-in');\n              return $q.reject(err);\n            })\n            .then(function() {\n              return $http(response.config); // repeat request\n            });\n        }\n        return $q.reject(response);\n      }\n    };\n  });\n","angular.module('session', [\n  'deskworks.config',\n  'deskworks.userRoles',\n])\n\n  .factory('session', function($q, $http, deskworksConfig, userRoles) { 'use strict';\n    const url = deskworksConfig.getApiAbsUrl('/auth');\n\n    const session = {\n      wait,\n      refresh,\n      login,\n      logout,\n      isAnonymous,\n      isAdmin,\n      isRole,\n      loginSilent,\n    };\n\n    reset();\n\n    let promise = refresh() // initial attempt to restore session on startup\n      .finally(function() { promise = null; });\n\n    return session;\n\n    function isAnonymous() {\n      return !session.user;\n    }\n\n    function isAdmin() {\n      return session.user && userRoles[session.user.role] && userRoles[session.user.role].type === 'admin' || false;\n    }\n\n    function isRole(roles) {\n      if (!angular.isArray(roles)) roles = [roles];\n      return session.user && roles.some(role => role === session.user.role) || false;\n    }\n\n    function reset() {\n      session.accessToken = null;\n      session.user = null;\n      session.expireAt = null;\n    }\n\n    function wait() {\n      return $q.when(promise);\n    }\n\n    /**\n     * Refresh session: exchange long-life refreshToken (auth cookie) to short-life JWT accessToken\n     */\n    function refresh() {\n      if (promise) return promise;\n      promise = $http.get(url)\n        .then(onSession)\n        .catch(err => { if (err.status !== 401) throw err; })  // anonymous is ok\n        .finally(() => { promise = null; });\n      return promise;\n    }\n\n    /**\n     * Create session: log in\n     */\n    function login(username, password, remember) {\n      return $q.when(promise)\n        .finally(() => {\n          promise = $http.post(url, { username: username, password: password, remember: remember })\n            .then(onSession)\n            .finally(() => { promise = null; });\n          return promise;\n        });\n    }\n\n    /**\n     * Create short-time session (log in) without visible effects (used in Reservation Tablet wizard)\n     */\n    function loginSilent(username, password) {\n      return $http.post(url, { username, password })\n        .then(result => {\n          session.accessToken = result.data.accessToken;\n          return result;\n        });\n    }\n\n    /**\n     * Destroy session: log out\n     */\n    function logout() {\n      return $q.when(promise)\n        .finally(() => $http.delete(url).finally(reset));\n    }\n\n    /**\n     * Session create/refresh handler\n     */\n    function onSession(result) {\n      session.accessToken = result.data.accessToken;\n      session.user = result.data.user;\n      return result;\n    }\n  });\n","angular.module('deskworks.allowedHost.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper',\n])\n\n  .factory('allowedHostService', function($resource, $q, deskworksConfig, helper) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/setup/allowed-hosts/:allowedHostId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      query: function() {\n        return res.query().$promise;\n      },\n      save: function(allowedHost) {\n        if(allowedHost.id) return res.update({ allowedHostId: allowedHost.id }, allowedHost).$promise;\n        return res.save(allowedHost).$promise\n          .then(function(result) { allowedHost.id = result.id; });\n      },\n      delete: function(allowedHostId) {\n        return res.delete({ allowedHostId: allowedHostId }).$promise;\n      }\n    };\n  });\n","angular.module('deskworks.bank.service', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer'\n])\n\n  .factory('bankService', function($resource, $q, $filter, deskworksConfig, helper, datesDeserializer) { 'use strict';\n    var desDates = datesDeserializer(['creditCardCutOffTime']);\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/banks/:bankId'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: desDates },\n      get: { method: 'GET', transformResponse: desDates },\n      update: { method: 'PUT' }\n    });\n\n    return {\n      query: function() {\n        return res.query().$promise;\n      },\n\n      get: function(bankId) {\n        if(bankId === 'new') return $q.when({ id: bankId });\n        return res.get({ bankId: bankId }).$promise;\n      },\n\n      save: function(bank) {\n        var data = angular.copy(bank);\n        data.creditCardCutOffTime = $filter('date')(bank.creditCardCutOffTime, 'HH:mm');\n\n        return bank.id && bank.id !== 'new' ?\n          res.update({ bankId: bank.id }, data).$promise :\n          res.save({}, data).$promise\n            .then(function(result) { bank.id = result.id; return result; });\n      },\n\n      delete: function(bankId) {\n        return res.delete({ bankId: bankId }).$promise;\n      },\n    };\n  });\n","export default angular.module('deskworks.NetCheckInSettings', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('NetCheckInSettings', function($resource, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/net-check-in/settings/:centerId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: function(centerId) {\n        return res.get({ centerId }).$promise;\n      },\n\n      save: function(centerId, data) {\n        return res.update({ centerId }, data).$promise;\n      },\n    };\n  });\n","/**\n * Options for Settings -> General -> DashboardIncome\n */\nangular.module('deskworks.optsDashboardIncome', [])\n\n  .factory('optsDashboardIncome', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'cash', _name: 'SETUP_SETTINGS.DASHBOARD_INCOME.CASH' },\n      { id: 'accrual', _name: 'SETUP_SETTINGS.DASHBOARD_INCOME.ACCRUAL' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Setup -> Settings -> Free Access Length\n */\nexport default angular.module('deskworks.setup.optsFreeAccessLength', [])\n\n  .factory('optsFreeAccessLength', function($rootScope, $translate) {\n    var opts = [\n      { id: 0, _name: 'CENTERS.FREE_ACCESS.DISABLED' },\n      { id: 30, hours: 0.5 },\n      { id: 60, hours: 1 },\n      { id: 90, hours: 1.5 },\n      { id: 120, hours: 2 },\n      { id: 180, hours: 3 }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      opts.forEach(function(opt) {\n        if (opt._name) {\n          opt.name = $translate.instant(opt._name);\n        } else {\n          opt.name = $translate.instant('GLOBAL.HOURS_FILTER', { hoursCount: opt.hours }, 'messageformat');\n        }\n      });\n    }\n\n    return opts;\n  });\n","/**\n * Options for Invoice Date in Setup / Settings\n */\nangular.module('deskworks.setup.optsInvoiceDate', [])\n\n  .factory('optsInvoiceDate', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'invoiceDate', _name: 'SETUP_SETTINGS.INVOICE_DATE.INVOICE_DATE' },\n      { id: 'chargeDate', _name: 'SETUP_SETTINGS.INVOICE_DATE.CHARGE_DATE' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Setup -> Settings -> Min Pass Fraction Unit\n */\nangular.module('deskworks.setup.optsMinPassFractionUnit', [])\n\n  .factory('optsMinPassFractionUnit', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: true, _name: 'SETUP_SETTINGS.MIN_PASS_UNIT.PASSES' },\n      { id: false, _name: 'SETUP_SETTINGS.MIN_PASS_UNIT.HOURS' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Setup -> Settings -> Pro-rate at Start\n */\nangular.module('deskworks.setup.optsProrateAtStart', [])\n\n  .factory('optsProrateAtStart', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: null, _name: 'GLOBAL.NONE' },\n      { id: 'firstCharge', _name: 'SETUP_SETTINGS.PRO_RATE_AT_START.FIRST_MONTH' },\n      { id: 'secondCharge', _name: 'SETUP_SETTINGS.PRO_RATE_AT_START.SECOND_MONTH' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Setup -> Settings -> Pro-rate at Termination\n */\nangular.module('deskworks.setup.optsProrateAtTermination', [])\n\n  .factory('optsProrateAtTermination', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: null, _name: 'GLOBAL.NONE' },\n      { id: 'noticeDate', _name: 'SETUP_SETTINGS.PRO_RATE_AT_TERMINATION.NOTICE_DATE' },\n      { id: 'terminationDate', _name: 'SETUP_SETTINGS.PRO_RATE_AT_TERMINATION.TERMINATION_DATE' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for 'Reservation Credits Unit' in Setup / Settings\n */\nangular.module('deskworks.setup.optsReservationCreditsUnit', [])\n\n  .factory('optsReservationCreditsUnit', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: '$', _name: 'SETUP_SETTINGS.RESERVATION_CREDITS_UNIT.MONEY' },\n      { id: 'hours', _name: 'SETUP_SETTINGS.RESERVATION_CREDITS_UNIT.HOURS' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Task -> Permission\n */\nangular.module('deskworks.optsTaskPermission', [])\n\n  .factory('optsTaskPermission', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: null, _name: 'TASKS.PERMISSION.NONE' },\n      { id: 'view', _name: 'TASKS.PERMISSION.VIEW' },\n      { id: 'edit', _name: 'TASKS.PERMISSION.EDIT' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Timezone\n */\nangular.module('deskworks.optsTimezone', [])\n\n  .factory('optsTimezone', function() { 'use strict';\n    return [\n      { id: 'Hawaii', name: 'Hawaii' },\n      { id: 'Alaska', name: 'Alaska' },\n      { id: 'Arizona', name: 'Arizona' },\n      { id: 'Pacific Time (US & Canada)', name: 'Pacific Time (US & Canada)' },\n      { id: 'Mountain Time (US & Canada)', name: 'Mountain Time (US & Canada)' },\n      { id: 'Central Time (US & Canada)', name: 'Central Time (US & Canada)' },\n      { id: 'Eastern Time (US & Canada)', name: 'Eastern Time (US & Canada)' },\n      { id: 'Atlantic Time (Canada)', name: 'Atlantic Time (Canada)' },\n      { id: 'London', name: 'London' },\n      { id: 'Amsterdam', name: 'Amsterdam' },\n      { id: \"Pretoria\", name: \"Johannesburg\" },\n      { id: 'Helsinki', name: 'Helsinki' },\n      { id: 'Jerusalem', name: 'Gaza' },\n      { id: 'Singapore', name: 'Singapore' },\n      { id: 'Sydney', name: 'Sydney' }\n    ];\n  });\n","angular.module('deskworks.Owner', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('Owner', function($resource, $q, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/owners/:ownerId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n\n      save: owner => {\n        if (owner.id) return res.update({ ownerId: owner.id }, owner).$promise;\n        return res.save(owner).$promise\n          .then(result => { owner.id = result.id; });\n      },\n\n      delete: ownerId => res.delete({ ownerId }).$promise,\n    };\n  });\n","/**\n * Names of printer usage types\n */\nangular.module('deskworks.printerUsageTypeNames', [])\n\n  .factory('printerUsageTypeNames', function($rootScope, $translate) { 'use strict';\n    const names = {};\n    const _names = {\n      printBlack: $translate.instant('PRINTER_USAGE_SETTINGS.TYPE.PRINT_BLACK'),\n      printColor: $translate.instant('PRINTER_USAGE_SETTINGS.TYPE.PRINT_COLOR'),\n      scan: $translate.instant('PRINTER_USAGE_SETTINGS.TYPE.SCAN'),\n      fax: $translate.instant('PRINTER_USAGE_SETTINGS.TYPE.FAX'),\n    };\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      Object.keys(_names).forEach(key => { names[key] = $translate.instant(_names[key]); });\n    }\n\n    return names;\n  });\n","angular.module('deskworks.Region', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('Region', function($resource, $q, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/regions/:regionId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n\n      save: region => {\n        if (region.id) return res.update({ regionId: region.id }, region).$promise;\n        return res.save(region).$promise\n          .then(result => { region.id = result.id; });\n      },\n\n      delete: regionId => res.delete({ regionId }).$promise,\n    };\n  });\n","/**\n * Roles service\n */\nangular.module('deskworks.Roles', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('Roles', function($resource, deskworksConfig) { 'use strict';\n    const res = $resource(deskworksConfig.getApiAbsUrl('/roles'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, assignTranslations] },\n    });\n\n    const roleNames = {\n      nonMember: 'GLOBAL.ROLE.NON_MEMBER',\n      member: 'GLOBAL.ROLE.MEMBER',\n      coMember: 'GLOBAL.CO_MEMBER',\n      accountant: 'GLOBAL.ROLE.ACCOUNTANT',\n      coordinator: 'GLOBAL.ROLE.COORDINATOR',\n      admin: 'GLOBAL.ROLE.ADMIN',\n      management: 'GLOBAL.ROLE.MANAGEMENT',\n      master: 'GLOBAL.ROLE.MASTER',\n    };\n\n    return {\n      query: () => res.query().$promise,\n    };\n\n    function assignTranslations(roles) {\n      if (!roles) return;\n      roles.forEach(role => { role._name = roleNames[role.id]; });\n      return roles;\n    }\n  });\n","angular.module('deskworks.setup.service', [\n  'ngResource',\n  'ngFileUpload',\n  'autoCacheFactory',\n  'deskworks.config',\n  'deskworks.helper',\n  'deskworks.setup.optsInvoiceDate',\n  'deskworks.setup.optsReservationCreditsUnit',\n])\n\n\t.factory('setupService', function($resource, $q, $filter, $http, $timeout, deskworksConfig, helper, Upload,\n                                    optsInvoiceDate, centerService, userProfileService, autoCacheFactory) { 'use strict';\n    const cache = autoCacheFactory('settings', 30);\n\n    const resSetupSettings = $resource(deskworksConfig.getApiAbsUrl('/setup/settings'), {}, {\n      get:    { method: 'GET', cache: cache },\n      update: { method: 'PUT' },\n    });\n\n    return {\n      resetCache: () => {\n        cache.removeAll();\n      },\n\n      /**\n       * Setup Settings\n       */\n      getSetupSettings: () => {\n        return resSetupSettings.get({}).$promise.then(result => {\n          result.invoiceDate = optsInvoiceDate.find(obj => obj.id === result.invoiceDate);\n          return result;\n        });\n      },\n\n      updateSetupSettings: data => {\n        const newData = {\n          locale: data.locale,\n          timeFormat: data.timeFormat,\n          sendNoticesFromLocalCenter: !!data.sendNoticesFromLocalCenter,\n          enableEChecks: data.enableEChecks,\n          skipPlanMemberSignUp: data.skipPlanMemberSignUp,\n          creditCardTypes: data.creditCardTypes,\n          creditCardAddressOptional: data.creditCardAddressOptional,\n          enableEmailing: data.enableEmailing,\n          dashboardIncome: data.dashboardIncome,\n          enableAccessCodes: data.enableAccessCodes,\n          isFranchise: data.isFranchise,\n          activateMembersForAllCenters: data.activateMembersForAllCenters,\n          declinedPaymentAutoRetryPeriod: data.declinedPaymentAutoRetryPeriod,\n          declinedPaymentAutoRetryAttempts: data.declinedPaymentAutoRetryAttempts,\n          enableSecurityDepositInMembershipProducts: data.enableSecurityDepositInMembershipProducts,\n          limitRefundProcessingTo: data.limitRefundProcessingTo,\n          limitDeletingOrderItemsTo: data.limitDeletingOrderItemsTo,\n          enableRenewalNotices: data.enableRenewalNotices,\n          multiLevelProductCategory: data.multiLevelProductCategory,\n          invoiceTemplate: data.invoiceTemplate,\n          enableGdprDelete: data.enableGdprDelete,\n\n          sweepCharges: !!data.sweepCharges,\n          emailSweptInvoices: !!data.emailSweptInvoices,\n          invoiceDate: data.invoiceDate.id,\n          prorateAtStart: data.prorateAtStart,\n          prorateAtTermination: data.prorateAtTermination,\n\n          enablePaymentProcessingCharges: !!data.enablePaymentProcessingCharges,\n          paymentProcessingRates: {\n            cc: data.paymentProcessingRates.cc ? +data.paymentProcessingRates.cc : 0,\n            ach: data.paymentProcessingRates.ach ? +data.paymentProcessingRates.ach : 0,\n          },\n\n          addCenterPrefixToCalendar: !!data.addCenterPrefixToCalendar,\n          calendarOwners: data.calendarOwners.filter(function(item) { return !!item.owner; }).map(item => {\n            return { id: item.id, owner: angular.isNumber(item.owner) ? item.owner : (item.owner || {}).id, mask: item.mask };\n          }),\n\n          hideReservationCostEstimate: data.hideReservationCostEstimate,\n          hideRecurringReservations: data.hideRecurringReservations,\n          hideStaffOnlyUnits: data.hideStaffOnlyUnits,\n          reservationCreditsUnit: data.reservationCreditsUnit,\n          minPassInPercent: data.minPassInPercent,\n          passGracePeriod: data.passGracePeriod,\n          publicReservationDetails: data.publicReservationDetails,\n          gtmContainerId: data.gtmContainerId,\n          affiliatlyId: data.affiliatlyId,\n          enableAddOnProductsAtRegistration: data.enableAddOnProductsAtRegistration,\n          enableExtraFieldsAtRegistration: data.enableExtraFieldsAtRegistration,\n        };\n\n        if (data.sweepCharges) {\n          newData.advanceInvoicingDays = data.advanceInvoicingDays.id;\n        }\n\n        cache.removeAll();\n        return resSetupSettings.save({}, newData).$promise;\n          // .then(function(res) {\n          // centerService.resetCache(); // reset centers cache as qboIntegration affects options.qboClasses in center\n          // userProfileService.resetCache(); // reset users cache as changes in custom fields affect users\n          // return res;\n        // });\n      },\n\n      updateSetupSettingsRaw: data => {\n        cache.removeAll();\n        return resSetupSettings.save({}, data).$promise;\n          // .then(function(res) {\n            // centerService.resetCache(); // reset centers cache as qboIntegration affects options.qboClasses in center\n            // userProfileService.resetCache(); // reset users cache as changes in custom fields affect users\n            // return res;\n          // });\n      },\n\n      /**\n       * Locales\n       */\n      queryLocales: () => $q.when(window.dwLocales),\n\n      /**\n       * Timezones\n       */\n      queryTimezones: () => {\n        // return $http.get('assets/timezones.json', { cache: true })\n        return import(/* webpackChunkName: \"timezones\" */ '../../../../timezones.json')\n          .then(response => {\n            return response.default;\n            // return angular.fromJson(response.data);\n          });\n      },\n    };\n  });\n","/**\n * Task service\n */\nangular.module('deskworks.Task', [\n  'ngResource',\n  'deskworks.config',\n  'autoCacheFactory',\n])\n\n  .factory('Task', function($resource, deskworksConfig, helper, autoCacheFactory) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/tasks/:taskId'), {}, {\n      query: { method: 'GET', isArray: false },\n      update: { method: 'PUT' }\n    });\n\n    return {\n      query: function() {\n        return res.query().$promise;\n      },\n      get: function(taskId) {\n        return res.get({ taskId: taskId }).$promise;\n      },\n      save: function(task) {\n        var data = helper.purify(task, ['options']);\n        autoCacheFactory.emptyAll();\n        if(task.id && task.id !== 'new') return res.update({ taskId: task.id }, data).$promise;\n        return res.save({}, data).$promise\n          .then(function(result) { task.id = result.id; return task; });\n      },\n      delete: function(taskId) {\n        autoCacheFactory.emptyAll();\n        return res.delete({ taskId: taskId }).$promise;\n      }\n    };\n  });\n","export default angular.module('deskworks.WhiteLabelLinks', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('WhiteLabelLinks', function ($resource, Upload, deskworksConfig) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/white-label/links'), {}, {\n      get: { method: 'GET' },\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: () => res.get().$promise,\n      save: data => res.update(data).$promise,\n\n      uploadTermsOfService: file => {\n        return Upload.upload({\n          url: deskworksConfig.getApiAbsUrl('/white-label/links'),\n          method: 'PUT',\n          withCredentials: true,\n          data: { termsOfService: file },\n        });\n      },\n\n      uploadReservationAgreement: file => {\n        return Upload.upload({\n          url: deskworksConfig.getApiAbsUrl('/white-label/links'),\n          method: 'PUT',\n          withCredentials: true,\n          data: { reservationAgreement: file },\n        });\n      },\n    };\n  });\n","/**\n * AccessCard service\n */\nangular.module('deskworks.accessCard.service', [\n    'ngResource',\n    'deskworks.config'\n  ])\n\n  // TODO: API doesn't support single GET method, use query GET and then find necessary item\n\n  .factory('AccessCard', function($resource, deskworksConfig) { 'use strict';\n    var url = deskworksConfig.getApiAbsUrl('/centers/:centerId/access-cards/:accessCardId');\n\n    return $resource(url, { centerId: '@centerId', accessCardId: '@accessCardId' }, {\n      update: { method: 'PUT' }\n    });\n  });\n","export default angular.module('deskworks.Admin', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper',\n])\n\n  .factory('Admin', function($resource, $q, deskworksConfig, helper) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/administrators/:adminId'), {}, {\n      update: { method: 'PUT' },\n    });\n\n    return {\n      query: () => res.query().$promise,\n\n      get: adminId => res.get({ adminId: adminId }).$promise\n        .then(result => {\n          if (adminId === 'new') {\n            result.role = result.options.roles[0];\n            result.receiveUrgentReservationNotices = true;\n            result.receiveWelcomeEmailCopies = false;\n            result.receiveReservationConfirmationCopies = false;\n            result.seeDashboardRevenue = true;\n            result.centers.forEach(function(center) { center.emailing = true; center.permission = 'all'; });\n          } else {\n            result.role = helper.findByKeyValue(result.options.roles, 'id', result.role);\n          }\n          result.centers = result.centers || {};\n          result.fullName = result.fullName || helper.join([result.firstName, result.lastName], ' ');\n          return result;\n        }),\n\n      save: admin => {\n        const data = helper.purify(admin, ['options', 'printerCode']);\n        data.role = data.role && data.role.id ? data.role.id : data.role;\n        if (admin.id && admin.id !== 'new') return res.update({ adminId: admin.id }, data).$promise;\n        return res.save({}, data).$promise\n          .then(result => {\n            admin.id = result.id;\n            return admin;\n          });\n      },\n\n      delete: adminId => res.delete({ adminId: adminId }).$promise,\n    };\n  });\n","export default angular.module('deskworks.center.service', [\n  'ngResource',\n  'deskworks.config',\n  'autoCacheFactory',\n  'ngFileUpload',\n  'deskworks.helper',\n  'deskworks.userProfile.optsCountry',\n  'deskworks.userProfile.optsState',\n])\n\n  .factory('centerService', function($resource, $filter, Upload, deskworksConfig, autoCacheFactory,\n                                     helper, optsCountry, optsState) {\n    const cache = autoCacheFactory('center', 60);\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId'), {}, {\n      get:    { method: 'GET', cache: cache },\n      query:  { method: 'GET', cache: cache, isArray: true },\n      update: { method: 'PUT' }\n    });\n\n    return {\n      resetCache: () => {\n        cache.removeAll();\n      },\n      getCenter: centerId => res.get({ centerId }).$promise,\n      getCenters: _ => res.query().$promise,\n      createCenter: (data) => {\n        cache.removeAll();\n        return res.save({}, data).$promise;\n      },\n      updateCenter: (centerId, data) => {\n        cache.removeAll();\n        return res.update({ centerId }, data).$promise;\n      },\n      deleteCenter: (centerId) => {\n        cache.removeAll();\n        return res.delete({ centerId }).$promise;\n      },\n      uploadThumbnail: (centerId, file) => {\n        cache.removeAll();\n        return Upload.upload({\n          url: deskworksConfig.getApiAbsUrl('/centers/' + centerId),\n          method: 'PUT',\n          withCredentials: true,\n          data: { photo: file }\n        });\n      },\n      /**\n       * Delete photo\n       * @param params.centerId\n       * @returns {*}\n       */\n      deletePhoto: params => (cache.removeAll(), res.update(params, { photo: null }).$promise),\n\n      /**\n       * New Methods, the above ones are obsolete\n       */\n      query: () => res.query().$promise,\n\n      get: function(centerId) {\n        const self = this;\n        return res.get({ centerId }).$promise\n          .then(result => self.resolve(result));\n      },\n\n      save: function(center) {\n        const self = this;\n        cache.removeAll();\n        if (center.id === 'new') {\n          return res.save({}, self.unresolve(center)).$promise\n            .then(result => (center.id = result.id, result));\n        } else {\n          return res.update({ centerId: center.id || 0 }, self.unresolve(center)).$promise;\n        }\n      },\n\n      /**\n       * Convert center data to angular-friendly object\n       */\n      resolve: function(center) {\n        if (!center.id || center.id === 'new') {\n          center.id = 'new';\n          center.country = helper.findByKeyValue(optsCountry, 'id', 'US');\n          center.state = helper.findByKeyValue(optsState.US, 'id', 'CA');\n          center.bankId = center.options.banks[0] && center.options.banks[0].id;\n          center.taxRates = [];\n          center.ownerId = null;\n          center.regionId = null;\n        } else {\n          center.street = center.address; // duplicate data as we have different format in some API calls\n          center.country = helper.findByKeyValue(optsCountry, 'id', center.countryId);\n          if (center.country && optsState[center.country.id]) {\n            center.state = helper.findByKeyValue(optsState[center.country.id], 'id', center.state);\n          }\n        }\n\n        return center;\n      },\n\n      /**\n       * Convert angular-friendly center object to POST/PUT-friendly data\n       */\n      unresolve: function(center) {\n        const data = {\n          name: center.name,\n          shortName: center.shortName,\n          street1: center.street1,\n          street2: center.street2,\n          city: center.city,\n          state: center.state.id ? center.state.id : center.state,\n          countryId: center.country.id,\n          zip: center.zip,\n          phone: center.phone,\n          fax: center.fax,\n          email: center.email,\n          bankId: center.bankId,\n          forInternalUse: !!center.forInternalUse,\n          hideInMemberSignUp: !!center.hideInMemberSignUp,\n          description: center.description,\n          map: center.map,\n          directions: center.directions,\n          color: center.color,\n          timezone: center.timezone,\n          ownerId: center.ownerId,\n          regionId: center.regionId,\n          taxId: center.taxId,\n          taxRates: center.taxRates.map(function(taxRate) { taxRate.rate = +taxRate.rate; return taxRate; })\n        };\n\n        if (center.options.qboClasses) {\n          data.qboClassId = center.qboClassId;\n        }\n\n        return data;\n      }\n    };\n  });\n","/**\n * Options for Administrator -> Permissions -> Permission\n */\nangular.module('deskworks.optsAdminPermission', [])\n\n  .factory('optsAdminPermission', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: null, _name: 'ADMINISTRATORS.PERMISSION.NONE' },\n      { id: 'all', _name: 'ADMINISTRATORS.PERMISSION.ALL' },\n      { id: 'viewProfileAndCalendar', _name: 'ADMINISTRATORS.PERMISSION.VIEW_PROFILE_AND_CALENDAR' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for System Email Function\n */\nangular.module('deskworks.optsSystemEmailFunction', [])\n\n  .factory('optsSystemEmailFunction', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 0, _name: 'SYSTEM_EMAILS.FUNCTION.FROM' },\n      { id: 1, _name: 'SYSTEM_EMAILS.FUNCTION.SIGN_UP' },\n      { id: 2, _name: 'SYSTEM_EMAILS.FUNCTION.LOST_ACCESS_CARD' },\n      { id: 3, _name: 'SYSTEM_EMAILS.FUNCTION.NEW_ORDER' },\n      { id: 4, _name: 'SYSTEM_EMAILS.FUNCTION.EXISTING_ORDER' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","angular.module('deskworks.system.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper'\n])\n\n  .factory('systemService', function($resource, $q, deskworksConfig, helper) { 'use strict';\n\n    var resSystemEmail = $resource(deskworksConfig.getApiAbsUrl('/system-emails/:systemEmailId'), {}, {\n      update: { method: 'PUT' }\n    });\n    var resAccessCard = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/access-cards/:accessCardId'), {}, {\n      update: { method: 'PUT' }\n    });\n    var resLeadSource = $resource(deskworksConfig.getApiAbsUrl('/lead-sources/:leadSourceId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      /**\n       * System Emails\n       */\n      getSystemEmails: function() {\n        return resSystemEmail.query().$promise;\n      },\n      getSystemEmail: function(systemEmailId) {\n        if(systemEmailId === 'new') return $q.when({});\n        return resSystemEmail.query({}).$promise\n          .then(function(result) {\n            var sysEmail = helper.findByKeyValue(result, 'id', systemEmailId);\n            if(sysEmail) return sysEmail;\n            return $q.reject({ data: { error: 'System Email not found.' } });\n          });\n      },\n      createSystemEmail: function(data) {\n        return resSystemEmail.save({}, data).$promise;\n      },\n      updateSystemEmail: function(systemEmailId, data) {\n        return resSystemEmail.update({ systemEmailId: systemEmailId }, data).$promise;\n      },\n      removeSystemEmail: function(systemEmailId) {\n        return resSystemEmail.delete({ systemEmailId: systemEmailId }).$promise;\n      },\n\n      /**\n       * Access Cards\n       */\n      getAccessCard: function(centerId, accessCardId) {\n        if(accessCardId === 'new') return $q.when({ effectiveDate: moment() });\n        return resAccessCard.query({ centerId: centerId }).$promise\n          .then(function(result) {\n            var card = helper.findByKeyValue(result, 'id', accessCardId);\n            if(card) return card;\n            return $q.reject({ data: { error: 'Access Card not found.' } });\n          });\n      },\n      createAccessCard: function(centerId, data) {\n        return resAccessCard.save({ centerId: centerId }, data).$promise;\n      },\n      updateAccessCard: function(centerId, accessCardId, data) {\n        return resAccessCard.update({ centerId: centerId, accessCardId: accessCardId }, data).$promise;\n      },\n      removeAccessCard: function(centerId, accessCardId) {\n        return resAccessCard.delete({ centerId: centerId, accessCardId: accessCardId }).$promise;\n      },\n\n      /**\n       * Lead Sources\n       */\n      getLeadSources: function() {\n        return resLeadSource.query().$promise;\n      },\n      getLeadSource: function(leadSourceId) {\n        return resLeadSource.get({ leadSourceId: leadSourceId }).$promise;\n      },\n      createLeadSource: function(data) {\n        return resLeadSource.save({}, data).$promise;\n      },\n      updateLeadSource: function(leadSourceId, data) {\n        return resLeadSource.update({ leadSourceId: leadSourceId }, data).$promise;\n      },\n      removeLeadSource: function(leadSourceId) {\n        return resLeadSource.delete({ leadSourceId: leadSourceId }).$promise;\n      }\n\n    };\n  });\n","/**\n * Options for Address Type in User Profile\n */\nangular.module('deskworks.userProfile.optsAddressType', [])\n\n  .factory('optsAddressType', function() { 'use strict';\n\n    return [\n      { id: 1, name: 'GLOBAL.ADDRESS.TYPE.HOME' },\n      { id: 2, name: 'GLOBAL.ADDRESS.TYPE.BUSINESS' },\n      { id: 3, name: 'GLOBAL.ADDRESS.TYPE.MAILING' },\n      { id: 4, name: 'GLOBAL.ADDRESS.TYPE.BILLING' }\n    ];\n  });\n","/**\n * Options for Bank Account Holder Type in Billing Profile / eChecks\n */\nangular.module('deskworks.userProfile.optsBankAccountHolderType', [])\n\n  .factory('optsBankAccountHolderType', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'personal', _name: 'BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE.PERSONAL' },\n      { id: 'business', _name: 'BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE.BUSINESS' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Bank Account Type in Billing Profile / eChecks\n */\nangular.module('deskworks.userProfile.optsBankAccountType', [])\n\n  .factory('optsBankAccountType', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'checking', _name: 'BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE.CHECKING' },\n      { id: 'savings', _name: 'BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE.SAVINGS' }\n    ];\n\n    $rootScope.$on('$setTranslationsSuccess', function() {\n      opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); });\n    });\n\n    return opts;\n  });\n","/**\n * Options for User Profile -> Membership Billing Method\n */\nexport default angular.module('deskworks.userProfile.optsBillingMethod', [])\n\n  .factory('optsBillingMethod', function($rootScope, $translate) {\n    const opts = [\n      { id: 'cc', _name: 'BILLING_PROFILE.BILLING_METHOD.CC', import: 'Credit Card', paymentMethodKey: 'creditCards' },\n      { id: 'ach', _name: 'BILLING_PROFILE.BILLING_METHOD.ACH', import: 'ACH/EFT/Direct Debit', paymentMethodKey: 'eChecks' },\n      { id: 'emailInvoice', _name: 'BILLING_PROFILE.BILLING_METHOD.EMAIL_INVOICE', import: 'Email Invoice', restricted: true },\n      { id: 'paperInvoice', _name: 'BILLING_PROFILE.BILLING_METHOD.PAPER_INVOICE', import: 'Paper Invoice', restricted: true },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Credit Card Expiry Month in User Profile\n */\nangular.module('deskworks.userProfile.optsCCExpiryMonth', [])\n\n  .factory('optsCCExpiryMonth', function($filter, $rootScope) { 'use strict';\n    var months = [];\n\n    var date = new Date(), curDate = new Date();\n    date.setDate(1); curDate.setDate(1); // Reset current day as 2015-06-30 may cause 2015-02-30 which is really 2015-03-02\n\n    for(var i = 0; i < 12; i++) {\n      date.setMonth(i);\n      months.push({ id: ((i + 1) < 10 ? '0' + (i + 1) : '' + (i + 1)), name: $filter('date')(date, 'MM - LLLL') });\n    }\n\n    $rootScope.$on('$setLocaleSuccess', function() {\n      months.forEach(function(month, i) {\n        date.setMonth(i);\n        month.name = $filter('date')(date, 'MM - LLLL');\n      });\n    });\n\n    return months;\n  });\n","/**\n * Options for Credit Card Expiry Year in User Profile\n */\nangular.module('deskworks.userProfile.optsCCExpiryYear', [])\n\n  .factory('optsCCExpiryYear', function($filter) { 'use strict';\n    var years = [];\n\n    var date = new Date(), curDate = new Date();\n    date.setDate(1); curDate.setDate(1); // Reset current day as 2015-06-30 may cause 2015-02-30 which is really 2015-03-02\n\n    for(var i = 0; i < 11; i++) {\n      date.setFullYear(curDate.getFullYear() + i);\n      years.push({id: String(date.getFullYear()), name: $filter('date')(date, 'yyyy')});\n    }\n\n    return years;\n  });\n","/**\n * Options for Country in User Profile\n */\nangular.module('deskworks.userProfile.optsCountry', [])\n\n\t.factory('optsCountry', function() {\n\t\t'use strict';\n\n\t\treturn [\n\t\t\t{id: 'AF', name: 'Afghanistan'},\n\t\t\t{id: 'AL', name: 'Albania'},\n\t\t\t{id: 'DZ', name: 'Algeria'},\n\t\t\t{id: 'AS', name: 'American Samoa'},\n\t\t\t{id: 'AD', name: 'Andorra'},\n\t\t\t{id: 'AO', name: 'Angola'},\n\t\t\t{id: 'AI', name: 'Anguilla'},\n\t\t\t{id: 'AG', name: 'Antigua and Barbuda'},\n\t\t\t{id: 'AR', name: 'Argentina'},\n\t\t\t{id: 'AM', name: 'Armenia'},\n\t\t\t{id: 'AW', name: 'Aruba'},\n\t\t\t{id: 'AU', name: 'Australia'},\n\t\t\t{id: 'AT', name: 'Austria'},\n\t\t\t{id: 'AZ', name: 'Azerbaijan'},\n\t\t\t{id: 'BS', name: 'Bahamas'},\n\t\t\t{id: 'BH', name: 'Bahrain'},\n\t\t\t{id: 'BD', name: 'Bangladesh'},\n\t\t\t{id: 'BB', name: 'Barbados'},\n\t\t\t{id: 'BY', name: 'Belarus'},\n\t\t\t{id: 'BE', name: 'Belgium'},\n\t\t\t{id: 'BZ', name: 'Belize'},\n\t\t\t{id: 'BJ', name: 'Benin'},\n\t\t\t{id: 'BM', name: 'Bermuda'},\n\t\t\t{id: 'BT', name: 'Bhutan'},\n\t\t\t{id: 'BO', name: 'Bolivia'},\n\t\t\t{id: 'BA', name: 'Bosnia and Herzegovina'},\n\t\t\t{id: 'BW', name: 'Botswana'},\n\t\t\t{id: 'BV', name: 'Bouvet Island'},\n\t\t\t{id: 'BR', name: 'Brazil'},\n\t\t\t{id: 'IO', name: 'British Indian Ocean Territory'},\n\t\t\t{id: 'BN', name: 'Brunei Darussalam'},\n\t\t\t{id: 'BG', name: 'Bulgaria'},\n\t\t\t{id: 'BF', name: 'Burkina Faso'},\n\t\t\t{id: 'BI', name: 'Burundi'},\n\t\t\t{id: 'KH', name: 'Cambodia'},\n\t\t\t{id: 'CM', name: 'Cameroon'},\n\t\t\t{id: 'CA', name: 'Canada'},\n\t\t\t{id: 'CV', name: 'Cape Verde'},\n\t\t\t{id: 'KY', name: 'Cayman Islands'},\n\t\t\t{id: 'CF', name: 'Central African Republic'},\n\t\t\t{id: 'TD', name: 'Chad'},\n\t\t\t{id: 'CL', name: 'Chile'},\n\t\t\t{id: 'CN', name: 'China'},\n\t\t\t{id: 'CX', name: 'Christmas Island'},\n\t\t\t{id: 'CC', name: 'Cocos (Keeling) Islands'},\n\t\t\t{id: 'CO', name: 'Colombia'},\n\t\t\t{id: 'KM', name: 'Comoros'},\n\t\t\t{id: 'CG', name: 'Congo'},\n\t\t\t{id: 'CD', name: 'Congo, the Democratic Republic of the'},\n\t\t\t{id: 'CK', name: 'Cook Islands'},\n\t\t\t{id: 'CR', name: 'Costa Rica'},\n\t\t\t{id: 'CI', name: 'Cote D\\'Ivoire'},\n\t\t\t{id: 'HR', name: 'Croatia'},\n\t\t\t{id: 'CU', name: 'Cuba'},\n\t\t\t{id: 'CY', name: 'Cyprus'},\n\t\t\t{id: 'CZ', name: 'Czech Republic'},\n\t\t\t{id: 'DK', name: 'Denmark'},\n\t\t\t{id: 'DJ', name: 'Djibouti'},\n\t\t\t{id: 'DM', name: 'Dominica'},\n\t\t\t{id: 'DO', name: 'Dominican Republic'},\n\t\t\t{id: 'EC', name: 'Ecuador'},\n\t\t\t{id: 'EG', name: 'Egypt'},\n\t\t\t{id: 'SV', name: 'El Salvador'},\n\t\t\t{id: 'GQ', name: 'Equatorial Guinea'},\n\t\t\t{id: 'ER', name: 'Eritrea'},\n\t\t\t{id: 'EE', name: 'Estonia'},\n\t\t\t{id: 'ET', name: 'Ethiopia'},\n\t\t\t{id: 'FK', name: 'Falkland Islands (Malvinas)'},\n\t\t\t{id: 'FO', name: 'Faroe Islands'},\n\t\t\t{id: 'FJ', name: 'Fiji'},\n\t\t\t{id: 'FI', name: 'Finland'},\n\t\t\t{id: 'FR', name: 'France'},\n\t\t\t{id: 'GF', name: 'French Guiana'},\n\t\t\t{id: 'PF', name: 'French Polynesia'},\n\t\t\t{id: 'TF', name: 'French Southern Territories'},\n\t\t\t{id: 'GA', name: 'Gabon'},\n\t\t\t{id: 'GM', name: 'Gambia'},\n\t\t\t{id: 'GE', name: 'Georgia'},\n\t\t\t{id: 'DE', name: 'Germany'},\n\t\t\t{id: 'GH', name: 'Ghana'},\n\t\t\t{id: 'GI', name: 'Gibraltar'},\n\t\t\t{id: 'GR', name: 'Greece'},\n\t\t\t{id: 'GL', name: 'Greenland'},\n\t\t\t{id: 'GD', name: 'Grenada'},\n\t\t\t{id: 'GP', name: 'Guadeloupe'},\n\t\t\t{id: 'GU', name: 'Guam'},\n\t\t\t{id: 'GT', name: 'Guatemala'},\n\t\t\t{id: 'GG', name: 'Guernsey'},\n\t\t\t{id: 'GN', name: 'Guinea'},\n\t\t\t{id: 'GW', name: 'Guinea-Bissau'},\n\t\t\t{id: 'GY', name: 'Guyana'},\n\t\t\t{id: 'HT', name: 'Haiti'},\n\t\t\t{id: 'HM', name: 'Heard Island And Mcdonald Islands'},\n\t\t\t{id: 'VA', name: 'Holy See (Vatican City State)'},\n\t\t\t{id: 'HN', name: 'Honduras'},\n\t\t\t{id: 'HK', name: 'Hong Kong'},\n\t\t\t{id: 'HU', name: 'Hungary'},\n\t\t\t{id: 'IS', name: 'Iceland'},\n\t\t\t{id: 'IN', name: 'India'},\n\t\t\t{id: 'ID', name: 'Indonesia'},\n\t\t\t{id: 'IR', name: 'Iran, Islamic Republic of'},\n\t\t\t{id: 'IQ', name: 'Iraq'},\n\t\t\t{id: 'IE', name: 'Ireland'},\n\t\t\t{id: 'IM', name: 'Isle Of Man'},\n\t\t\t{id: 'IL', name: 'Israel'},\n\t\t\t{id: 'IT', name: 'Italy'},\n\t\t\t{id: 'JM', name: 'Jamaica'},\n\t\t\t{id: 'JP', name: 'Japan'},\n\t\t\t{id: 'JE', name: 'Jersey'},\n\t\t\t{id: 'JO', name: 'Jordan'},\n\t\t\t{id: 'KZ', name: 'Kazakhstan'},\n\t\t\t{id: 'KE', name: 'Kenya'},\n\t\t\t{id: 'KI', name: 'Kiribati'},\n\t\t\t{id: 'KP', name: 'Korea, Democratic People\\'s Republic of'},\n\t\t\t{id: 'KR', name: 'Korea, Republic of'},\n\t\t\t{id: 'KW', name: 'Kuwait'},\n\t\t\t{id: 'KG', name: 'Kyrgyzstan'},\n\t\t\t{id: 'LA', name: 'Lao People\\'s Democratic Republic'},\n\t\t\t{id: 'LV', name: 'Latvia'},\n\t\t\t{id: 'LB', name: 'Lebanon'},\n\t\t\t{id: 'LS', name: 'Lesotho'},\n\t\t\t{id: 'LR', name: 'Liberia'},\n\t\t\t{id: 'LY', name: 'Libyan Arab Jamahiriya'},\n\t\t\t{id: 'LI', name: 'Liechtenstein'},\n\t\t\t{id: 'LT', name: 'Lithuania'},\n\t\t\t{id: 'LU', name: 'Luxembourg'},\n\t\t\t{id: 'MO', name: 'Macao'},\n\t\t\t{id: 'MK', name: 'Macedonia, the Former Yugoslav Republic of'},\n\t\t\t{id: 'MG', name: 'Madagascar'},\n\t\t\t{id: 'MW', name: 'Malawi'},\n\t\t\t{id: 'MY', name: 'Malaysia'},\n\t\t\t{id: 'MV', name: 'Maldives'},\n\t\t\t{id: 'ML', name: 'Mali'},\n\t\t\t{id: 'MT', name: 'Malta'},\n\t\t\t{id: 'MH', name: 'Marshall Islands'},\n\t\t\t{id: 'MQ', name: 'Martinique'},\n\t\t\t{id: 'MR', name: 'Mauritania'},\n\t\t\t{id: 'MU', name: 'Mauritius'},\n\t\t\t{id: 'YT', name: 'Mayotte'},\n\t\t\t{id: 'MX', name: 'Mexico'},\n\t\t\t{id: 'FM', name: 'Micronesia, Federated States of'},\n\t\t\t{id: 'MD', name: 'Moldova, Republic of'},\n\t\t\t{id: 'MC', name: 'Monaco'},\n\t\t\t{id: 'MN', name: 'Mongolia'},\n\t\t\t{id: 'ME', name: 'Montenegro'},\n\t\t\t{id: 'MS', name: 'Montserrat'},\n\t\t\t{id: 'MA', name: 'Morocco'},\n\t\t\t{id: 'MZ', name: 'Mozambique'},\n\t\t\t{id: 'MM', name: 'Myanmar'},\n\t\t\t{id: 'NA', name: 'Namibia'},\n\t\t\t{id: 'NR', name: 'Nauru'},\n\t\t\t{id: 'NP', name: 'Nepal'},\n\t\t\t{id: 'NL', name: 'Netherlands'},\n\t\t\t{id: 'AN', name: 'Netherlands Antilles'},\n\t\t\t{id: 'NC', name: 'New Caledonia'},\n\t\t\t{id: 'NZ', name: 'New Zealand'},\n\t\t\t{id: 'NI', name: 'Nicaragua'},\n\t\t\t{id: 'NE', name: 'Niger'},\n\t\t\t{id: 'NG', name: 'Nigeria'},\n\t\t\t{id: 'NU', name: 'Niue'},\n\t\t\t{id: 'NF', name: 'Norfolk Island'},\n\t\t\t{id: 'MP', name: 'Northern Mariana Islands'},\n\t\t\t{id: 'NO', name: 'Norway'},\n\t\t\t{id: 'OM', name: 'Oman'},\n\t\t\t{id: 'PK', name: 'Pakistan'},\n\t\t\t{id: 'PW', name: 'Palau'},\n\t\t\t{id: 'PS', name: 'Palestinian Territory, Occupied'},\n\t\t\t{id: 'PA', name: 'Panama'},\n\t\t\t{id: 'PG', name: 'Papua New Guinea'},\n\t\t\t{id: 'PY', name: 'Paraguay'},\n\t\t\t{id: 'PE', name: 'Peru'},\n\t\t\t{id: 'PH', name: 'Philippines'},\n\t\t\t{id: 'PN', name: 'Pitcairn'},\n\t\t\t{id: 'PL', name: 'Poland'},\n\t\t\t{id: 'PT', name: 'Portugal'},\n\t\t\t{id: 'PR', name: 'Puerto Rico'},\n\t\t\t{id: 'QA', name: 'Qatar'},\n\t\t\t{id: 'RE', name: 'Reunion'},\n\t\t\t{id: 'RO', name: 'Romania'},\n\t\t\t{id: 'RU', name: 'Russian Federation'},\n\t\t\t{id: 'RW', name: 'Rwanda'},\n\t\t\t{id: 'BL', name: 'Saint Barthlemy'},\n\t\t\t{id: 'SH', name: 'Saint Helena'},\n\t\t\t{id: 'KN', name: 'Saint Kitts and Nevis'},\n\t\t\t{id: 'LC', name: 'Saint Lucia'},\n\t\t\t{id: 'MF', name: 'Saint Martin (French part)'},\n\t\t\t{id: 'PM', name: 'Saint Pierre and Miquelon'},\n\t\t\t{id: 'VC', name: 'Saint Vincent and the Grenadines'},\n\t\t\t{id: 'WS', name: 'Samoa'},\n\t\t\t{id: 'SM', name: 'San Marino'},\n\t\t\t{id: 'ST', name: 'Sao Tome and Principe'},\n\t\t\t{id: 'SA', name: 'Saudi Arabia'},\n\t\t\t{id: 'SN', name: 'Senegal'},\n\t\t\t{id: 'RS', name: 'Serbia'},\n\t\t\t{id: 'SC', name: 'Seychelles'},\n\t\t\t{id: 'SL', name: 'Sierra Leone'},\n\t\t\t{id: 'SG', name: 'Singapore'},\n\t\t\t{id: 'SK', name: 'Slovakia'},\n\t\t\t{id: 'SI', name: 'Slovenia'},\n\t\t\t{id: 'SB', name: 'Solomon Islands'},\n\t\t\t{id: 'SO', name: 'Somalia'},\n\t\t\t{id: 'ZA', name: 'South Africa'},\n\t\t\t{id: 'GS', name: 'South Georgia and the South Sandwich Islands'},\n\t\t\t{id: 'ES', name: 'Spain'},\n\t\t\t{id: 'LK', name: 'Sri Lanka'},\n\t\t\t{id: 'SD', name: 'Sudan'},\n\t\t\t{id: 'SR', name: 'Suriname'},\n\t\t\t{id: 'SJ', name: 'Svalbard and Jan Mayen'},\n\t\t\t{id: 'SZ', name: 'Swaziland'},\n\t\t\t{id: 'SE', name: 'Sweden'},\n\t\t\t{id: 'CH', name: 'Switzerland'},\n\t\t\t{id: 'SY', name: 'Syrian Arab Republic'},\n\t\t\t{id: 'TW', name: 'Taiwan, Province of China'},\n\t\t\t{id: 'TJ', name: 'Tajikistan'},\n\t\t\t{id: 'TZ', name: 'Tanzania, United Republic of'},\n\t\t\t{id: 'TH', name: 'Thailand'},\n\t\t\t{id: 'TL', name: 'Timor Leste'},\n\t\t\t{id: 'TG', name: 'Togo'},\n\t\t\t{id: 'TK', name: 'Tokelau'},\n\t\t\t{id: 'TO', name: 'Tonga'},\n\t\t\t{id: 'TT', name: 'Trinidad and Tobago'},\n\t\t\t{id: 'TN', name: 'Tunisia'},\n\t\t\t{id: 'TR', name: 'Turkey'},\n\t\t\t{id: 'TM', name: 'Turkmenistan'},\n\t\t\t{id: 'TC', name: 'Turks and Caicos Islands'},\n\t\t\t{id: 'TV', name: 'Tuvalu'},\n\t\t\t{id: 'UG', name: 'Uganda'},\n\t\t\t{id: 'UA', name: 'Ukraine'},\n\t\t\t{id: 'AE', name: 'United Arab Emirates'},\n\t\t\t{id: 'GB', name: 'United Kingdom'},\n\t\t\t{id: 'US', name: 'United States', import: 'USA'},\n\t\t\t{id: 'UM', name: 'United States Minor Outlying Islands'},\n\t\t\t{id: 'UY', name: 'Uruguay'},\n\t\t\t{id: 'UZ', name: 'Uzbekistan'},\n\t\t\t{id: 'VU', name: 'Vanuatu'},\n\t\t\t{id: 'VE', name: 'Venezuela'},\n\t\t\t{id: 'VN', name: 'Viet Nam'},\n\t\t\t{id: 'VG', name: 'Virgin Islands, British'},\n\t\t\t{id: 'VI', name: 'Virgin Islands, U.S.'},\n\t\t\t{id: 'WF', name: 'Wallis and Futuna'},\n\t\t\t{id: 'EH', name: 'Western Sahara'},\n\t\t\t{id: 'YE', name: 'Yemen'},\n\t\t\t{id: 'ZM', name: 'Zambia'},\n\t\t\t{id: 'ZW', name: 'Zimbabwe'},\n\t\t\t{id: 'AX', name: 'land Islands'}\n\t\t];\n\t});\n","/**\n * Options for Mailbox Handling drop-down in User Profile\n */\nangular.module('deskworks.userProfile.optsMailboxHandling', [])\n\n  .factory('optsMailboxHandling', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'dropOff', _name: 'USER_PROFILE.MAILBOXES.HANDLING.DROP_OFF' },\n      { id: 'mailbox', _name: 'USER_PROFILE.MAILBOXES.HANDLING.MAILBOX' },\n      { id: 'forward', _name: 'USER_PROFILE.MAILBOXES.HANDLING.FORWARD' },\n      { id: 'email', _name: 'USER_PROFILE.MAILBOXES.HANDLING.EMAIL' },\n      { id: 'spheremail', _name: 'USER_PROFILE.MAILBOXES.HANDLING.SPHEREMAIL' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Membership Status in User Profile\n */\nangular.module('deskworks.userProfile.optsMembershipStatus', [])\n\n  .factory('optsMembershipStatus', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'active', _name: 'USER_PROFILE.MEMBERSHIP.STATUS.ACTIVE', import: 'Active' },\n      { id: 'inactive', _name: 'USER_PROFILE.MEMBERSHIP.STATUS.INACTIVE', import: 'Inactive' },\n      { id: 'nonMember', _name: 'USER_PROFILE.MEMBERSHIP.STATUS.NON_MEMBER', import: 'Non-Member' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Phone Type in User Profile\n */\nangular.module('deskworks.userProfile.optsPhoneType', [])\n\n  .factory('optsPhoneType', function() { 'use strict';\n    return [\n      { id: 1, name: 'USER_PROFILE.PHONES.TYPE.HOME' },\n      { id: 2, name: 'USER_PROFILE.PHONES.TYPE.WORK' },\n      { id: 3, name: 'USER_PROFILE.PHONES.TYPE.MOBILE' },\n      { id: 4, name: 'USER_PROFILE.PHONES.TYPE.FAX' },\n      { id: 5, name: 'USER_PROFILE.PHONES.TYPE.OTHER' }\n    ];\n  });\n","/**\n * Options for User Profile -> Shareable Info -> Email\n */\nangular.module('deskworks.optsShareEmail', [])\n\n  .factory('optsShareEmail', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'private', _name: 'USER_PROFILE.SHAREABLE_INFO.EMAIL.PRIVATE' },\n      { id: 'members', _name: 'USER_PROFILE.SHAREABLE_INFO.EMAIL.MEMBERS' },\n      { id: 'public', _name: 'USER_PROFILE.SHAREABLE_INFO.EMAIL.PUBLIC' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for State/Province of address in User Profile\n */\nangular.module('deskworks.userProfile.optsState', [])\n\n\t.factory('optsState', function() {\n\t\t'use strict';\n\n\t\treturn {\n\t\t\tUS: [\n\t\t\t\t{id: 'AL', name: 'AL'},\n\t\t\t\t{id: 'AK', name: 'AK'},\n\t\t\t\t{id: 'AZ', name: 'AZ'},\n\t\t\t\t{id: 'AR', name: 'AR'},\n\t\t\t\t{id: 'CA', name: 'CA'},\n\t\t\t\t{id: 'CO', name: 'CO'},\n\t\t\t\t{id: 'CT', name: 'CT'},\n\t\t\t\t{id: 'DE', name: 'DE'},\n\t\t\t\t{id: 'DC', name: 'DC'},\n\t\t\t\t{id: 'FL', name: 'FL'},\n\t\t\t\t{id: 'GA', name: 'GA'},\n\t\t\t\t{id: 'HI', name: 'HI'},\n\t\t\t\t{id: 'ID', name: 'ID'},\n\t\t\t\t{id: 'IL', name: 'IL'},\n\t\t\t\t{id: 'IN', name: 'IN'},\n\t\t\t\t{id: 'IA', name: 'IA'},\n\t\t\t\t{id: 'KS', name: 'KS'},\n\t\t\t\t{id: 'KY', name: 'KY'},\n\t\t\t\t{id: 'LA', name: 'LA'},\n\t\t\t\t{id: 'ME', name: 'ME'},\n\t\t\t\t{id: 'MD', name: 'MD'},\n\t\t\t\t{id: 'MA', name: 'MA'},\n\t\t\t\t{id: 'MI', name: 'MI'},\n\t\t\t\t{id: 'MN', name: 'MN'},\n\t\t\t\t{id: 'MS', name: 'MS'},\n\t\t\t\t{id: 'MO', name: 'MO'},\n\t\t\t\t{id: 'MT', name: 'MT'},\n\t\t\t\t{id: 'NE', name: 'NE'},\n\t\t\t\t{id: 'NV', name: 'NV'},\n\t\t\t\t{id: 'NH', name: 'NH'},\n\t\t\t\t{id: 'NJ', name: 'NJ'},\n\t\t\t\t{id: 'NM', name: 'NM'},\n\t\t\t\t{id: 'NY', name: 'NY'},\n\t\t\t\t{id: 'NC', name: 'NC'},\n\t\t\t\t{id: 'ND', name: 'ND'},\n\t\t\t\t{id: 'OH', name: 'OH'},\n\t\t\t\t{id: 'OK', name: 'OK'},\n\t\t\t\t{id: 'ON', name: 'ON'},\n\t\t\t\t{id: 'OR', name: 'OR'},\n\t\t\t\t{id: 'PA', name: 'PA'},\n\t\t\t\t{id: 'RI', name: 'RI'},\n\t\t\t\t{id: 'SC', name: 'SC'},\n\t\t\t\t{id: 'SD', name: 'SD'},\n\t\t\t\t{id: 'TN', name: 'TN'},\n\t\t\t\t{id: 'TX', name: 'TX'},\n\t\t\t\t{id: 'UT', name: 'UT'},\n\t\t\t\t{id: 'VT', name: 'VT'},\n\t\t\t\t{id: 'VA', name: 'VA'},\n\t\t\t\t{id: 'WA', name: 'WA'},\n\t\t\t\t{id: 'WV', name: 'WV'},\n\t\t\t\t{id: 'WI', name: 'WI'},\n\t\t\t\t{id: 'WY', name: 'WY'}\n\t\t\t]\n\t\t};\n\t});\n","/**\n * Address sub-service of userProfileService\n */\nangular.module('deskworks.userProfile.service.address', [\n\t'ngResource',\n\t'deskworks.helper',\n\t'deskworks.userProfile.cache',\n\t'deskworks.userProfile.optsAddressType',\n\t'deskworks.userProfile.optsCountry',\n\t'deskworks.userProfile.optsState'\n])\n\n\t.factory('upAddressService', function($resource, deskworksConfig, userProfileCache, helper, optsAddressType, optsCountry, optsState) {\n\t\t'use strict';\n\n\t\tvar res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/addresses/:addressId'), {}, {\n\t\t\tupdate: {method: 'PUT'}\n\t\t});\n\n\t\treturn {\n\t\t\tnew: function(country, state) {\n\t\t\t\treturn {\n\t\t\t\t\tid: helper.uid(),\n\t\t\t\t\ttype: optsAddressType[3],\n\t\t\t\t\tcountry: country && helper.findByKeyValue(optsCountry, 'id', country.id || country) || helper.findByKeyValue(optsCountry, 'id', 'US'),\n\t\t\t\t\tstate: helper.findByKeyValue(optsState[country && country.id || country || 'US'], 'id', state && state.id || state || 'CA')\n\t\t\t\t};\n\t\t\t},\n\t\t\tisNew: function(address) {\n\t\t\t\treturn address && helper.isUid(address.id);\n\t\t\t},\n\n\t\t\tsave: function(centerId, userId, address) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\tif(helper.isUid(address.id)) {\n\t\t\t\t\treturn res.save({centerId: centerId || 0, userId: userId}, self.unresolve(address)).$promise.then(function(result) {\n\t\t\t\t\t\taddress.id = result.id;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn res.update({centerId: centerId || 0, userId: userId, addressId: address.id}, self.unresolve(address)).$promise;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdelete: function(centerId, userId, address) {\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\treturn res.delete({centerId: centerId || 0, userId: userId, addressId: address.id}).$promise;\n\t\t\t},\n\n\t\t\tresolve: function(address) {\n\t\t\t\taddress.type = helper.findByKeyValue(optsAddressType, 'id', address.typeId);\n\t\t\t\taddress.state = optsState[address.country] ? helper.findByKeyValue(optsState[address.country], 'id', address.state) : address.state;\n\t\t\t\taddress.country = helper.findByKeyValue(optsCountry, 'id', address.country);\n\t\t\t\treturn address;\n\t\t\t},\n\n\t\t\tunresolve: function(address) {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: address.type && address.type.id ? address.type.id : address.type,\n\t\t\t\t\tstreet: address.street,\n\t\t\t\t\tcity: address.city,\n\t\t\t\t\tcountry: address.country && address.country.id ? address.country.id : address.country,\n\t\t\t\t\tstate: address.state && address.state.id ? address.state.id : address.state,\n\t\t\t\t\tzip: address.zip\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t});\n","/**\n * userProfileCache service - keeps instance of autoCacheFactory for user profile.\n */\nangular.module('deskworks.userProfile.cache', [\n\t'autoCacheFactory'\n])\n\n\t.factory('userProfileCache', function(autoCacheFactory) {\n\t\t'use strict';\n\n\t\treturn autoCacheFactory('userProfile', 60);\n\t});\n","/**\n * Co-Member sub-service of userProfileService\n */\nangular.module('deskworks.userProfile.service.coMember', [\n  'ngResource',\n  'deskworks.helper',\n  'deskworks.userProfile.cache'\n])\n\n  .factory('upCoMemberService', function($resource, deskworksConfig, userProfileCache, helper) { 'use strict';\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/co-members/:coMemberId'), {}, {\n      update: {method: 'PUT'}\n    });\n\n    return {\n      new: function() {\n        return {\n          id: helper.uid(),\n          accessCards: []\n        };\n      },\n      isNew: function(coMember) {\n        return coMember && helper.isUid(coMember.id);\n      },\n\n      save: function(centerId, userId, coMember) {\n        var self = this;\n\n        userProfileCache.removeAll();\n        if(helper.isUid(coMember.id)) {\n          return res.save({centerId: centerId || 0, userId: userId}, self.unresolve(coMember)).$promise\n            .then(function(result) {\n              coMember.id = result.id;\n              coMember.userId = result.userId;\n              return result;\n            });\n        } else {\n          return res.update({centerId: centerId || 0, userId: userId, coMemberId: coMember.id}, self.unresolve(coMember)).$promise;\n        }\n      },\n\n      delete: function(centerId, userId, coMember, makeInactive) {\n        userProfileCache.removeAll();\n        return res.delete({ centerId: centerId || 0, userId: userId, coMemberId: coMember.id, makeInactive: makeInactive }).$promise;\n      },\n\n      resolve: function(coMember) {\n        coMember.email = helper.stripUid(coMember.email);\n        coMember.login = helper.stripUid(coMember.login);\n        return coMember;\n      },\n\n      unresolve: function(coMember) {\n        return {\n          userId: coMember.userId,\n          existingUserId: coMember.existingUserId,\n          fullName: coMember.fullName,\n          email: coMember.email || (helper.uid() + '@' + helper.uid() + '.com'),\n          phone: coMember.phone,\n          login: coMember.login || helper.uid(),\n          password: helper.isUid(coMember.id) && !coMember.userId && !coMember.existingUserId ? coMember.password || helper.uid() : coMember.password || undefined,\n          notes: coMember.notes,\n          canMakeReservations: !!coMember.canMakeReservations,\n          canSeeAccountingInfo: !!coMember.canSeeAccountingInfo,\n          getCenterNotices: !!coMember.getCenterNotices\n        };\n      },\n\n      // Convert existing user to co-member\n      convertUserToCoMember: function(user) {\n        return {\n          id: helper.uid(),\n          existingUserId: user.id,\n          fullName: helper.join([user.firstName, user.lastName], ' '),\n          email: user.email,\n          phone: user.phones && user.phones.length > 0 ? user.phones[0].number : undefined,\n          login: user.login,\n          notes: user.comments,\n          accessCards: user.accessCards\n        };\n      }\n    };\n  });\n","/**\n * Credit Card sub-service of userProfileService\n */\nexport default angular.module('deskworks.userProfile.service.creditCard', [\n  'ngResource',\n  'deskworks.helper',\n  'deskworks.userProfile.cache',\n  'deskworks.userProfile.optsCCExpiryMonth',\n  'deskworks.userProfile.optsCCExpiryYear',\n  'deskworks.userProfile.optsCountry',\n  'deskworks.userProfile.optsState'\n])\n\n  .factory('upCreditCardService', function($resource, $filter, deskworksConfig, userProfileCache, helper,\n                                           optsCCExpiryMonth, optsCCExpiryYear, optsCountry, optsState) {\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/credit-cards/:creditCardId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      new: function(userProfile) {\n        const cc = {\n          id: helper.uid(),\n          country: helper.find(optsCountry, 'US'),\n          state: helper.find(optsState.US, 'CA'),\n        };\n\n        if (userProfile) {\n          cc.firstName = userProfile.firstName;\n          cc.lastName = userProfile.lastName;\n          cc.company = userProfile.company;\n\n          if (userProfile.billingAddress) {\n            cc.street = userProfile.billingAddress.street;\n            cc.city = userProfile.billingAddress.city;\n            cc.country = userProfile.billingAddress.country;\n            cc.state = userProfile.billingAddress.state;\n            cc.zip = userProfile.billingAddress.zip;\n          }\n        }\n\n        return cc;\n      },\n\n      isNew: function(cc) {\n        return cc && helper.isUid(cc.id);\n      },\n\n      save: function(centerId, userId, cc) {\n        const self = this;\n\n        userProfileCache.removeAll();\n        if (helper.isUid(cc.id)) {\n          return res.save({ centerId: centerId || 0, userId }, self.unresolve(cc)).$promise\n            .then(result => {\n              cc.id = result.id;\n              cc.ccv = '***';\n              return result;\n            });\n        }\n      },\n\n      delete: function(centerId, userId, cc) {\n        userProfileCache.removeAll();\n        return res.delete({ centerId: centerId || 0, userId, creditCardId: cc.id }).$promise;\n      },\n\n      resolve: function(cc) {\n        var expiryDate = $filter('toDate')(cc.expiry);\n        var month = expiryDate.month() + 1;\n        cc.expiryMonth = helper.findByKeyValue(optsCCExpiryMonth, 'id', $filter('zpad')(month, 2));\n        cc.expiryYear = helper.findByKeyValue(optsCCExpiryYear, 'id', expiryDate.year());\n        cc.expiryYear = helper.findByKeyValue(optsCCExpiryYear, 'id', expiryDate.year());\n        cc.ccv = '***';\n        cc.state = optsState[cc.country] ? helper.findByKeyValue(optsState[cc.country], 'id', cc.state) : cc.state;\n        cc.country = helper.findByKeyValue(optsCountry, 'id', cc.country);\n\n        return cc;\n      },\n\n      unresolve: function(cc) {\n        return {\n          type: cc.type && cc.type.id,\n          number: cc.number,\n          verification: cc.ccv,\n          city: cc.city,\n          company: cc.company,\n          country: cc.country.id,\n          expiry: cc.expiryYear.id + '-' + cc.expiryMonth.id + '-01',\n          firstName: cc.firstName,\n          lastName: cc.lastName,\n          state: cc.state.id || cc.state,\n          street: cc.street,\n          zip: cc.zip,\n        };\n      }\n    };\n  });\n","/**\n * Document sub-service of userProfileService\n */\nangular.module('deskworks.userProfile.service.document', [\n\t'session',\n\t'ngResource',\n\t'ngFileUpload',\n\t'deskworks.helper',\n\t'deskworks.userProfile.cache'\n])\n\n\t.factory('upDocumentService', function($resource, Upload, deskworksConfig, userProfileCache, helper, session) {\n\t\t'use strict';\n\n\t\tvar res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/documents/:documentId'), {}, {\n\t\t\tupdate: {method: 'PUT'}\n\t\t});\n\n\t\treturn {\n\t\t\tnew: function(file) {\n\t\t\t\treturn {\n\t\t\t\t\tid: helper.uid(),\n\t\t\t\t\tfile: file,\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tuserAccess: !session.isAdmin(),\n\t\t\t\t};\n\t\t\t},\n\t\t\tisNew: function(doc) {\n\t\t\t\treturn doc && helper.isUid(doc.id);\n\t\t\t},\n\n\t\t\tsave: function(centerId, userId, doc) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\tif (helper.isUid(doc.id)) {\n\t\t\t\t\treturn Upload.upload({\n\t\t\t\t\t\turl: deskworksConfig.getApiAbsUrl('/centers/' + (centerId || 0) + '/user-profiles/' + userId + '/documents'),\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\twithCredentials: true,\n\t\t\t\t\t\tdata: { document: doc.file, name: doc.name }\n\t\t\t\t\t}).then(function(result) {\n\t\t\t\t\t\tdoc.id = result.data.id;\n\t\t\t\t\t\tdoc.document = result.data.document;\n\t\t\t\t\t\tdelete doc.file;\n\t\t\t\t\t\treturn result.data;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn res.update({centerId: centerId || 0, userId: userId, documentId: doc.id}, self.unresolve(doc)).$promise;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdelete: function(centerId, userId, doc) {\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\treturn res.delete({centerId: centerId || 0, userId: userId, documentId: doc.id}).$promise;\n\t\t\t},\n\n\t\t\tresolve: function(doc) {\n\t\t\t\treturn doc;\n\t\t\t},\n\n\t\t\tunresolve: function(doc) {\n\t\t\t\treturn {\n\t\t\t\t\tname: doc.name,\n\t\t\t\t\tuserAccess: doc.userAccess,\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t});\n","/**\n * eCheck sub-service of userProfileService\n */\nexport default angular.module('deskworks.userProfile.service.eCheck', [\n  'ngResource',\n  'deskworks.helper',\n  'deskworks.userProfile.cache',\n  'deskworks.userProfile.optsBankAccountHolderType',\n  'deskworks.userProfile.optsBankAccountType'\n])\n\n  .factory('upECheckService', function($resource, $filter, deskworksConfig, userProfileCache, helper, optsBankAccountHolderType, optsBankAccountType) {\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/e-checks/:eCheckId'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      new: function(user) {\n        return {\n          id: helper.uid(),\n          bankAccountHolderType: optsBankAccountHolderType[0],\n          bankAccountType: optsBankAccountType[0],\n          fullName: user && user.fullName,\n        };\n      },\n      isNew: function(eCheck) {\n        return eCheck && helper.isUid(eCheck.id);\n      },\n\n      save: function(centerId, userId, eCheck) {\n        const self = this;\n\n        userProfileCache.removeAll();\n        if (helper.isUid(eCheck.id)) {\n          return res.save({centerId: centerId || 0, userId: userId}, self.unresolve(eCheck)).$promise\n            .then(result => { eCheck.id = result.id; return result; });\n        }\n      },\n\n      delete: function(centerId, userId, eCheck) {\n        userProfileCache.removeAll();\n        return res.delete({centerId: centerId || 0, userId: userId, eCheckId: eCheck.id}).$promise;\n      },\n\n      resolve: function(eCheck) {\n        eCheck.bankAccountHolderType = helper.find(optsBankAccountHolderType, eCheck.bankAccountHolderType);\n        eCheck.bankAccountType = helper.find(optsBankAccountType, eCheck.bankAccountType);\n\n        return eCheck;\n      },\n\n      unresolve: function(eCheck) {\n        return {\n          bankAccountHolderType: eCheck.bankAccountHolderType.id,\n          bankAccountType: eCheck.bankAccountType.id,\n          bankName: eCheck.bankName,\n          bankRoutingNumber: eCheck.bankRoutingNumber,\n          bankAccountNumber: eCheck.bankAccountNumber,\n          fullName: eCheck.fullName,\n        };\n      }\n    };\n  });\n","/**\n * Mailbox sub-service of userProfileService\n */\nangular.module('deskworks.userProfile.service.mailbox', [\n\t'ngResource',\n\t'deskworks.helper',\n\t'deskworks.userProfile.cache',\n\t'deskworks.userProfile.optsMailboxHandling'\n])\n\n\t.factory('upMailboxService', function($resource, deskworksConfig, userProfileCache, helper, optsMailboxHandling) {\n\t\t'use strict';\n\n\t\tvar res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/mailboxes/:mailboxId'), {}, {\n\t\t\tupdate: {method: 'PUT'}\n\t\t});\n\n\t\treturn {\n\t\t\tnew: function() {\n\t\t\t\treturn {\n\t\t\t\t\tid: helper.uid(),\n\t\t\t\t\thandling: optsMailboxHandling[0]\n\t\t\t\t};\n\t\t\t},\n\t\t\tisNew: function(mailbox) {\n\t\t\t\treturn mailbox && helper.isUid(mailbox.id);\n\t\t\t},\n\n\t\t\tsave: function(centerId, userId, mailbox) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\tif(helper.isUid(mailbox.id)) {\n\t\t\t\t\treturn res.save({centerId: centerId || 0, userId: userId}, self.unresolve(mailbox)).$promise.then(function(result) {\n\t\t\t\t\t\tmailbox.id = result.id;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn res.update({centerId: centerId || 0, userId: userId, mailboxId: mailbox.id}, self.unresolve(mailbox)).$promise;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdelete: function(centerId, userId, mailbox) {\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\treturn res.delete({centerId: centerId || 0, userId: userId, mailboxId: mailbox.id}).$promise;\n\t\t\t},\n\n\t\t\tresolve: function(mailbox) {\n\t\t\t\tmailbox.handling = helper.findByKeyValue(optsMailboxHandling, 'id', mailbox.handling);\n\t\t\t\treturn mailbox;\n\t\t\t},\n\n\t\t\tunresolve: function(mailbox) {\n\t\t\t\treturn {\n\t\t\t\t\tnumber: mailbox.number,\n\t\t\t\t\tkey: mailbox.key,\n\t\t\t\t\tnames: mailbox.names,\n\t\t\t\t\thandling: mailbox.handling ? mailbox.handling.id : mailbox.handling\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t});\n","/**\n * Phone sub-service of userProfileService\n */\nangular.module('deskworks.userProfile.service.phone', [\n\t'ngResource',\n\t'deskworks.helper',\n\t'deskworks.userProfile.cache',\n\t'deskworks.userProfile.optsPhoneType'\n])\n\n\t.factory('upPhoneService', function($resource, deskworksConfig, userProfileCache, helper, optsPhoneType) {\n\t\t'use strict';\n\n\t\tvar res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/phones/:phoneId'), {}, {\n\t\t\tupdate: {method: 'PUT'}\n\t\t});\n\n\t\treturn {\n\t\t\tnew: function() {\n\t\t\t\treturn {\n\t\t\t\t\tid: helper.uid(),\n\t\t\t\t\ttype: optsPhoneType[2]\n\t\t\t\t};\n\t\t\t},\n\t\t\tisNew: function(phone) {\n\t\t\t\treturn phone && helper.isUid(phone.id);\n\t\t\t},\n\n\t\t\tsave: function(centerId, userId, phone) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\tif(helper.isUid(phone.id)) {\n\t\t\t\t\treturn res.save({centerId: centerId || 0, userId: userId}, self.unresolve(phone)).$promise.then(function(result) {\n\t\t\t\t\t\tphone.id = result.id;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn res.update({centerId: centerId || 0, userId: userId, phoneId: phone.id}, self.unresolve(phone)).$promise;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdelete: function(centerId, userId, phone) {\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\treturn res.delete({centerId: centerId || 0, userId: userId, phoneId: phone.id}).$promise;\n\t\t\t},\n\n\t\t\tresolve: function(phone) {\n\t\t\t\tphone.type = helper.findByKeyValue(optsPhoneType, 'id', phone.typeId);\n\t\t\t\treturn phone;\n\t\t\t},\n\n\t\t\tunresolve: function(phone) {\n\t\t\t\treturn {\n\t\t\t\t\ttypeId: phone.type && phone.type.id ? phone.type.id : phone.type,\n\t\t\t\t\tnumber: phone.number,\n\t\t\t\t\text: phone.ext\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t});\n","/**\n * Photo sub-service of userProfileService\n */\nexport default angular.module('deskworks.userProfile.service.photo', [\n  'ngResource',\n  'ngFileUpload',\n  'deskworks.config',\n  'deskworks.helper',\n  'deskworks.userProfile.cache',\n])\n\n  .factory('upPhotoService', function($resource, $q, deskworksConfig, userProfileCache, helper, Upload) {\n\n    return {\n      isNew: user => !!user && !!user.photoFile,\n\n      save: function (centerId, user, file) {\n        const self = this;\n\n        if (self.isNew(user)) {\n          userProfileCache.removeAll();\n          return Upload.upload({\n            url: deskworksConfig.getApiAbsUrl(`/centers/${centerId || 0}/` + ((user && user.membershipStatus && (user.membershipStatus.id === 'active' || user.membershipStatus.id === 'inactive')) ? 'members' : 'non-members') + '/' + user.id),\n            method: 'PUT',\n            withCredentials: true,\n            data: { photo: user.photoFile },\n          })\n            .then(result => {\n              user.photo = result.data.photo;\n              delete user.photoFile;\n              return result.data;\n            });\n        }\n        return $q.when();\n      },\n\n      /**\n       * @param params.user\n       * @returns {Resource.$promise}\n       */\n      delete: params => {\n        const { user } = params;\n        const centerId = 0;\n        // const res = $resource(deskworksConfig.getApiAbsUrl('/centers/0/user-profiles/:userId'), {}, { update: { method: 'PUT' } });\n        const url = deskworksConfig.getApiAbsUrl(`/centers/${centerId || 0}/` + ((user && user.membershipStatus && (user.membershipStatus.id === 'active' || user.membershipStatus.id === 'inactive')) ? 'members' : 'non-members') + '/' + user.id);\n        const res = $resource(url, {}, { update: { method: 'PUT' } });\n        return res.update({}, { photo: null }).$promise\n      },\n    };\n  });\n","/**\n * Printer Code sub-service of userProfileService\n */\nangular.module('deskworks.userProfile.service.printerCode', [\n\t'ngResource',\n\t'deskworks.helper',\n\t'deskworks.userProfile.cache'\n])\n\n\t.factory('upPrinterCodeService', function($resource, deskworksConfig, userProfileCache, helper) {\n\t\t'use strict';\n\n\t\tvar res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/printer-codes/:printerCodeId'), {}, {\n\t\t\tupdate: {method: 'PUT'}\n\t\t});\n\n\t\treturn {\n\t\t\tnew: function() {\n\t\t\t\treturn {\n\t\t\t\t\tid: helper.uid()\n\t\t\t\t};\n\t\t\t},\n\t\t\tisNew: function(prCode) {\n\t\t\t\treturn prCode && helper.isUid(prCode.id);\n\t\t\t},\n\n\t\t\tsave: function(centerId, userId, prCode) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\tif(helper.isUid(prCode.id)) {\n\t\t\t\t\treturn res.save({centerId: centerId || 0, userId: userId}, self.unresolve(prCode)).$promise.then(function(result) {\n\t\t\t\t\t\tprCode.id = result.id;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn res.update({centerId: centerId || 0, userId: userId, printerCodeId: prCode.id}, self.unresolve(prCode)).$promise;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdelete: function(centerId, userId, prCode) {\n\t\t\t\tuserProfileCache.removeAll();\n\t\t\t\treturn res.delete({centerId: centerId || 0, userId: userId, printerCodeId: prCode.id}).$promise;\n\t\t\t},\n\n\t\t\tresolve: function(prCode) {\n\t\t\t\treturn prCode;\n\t\t\t},\n\n\t\t\tunresolve: function(prCode) {\n\t\t\t\treturn {\n\t\t\t\t\tcode: prCode.code\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t});\n","/**\n * Custom fields in user profile\n */\nangular.module('deskworks.UserProfileFields', [\n  'ngResource',\n  'deskworks.helper',\n])\n\n  .factory('UserProfileFields', function($resource, $q, $filter, deskworksConfig, helper) { 'use strict';\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/fields'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, deserialize] },\n      update: { method: 'PUT', transformRequest: [serialize, angular.toJson] }\n    });\n\n    return {\n      query: function(centerId, userId) {\n        return res.query({ centerId: centerId, userId: userId }).$promise;\n      },\n\n      save: function(centerId, userId, fields) {\n        return res.update({ centerId: centerId, userId: userId }, fields).$promise;\n      },\n    };\n\n    function deserialize(fields) {\n      angular.forEach(fields, function(field) {\n        if(field.type === 'date') field.value = $filter('toDate')(field.value);\n      });\n      return fields;\n    }\n\n    function serialize(fields) {\n      angular.forEach(fields, function(field) {\n        if(field.type === 'date') field.value = $filter('date')(field.value, 'yyyy-MM-dd');\n      });\n      return fields;\n    }\n  });\n","export default angular.module('deskworks.userProfile.service', [\n  'ngResource',\n  'ngFileUpload',\n  'deskworks.config',\n  'deskworks.userProfile.cache',\n  'deskworks.helper',\n  'deskworks.system.service',\n  'deskworks.userProfile.service.photo',\n  'deskworks.userProfile.service.address',\n  'deskworks.userProfile.service.phone',\n  'deskworks.userProfile.service.printerCode',\n  'deskworks.userProfile.service.document',\n  'deskworks.userProfile.service.coMember',\n  'deskworks.userProfile.service.mailbox',\n  'deskworks.userProfile.service.creditCard',\n  'deskworks.userProfile.service.eCheck',\n  'deskworks.UserProfileFields',\n  'deskworks.userProfile.optsMembershipStatus',\n  'deskworks.userProfile.optsBillingMethod',\n  'deskworks.userProfile.optsCCExpiryMonth',\n  'deskworks.userProfile.optsCCExpiryYear',\n])\n\n  .factory('userProfileService', function(\n    $resource, $q, $timeout, $filter, dwAlerts, Upload, deskworksConfig, userProfileCache, helper,\n    upPhotoService, upAddressService, upPhoneService, upPrinterCodeService,\n    upDocumentService, upCoMemberService, upMailboxService, upCreditCardService, systemService,\n    upECheckService, optsMembershipStatus, optsBillingMethod, optsCCExpiryMonth, optsCCExpiryYear,\n    UserProfileFields) {\n\n    // General URL for GET user profiles\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId'), {}, {\n      get:    { method: 'GET', cache: userProfileCache },\n      query:  { method: 'GET', isArray: false }\n    });\n\n    // Explicit URL for POST/PUT member profile\n    const resMember = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/members/:userId'), {}, {\n      get:    { method: 'GET', cache: userProfileCache },\n      update: { method: 'PUT' }\n    });\n\n    // Explicit URL for POST/PUT non-member profile\n    const resNonMember = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/non-members/:userId'), {}, {\n      get:    { method: 'GET', cache: userProfileCache },\n      update: { method: 'PUT' }\n    });\n\n    // Restore Password\n    const resRestorePassword = $resource(deskworksConfig.getApiAbsUrl('/restore-password'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    const resGdpr = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/gdpr'));\n\n    /**\n     * Get resource for saving user profile. Analyzes user.membershipStatus and returns either resMember or resNonMember\n     */\n    function getResSave(user) {\n      if(user && user.membershipStatus && (user.membershipStatus.id === 'active' || user.membershipStatus.id === 'inactive')) {\n        return resMember;\n      }\n      return resNonMember;\n    }\n\n    return {\n      /**\n       * Child Entities\n       */\n      phone: upPhoneService,\n      address: upAddressService,\n      printerCode: upPrinterCodeService,\n      document: upDocumentService,\n      photo: upPhotoService,\n      creditCard: upCreditCardService,\n      eCheck: upECheckService,\n      coMember: upCoMemberService,\n      mailbox: upMailboxService,\n\n      /**\n       * Reset user profile cache\n       */\n      resetCache: function() {\n        userProfileCache.removeAll();\n      },\n\n      /**\n       * Get new user profile template (requests template from API)\n       */\n      new: function(center, role, scenario) {\n        const self = this;\n        const res = role === 'member' ? resMember : resNonMember;\n        return res.get({ centerId: center.id || 0, userId: 'new', scenario: scenario }).$promise\n          .then(result => {\n            result.id = helper.uid();\n            result.isNew = function() { return self.isNew(this); };\n\n            self.resolve(result);\n\n            result.addresses = (role === 'nonMember' && scenario === 'register') ? [] : [upAddressService.new(center.countryId, center.state)];\n            result.phones = [upPhoneService.new()];\n            result.printerCodes = [];\n            result.documents = [];\n            result.coMembers = [];\n            result.mailboxes = [];\n            result.accessCards = [];\n            result.billingMethod = result.billingMethod || optsBillingMethod[0].id;\n\n            if (role === 'member' && scenario === 'register') {\n              result.membershipStatus = helper.find(optsMembershipStatus, 'active');\n              result.membershipStartDate = moment();\n            }\n\n            return result;\n          });\n      },\n\n      /**\n       * Check if user profile is just a new template, not saved to backend\n       */\n      isNew: function(userProfile) {\n        return userProfile && helper.isUid(userProfile.id);\n      },\n\n      /**\n       * Create/Update user profile\n       */\n      save: function(centerId, user, registration) {\n        const self = this;\n\n        userProfileCache.removeAll();\n        if (helper.isUid(user.id) || !user.id) {\n          return getResSave(user).save({ centerId: centerId || 0, registration: registration }, self.unresolve(user)).$promise.then(function(result) {\n            user.id = result.id;\n            return result;\n          });\n        } else {\n          return getResSave(user).update({ centerId: centerId || 0, userId: user.id }, self.unresolve(user)).$promise;\n        }\n      },\n\n      /**\n       * Update raw chunk of user profile data without unresolving\n       */\n      updateRaw: function(centerId, user, data) {\n        userProfileCache.removeAll();\n        return getResSave(user).update({ centerId: centerId || 0, userId: user.id }, data).$promise;\n      },\n\n      /**\n       * Get resolved user profile\n       */\n      get: function(centerId, userId) {\n        var self = this;\n        return res.get({ centerId: centerId || 0, userId: userId }).$promise\n          .then(result => {\n            result.schema = result.schema || {};\n            return self.resolve(result);\n          });\n      },\n\n      /**\n       * Get resolved user profile - special case for register/signUp scenarios\n       */\n      getForRegistration: function(centerId, userId, role, scenario) {\n        const self = this;\n        const res = role === 'member' ? resMember : resNonMember;\n        return res.get({ centerId: centerId || 0, userId: userId, scenario: scenario }).$promise\n          .then(result => {\n            result.billingMethod = result.billingMethod || optsBillingMethod[0].id;\n            return self.resolve(result);\n          });\n      },\n\n      /**\n       * Search users\n       */\n      search: function(centerId, data) {\n        data.joinDate = $filter('date')(data.joinDate, 'yyyy-MM-dd');\n        data = angular.extend({ pageSize: 100, sort: 'lastName', order: 1 }, data);\n        data.centerId = centerId || 0; // Add centerId to other params\n        return res.query(data).$promise\n          .then(result => {\n            result.users.forEach(user => {\n              user.fullName = user.fullName || helper.join([user.firstName, user.lastName], ' ');\n              user.login = helper.stripUid(user.login);\n              user.email = helper.stripUid(user.email);\n              user.joinDate = $filter('toDate')(user.joinDate);\n            });\n            return result;\n        });\n\n      },\n\n      /**\n       * Query user profiles / search users\n       */\n      query: function(centerId, data) {\n        data = angular.extend({ pageSize: 0 }, data);\n        return this.search(centerId, data)\n          .then(result => result.users);\n      },\n\n      /**\n       * Quick search user profiles\n       */\n      quickSearch: function(centerId, quickSearch) {\n        var data = { centerId: centerId || 0, quickSearch: quickSearch, pageSize: 50, activeMembers: true, nonMembers: true };\n        return this.search(centerId, data)\n          .then(result => result.users);\n      },\n\n      /**\n       * Restore Password\n       */\n      restorePassword: function(data) {\n        userProfileCache.removeAll();\n        return resRestorePassword.save({}, data).$promise;\n      },\n\n      /**\n       * Delete user profile\n       */\n      delete: function(centerId, userId) {\n        return res.delete({ centerId: centerId || 0, userId: userId }).$promise;\n      },\n\n      /**\n       * Delete GDPR data\n       */\n      deleteGdpr: function(centerId, userId) {\n        userProfileCache.removeAll();\n        return resGdpr.delete({ centerId: centerId || 0, userId: userId }).$promise;\n      },\n\n      /**\n       * Pre-process user profile, convert string datetime to Date objects, strip uids, etc.\n       */\n      resolve: function(user) {\n        const self = this;\n\n        user.fullName = helper.join([user.firstName, user.lastName], ' ');\n        user.fullNameCompany = helper.join([user.company, user.fullName], ', ');\n        user.login = helper.stripUid(user.login);\n        user.email = helper.stripUid(user.email);\n        user.joinDate = $filter('toDate')(user.joinDate);\n        user.membershipStatus = helper.find(optsMembershipStatus, user.membershipStatus);\n        user.membershipPriceList = helper.find((user.options || {}).membershipPriceLists, user.membershipPriceListId);\n        user.leadSource = helper.find((user.options || {}).leadSources, user.leadSourceId);\n\n        (user.addresses || []).forEach(address => {\n          upAddressService.resolve(address);\n          if (address.type && address.type.id === 4 && !user.billingAddress) {\n            user.billingAddress = address; // collect billing address\n          }\n        });\n        if (!user.billingAddress && user.addresses && user.addresses.length > 0) {\n          user.billingAddress = user.addresses[0]; // if no billing address, take the first one\n        }\n        (user.phones || []).forEach(phone => { upPhoneService.resolve(phone); });\n        (user.coMembers || []).forEach(coMember => { self.coMember.resolve(coMember); });\n        (user.mailboxes || []).forEach(mailbox => { self.mailbox.resolve(mailbox); });\n        (user.creditCards || []).forEach(cc => { self.creditCard.resolve(cc); });\n        (user.eChecks || []).forEach(eCheck => { self.eCheck.resolve(eCheck); });\n        user.isNew = function() { // inject isNew method to user profile\n          return self.isNew(this);\n        };\n        return user;\n      },\n\n      /**\n       * Convert resolved user profile to data ready for POST/PUT\n       */\n      unresolve: function(user) {\n        const data = {\n          login: user.login,\n          password: user.password,\n          passwordConfirmation: user.passwordConfirmation,\n          email: user.email,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          middleName: user.middleName,\n          occupation: user.occupation,\n          company: user.company,\n          leadSourceId: (user.leadSource || {}).id,\n          comments: user.comments,\n          membershipPriceListId: (user.membershipPriceList || {}).id,\n          membershipProductId: (user.membershipProduct || {}).id,\n          membershipStatus: (user.membershipStatus || {}).id,\n          membershipStartDate: $filter('date')(user.membershipStartDate, 'yyyy-MM-dd'),\n        };\n        if (user.discountCode) data.discountCode = user.discountCode;\n        return data;\n      },\n\n\n      /**\n       * Binds test user data generator on pressing Alt + T to prevent wasting time on typing.\n       * First Name, Last Name, Email, Login are unique with timestamp, password is 123456.\n       */\n      bindTestUserGenerator: function($scope, userProfile, reg) {\n        document.addEventListener('keydown', fillTestUserData);\n        $scope.$on('$destroy', function() {\n          document.removeEventListener('keydown', fillTestUserData);\n        });\n\n        function fillTestUserData(event) {\n          // Alt + T\n          if(event.altKey && event.keyCode === 84) {\n            const uid = 'test' + moment().unix();\n\n            userProfile.firstName = uid;\n            userProfile.lastName = uid;\n            userProfile.email = uid + '@z5ut48g83bf04bvg93f.com';\n\n            if (!reg || reg.member || reg.selfRegistration) {\n              userProfile.login = uid;\n              userProfile.password = 'Zx123456';\n              userProfile.passwordConfirmation = 'Zx123456';\n            }\n\n            if (userProfile.addresses && userProfile.addresses.length) {\n              userProfile.addresses[0].street = 'test123';\n              userProfile.addresses[0].city = 'test123';\n              userProfile.addresses[0].zip = 'test123';\n            }\n\n            if (userProfile.phones && userProfile.phones.length) {\n              userProfile.phones[0].number = '1234567890';\n            }\n\n            if (reg && reg.member && !reg.selfRegistration) {\n              userProfile.membershipType = userProfile.options.membershipTypes[0];\n              userProfile.membershipProduct = userProfile.options.membershipTypes[0].membershipPackages[0];\n              userProfile.membershipPriceList = userProfile.options.membershipPriceLists[0];\n            }\n\n            userProfile.leadSource = userProfile.options.leadSources[0];\n            userProfile.termsOfService = true;\n\n            $scope.$apply();\n          }\n        }\n      },\n\n      /**\n       * Binds test billing data generator on pressing Alt + T to prevent wasting time on typing.\n       */\n      bindTestBillingGenerator: function($scope, userProfile, reg) {\n        var userProfileService = this;\n\n        document.addEventListener('keydown', fillTestBillingData);\n        $scope.$on('$destroy', function() {\n          document.removeEventListener('keydown', fillTestBillingData);\n        });\n\n        function fillTestBillingData(event) {\n          // Alt + T\n          if (event.altKey && event.keyCode === 84) {\n\n            userProfile.creditCards.forEach(cc => {\n              if (userProfileService.creditCard.isNew(cc)) {\n                cc.number = '4111111111111111';\n                cc.ccv = '123';\n                cc.expiryMonth = optsCCExpiryMonth[5];\n                cc.expiryYear = optsCCExpiryYear[5];\n              }\n            });\n\n            userProfile.eChecks.forEach(ec => {\n              if (userProfileService.eCheck.isNew(ec)) {\n                ec.bankName = 'Test Bank';\n                ec.bankRoutingNumber = '021000021';\n                ec.bankAccountNumber = '9876543210';\n              }\n            });\n\n            $scope.$apply();\n          }\n        }\n      },\n\n      /**\n       * Registers new user.\n       * 1. Creates/updates main user profile part\n       * 2. Creates/updates child entities: photo, addresses, phones, printer codes, documents\n       */\n      registerNewUser: function(centerId, userProfile, registration, fields) {\n        const userProfileService = this;\n\n        return userProfileService.save(centerId, userProfile, registration)\n          .catch(err => dwAlerts.error(err, 'Failed to create user profile.'))\n          .then(() => {\n            const promises = [];\n\n            // Photo\n            promises.push(\n              userProfileService.photo.save(centerId, userProfile)\n                .catch(err => dwAlerts.error(err, 'Failed to upload photo.'))\n            );\n\n            // Addresses\n            userProfile.addresses.forEach(addr => {\n              promises.push(\n                userProfileService.address.save(centerId, userProfile.id, addr)\n                  .catch(err => dwAlerts.error(err, 'Failed to create address.'))\n              );\n            });\n\n            // Phones\n            userProfile.phones.forEach(phone => {\n              promises.push(\n                userProfileService.phone.save(centerId, userProfile.id, phone)\n                  .catch(err => dwAlerts.error(err, 'Failed to create phone.'))\n              );\n            });\n\n            // Printer Codes\n            userProfile.printerCodes.forEach(prCode => {\n              promises.push(\n                userProfileService.printerCode.save(centerId, userProfile.id, prCode)\n                  .catch(err => dwAlerts.error(err, 'Failed to create printer code.'))\n              );\n            });\n\n            // Documents\n            userProfile.documents.forEach(doc => {\n              promises.push(\n                userProfileService.document.save(centerId, userProfile.id, doc)\n                  .catch(err => dwAlerts.error(err, 'Failed to create document.'))\n              );\n            });\n\n            // Access Cards\n            userProfile.accessCards.forEach(card => {\n              card.userId = userProfile.id;\n              promises.push(\n                systemService.createAccessCard(centerId, card)\n                  .catch(err => dwAlerts.error(err, 'Failed to create access card.'))\n              );\n            });\n\n            if (fields) {\n              promises.push(\n                UserProfileFields.save(centerId, userProfile.id, fields)\n                  .catch(err => dwAlerts.error(err, 'Failed to save custom fields.'))\n              );\n            }\n\n            // Message board settings\n            if (userProfile.saveMessageBoardUserSettings) {\n              promises.push(\n                userProfile.saveMessageBoardUserSettings()\n                  .catch(err => dwAlerts.error(err, 'Failed to save message board user settings.'))\n              );\n            }\n\n            return $q.all(promises);\n          });\n      },\n\n      /**\n       * Saves Billing Profile. Each credit card, handles default payment method, returns promise.\n       */\n      saveBillingProfile: function(centerId, user) {\n        const userProfileService = this;\n        const promises = [];\n\n        user.creditCards.forEach(cc => {\n          // Process only new credit cards\n          if (userProfileService.creditCard.isNew(cc)) {\n            promises.push(userProfileService.creditCard.save(centerId, user.id, cc)\n              .then(result => {\n                return $timeout(() => { // End cc ffBlock editing\n                  const block = document.querySelector('#upCreditCard-' + result.id);\n                  if (block) angular.element(block).scope().$broadcast('ffBlock::EditEnd');\n                });\n              })\n              .catch(err => dwAlerts.error(err, 'Failed to create credit card.'))\n            );\n          }\n        });\n\n        angular.forEach(user.eChecks, eCheck => {\n          // Process only new eCheck\n          if (userProfileService.eCheck.isNew(eCheck)) {\n            promises.push(userProfileService.eCheck.save(centerId, user.id, eCheck)\n              .then(result => {\n                return $timeout(() => { // End eCheck ffBlock editing\n                  const block = document.querySelector('#upECheck-' + result.id);\n                  if (block) angular.element(block).scope().$broadcast('ffBlock::EditEnd');\n                });\n              })\n              .catch(err => dwAlerts.error(err, 'Failed to create eCheck.'))\n            );\n          }\n        });\n\n        // All credit cards saved\n        return $q.all(promises)\n          .then(results => {\n            if (!user.billingMethod || !user.paymentMethodId && (user.billingMethod === 'cc' || user.billingMethod === 'ach')) {\n              if (user.eChecks.length) {\n                user.billingMethod = 'ach';\n                user.paymentMethodId = user.eChecks[0].id;\n              } else {\n                if (user.creditCards.length) {\n                  user.billingMethod = 'cc';\n                  user.paymentMethodId = user.creditCards[0].id;\n                } else {\n                  console.warn('userProfileService.saveBillingProfile: user has no payment methods');\n                }\n              }\n            }\n\n            return userProfileService.saveBillingMethod(centerId, user)\n              .then(() => results);\n          });\n      },\n\n      saveBillingMethod: function(centerId, user) {\n        const userProfileService = this;\n        const data = { billingMethod: user.billingMethod, paymentMethodId: user.paymentMethodId };\n        return userProfileService.updateRaw(centerId, user, data)\n          .catch(err => dwAlerts.error(err, 'Failed to save billing method.'));\n      },\n    };\n  });\n","/**\n * Options for User Role\n */\nangular.module('deskworks.userRoles', [])\n\n  .factory('userRoles', function($rootScope, $translate) { 'use strict';\n    var roles = {\n      nonMember: { _name: 'GLOBAL.ROLE.NON_MEMBER', color: 'default', type: 'user' },\n      member: { _name: 'GLOBAL.ROLE.MEMBER', color: 'primary', type: 'user' },\n      accountant: { _name: 'GLOBAL.ROLE.ACCOUNTANT', color: 'info', type: 'admin' },\n      coordinator: { _name: 'GLOBAL.ROLE.COORDINATOR', color: 'info', type: 'admin' },\n      admin: { _name: 'GLOBAL.ROLE.ADMIN', color: 'info', type: 'admin' },\n      management: { _name: 'GLOBAL.ROLE.MANAGEMENT', color: 'info', type: 'admin' },\n      master: { _name: 'GLOBAL.ROLE.MASTER', color: 'info', type: 'admin' },\n    };\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      Object.keys(roles).forEach(function(key) { roles[key].name = $translate.instant(roles[key]._name); });\n    }\n\n    return roles;\n  });\n","angular.module('deskworks.UserTasks.service', [\n  'ngResource',\n  'autoCacheFactory',\n  'deskworks.config',\n  'deskworks.state',\n  'deskworks.sidebarTasks.service'\n])\n  .factory('UserTasks', function($resource, $timeout, autoCacheFactory, deskworksConfig, state, sidebarTasks) { 'use strict';\n    var cache = autoCacheFactory('user-tasks', 120);\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-tasks'), {}, {\n      query: { method: 'GET', cache: cache, isArray: true },\n    });\n\n    return {\n      query: function(centerId, userId) {\n        return $timeout(() => null, window.cordova ? 1000 : 0) // guarantee auth cookies in cordova\n          .then(() => {\n            return res.query({ centerId: centerId, userId: userId || undefined }).$promise\n              .then(function(uTasks) {\n                return deserialize(uTasks);\n              });\n          });\n      },\n      interpolateTaskUrl: interpolateTaskUrl,\n      tasks: [], // user tasks cache\n    };\n\n    /**\n     * Some transformations on userFunctions like converting functionId to url + params\n     */\n    function deserialize(uTasks) {\n      if(!uTasks) return uTasks;\n\n      uTasks.forEach(function(group) {\n        group.open = false;\n\n        group.tasks.forEach(function(task) {\n          // Direct HTTP or HTTPS links\n          if(task.url && task.url.match(/^https?:\\/\\//i)) {\n            if(task.url.indexOf('{{target:self}}') >= 0) {\n              task.target = '_self';\n            } else {\n              task.target = '_blank';\n              task.rel = 'noopener';\n            }\n            task.url = task.url.replace('{{target:self}}', '');\n            task.directUrl = interpolateTaskUrl(task.url);\n            return;\n          }\n\n          // Search in known tasks\n          task.url = sidebarTasks.indexOf(task.url) >= 0 ? '/' + task.url : null;\n        });\n      });\n\n      return uTasks;\n    }\n\n    /**\n     * Interpolates task direct URLs like https://www.jdoe.com/?center={{center}}&user={{user}}{{target:self}}\n     */\n    function interpolateTaskUrl(url) {\n      var resultParams = [];\n      var query = url.split('?');\n      query = query[query.length - 1];\n\n      if(!query) return url;\n\n      query.split('&').forEach(function(param) {\n        var result;\n\n        param = param.split('=');\n        if(param[1] === '{{center}}' && state.getCurrentCenterId()) {\n          result = state.getCurrentCenterId();\n        } else if(param[1] === '{{user}}' && state.isLoggedAdmin() && state.getCurrentUserId() !== state.getLoggedUserId()) {\n          result = state.getCurrentUserId();\n        }\n\n        if(result) {\n          resultParams.push(param[0] + '=' + encodeURIComponent(result));\n        }\n      });\n\n      if(!resultParams.length) return url;\n      resultParams = resultParams.join('&');\n\n      query = url.split('?');\n      query[query.length - 1] = resultParams;\n\n      return query.join('?');\n    }\n  });\n"],"sourceRoot":""}