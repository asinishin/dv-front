{"version":3,"sources":["webpack:///./bundles/dashboard sync .*\\.tpl\\.html$","webpack:///./bundles/dashboard sync \\..+\\/.+\\.js$","webpack:///./bundles/dashboard/access-code-of-the-day/access-code-of-the-day.controller.js","webpack:///./bundles/dashboard/access-code-of-the-day/access-code-of-the-day.scss?cb8d","webpack:///./bundles/dashboard/access-code-of-the-day/access-code-of-the-day.tpl.html","webpack:///./bundles/dashboard/dashboard-admin/dashboard-admin.controller.js","webpack:///./bundles/dashboard/dashboard-admin/dashboard-admin.tpl.html","webpack:///./bundles/dashboard/dashboard-user/dashboard-user.controller.js","webpack:///./bundles/dashboard/dashboard-user/dashboard-user.tpl.html","webpack:///./bundles/dashboard/index.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-access-code.directive.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-access-code.tpl.html","webpack:///./bundles/dashboard/widgets-admin/dash-admin-billing.directive.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-billing.tpl.html","webpack:///./bundles/dashboard/widgets-admin/dash-admin-reservation-conflicts.directive.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-reservation-conflicts.tpl.html","webpack:///./bundles/dashboard/widgets-admin/dash-admin-reservations.directive.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-reservations.tpl.html","webpack:///./bundles/dashboard/widgets-admin/dash-admin-self-registrations.directive.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-self-registrations.tpl.html","webpack:///./bundles/dashboard/widgets-admin/dash-admin-users-checked-in.directive.js","webpack:///./bundles/dashboard/widgets-admin/dash-admin-users-checked-in.scss?a0cb","webpack:///./bundles/dashboard/widgets-admin/dash-admin-users-checked-in.tpl.html","webpack:///./bundles/dashboard/widgets-user/dash-general.directive.js","webpack:///./bundles/dashboard/widgets-user/dash-general.tpl.html","webpack:///./bundles/dashboard/widgets-user/dash-members-checked-in.directive.js","webpack:///./bundles/dashboard/widgets-user/dash-members-checked-in.scss?1140","webpack:///./bundles/dashboard/widgets-user/dash-members-checked-in.tpl.html","webpack:///./bundles/dashboard/widgets-user/dash-message-board.directive.js","webpack:///./bundles/dashboard/widgets-user/dash-message-board.tpl.html","webpack:///./bundles/dashboard/widgets-user/dash-outstanding-charges.directive.js","webpack:///./bundles/dashboard/widgets-user/dash-outstanding-charges.tpl.html","webpack:///./bundles/dashboard/widgets-user/dash-recurring-charges.directive.js","webpack:///./bundles/dashboard/widgets-user/dash-recurring-charges.tpl.html","webpack:///./bundles/dashboard/widgets-user/dash-upcoming-reservations.directive.js","webpack:///./bundles/dashboard/widgets-user/dash-upcoming-reservations.tpl.html","webpack:///./shared/services/usage/opts-credit-type.service.js","webpack:///./shared/services/usage/opts-usage-source.service.js","webpack:///./shared/services/usage/usage-tracking.service.js"],"names":["angular","module","controller","$scope","$translate","$interval","$q","state","dwAlerts","routeHelper","dashboardService","Notifications","$ctrl","setPageTitle","instant","defaultBody","fetch","cancel","timer","fetching","auth","then","all","stats","getCenterStats","getCurrentCenterId","catch","err","error","tpl","getDeskTabletTemplate","result","accessCode","body","replace","finally","$onDestroy","toDashboard","setPath","$filter","$timeout","helper","admin","settings","userProfileService","NATS","vm","nats","connect","on","console","warn","$on","close","pageTitle","userName","fullName","isUserSelected","get","getCurrentUserId","user","hideAll","findByKeyValue","centers","permission","centerStats","userLogged","name","isMasterProfile","company","firstName","lastName","canSeeAccountingInfo","masterMembers","id","index","$injector","importAll","r","js","require","loadNewModules","m","default","invoke","$templateCache","ctx","forEach","key","put","directive","restrict","scope","transclude","templateUrl","bindToController","link","$element","$attrs","$transclude","self","transcludeElement","toAccessCode","toBillingProfile","cc","setCurrentUserId","userId","toIncomeReport","dashboardIncome","toAccountsReceivableReport","niceTimeDirective","reservations","label","navigate","reservation","setParam","startTime","reset","resetReservationConflict","indexOf","users","userRoles","CheckedInUsers","subs","$onInit","query","push","subscribe","onUpdate","$broadcast","sub","unsubscribe","toUserProfile","msg","idx","devices","extend","UsageTracking","productService","$user","creditCards","paymentMethodId","defaultPaymentMethod","expiry","moment","showExpireWarning","showExpiredWarning","$usages","centerId","page","pageSize","$products","getProducts","usages","products","closingBalance","days","length","usage","productName","p","productId","amount","isDefined","hours","dwModal","CheckedInMembers","onCreate","onDelete","view","member","show","inputs","MessageBoard","maxMessages","maxLength","limit","messages","cropMsgText","toMsg","text","substr","crop","deserialize","message","unshift","purchaseService","getPurchases","open","credit","order","charges","items","recurringChargeService","charge","status","reservationService","params","from","factory","$rootScope","opts","_name","translate","opt","optsUsageSource","optsCreditType","$resource","deskworksConfig","datesDeserializer","desDates","res","getApiAbsUrl","method","isArray","transformResponse","fromJson","$promise","day","sourceName","i","sourceId","usageAmount","round","usageTotals","reduce","sum","appliedAmount","creditsApplied","setCreditType","openingBalance","delete","credits","passes","typeId","bucketPasses","typeName"],"mappings":"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","file":"dashboard~._b.js?_rev=792c41cd98818fc3759d","sourcesContent":["var map = {\n\t\"./access-code-of-the-day/access-code-of-the-day.tpl.html\": \"./bundles/dashboard/access-code-of-the-day/access-code-of-the-day.tpl.html\",\n\t\"./dashboard-admin/dashboard-admin.tpl.html\": \"./bundles/dashboard/dashboard-admin/dashboard-admin.tpl.html\",\n\t\"./dashboard-user/dashboard-user.tpl.html\": \"./bundles/dashboard/dashboard-user/dashboard-user.tpl.html\",\n\t\"./widgets-admin/dash-admin-access-code.tpl.html\": \"./bundles/dashboard/widgets-admin/dash-admin-access-code.tpl.html\",\n\t\"./widgets-admin/dash-admin-billing.tpl.html\": \"./bundles/dashboard/widgets-admin/dash-admin-billing.tpl.html\",\n\t\"./widgets-admin/dash-admin-reservation-conflicts.tpl.html\": \"./bundles/dashboard/widgets-admin/dash-admin-reservation-conflicts.tpl.html\",\n\t\"./widgets-admin/dash-admin-reservations.tpl.html\": \"./bundles/dashboard/widgets-admin/dash-admin-reservations.tpl.html\",\n\t\"./widgets-admin/dash-admin-self-registrations.tpl.html\": \"./bundles/dashboard/widgets-admin/dash-admin-self-registrations.tpl.html\",\n\t\"./widgets-admin/dash-admin-users-checked-in.tpl.html\": \"./bundles/dashboard/widgets-admin/dash-admin-users-checked-in.tpl.html\",\n\t\"./widgets-user/dash-general.tpl.html\": \"./bundles/dashboard/widgets-user/dash-general.tpl.html\",\n\t\"./widgets-user/dash-members-checked-in.tpl.html\": \"./bundles/dashboard/widgets-user/dash-members-checked-in.tpl.html\",\n\t\"./widgets-user/dash-message-board.tpl.html\": \"./bundles/dashboard/widgets-user/dash-message-board.tpl.html\",\n\t\"./widgets-user/dash-outstanding-charges.tpl.html\": \"./bundles/dashboard/widgets-user/dash-outstanding-charges.tpl.html\",\n\t\"./widgets-user/dash-recurring-charges.tpl.html\": \"./bundles/dashboard/widgets-user/dash-recurring-charges.tpl.html\",\n\t\"./widgets-user/dash-upcoming-reservations.tpl.html\": \"./bundles/dashboard/widgets-user/dash-upcoming-reservations.tpl.html\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/dashboard sync recursive .*\\\\.tpl\\\\.html$\";","var map = {\n\t\"./access-code-of-the-day/access-code-of-the-day.controller.js\": \"./bundles/dashboard/access-code-of-the-day/access-code-of-the-day.controller.js\",\n\t\"./dashboard-admin/dashboard-admin.controller.js\": \"./bundles/dashboard/dashboard-admin/dashboard-admin.controller.js\",\n\t\"./dashboard-user/dashboard-user.controller.js\": \"./bundles/dashboard/dashboard-user/dashboard-user.controller.js\",\n\t\"./widgets-admin/dash-admin-access-code.directive.js\": \"./bundles/dashboard/widgets-admin/dash-admin-access-code.directive.js\",\n\t\"./widgets-admin/dash-admin-billing.directive.js\": \"./bundles/dashboard/widgets-admin/dash-admin-billing.directive.js\",\n\t\"./widgets-admin/dash-admin-reservation-conflicts.directive.js\": \"./bundles/dashboard/widgets-admin/dash-admin-reservation-conflicts.directive.js\",\n\t\"./widgets-admin/dash-admin-reservations.directive.js\": \"./bundles/dashboard/widgets-admin/dash-admin-reservations.directive.js\",\n\t\"./widgets-admin/dash-admin-self-registrations.directive.js\": \"./bundles/dashboard/widgets-admin/dash-admin-self-registrations.directive.js\",\n\t\"./widgets-admin/dash-admin-users-checked-in.directive.js\": \"./bundles/dashboard/widgets-admin/dash-admin-users-checked-in.directive.js\",\n\t\"./widgets-user/dash-general.directive.js\": \"./bundles/dashboard/widgets-user/dash-general.directive.js\",\n\t\"./widgets-user/dash-members-checked-in.directive.js\": \"./bundles/dashboard/widgets-user/dash-members-checked-in.directive.js\",\n\t\"./widgets-user/dash-message-board.directive.js\": \"./bundles/dashboard/widgets-user/dash-message-board.directive.js\",\n\t\"./widgets-user/dash-outstanding-charges.directive.js\": \"./bundles/dashboard/widgets-user/dash-outstanding-charges.directive.js\",\n\t\"./widgets-user/dash-recurring-charges.directive.js\": \"./bundles/dashboard/widgets-user/dash-recurring-charges.directive.js\",\n\t\"./widgets-user/dash-upcoming-reservations.directive.js\": \"./bundles/dashboard/widgets-user/dash-upcoming-reservations.directive.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/dashboard sync recursive \\\\..+\\\\/.+\\\\.js$\";","import './access-code-of-the-day.scss';\n\nexport default angular.module('deskworks.AccessCodeOfTheDayCtrl', [\n  'deskworks.routeHelper',\n  'deskworks.notifications.service'\n])\n\n  .controller('AccessCodeOfTheDayCtrl', function($scope, $translate, $interval, $q, state, dwAlerts, routeHelper,\n                                                 dashboardService, Notifications) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('DASHBOARD.ADMIN.ACCESS_CODE.HEADER'));\n\n    const defaultBody = '<h1 style=\"text-align: center;\"><b>WiFi Access</b></h1><br><br><h2 style=\"text-align: center;\">Access Code: <b>{{access-code}}</b></h2><br>';\n\n    /**\n     * Fetch access code\n     */\n    $ctrl.fetch = () => {\n      $interval.cancel($ctrl.timer);\n\n      $ctrl.fetching = true;\n\n      return routeHelper.auth()\n        .then(() => $q.all({\n          stats: dashboardService.getCenterStats(state.getCurrentCenterId())\n            .catch(err => dwAlerts.error(err, 'Failed to get center stats.')),\n          tpl: Notifications.getDeskTabletTemplate(state.getCurrentCenterId())\n            .catch(err => dwAlerts.error(err, 'Failed to get desk tablet template.')),\n        }))\n        .then(result => {\n          $ctrl.accessCode = result.stats.accessCode;\n          $ctrl.tpl = result.tpl;\n          $ctrl.tpl.body = $ctrl.tpl.body || defaultBody;\n          $ctrl.tpl.body = $ctrl.tpl.body.replace(/{{access-code}}/g, $ctrl.accessCode);\n        })\n        .finally(() => {\n          $ctrl.fetching = false;\n          $interval.cancel($ctrl.timer);\n          $ctrl.timer = $interval($ctrl.fetch, 1000 * 60 * 5);\n        });\n    };\n\n    $ctrl.fetch();\n\n    /**\n     * Destroy\n     */\n    $ctrl.$onDestroy = () => {\n      $interval.cancel($ctrl.timer);\n    };\n\n    $ctrl.toDashboard = () => state.setPath('/dashboard');\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<div id=\\\"accessCodeOfTheDay\\\"> <ff-spin class=\\\"ff-spin-placeholder\\\" ng-if=\\\"$ctrl.fetching && !$ctrl.accessCode\\\"></ff-spin> <span ng-bind-html=\\\"$ctrl.tpl.body\\\"></span> </div> <ff-btn-group class=\\\"buttons-bottom\\\" style=\\\"margin-top:100vh\\\"> <ff-btn sense=\\\"back\\\" ff-click=\\\"$ctrl.toDashboard()\\\"> <span translate=\\\"SIDEBAR.DASHBOARD\\\"></span> </ff-btn> </ff-btn-group> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.dashboard.admin', [\n  'NATS',\n  'flexForms',\n  'deskworks.dashboard.dashAdminReservations',\n  'deskworks.dashboard.dashAdminAccessCode',\n  'deskworks.dashboard.dashAdminBilling',\n  'deskworks.dashboard.dashAdminUsersCheckedIn',\n  'deskworks.dashboard.dashAdminReservationConflicts',\n  'deskworks.dashboard.dashAdminSelfRegistrations',\n  'deskworks.dashboard.service',\n  'deskworks.Admin',\n])\n\n  .controller('DashboardAdminCtrl', function($scope, $filter, $timeout, $translate, state, helper, admin, dwAlerts,\n                                             settings, dashboardService, userProfileService, NATS) {\n    const vm = this;\n\n    vm.settings = settings;\n\n    vm.nats = NATS.connect();\n    vm.nats.on('error', err => { console.warn('NATS error:', err); });\n    $scope.$on('$destroy', () => vm.nats.close());\n\n    const pageTitle = $translate.instant('DASHBOARD.ADMIN.PAGE_TITLE', { userName: admin.fullName });\n    state.setPageTitle(pageTitle);\n\n    /**\n     * Get selected user profile to display User Dashboard\n     */\n    if (state.isUserSelected()) {\n      userProfileService.get(state.getCurrentCenterId(), state.getCurrentUserId())\n        .catch(err => dwAlerts.error(err, 'Failed to get user profile.'))\n        .then(result => { vm.user = result; });\n    }\n\n    vm.hideAll = (helper.findByKeyValue(admin.centers, 'id', state.getCurrentCenterId()) || {}).permission !== 'all';\n    if (vm.hideAll) return;\n\n    /**\n     * Get center stats\n     */\n    dashboardService.getCenterStats(state.getCurrentCenterId())\n      .catch(err => dwAlerts.error(err, 'Failed to get center stats.'))\n      .then(result => {\n        vm.centerStats = result;\n      });\n  });\n","// Module\nvar code = \"<div id=\\\"dashboardAdmin\\\" class=\\\"dashboard\\\"> <h1 class=\\\"page-title\\\" style=\\\"margin-top:2rem;margin-bottom:2rem\\\" ng-bind=\\\"state.getPageTitle()\\\"></h1> <ff-panel ng-if=\\\"vm.hideAll\\\"> <span translate=\\\"DASHBOARD.ADMIN.NO_PERMISSION\\\"></span> </ff-panel> <div class=\\\"ff-grid gutter-v gutter-h\\\" ng-if=\\\"!vm.hideAll\\\"> <div flex=\\\"{lg: '0 0 50%'}\\\"> <div class=\\\"gutter-v\\\"> <dash-admin-reservations id=\\\"dashAdminReservationsToday\\\" reservations=\\\"vm.centerStats.reservationsToday\\\" label=\\\"DASHBOARD.ADMIN.RESERVATIONS.TODAY.HEADER\\\" settings=\\\"vm.settings\\\"></dash-admin-reservations> <dash-admin-reservations id=\\\"dashAdminReservationsTomorrow\\\" reservations=\\\"vm.centerStats.reservationsTomorrow\\\" label=\\\"DASHBOARD.ADMIN.RESERVATIONS.TOMORROW.HEADER\\\" settings=\\\"vm.settings\\\"></dash-admin-reservations> <dash-admin-users-checked-in id=\\\"dashAdminUsersCheckedIn\\\" nats=\\\"vm.nats\\\"></dash-admin-users-checked-in> </div> </div> <div flex=\\\"{lg: '0 0 50%'}\\\"> <div class=\\\"gutter-v\\\"> <dash-admin-access-code id=\\\"dashAdminAccessCode\\\" ng-if=\\\"vm.settings.enableAccessCodes\\\" stats=\\\"vm.centerStats\\\" class=\\\"animate-collapse\\\"></dash-admin-access-code> <dash-admin-billing id=\\\"dashAdminBilling\\\" stats=\\\"vm.centerStats\\\" settings=\\\"vm.settings\\\"></dash-admin-billing> <dash-admin-self-registrations id=\\\"dashAdminSelfRegistrations\\\" users=\\\"vm.centerStats.selfRegistrations\\\"></dash-admin-self-registrations> </div> </div> <dash-admin-reservation-conflicts id=\\\"dashAdminReservationsConflicts\\\" ng-if=\\\"vm.centerStats.reservationsConflicts.length\\\" reservations=\\\"vm.centerStats.reservationsConflicts\\\" class=\\\"animate-collapse\\\"> </dash-admin-reservation-conflicts> </div> </div> <div id=\\\"dashboardUser\\\" class=\\\"dashboard\\\" ng-if=\\\"vm.user\\\"> <h1 class=\\\"page-title\\\" translate=\\\"DASHBOARD.ADMIN.USER_DASHBOARD_TITLE\\\" style=\\\"margin-top:2rem;margin-bottom:2rem\\\" translate-values=\\\"{ userName: [vm.user.firstName, vm.user.lastName].join(' ') }\\\"></h1> <ff-panel ng-if=\\\"vm.hideAll\\\"> <span translate=\\\"DASHBOARD.USER.NO_PERMISSION\\\"></span> </ff-panel> <div class=\\\"ff-grid gutter-v gutter-h\\\" ng-if=\\\"!vm.hideAll\\\"> <div flex=\\\"{lg: '0 0 50%'}\\\"> <dash-upcoming-reservations id=\\\"dashUpcomingReservations\\\" settings=\\\"vm.settings\\\"></dash-upcoming-reservations> </div> <div flex=\\\"{lg: '0 0 50%'}\\\"> <dash-general id=\\\"dashGeneral\\\" settings=\\\"vm.settings\\\"></dash-general> </div> <dash-recurring-charges id=\\\"dashRecurringCharges\\\" ng-if=\\\"vm.user.role !== 'nonMember'\\\"></dash-recurring-charges> <dash-outstanding-charges id=\\\"dashOutstandingCharges\\\"></dash-outstanding-charges> <div flex=\\\"{md: '0 0 50%'}\\\" ng-if=\\\"vm.user.role !== 'nonMember'\\\"> <dash-members-checked-in id=\\\"dashMembersCheckedIn\\\" nats=\\\"vm.nats\\\"></dash-members-checked-in> </div> <div flex=\\\"{md: '0 0 50%'}\\\" ng-if=\\\"vm.user.role !== 'nonMember'\\\"> <dash-message-board id=\\\"dashMessageBoard\\\" nats=\\\"vm.nats\\\"></dash-message-board> </div> </div> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.DashboardUserCtrl', [\n  'NATS',\n  'deskworks.routeHelper',\n  'flexForms',\n  'deskworks.dashboard.upcomingReservations',\n  'deskworks.dashboard.dashGeneral',\n  'deskworks.dashboard.recurringCharges',\n  'deskworks.dashboard.dashOutstandingCharges',\n  'deskworks.dashboard.dashMembersCheckedIn',\n  'deskworks.dashboard.dashMessageBoard',\n])\n\n  .controller('DashboardUserCtrl', function($scope, $translate, state, helper, user, userLogged, settings, NATS) {\n    var vm = this;\n\n    vm.user = user;\n    vm.userLogged = userLogged;\n    vm.settings = settings;\n\n    var name = state.isMasterProfile() && vm.user.company ? vm.user.company : vm.user.firstName + ' ' + vm.user.lastName;\n    var pageTitle = $translate.instant('DASHBOARD.USER.PAGE_TITLE', { userName: name });\n    state.setPageTitle(pageTitle);\n\n    vm.nats = NATS.connect();\n    vm.nats.on('error', function(err) { console.warn('NATS error:', err); });\n    $scope.$on('$destroy', function() { vm.nats.close(); });\n\n    /**\n     * Limit co-member to see master accounting info if canSeeAccountingInfo: false\n     */\n    vm.canSeeAccountingInfo = function() {\n      return !state.isMasterProfile() || (helper.findByKeyValue(vm.userLogged.masterMembers, 'id', vm.user.id) || {}).canSeeAccountingInfo;\n    };\n  });\n","// Module\nvar code = \"<div id=\\\"dashboardUser\\\" class=\\\"dashboard\\\"> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <div flex=\\\"{md: '0 0 50%'}\\\"> <dash-upcoming-reservations id=\\\"dashUpcomingReservations\\\" settings=\\\"vm.settings\\\"></dash-upcoming-reservations> </div> <div flex=\\\"{md: '0 0 50%'}\\\"> <dash-general id=\\\"dashGeneral\\\" settings=\\\"vm.settings\\\"></dash-general> </div> <dash-recurring-charges id=\\\"dashRecurringCharges\\\" ng-if=\\\"vm.user.role !== 'nonMember' && vm.canSeeAccountingInfo()\\\"></dash-recurring-charges> <dash-outstanding-charges id=\\\"dashOutstandingCharges\\\" ng-if=\\\"vm.canSeeAccountingInfo()\\\"></dash-outstanding-charges> <div flex=\\\"{md: '0 0 50%'}\\\" ng-if=\\\"vm.user.role !== 'nonMember'\\\"> <dash-members-checked-in id=\\\"dashMembersCheckedIn\\\" nats=\\\"vm.nats\\\"></dash-members-checked-in> </div> <div flex=\\\"{md: '0 0 50%'}\\\" ng-if=\\\"vm.user.role !== 'nonMember'\\\"> <dash-message-board id=\\\"dashMessageBoard\\\" nats=\\\"vm.nats\\\"></dash-message-board> </div> </div> </div> \";\n// Exports\nmodule.exports = code;","const index = ['$injector', function index($injector) {\n  // JS\n  const importAll = r => r.keys().map(r);\n  const js = importAll(require.context('./', true, /\\..+\\/.+\\.js$/));\n  $injector.loadNewModules(js.map(m => m.default.name));\n\n  // Templates\n  $injector.invoke(['$templateCache', function($templateCache) {\n    const ctx = require.context('./', true, /.*\\.tpl\\.html$/);\n    ctx.keys().forEach(key => $templateCache.put(key.replace(/^\\.\\//, ''), ctx(key)));\n  }]);\n}];\n\nexport default index;\n","/**\n * dashAdminAccess directive - 'Access Code of the day' widget for admin dashboard\n */\nexport default angular.module('deskworks.dashboard.dashAdminAccessCode', [])\n\n  .directive('dashAdminAccessCode', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-admin/dash-admin-access-code.tpl.html',\n      controller: 'DashAdminAccessCodeCtrl as $ctrl',\n      bindToController: {\n        stats: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        const self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      }\n    };\n  })\n\n  .controller('DashAdminAccessCodeCtrl', function(state) {\n    const $ctrl = this;\n\n    $ctrl.toAccessCode = () => state.setPath('/access-code-of-the-day');\n  });\n","// Module\nvar code = \"<ff-panel ng-if=\\\"$ctrl.stats.accessCode\\\" class=\\\"animate-collapse ff-no-frame\\\"> <ff-panel-header> <ff-icon sense=\\\"accessCode\\\"></ff-icon> <span translate=\\\"DASHBOARD.ADMIN.ACCESS_CODE.HEADER\\\"></span> </ff-panel-header> <ff-row> <ff-static>{{$ctrl.stats.accessCode}}</ff-static> <ff-btn-group flex=\\\"none\\\" class=\\\"buttons-row\\\"> <ff-btn sense=\\\"expand\\\" size=\\\"xs\\\" ng-if=\\\"$ctrl.stats.accessCode\\\" ff-style=\\\"{ 'font-size': '16px' }\\\" ff-click=\\\"$ctrl.toAccessCode()\\\" title=\\\"Desk Tablet\\\"></ff-btn> </ff-btn-group> </ff-row> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * dashAdminBilling directive - income/accounts-receivable/credit-cards-to-expire widget for admin dashboard\n */\nexport default angular.module('deskworks.dashboard.dashAdminBilling', [])\n\n  .directive('dashAdminBilling', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-admin/dash-admin-billing.tpl.html',\n      controller: 'DashAdminBillingCtrl as $ctrl',\n      bindToController: {\n        stats: '<',\n        settings: '<'\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        var self = this;\n        $transclude(function() {\n          helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController);\n        });\n      }\n    };\n  })\n\n  .controller('DashAdminBillingCtrl', function($scope, state, helper) {\n    var $ctrl = this;\n\n    $scope.helper = helper;\n\n    /**\n     * Navigate to Billing Profile on clicking credit card\n     */\n    $ctrl.toBillingProfile = function(cc) {\n      state.setCurrentUserId(cc.userId);\n      return state.setPath('/billing-profiles');\n    };\n\n    /**\n     * Navigate to Income Report on clicking 'Income this month'\n     */\n    $ctrl.toIncomeReport = function() {\n      return state.setPath($ctrl.settings && $ctrl.settings.dashboardIncome === 'accrual' ? '/income-by-item-report' : '/income-report');\n    };\n\n    /**\n     * Navigate to Accounts Receivable Report on clicking 'Current Accounts Receivable'\n     */\n    $ctrl.toAccountsReceivableReport = function() {\n      return state.setPath('/accounts-receivable-report');\n    };\n  });\n","// Module\nvar code = \"<ff-panel ng-if=\\\"$ctrl.stats.incomeThisMonth !== undefined || $ctrl.stats.totalAccountsReceivable !== undefined || $ctrl.stats.currentAccountsReceivable !== undefined || $ctrl.stats.creditCardsToExpire.length\\\" class=\\\"animate-collapse\\\"> <ff-panel-header> <ff-icon sense=\\\"billing\\\"></ff-icon> <span translate=\\\"DASHBOARD.ADMIN.BILLING_INFO.HEADER\\\"></span> </ff-panel-header> <div class=\\\"gutter-v-half\\\"> <div> <ff-row class=\\\"ff-clickable\\\" ng-click=\\\"$ctrl.toIncomeReport()\\\" ff-dim ng-if=\\\"$ctrl.stats.incomeThisMonth !== undefined\\\" title=\\\"{{'DASHBOARD.ADMIN.BILLING_INFO.INCOME.NAV_TITLE' | translate}}\\\"> <ff-static> <span class=\\\"em\\\"> <span translate=\\\"DASHBOARD.ADMIN.BILLING_INFO.INCOME\\\"></span>: {{$ctrl.stats.incomeThisMonth | ncurrency}} </span> </ff-static> </ff-row> <ff-row class=\\\"ff-clickable\\\" ng-click=\\\"$ctrl.toAccountsReceivableReport()\\\" ff-dim ng-if=\\\"$ctrl.stats.currentAccountsReceivable !== undefined\\\" title=\\\"{{'DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.NAV_TITLE' | translate}}\\\"> <ff-static> <span class=\\\"em\\\"> <span translate=\\\"DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.CURRENT\\\"></span>: {{$ctrl.stats.currentAccountsReceivable | ncurrency}} </span> </ff-static> </ff-row> <ff-row class=\\\"ff-clickable\\\" ng-click=\\\"$ctrl.toAccountsReceivableReport()\\\" ff-dim ng-if=\\\"$ctrl.stats.totalAccountsReceivable !== undefined\\\" title=\\\"{{'DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.NAV_TITLE' | translate}}\\\"> <ff-static> <span class=\\\"em\\\"> <span translate=\\\"DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.TOTAL\\\"></span>: {{$ctrl.stats.totalAccountsReceivable | ncurrency}} </span> </ff-static> </ff-row> </div> <div ng-if=\\\"$ctrl.stats.creditCardsToExpire.length > 0\\\"> <ff-header><span translate=\\\"DASHBOARD.ADMIN.BILLING_INFO.CC_EXPIRE\\\"></span></ff-header> <ff-row ng-repeat=\\\"cc in ::$ctrl.stats.creditCardsToExpire\\\" class=\\\"ff-clickable\\\" ng-click=\\\"$ctrl.toBillingProfile(cc)\\\" ff-dim title=\\\"{{'DASHBOARD.ADMIN.BILLING_INFO.CC_EXPIRE.NAV_TITLE' | translate}}\\\"> <ff-static flex=\\\"0 1 180px\\\" class=\\\"ff-center\\\" ff-style=\\\"{ 'padding-left': '15px' }\\\"> <ff-hint hint-type=\\\"danger\\\" style=\\\"position:absolute;left:5px;top:50%;transform:translateY(-50%)\\\" ng-if=\\\"cc.defaultPaymentMethod\\\" ng-click=\\\"$event.stopPropagation()\\\" title=\\\"\\\"> <span translate=\\\"DASHBOARD.ADMIN.BILLING_INFO.CC_EXPIRE.DEFAULT_PAYMENT_METHOD\\\"></span> </ff-hint> {{::cc.number}} </ff-static> <ff-static flex=\\\"1 1 410px\\\" ff-bind=\\\"::helper.join([cc.userCompany, cc.userName], ', ')\\\"></ff-static> </ff-row> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import niceTimeDirective from 'shared/nice-date-time/nice-time.directive';\n\n/**\n * dashAdminReservationConflicts directive - reservation conflicts widget for admin dashboard\n */\nexport default angular.module('deskworks.dashboard.dashAdminReservationConflicts', [\n  'deskworks.dashboard.service',\n  niceTimeDirective.name,\n])\n\n  .directive('dashAdminReservationConflicts', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-admin/dash-admin-reservation-conflicts.tpl.html',\n      controller: 'DashAdminReservationConflictsCtrl as $ctrl',\n      bindToController: {\n        reservations: '<',\n        label: '@',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        const self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      },\n    };\n  })\n\n  .controller('DashAdminReservationConflictsCtrl', function($scope, $filter, state, helper, dwAlerts, dashboardService) {\n    const $ctrl = this;\n\n    $scope.helper = helper;\n\n    /**\n     * Navigate reservation handler\n     */\n    $ctrl.navigate = function(reservation) {\n      state.setParam('date', $filter('date')(reservation.startTime, 'yyyy-MM-dd'));\n      return state.setPath('/reservation-calendar');\n    };\n\n    /**\n     * Reset reservation conflict handler\n     */\n    $ctrl.reset = function(reservation) {\n      return dashboardService.resetReservationConflict(reservation.id)\n        .catch(err => dwAlerts.error(err, 'Failed to reset reservation conflict.'))\n        .then(() => $ctrl.reservations.splice($ctrl.reservations.indexOf(reservation), 1));\n    };\n  });\n\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <ff-icon sense=\\\"warning\\\"></ff-icon> <span translate=\\\"DASHBOARD.ADMIN.RESERVATION_CONFLICTS.HEADER\\\"></span> </ff-panel-header> <div> <div ng-if=\\\"!$ctrl.reservations.length\\\" class=\\\"animate-collapse\\\"> <span translate=\\\"DASHBOARD.ADMIN.RESERVATION_CONFLICTS.EMPTY\\\"></span> </div> <div style=\\\"display:flex\\\" ng-repeat-start=\\\"reservation in $ctrl.reservations\\\" class=\\\"animate-collapse\\\"> <ff-row flex=\\\"1 1 auto\\\" class=\\\"ff-clickable\\\" ng-click=\\\"$ctrl.navigate(reservation)\\\" ff-dim title=\\\"{{'DASHBOARD.ADMIN.RESERVATION_CONFLICTS.NAV_TITLE' | translate}}\\\"> <ff-static flex=\\\"0 1 260px\\\" class=\\\"ff-center\\\"> <span> <span ng-bind=\\\"::reservation.startTime | date:'mediumDate'\\\"></span>&nbsp;&nbsp; <span nice-time=\\\"::reservation.startTime\\\"></span> - <span nice-time=\\\"::reservation.endTime\\\"></span> </span> </ff-static> <ff-static flex=\\\"0 1 200px\\\" ff-bind=\\\"::reservation.reservationUnitName\\\"></ff-static> <ff-static flex=\\\"1 1 400px\\\" ff-bind=\\\"::reservation.errorMessage\\\"></ff-static> </ff-row> <ff-btn-group style=\\\"align-self:center;margin-top:-2px\\\"> <ff-btn sense=\\\"reset\\\" size=\\\"xs\\\" flex=\\\"0 0 auto\\\" ff-click=\\\"$ctrl.reset(reservation)\\\" title=\\\"{{'DASHBOARD.ADMIN.RESERVATION_CONFLICTS.RESET_BTN_TITLE' | translate}}\\\">Reset</ff-btn> </ff-btn-group> </div> <ff-row ng-repeat-end ng-if=\\\"::reservation.reservationNote\\\" class=\\\"animate-collapse\\\"> <ff-label> <span> <ff-icon sense=\\\"info\\\" class=\\\"ff-flex-start\\\"></ff-icon> {{::reservation.reservationNote}} </span> </ff-label> </ff-row> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import niceTimeDirective from 'shared/nice-date-time/nice-time.directive';\n\n/**\n * dashAdminReservations directive - reservations today/tomorrow widget for admin dashboard\n */\nexport default angular.module('deskworks.dashboard.dashAdminReservations', [\n  niceTimeDirective.name,\n])\n\n  .directive('dashAdminReservations', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-admin/dash-admin-reservations.tpl.html',\n      controller: 'DashAdminReservationsCtrl as $ctrl',\n      bindToController: {\n        reservations: '<',\n        label: '@',\n        settings: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        const self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      },\n    };\n  })\n\n  .controller('DashAdminReservationsCtrl', function($scope, $filter, state, helper) {\n    const $ctrl = this;\n\n    $scope.helper = helper;\n\n    /**\n     * Navigate reservation handler\n     */\n    $ctrl.navigate = function(reservation) {\n      state.setParam('date', $filter('date')(reservation.startTime, 'yyyy-MM-ddTHH:mm:ss'));\n      return state.setPath('/reservation-calendar');\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header><ff-icon sense=\\\"reservation\\\"></ff-icon> <span translate=\\\"{{::$ctrl.label}}\\\"></span></ff-panel-header> <div ff-dim=\\\"!$ctrl.reservations\\\"> <div ng-repeat-start=\\\"reservation in ::$ctrl.reservations\\\" class=\\\"ff-grid ff-clickable ff-relative animate-collapse\\\" ng-click=\\\"$ctrl.navigate(reservation)\\\" ff-dim title=\\\"{{'DASHBOARD.ADMIN.RESERVATIONS.NAVIGATE_TITLE' | translate}}\\\"> <ff-row flex=\\\"{sm: '0 0 50%'}\\\"> <ff-static flex=\\\"0 1 210px\\\"> <span><span nice-time=\\\"::reservation.startTime\\\"></span> - <span nice-time=\\\"::reservation.endTime\\\"></span></span> </ff-static> <ff-static flex=\\\"1 1 210px\\\" ff-bind=\\\"::reservation.reservationUnitName\\\"></ff-static> </ff-row> <ff-row flex=\\\"{sm: '0 0 50%'}\\\"> <ff-static flex=\\\"1 1 210px\\\" ff-bind=\\\"::helper.join([reservation.userCompany, reservation.userName], ', ')\\\"></ff-static> <ff-static flex=\\\"0 1 90px\\\" ff-bind=\\\"::reservation.accessCode\\\" ng-click=\\\"$event.stopPropagation()\\\" ff-style=\\\"{ cursor: 'auto' }\\\" ng-if=\\\"$ctrl.settings.enableAccessCodes\\\" title=\\\"\\\"></ff-static> </ff-row> </div> <ff-row ng-repeat-end ng-if=\\\"::reservation.reservationNote\\\" class=\\\"animate-collapse\\\"> <ff-label> <em> <ff-icon sense=\\\"info\\\" class=\\\"ff-flex-start\\\"></ff-icon> {{::reservation.reservationNote}} </em> </ff-label> </ff-row> <div ng-if=\\\"$ctrl.reservations && !$ctrl.reservations.length\\\" class=\\\"animate-collapse\\\"> <span translate=\\\"GLOBAL.NONE\\\"></span> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * dashAdminSelfRegistrations directive - current self-registrations widget for admin dashboard\n */\nexport default angular.module('deskworks.dashboard.dashAdminSelfRegistrations', [])\n\n  .directive('dashAdminSelfRegistrations', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-admin/dash-admin-self-registrations.tpl.html',\n      controller: 'DashAdminSelfRegistrationsCtrl as $ctrl',\n      bindToController: {\n        users: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        var self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      }\n    };\n  })\n\n  .controller('DashAdminSelfRegistrationsCtrl', function($scope, state, helper) {\n    var $ctrl = this;\n\n    $scope.helper = helper;\n\n    /**\n     * Navigate to user profile on clicking self-registration\n     */\n    $ctrl.navigate = function(user) {\n      state.setCurrentUserId(user.id);\n      return state.setPath('/profile');\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <ff-icon sense=\\\"user\\\"></ff-icon> <span translate=\\\"DASHBOARD.ADMIN.SIGN_UPS.HEADER\\\"></span> </ff-panel-header> <div> <ff-row ng-repeat-start=\\\"user in ::$ctrl.users\\\" class=\\\"ff-clickable animate-collapse\\\" ng-click=\\\"$ctrl.navigate(user)\\\" ff-dim title=\\\"{{'DASHBOARD.ADMIN.SIGN_UPS.NAV_TITLE' | translate}}\\\"> <ff-static flex=\\\"0 0 50%\\\" ff-bind=\\\"::user.fullNameCompany\\\"></ff-static> <ff-static flex=\\\"0 0 50%\\\" ff-style=\\\"{'padding-right': 0}\\\"> <a href=\\\"mailto:{{::user.email}}\\\" ng-bind=\\\"::user.email\\\" ng-click=\\\"$event.stopPropagation()\\\" title=\\\"\\\"></a> </ff-static> </ff-row> <ff-row ng-repeat-end ng-if=\\\"::['staffHelp', 'abandoned', 'banned'].indexOf(user.status) >= 0\\\" class=\\\"animate-collapse\\\"> <ff-static> <span> <ff-icon sense=\\\"warning\\\" class=\\\"ff-flex-start\\\"></ff-icon> <span ng-if=\\\"::user.status === 'staffHelp'\\\" translate=\\\"DASHBOARD.ADMIN.SIGN_UPS.STAFF_HELP\\\"></span> <span ng-if=\\\"::user.status === 'abandoned'\\\" translate=\\\"DASHBOARD.ADMIN.SIGN_UPS.ABANDONED\\\"></span> <span ng-if=\\\"::user.status === 'banned'\\\" translate=\\\"DASHBOARD.ADMIN.SIGN_UPS.BANNED\\\"></span> </span> </ff-static> </ff-row> <div ng-if=\\\"$ctrl.users && !$ctrl.users.length\\\" class=\\\"animate-collapse\\\"> <span translate=\\\"DASHBOARD.ADMIN.SIGN_UPS.EMPTY\\\"></span> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import './dash-admin-users-checked-in.scss';\n\n/**\n * dashAdminUsersCheckedIn directive - checked-in users widget for admin dashboard\n */\nexport default angular.module('deskworks.dashboard.dashAdminUsersCheckedIn', [\n  'deskworks.userRoles',\n  'deskworks.CheckedInUsers',\n])\n\n  .directive('dashAdminUsersCheckedIn', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-admin/dash-admin-users-checked-in.tpl.html',\n      controller: 'DashAdminUsersCheckedInCtrl as $ctrl',\n      bindToController: {\n        nats: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        var self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      }\n    };\n  })\n\n  .controller('DashAdminUsersCheckedInCtrl', function($scope, $timeout, dwAlerts,\n                                                      state, helper, userRoles, CheckedInUsers) {\n    var $ctrl = this;\n\n    $scope.helper = helper;\n    $scope.userRoles = userRoles;\n    var subs = [];\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = function() {\n      CheckedInUsers.query(state.getCurrentCenterId())\n        .catch(err => dwAlerts.error(err, 'Failed to query checked-in users.'))\n        .then(result => {\n          $ctrl.users = result;\n          subs.push($ctrl.nats.subscribe('API.:siteId.centers.:centerId.checked-in-users.*', onUpdate));\n          $timeout(() => $scope.$broadcast('dwWidget:SpinStop'));\n        });\n    };\n\n    /**\n     * $onDestroy\n     */\n    $ctrl.$onDestroy = function() {\n      subs.forEach(sub => $ctrl.nats.unsubscribe(sub));\n    };\n\n    /**\n     * Navigate to user profile on clicking checked-in user\n     */\n    $ctrl.toUserProfile = function(user) {\n      state.setCurrentUserId(user.id);\n      return state.setPath('/profile');\n    };\n\n    /**\n     * onUpdate event\n     */\n    function onUpdate(msg) {\n      if (!$ctrl.users) return;\n      var idx = helper.findIndex($ctrl.users, msg.id);\n      if (msg.devices <= 0 && idx >= 0) return $ctrl.users.splice(idx, 1);\n      if (msg.devices > 0 && idx >= 0) return angular.extend($ctrl.users[idx], msg);\n      if (msg.devices > 0 && idx < 0) return $ctrl.users.push(msg);\n    }\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<ff-panel class=\\\"dash-widget-admin-users-checked-in\\\"> <ff-panel-header> <ff-icon sense=\\\"user\\\"></ff-icon> <span translate=\\\"DASHBOARD.ADMIN.USERS_CHECKED_IN.HEADER\\\"></span> </ff-panel-header> <div> <span ng-if=\\\"!$ctrl.users.length\\\" class=\\\"animate-collapse\\\" translate=\\\"DASHBOARD.ADMIN.USERS_CHECKED_IN.EMPTY\\\"></span> <ff-row ng-repeat=\\\"user in $ctrl.users\\\" class=\\\"ff-clickable animate-collapse\\\" ng-click=\\\"$ctrl.toUserProfile(user)\\\" ff-dim title=\\\"{{'DASHBOARD.ADMIN.USERS_CHECKED_IN.NAVIGATE_TITLE' | translate}}\\\"> <ff-static class=\\\"dash-avatar\\\"> <ff-img ff-src=\\\"{{::user.photo}}\\\" ng-if=\\\"::user.photo\\\" ff-alt=\\\"{{::user.name}}\\\"></ff-img> <i class=\\\"fa fa-user\\\" ng-if=\\\"::!user.photo\\\"></i> </ff-static> <ff-static flex=\\\"0 0 30px\\\" class=\\\"ff-center\\\" style=\\\"z-index:2\\\"> <span class=\\\"badge\\\" ng-class=\\\"::userRoles[user.role].color\\\" ng-click=\\\"$event.stopPropagation()\\\" title=\\\"\\\"> {{user.devices}} <ff-tip class=\\\"text-nowrap\\\" ng-class=\\\"::userRoles[user.role].color\\\" style=\\\"min-width:60px\\\"> <div> <span class=\\\"hint-label\\\">{{'GLOBAL.ROLE' | translate}}:</span> {{::userRoles[user.role].name}} </div> <div> <span class=\\\"hint-label\\\">{{'DASHBOARD.ADMIN.USERS_CHECKED_IN.DEVICES' | translate}}:</span> {{user.devices}} </div> </ff-tip> </span> </ff-static> <ff-static ff-bind=\\\"::helper.join([user.company, user.name], ', ')\\\"></ff-static> <ff-static> <a href=\\\"mailto:{{::user.email}}\\\" ng-bind=\\\"::user.email\\\" ng-click=\\\"$event.stopPropagation()\\\" title=\\\"\\\"></a> </ff-static> </ff-row> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import UsageTracking from 'shared/services/usage/usage-tracking.service'\n\n/**\n * dashGeneral directive - general widget for user dashboard\n */\nexport default angular.module('deskworks.dashboard.dashGeneral', [\n  'deskworks.dashboard.service',\n  'deskworks.setup.service',\n  'deskworks.inventory.product.service',\n  UsageTracking.name,\n])\n\n  .directive('dashGeneral', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-user/dash-general.tpl.html',\n      controller: 'DashGeneralCtrl as $ctrl',\n      bindToController: {\n        settings: '<'\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        const self = this;\n        $transclude(() => {\n          helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController);\n        });\n      }\n    };\n  })\n\n  .controller('DashGeneralCtrl', function($scope, $q, $filter, state, helper, dwAlerts,\n                                          userProfileService, dashboardService, UsageTracking, productService) {\n    const $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = function() {\n      const $user = userProfileService.get(state.getCurrentCenterId(), state.getCurrentUserId())\n        .catch(err => dwAlerts.error(err, 'Failed to load user profile.'))\n        .then(result => {\n          $ctrl.user = result;\n          angular.forEach($ctrl.user.creditCards, cc => { // find default payment method and check its expiry date\n            if (cc.id === $ctrl.user.paymentMethodId) {\n              $ctrl.defaultPaymentMethod = cc;\n              const expiry = $filter('toDate')($ctrl.defaultPaymentMethod.expiry);\n              if (expiry - moment() < 3600000 * 24 * 30) {\n                if (expiry - moment() >= 0) $ctrl.showExpireWarning = true;\n                else $ctrl.showExpiredWarning = true;\n                cc.expiry = $filter('date')(expiry, 'mediumDate');\n              }\n            }\n          });\n        });\n\n      const $usages = UsageTracking.query({ centerId: state.getCurrentCenterId(), userId: state.getCurrentUserId(), page: 1, pageSize: 1 })\n        .catch(err => dwAlerts.error(err, 'Failed to query usage tracking.'));\n\n      const $products = productService.getProducts()\n        .catch(err => dwAlerts.error(err, 'Failed to query products.'));\n\n      $q.all({ usages: $usages, products: $products })\n        .then(result => {\n          const { usages, products } = result;\n          $ctrl.closingBalance = usages.days.length && usages.days[0].closingBalance || [];\n          $ctrl.closingBalance.forEach(usage => {\n            usage.productName = (products.find(p => p.id === usage.productId) || {}).name;\n            usage.amount = angular.isDefined(usage.hours) ? $filter('hours')(usage.hours) : $filter('ncurrency')(usage.amount);\n          });\n        });\n\n      // $q.all([$user, $usages, $products])\n      //   .finally(() => $scope.$broadcast('dwWidget:SpinStop'));\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <ff-icon sense=\\\"list\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.GENERAL_INFO.HEADER\\\"></span> </ff-panel-header> <div ff-dim=\\\"!$ctrl.user || !$ctrl.closingBalance\\\"> <span translate=\\\"GLOBAL.NONE\\\" ng-if=\\\"!$ctrl.closingBalance.length && !$ctrl.showExpireWarning && !$ctrl.showExpiredWarning\\\"></span> <ff-row ng-repeat=\\\"rec in $ctrl.closingBalance\\\" class=\\\"animate-collapse\\\"> <ff-static><span> <ff-icon sense=\\\"info\\\"></ff-icon> <span ng-if=\\\"rec.typeId !== 'reservation'\\\" translate=\\\"DASHBOARD.USER.GENERAL_INFO.PASS_BALANCE\\\" translate-values=\\\"{{rec}}\\\"></span> <span ng-if=\\\"rec.typeId === 'reservation'\\\" translate=\\\"DASHBOARD.USER.GENERAL_INFO.CREDIT_BALANCE\\\" translate-values=\\\"{{rec}}\\\"></span> </span></ff-static> </ff-row> <ff-row ng-if=\\\"$ctrl.showExpireWarning\\\" class=\\\"animate-collapse\\\"> <ff-static><span> <ff-icon sense=\\\"warning\\\" class=\\\"text-danger\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.GENERAL_INFO.CC_DUE_TO_EXPIRE\\\" translate-values=\\\"{ date: $ctrl.defaultPaymentMethod.expiry }\\\"></span> </span></ff-static> </ff-row> <ff-row ng-if=\\\"$ctrl.showExpiredWarning\\\" class=\\\"animate-collapse\\\"> <ff-static><span> <ff-icon sense=\\\"warning\\\" class=\\\"text-danger\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.GENERAL_INFO.CC_HAS_EXPIRED\\\" translate-values=\\\"{ date: $ctrl.defaultPaymentMethod.expiry }\\\"></span> </span></ff-static> </ff-row> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import './dash-members-checked-in.scss';\nimport dwModal from 'shared/dw-modal/dw-modal.service';\n\n/**\n * dashMembersCheckedIn directive - checked-in members widget for user dashboard\n */\nexport default angular.module('deskworks.dashboard.dashMembersCheckedIn', [\n  'deskworks.CheckedInMembers',\n  'deskworks.OurMemberModalCtrl',\n  dwModal.name,\n])\n\n  .directive('dashMembersCheckedIn', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-user/dash-members-checked-in.tpl.html',\n      controller: 'DashMembersCheckedInCtrl as $ctrl',\n      bindToController: {\n        nats: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        var self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      }\n    };\n  })\n\n  .controller('DashMembersCheckedInCtrl', function($scope, $timeout, state, helper, dwAlerts, dwModal, CheckedInMembers) {\n    const $ctrl = this;\n\n    $scope.helper = helper;\n    const subs = [];\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = function() {\n      CheckedInMembers.query(state.getCurrentCenterId())\n        .catch(err => dwAlerts.error(err, 'Failed to query checked-in members.'))\n        .then(users => {\n          $ctrl.users = users;\n          subs.push($ctrl.nats.subscribe('API.:siteId.centers.:centerId.checked-in-members.create', onCreate));\n          subs.push($ctrl.nats.subscribe('API.:siteId.centers.:centerId.checked-in-members.delete', onDelete));\n        });\n    };\n\n    /**\n     * $onDestroy\n     */\n    $ctrl.$onDestroy = function() {\n      subs.forEach(sub => $ctrl.nats.unsubscribe(sub));\n    };\n\n    /**\n     * View member details\n     */\n    $ctrl.view = function(member) {\n      dwModal.show({\n        scope: $scope,\n        templateUrl: 'members/our-members/our-member-modal.tpl.html',\n        controller: 'OurMemberModalCtrl',\n        inputs: { member },\n      });\n    };\n\n    /**\n     * onCreate event\n     */\n    function onCreate(msg) {\n      if (!$ctrl.users) return;\n      const user = helper.find($ctrl.users, msg.id);\n      if (user) return angular.extend(user, msg);\n      $ctrl.users.push(msg);\n    }\n\n    /**\n     * onDelete event\n     */\n    function onDelete(msg) {\n      if (!$ctrl.users) return;\n      const idx = helper.findIndex($ctrl.users, msg.id);\n      if (idx >= 0) $ctrl.users.splice(idx, 1);\n    }\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<ff-panel class=\\\"dash-widget-members-checked-in ff-no-frame\\\"> <ff-panel-header> <ff-icon sense=\\\"user\\\"></ff-icon> <span translate=\\\"DASHBOARD.ADMIN.USERS_CHECKED_IN.HEADER\\\"></span> </ff-panel-header> <div ff-dim=\\\"!$ctrl.users\\\"> <div class=\\\"ff-grid\\\"> <ff-row class=\\\"ff-clickable animate-collapse\\\" ff-dim flex=\\\"{sm: '0 0 50%'}\\\" ng-repeat=\\\"user in $ctrl.users\\\" ng-click=\\\"$ctrl.view(user)\\\"> <ff-static class=\\\"dash-avatar\\\"> <ff-img ff-src=\\\"{{::user.photo}}\\\" ng-if=\\\"::user.photo\\\" ff-alt=\\\"{{::user.name}}\\\"></ff-img> <i class=\\\"fa fa-user\\\" ng-if=\\\"::!user.photo\\\"></i> </ff-static> <ff-static> <div> <div><strong>{{::user.name}}</strong></div> <small>{{::user.company}}</small> </div> </ff-static> </ff-row> </div> <div ng-if=\\\"$ctrl.users && !$ctrl.users.length\\\" class=\\\"animate-collapse ff-no-frame\\\"> <span translate=\\\"DASHBOARD.ADMIN.USERS_CHECKED_IN.EMPTY\\\"></span> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import niceTimeDirective from 'shared/nice-date-time/nice-time.directive';\n\n/**\n * dashMessageBoard directive - brief messages widget for user dashboard\n */\nexport default angular.module('deskworks.dashboard.dashMessageBoard', [\n  'deskworks.MessageBoard',\n  niceTimeDirective.name,\n])\n\n  .directive('dashMessageBoard', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-user/dash-message-board.tpl.html',\n      controller: 'DashMessageBoardCtrl as $ctrl',\n      bindToController: {\n        nats: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        const self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      },\n    };\n  })\n\n  .controller('DashMessageBoardCtrl', function($scope, $timeout, dwAlerts, state, helper, MessageBoard) {\n    const $ctrl = this;\n\n    const subs = [];\n    const maxMessages = 10;\n    const maxLength = 140;\n\n    $ctrl.$onInit = function() {\n      MessageBoard.query({ centerId: state.getCurrentCenterId(), limit: 10 })\n        .catch(err => dwAlerts.error(err, 'Failed to query messages.'))\n        .then(messages => {\n          $ctrl.messages = messages.map(cropMsgText);\n          if (!subs.length) {\n            subs.push($ctrl.nats.subscribe('API.:siteId.centers.:centerId.message-board.messages.create', onCreate));\n            subs.push($ctrl.nats.subscribe('API.:siteId.centers.:centerId.message-board.messages.update', onUpdate));\n            subs.push($ctrl.nats.subscribe('API.:siteId.centers.:centerId.message-board.messages.delete', onDelete));\n          }\n        })\n        .catch(() => $ctrl.messages = []);\n    };\n\n    /**\n     * Message click handler\n     */\n    $ctrl.toMsg = function(msg) {\n      return state.setPath('/message-board');\n    };\n\n    /**\n     * Crop message to maxLength\n     */\n    function cropMsgText(msg) {\n      if (msg.text.length > maxLength) {\n        msg.text = msg.text.substr(0, maxLength);\n        msg.crop = true;\n      }\n      return msg;\n    }\n\n    /**\n     * Create message event\n     */\n    function onCreate(msg) {\n      msg = MessageBoard.deserialize(msg);\n      cropMsgText(msg);\n      const message = helper.find($ctrl.messages, msg.id);\n      if (message) return angular.extend(message, msg);\n      $ctrl.messages.unshift(msg);\n      if ($ctrl.messages.length > maxMessages) $ctrl.messages.splice(maxMessages, $ctrl.messages.length - maxMessages);\n    }\n\n    /**\n     * Update message event\n     */\n    function onUpdate(msg) {\n      cropMsgText(msg);\n      const message = helper.find($ctrl.messages, msg.id);\n      if (message) return angular.extend(message, msg);\n    }\n\n    /**\n     * Delete message event\n     */\n    function onDelete(msg) {\n      const idx = helper.findIndex($ctrl.messages, msg.id);\n      if (idx >= 0) $ctrl.messages.splice(idx, 1);\n    }\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <div class=\\\"ff-grid gutter-v-half gutter-h-half\\\"> <span flex=\\\"auto\\\"><ff-icon sense=\\\"message\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.MESSAGE_BOARD.HEADER\\\"></span></span> <ff-btn flex=\\\"none\\\" sense=\\\"edit\\\" size=\\\"xs\\\" ff-click=\\\"$ctrl.toMsg()\\\" style=\\\"margin:-.6rem 0 .4rem 0\\\" title=\\\"{{'DASHBOARD.USER.MESSAGE_BOARD.BTN_POST' | translate}}\\\"></ff-btn> </div> </ff-panel-header> <div class=\\\"message-board\\\" ff-dim=\\\"!$ctrl.messages\\\"> <ff-row ng-repeat=\\\"msg in $ctrl.messages\\\" class=\\\"msg-container animate-collapse ff-clickable\\\" ng-click=\\\"$ctrl.toMsg(msg)\\\"> <div class=\\\"msg-ava\\\"> <ff-img ff-src=\\\"{{::msg.author.photo}}\\\" ng-if=\\\"::msg.author.photo\\\" ff-alt=\\\"{{::msg.author.fullName || 'anonymous'}}\\\"></ff-img> <i class=\\\"fa fa-user\\\" ng-if=\\\"::!msg.author.photo\\\"></i> </div> <div> <div> <div class=\\\"msg-meta\\\"> <span class=\\\"msg-name\\\">{{::msg.author.fullName || 'anonymous'}}</span> <span class=\\\"msg-time\\\" nice-time=\\\"::msg.createdAt\\\"></span> <span class=\\\"msg-date\\\">{{::msg.createdAt | date: 'mediumDate'}}</span> </div> <div class=\\\"msg-body\\\"> {{msg.text}} <more ng-if=\\\"msg.crop\\\" translate=\\\"DASHBOARD.USER.MESSAGE_BOARD.MORE\\\"></more> </div> </div> </div> </ff-row> </div> <div ng-if=\\\"$ctrl.messages && !$ctrl.messages.length\\\"><span translate=\\\"GLOBAL.NONE\\\"></span></div> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * dashOutstandingCharges directive - Outstanding Charges widget for dashboard\n */\nexport default angular.module('deskworks.dashboard.dashOutstandingCharges', [\n  'deskworks.purchase.service'\n])\n\n  .directive('dashOutstandingCharges', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-user/dash-outstanding-charges.tpl.html',\n      controller: 'DashOutstandingChargesCtrl as $ctrl',\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        var self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      }\n    };\n  })\n\n  .controller('DashOutstandingChargesCtrl', function($scope, $q, $timeout, dwAlerts, state, helper, purchaseService) {\n    var $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = function() {\n      purchaseService.getPurchases(state.getCurrentCenterId(), state.getCurrentUserId())\n        .catch(err => dwAlerts.error(err, 'Failed to query non-recurring charges.'))\n        .then(result => $q.all(result.open\n            .concat(result.credit)\n            .map(order => purchaseService.get(state.getCurrentCenterId(), state.getCurrentUserId(), order.id)\n              .catch(err => dwAlerts.error(err, 'Failed to get purchase for order #' + order.id + '.'))\n              .then(result => {\n                $ctrl.charges = ($ctrl.charges || []).concat(result.items);\n              }))\n          )\n          .then(() => $ctrl.charges = $ctrl.charges || []));\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <ff-icon sense=\\\"billing\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.OUTSTANDING_CHARGES.HEADER\\\"></span> </ff-panel-header> <div ff-dim=\\\"!$ctrl.charges\\\"> <ff-header class=\\\"animate-collapse\\\" ng-if=\\\"$ctrl.charges.length\\\"> <ff-row class=\\\"ff-small\\\"> <span flex=\\\"0 0 40px\\\" class=\\\"ff-center show-xs\\\" translate=\\\"DASHBOARD.USER.OUTSTANDING_CHARGES.QUANTITY\\\"></span> <span flex=\\\"0 1 280px\\\" translate=\\\"DASHBOARD.USER.OUTSTANDING_CHARGES.NAME\\\"></span> <span flex=\\\"1 1 450px\\\" class=\\\"show-sm\\\" translate=\\\"DASHBOARD.USER.OUTSTANDING_CHARGES.DESCRIPTION\\\"></span> <span flex=\\\"0 0 75px\\\" class=\\\"ff-right show-xs\\\" translate=\\\"DASHBOARD.USER.OUTSTANDING_CHARGES.PRICE\\\"></span> <span flex=\\\"0 0 75px\\\" class=\\\"ff-right\\\" translate=\\\"DASHBOARD.USER.OUTSTANDING_CHARGES.TOTAL\\\"></span> </ff-row> </ff-header> <ff-row ng-repeat=\\\"charge in $ctrl.charges\\\" class=\\\"animate-collapse\\\"> <ff-static flex=\\\"0 0 40px\\\" ff-bind=\\\"charge.quantity\\\" class=\\\"ff-center show-xs\\\"></ff-static> <ff-static flex=\\\"0 1 280px\\\" ff-bind=\\\"charge.name\\\"></ff-static> <ff-static flex=\\\"1 1 450px\\\" class=\\\"show-sm\\\" ff-bind=\\\"charge.description\\\"></ff-static> <ff-static flex=\\\"0 0 75px\\\" ff-bind=\\\"charge.price | ncurrency\\\" class=\\\"ff-right show-xs\\\"></ff-static> <ff-static flex=\\\"0 0 75px\\\" ff-bind=\\\"charge.amount | ncurrency\\\" class=\\\"ff-right\\\"></ff-static> </ff-row> <div ng-if=\\\"$ctrl.charges && !$ctrl.charges.length\\\" class=\\\"animate-collapse ff-no-frame\\\"> <span translate=\\\"GLOBAL.NONE\\\"></span> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * dashRecurringCharges directive - Recurring Charges widget for dashboard\n */\nexport default angular.module('deskworks.dashboard.recurringCharges', [\n  'deskworks.recurringCharge.service'\n])\n\n  .directive('dashRecurringCharges', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-user/dash-recurring-charges.tpl.html',\n      controller: 'DashRecurringChargesCtrl as $ctrl',\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        var self = this;\n        $transclude(() => helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController));\n      }\n    };\n  })\n\n  .controller('DashRecurringChargesCtrl', function($scope, dwAlerts, state, helper, recurringChargeService) {\n    var $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = function() {\n      recurringChargeService.query(state.getCurrentCenterId(), state.getCurrentUserId())\n        .catch(err => dwAlerts.error(err, 'Failed to query recurring charges.'))\n        .then(result => {\n          $ctrl.charges = result\n            .filter(charge => charge.status.id === 'active');\n        });\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <ff-icon sense=\\\"billing\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.RECURRING_CHARGES.HEADER\\\"></span> </ff-panel-header> <div ff-dim=\\\"!$ctrl.charges\\\"> <ff-header class=\\\"animate-collapse\\\" ng-if=\\\"$ctrl.charges.length\\\"> <ff-row class=\\\"ff-small\\\"> <span flex=\\\"0 0 40px\\\" class=\\\"ff-center show-xs\\\" translate=\\\"DASHBOARD.USER.RECURRING_CHARGES.QUANTITY\\\"></span> <span flex=\\\"0 1 280px\\\" translate=\\\"DASHBOARD.USER.RECURRING_CHARGES.NAME\\\"></span> <span flex=\\\"1 1 400px\\\" class=\\\"show-sm\\\" translate=\\\"DASHBOARD.USER.RECURRING_CHARGES.DESCRIPTION\\\"></span> <span flex=\\\"1 1 130px\\\" class=\\\"ff-right\\\" translate=\\\"DASHBOARD.USER.RECURRING_CHARGES.CHARGE_DATE\\\"></span> <span flex=\\\"1 0 70px\\\" class=\\\"ff-right\\\" translate=\\\"DASHBOARD.USER.RECURRING_CHARGES.TOTAL\\\"></span> </ff-row> </ff-header> <ff-row ng-repeat=\\\"charge in $ctrl.charges\\\" class=\\\"animate-collapse\\\"> <ff-static flex=\\\"0 0 40px\\\" ff-bind=\\\"charge.quantity\\\" class=\\\"ff-center show-xs\\\"></ff-static> <ff-static flex=\\\"0 1 280px\\\" ff-bind=\\\"charge.productName\\\"></ff-static> <ff-static flex=\\\"1 1 400px\\\" class=\\\"show-sm\\\" ff-bind=\\\"charge.description\\\"></ff-static> <ff-static flex=\\\"1 1 130px\\\" ff-bind=\\\"charge.nextBilled | date:'mediumDate'\\\" class=\\\"ff-right\\\"></ff-static> <ff-static flex=\\\"1 0 70px\\\" ff-bind=\\\"charge.total | ncurrency\\\" class=\\\"ff-right\\\"></ff-static> </ff-row> <div ng-if=\\\"$ctrl.charges && !$ctrl.charges.length\\\" class=\\\"animate-collapse ff-no-frame\\\"> <span translate=\\\"GLOBAL.NONE\\\"></span> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import niceTimeDirective from 'shared/nice-date-time/nice-time.directive';\n\n/**\n * dashUpcomingReservations directive - Upcoming Reservation widget for dashboard\n */\nexport default angular.module('deskworks.dashboard.upcomingReservations', [\n  'deskworks.reservationService',\n  niceTimeDirective.name,\n])\n\n  .directive('dashUpcomingReservations', function(helper) {\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      templateUrl: 'widgets-user/dash-upcoming-reservations.tpl.html',\n      controller: 'DashUpcomingReservationsCtrl as $ctrl',\n      bindToController: {\n        settings: '<',\n      },\n\n      link: function($scope, $element, $attrs, $ctrl, $transclude) {\n        const self = this;\n        $transclude(function() {\n          helper.transcludeElement($scope, $element, $attrs, self.templateUrl, self.bindToController);\n        });\n      },\n    };\n  })\n\n  .controller('DashUpcomingReservationsCtrl', function($scope, dwAlerts, state, helper, reservationService) {\n    const $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = function() {\n      const params = {\n        centerId: state.getCurrentCenterId(),\n        userId: state.getCurrentUserId(),\n        from: moment(),\n      };\n\n      reservationService.query(params)\n        .catch(err => dwAlerts.error(err, 'Failed to query reservations.'))\n        .then(result => $ctrl.reservations = result);\n    };\n  });\n","// Module\nvar code = \"<ff-panel> <ff-panel-header> <ff-icon sense=\\\"reservation\\\"></ff-icon> <span translate=\\\"DASHBOARD.USER.UPCOMING_RESERVATIONS.HEADER\\\"></span> </ff-panel-header> <div ff-dim=\\\"!$ctrl.reservations\\\"> <ff-header class=\\\"animate-collapse\\\" ng-if=\\\"$ctrl.reservations.length\\\"> <ff-row class=\\\"ff-small\\\"> <span flex=\\\"0 1 120px\\\" class=\\\"ff-right\\\" translate=\\\"DASHBOARD.USER.UPCOMING_RESERVATIONS.DATE\\\"></span> <span flex=\\\"0 1 160px\\\" class=\\\"ff-center\\\" translate=\\\"DASHBOARD.USER.UPCOMING_RESERVATIONS.TIME\\\"></span> <span flex=\\\"1 1 230px\\\" translate=\\\"DASHBOARD.USER.UPCOMING_RESERVATIONS.SPACE\\\"></span> <span flex=\\\"0 1 100px\\\" class=\\\"ff-center\\\" translate=\\\"DASHBOARD.USER.UPCOMING_RESERVATIONS.ACCESS_CODE\\\" ng-if=\\\"$ctrl.settings.enableAccessCodes\\\"></span> </ff-row> </ff-header> <ff-row ng-repeat=\\\"reservation in $ctrl.reservations\\\" class=\\\"animate-collapse\\\"> <ff-static flex=\\\"0 1 120px\\\" class=\\\"ff-right\\\" ff-bind=\\\"reservation.from | date:'mediumDate'\\\"></ff-static> <ff-static flex=\\\"0 1 160px\\\" class=\\\"ff-center\\\"> <span><span nice-time=\\\"reservation.from\\\"></span> - <span nice-time=\\\"reservation.to\\\"></span></span> </ff-static> <ff-static flex=\\\"1 1 230px\\\" ff-bind=\\\"reservation.reservationUnitName\\\"></ff-static> <ff-static flex=\\\"0 1 100px\\\" class=\\\"ff-center\\\" ff-bind=\\\"reservation.accessCode\\\" ng-if=\\\"$ctrl.settings.enableAccessCodes\\\"></ff-static> </ff-row> <div ng-if=\\\"$ctrl.reservations && !$ctrl.reservations.length\\\" class=\\\"animate-collapse ff-no-frame\\\"> <span translate=\\\"GLOBAL.NONE\\\"></span> </div> </div> </ff-panel> \";\n// Exports\nmodule.exports = code;","/**\n * Options for Usage -> View Usage -> Source\n */\nexport default angular.module('deskworks.optsCreditType', [])\n\n  .factory('optsCreditType', function($rootScope, $translate) {\n    const opts = [\n      { id: 'reservation', _name: 'USAGE_TRACKING.CREDIT_TYPE.RESERVATION' },\n      { id: 'pass', _name: 'USAGE_TRACKING.CREDIT_TYPE.PASS' },\n      { id: 'bucket', _name: 'USAGE_TRACKING.CREDIT_TYPE.BUCKET' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Usage -> View Usage -> Source\n */\nexport default angular.module('deskworks.optsUsageSource', [])\n\n  .factory('optsUsageSource', function($rootScope, $translate) {\n    const opts = [\n      { id: 'reservation', _name: 'USAGE_TRACKING.SOURCE.RESERVATION' },\n      { id: 'network', _name: 'USAGE_TRACKING.SOURCE.NETWORK' },\n      { id: 'manual', _name: 'USAGE_TRACKING.SOURCE.MANUAL' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","import optsUsageSource from 'shared/services/usage/opts-usage-source.service';\nimport optsCreditType from 'shared/services/usage/opts-credit-type.service';\n\nexport default angular.module('deskworks.UsageTracking', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer',\n  optsUsageSource.name,\n  optsCreditType.name,\n])\n\n  .factory('UsageTracking', function($resource, $filter, $timeout, deskworksConfig, helper, datesDeserializer,\n                                     optsUsageSource, optsCreditType) {\n    const desDates = datesDeserializer(['days.date', 'days.usages.from', 'days.usages.to']);\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/usage-tracking/:usageId'), {}, {\n      query: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      /**\n       * @param params.centerId\n       * @param params.userId\n       * @param params.page\n       * @param params.pageSize\n       * @returns {*}\n       */\n      query: params => res.query({ page: 1, pageSize: 20, ...params }).$promise\n        .then(result => {\n          angular.forEach(result.days, day => {\n            day.usages.forEach(usage => {\n              usage.sourceName = (optsUsageSource.find(i => i.id === usage.sourceId) || {}).name || usage.sourceId;\n            });\n            day.usageAmount = helper.round(day.usageTotals.reduce((sum, usage) => +usage.amount + sum, 0));\n            day.appliedAmount = helper.round(day.creditsApplied.reduce((sum, credit) => +credit.amount + sum, 0));\n            setCreditType(day.openingBalance);\n            setCreditType(day.creditsApplied);\n            setCreditType(day.closingBalance);\n          });\n          return result;\n        }),\n\n      /**\n       * @param params.centerId\n       * @param params.userId\n       * @param params.usageId\n       * @returns {*}\n       */\n      delete: params => res.delete(params).$promise,\n    };\n\n    function setCreditType(credits) {\n      credits.forEach(credit => {\n        if(angular.isDefined(credit.passes)) {\n          credit.typeId = 'pass';\n        }\n        else if(angular.isDefined(credit.bucketPasses)) {\n          credit.typeId = 'bucket';\n          credit.passes = credit.bucketPasses;\n          delete credit.bucketPasses;\n        }\n        else credit.typeId = 'reservation';\n        credit.typeName = (optsCreditType.find(i => i.id === credit.typeId) || {}).name;\n      });\n    }\n  });\n"],"sourceRoot":""}