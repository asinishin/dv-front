{"version":3,"sources":["webpack:///./bundles/setup sync .*\\.tpl\\.html$","webpack:///./bundles/setup sync \\..+\\/.+\\.js$","webpack:///./bundles/setup/api-settings/api-settings.controller.js","webpack:///./bundles/setup/api-settings/api-settings.tpl.html","webpack:///./bundles/setup/banks/bank-edit.controller.js","webpack:///./bundles/setup/banks/bank-edit.tpl.html","webpack:///./bundles/setup/banks/banks.controller.js","webpack:///./bundles/setup/banks/banks.tpl.html","webpack:///./bundles/setup/bar-upload-settings/bar-upload-settings.controller.js","webpack:///./bundles/setup/bar-upload-settings/bar-upload-settings.tpl.html","webpack:///./bundles/setup/bundles/bundles.controller.js","webpack:///./bundles/setup/bundles/bundles.tpl.html","webpack:///./bundles/setup/center/center-edit.controller.js","webpack:///./bundles/setup/center/center-edit.tpl.html","webpack:///./bundles/setup/center/center-list.controller.js","webpack:///./bundles/setup/center/center-list.tpl.html","webpack:///./bundles/setup/index.js","webpack:///./bundles/setup/integrations-setup/integrations-setup.controller.js","webpack:///./bundles/setup/integrations-setup/integrations-setup.tpl.html","webpack:///./bundles/setup/owners-regions/owners-regions.controller.js","webpack:///./bundles/setup/owners-regions/owners-regions.tpl.html","webpack:///./bundles/setup/reservation-fields/reservation-field-edit.controller.js","webpack:///./bundles/setup/reservation-fields/reservation-field-edit.tpl.html","webpack:///./bundles/setup/reservation-fields/reservation-field-types.service.js","webpack:///./bundles/setup/reservation-fields/reservation-fields.controller.js","webpack:///./bundles/setup/reservation-fields/reservation-fields.tpl.html","webpack:///./bundles/setup/settings/settings.controller.js","webpack:///./bundles/setup/settings/settings.tpl.html","webpack:///./bundles/setup/system-email/system-email-edit.controller.js","webpack:///./bundles/setup/system-email/system-email-edit.tpl.html","webpack:///./bundles/setup/system-email/system-email-list.controller.js","webpack:///./bundles/setup/system-email/system-email-list.tpl.html","webpack:///./bundles/setup/task/task-edit.controller.js","webpack:///./bundles/setup/task/task-edit.tpl.html","webpack:///./bundles/setup/task/task-list.controller.js","webpack:///./bundles/setup/task/task-list.tpl.html","webpack:///./bundles/setup/user-fields/user-field-types.service.js","webpack:///./bundles/setup/user-fields/user-fields.controller.js","webpack:///./bundles/setup/user-fields/user-fields.tpl.html","webpack:///./shared/drag-n-drop/dnd.service.js","webpack:///./shared/drag-n-drop/drag-n-drop.scss?4a61","webpack:///./shared/drag-n-drop/keese.service.js","webpack:///./shared/form-design/fd-toolbar.directive.js","webpack:///./shared/form-design/fd-toolbar.scss?50ce","webpack:///./shared/form-design/fd-toolbar.tpl.html","webpack:///./shared/reservation-rules/reservation-rules.component.js","webpack:///./shared/reservation-rules/reservation-rules.scss?3e59","webpack:///./shared/reservation-rules/reservation-rules.tpl.html","webpack:///./shared/reservation-rules/rr-checklist.component.js","webpack:///./shared/reservation-rules/rr-checklist.tpl.html","webpack:///./shared/reservation-rules/rr-date-limit.component.js","webpack:///./shared/reservation-rules/rr-date-limit.tpl.html","webpack:///./shared/reservation-rules/rr-limit.component.js","webpack:///./shared/reservation-rules/rr-limit.tpl.html","webpack:///./shared/reservation-rules/rr-rule.component.js","webpack:///./shared/reservation-rules/rr-rule.tpl.html","webpack:///./shared/reservation-rules/rr-static.component.js","webpack:///./shared/reservation-rules/rr-static.tpl.html","webpack:///./shared/reservation-rules/rr-weekday-limit.component.js","webpack:///./shared/reservation-rules/rr-weekday-limit.tpl.html","webpack:///./shared/services/reservation-rules/opts-reservation-buffer.service.js","webpack:///./shared/services/reservation-rules/opts-reservation-scale.service.js","webpack:///./shared/services/setup/opts-invoice-template.service.js","webpack:///./shared/services/setup/reservation-field-option.service.js"],"names":["angular","module","controller","$scope","$translate","$window","dwAlerts","state","helper","debounce","allowedHosts","allowedHostService","$ctrl","setPageTitle","instant","save","allowedHost","form","index","$invalid","$$spin","catch","err","error","finally","new","push","isActive","delete","id","confirm","then","bank","bankService","optsTimezone","pointFirstInvalid","setPath","back","niceTimeDirective","name","banks","forEach","timezone","edit","setupService","settings","centerId","getCurrentCenterId","updateBarUploadSettings","result","$setPristine","bundlesConfig","autoSave","bundles","getOptionalBundles","get","config","wrap","saveFunc","saving","purify","reservationRulesDirective","dwAddressDirective","dwPhoneDirective","$timeout","center","Owner","Region","centerService","optsFreeAccessLength","NetCheckInSettings","vm","options","isNew","isFranchise","ownerRegionReadOnly","getLoggedUser","role","query","owners","unshift","regions","netCheckInSettings","freeAccessLength","$emit","remove","deleteCenter","uploadPhoto","$files","$invalidFiles","length","spinUpload","uploadThumbnail","thumbnail","data","photo","deletePhoto","promise","addTax","tax","taxRates","$setDirty","deleteTax","indexOf","centers","admin","permission","$injector","importAll","r","js","require","loadNewModules","m","default","invoke","$templateCache","ctx","key","put","replace","onInit","appointmentPlus","has","quickBooks","teamgo","kisi","doorflow","ezeep","greetly","saveOwner","owner","saveRegion","region","newOwner","newRegion","deleteOwner","deleteRegion","reservationFieldTypes","ReservationFieldOption","$q","close","field","roles","types","newOption","saveOption","option","fieldId","noop","deleteOption","when","o","factory","$rootScope","icon","_name","t","translate","$on","type","dnd","fdToolbar","ReservationField","dwModal","ReservationFieldEditCtrl","Roles","reservationCategoryService","categories","fields","fieldsPromise","newFieldTpl","reservationCategoryId","required","access","reduce","res","all","category","c","onDrop","srcList","srcIndex","targetList","targetIndex","target","item","move","deleteField","saveField","editField","show","scope","templateUrl","inputs","deleting","dwSearchUserDirective","optsInvoiceTemplate","$route","userProfileService","optsInvoiceDate","optsProrateAtStart","optsProrateAtTermination","optsDashboardIncome","optsReservationCreditsUnit","optsMinPassFractionUnit","optsDeclinedPaymentAutoRetryPeriod","optsDeclinedPaymentAutoRetryAttempts","optsPassGracePeriod","advanceInvoicingDays","i","d","fetchOwners","fetchAdminRoles","updateSetupSettings","reload","calendarOwners","calOwner","fullName","firstName","lastName","company","email","adminRoles","addCalendarOwner","deleteCalendarOwner","idx","disconnectCalendar","window","updateSetupSettingsRaw","calendarConnected","ccTypeRequired","creditCardTypes","every","ccType","enable","systemEmail","systemService","optsSystemEmailFunction","functions","function","f","updateSystemEmail","createSystemEmail","removeSystemEmail","systemEmails","task","Task","optsTaskPermission","permissions","onChangeIsGroup","isGroup","tasks","tasksHidden","tasksHiddenCollapse","position","viewRoles","editRoles","join","UserField","userFieldTypes","userFields","sections","customFields","section","shareable","keese","order","generate","alphabet","radix","order_specifier","values","low","high","count","multi_keese","single_keese","average","increment","Array","value","recurse","low_value","high_value","low_index","high_index","mid_index","Math","floor","mid_value","n","parse","digits","substr","order_length","add","Error","a","b","pad_to_equal_order","b_carry","max_digit_length","max","a_value","b_value","half_distance_value","half_distance_digits","j","half_distance","construct","result_digits","lastIndexOf","charAt","pad_in_place","directive","template","bindToController","newItem","$element","scroller","$onInit","document","querySelector","addEventListener","onScroll","copy","subst","split","$onDestroy","removeEventListener","event","rect","parentNode","getBoundingClientRect","css","min","top","optsReservationScale","optsReservationBuffer","rrChecklist","reservationUnitId","$filter","ReservationRules","productService","ReservationUnit","optsWhoCanReserve","optsReservationLimitMin","optsReservationLimitMax","optsDaysInAdvance","optsTimeInAdvance","conf","whoCanReserve","opts","scale","buffer","fullTimeProduct","attachedUser","limitMin","limitMax","daysInAdvance","timeInAdvance","nestedUnits","formReservationRules","$onChanges","rules","uid","units","unit","u","fullTimeProductId","attachedUserName","getMembershipProducts","products","product","price","$watch","val","$visible","$isVisible","hideRules","addDate","member","available","intervals","nonMember","resetRules","copyRules","rule","src","dst","interval","from","to","$as","saveFullTimeProduct","addClass","link","$attrs","$controllers","rrCtrl","updateGhosts","addInterval","$$autoSaving","$ghosts","pop","deleteInterval","group","prev","curr","transclude","ruleSave","rrForm","deleteRule","ruleId","$locale","weekdayIds","onChangeAvailable","isString","wd","clone","weekday","toUpperCase","$watchCollection","opt","$resource","deskworksConfig","getApiAbsUrl","update","method","params","$promise"],"mappings":"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","file":"setup~._b.js?_rev=0d2ca2ee58ec2a0d3e0c","sourcesContent":["var map = {\n\t\"./api-settings/api-settings.tpl.html\": \"./bundles/setup/api-settings/api-settings.tpl.html\",\n\t\"./banks/bank-edit.tpl.html\": \"./bundles/setup/banks/bank-edit.tpl.html\",\n\t\"./banks/banks.tpl.html\": \"./bundles/setup/banks/banks.tpl.html\",\n\t\"./bar-upload-settings/bar-upload-settings.tpl.html\": \"./bundles/setup/bar-upload-settings/bar-upload-settings.tpl.html\",\n\t\"./bundles/bundles.tpl.html\": \"./bundles/setup/bundles/bundles.tpl.html\",\n\t\"./center/center-edit.tpl.html\": \"./bundles/setup/center/center-edit.tpl.html\",\n\t\"./center/center-list.tpl.html\": \"./bundles/setup/center/center-list.tpl.html\",\n\t\"./integrations-setup/integrations-setup.tpl.html\": \"./bundles/setup/integrations-setup/integrations-setup.tpl.html\",\n\t\"./owners-regions/owners-regions.tpl.html\": \"./bundles/setup/owners-regions/owners-regions.tpl.html\",\n\t\"./reservation-fields/reservation-field-edit.tpl.html\": \"./bundles/setup/reservation-fields/reservation-field-edit.tpl.html\",\n\t\"./reservation-fields/reservation-fields.tpl.html\": \"./bundles/setup/reservation-fields/reservation-fields.tpl.html\",\n\t\"./settings/settings.tpl.html\": \"./bundles/setup/settings/settings.tpl.html\",\n\t\"./system-email/system-email-edit.tpl.html\": \"./bundles/setup/system-email/system-email-edit.tpl.html\",\n\t\"./system-email/system-email-list.tpl.html\": \"./bundles/setup/system-email/system-email-list.tpl.html\",\n\t\"./task/task-edit.tpl.html\": \"./bundles/setup/task/task-edit.tpl.html\",\n\t\"./task/task-list.tpl.html\": \"./bundles/setup/task/task-list.tpl.html\",\n\t\"./user-fields/user-fields.tpl.html\": \"./bundles/setup/user-fields/user-fields.tpl.html\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/setup sync recursive .*\\\\.tpl\\\\.html$\";","var map = {\n\t\"./api-settings/api-settings.controller.js\": \"./bundles/setup/api-settings/api-settings.controller.js\",\n\t\"./banks/bank-edit.controller.js\": \"./bundles/setup/banks/bank-edit.controller.js\",\n\t\"./banks/banks.controller.js\": \"./bundles/setup/banks/banks.controller.js\",\n\t\"./bar-upload-settings/bar-upload-settings.controller.js\": \"./bundles/setup/bar-upload-settings/bar-upload-settings.controller.js\",\n\t\"./bundles/bundles.controller.js\": \"./bundles/setup/bundles/bundles.controller.js\",\n\t\"./center/center-edit.controller.js\": \"./bundles/setup/center/center-edit.controller.js\",\n\t\"./center/center-list.controller.js\": \"./bundles/setup/center/center-list.controller.js\",\n\t\"./integrations-setup/integrations-setup.controller.js\": \"./bundles/setup/integrations-setup/integrations-setup.controller.js\",\n\t\"./owners-regions/owners-regions.controller.js\": \"./bundles/setup/owners-regions/owners-regions.controller.js\",\n\t\"./reservation-fields/reservation-field-edit.controller.js\": \"./bundles/setup/reservation-fields/reservation-field-edit.controller.js\",\n\t\"./reservation-fields/reservation-field-types.service.js\": \"./bundles/setup/reservation-fields/reservation-field-types.service.js\",\n\t\"./reservation-fields/reservation-fields.controller.js\": \"./bundles/setup/reservation-fields/reservation-fields.controller.js\",\n\t\"./settings/settings.controller.js\": \"./bundles/setup/settings/settings.controller.js\",\n\t\"./system-email/system-email-edit.controller.js\": \"./bundles/setup/system-email/system-email-edit.controller.js\",\n\t\"./system-email/system-email-list.controller.js\": \"./bundles/setup/system-email/system-email-list.controller.js\",\n\t\"./task/task-edit.controller.js\": \"./bundles/setup/task/task-edit.controller.js\",\n\t\"./task/task-list.controller.js\": \"./bundles/setup/task/task-list.controller.js\",\n\t\"./user-fields/user-field-types.service.js\": \"./bundles/setup/user-fields/user-field-types.service.js\",\n\t\"./user-fields/user-fields.controller.js\": \"./bundles/setup/user-fields/user-fields.controller.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/setup sync recursive \\\\..+\\\\/.+\\\\.js$\";","export default angular.module('deskworks.ApiSettingsCtrl', [\n  'debounce',\n  'deskworks.allowedHost.service',\n])\n\n  .controller('ApiSettingsCtrl', function($scope, $translate, $window, dwAlerts, state, helper, debounce,\n                                          allowedHosts, allowedHostService) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('API_SETTINGS.PAGE_TITLE'));\n\n    $ctrl.allowedHosts = allowedHosts;\n\n    /**\n     * Save handler\n     */\n    $ctrl.save = debounce(save, 1000);\n    function save(allowedHost, form, index) {\n      if (form.$invalid) return;\n\n      allowedHost.$$spin = true;\n      return allowedHostService.save(allowedHost)\n        .catch(err => dwAlerts.error(err, 'Failed to save allowed host.'))\n        .finally(() => { allowedHost.$$spin = false; });\n    }\n\n    /**\n     * New handler\n     */\n    $ctrl.new = () => { $ctrl.allowedHosts.push({ isActive: true }); };\n\n    /**\n     * Delete LeadSource handler\n     */\n    $ctrl.delete = (allowedHost, index) => {\n      if (allowedHost.id) { // existing allowed host\n        if (!$window.confirm($translate.instant('API_SETTINGS.ALLOWED_HOSTS.CONFIRM_DELETE'))) return;\n        allowedHost.$$spin = true;\n        return allowedHostService.delete(allowedHost.id)\n          .catch(err => dwAlerts.error(err, 'Failed to delete allowed host.'))\n          .then(() => { $ctrl.allowedHosts.splice(index, 1); })\n          .finally(() => { allowedHost.$$spin = false; });\n      } else { // new allowed host\n        $ctrl.allowedHosts.splice(index, 1);\n      }\n    };\n  });\n","// Module\nvar code = \"<div class=\\\"lead-source-list\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"gutter-v\\\"> <ff-panel style=\\\"max-width:815px\\\"> <ff-panel-header> <span translate=\\\"API_SETTINGS.ALLOWED_HOSTS.HEADER\\\"></span> <ff-hint><span translate=\\\"API_SETTINGS.ALLOWED_HOSTS.HINT\\\"></span></ff-hint> </ff-panel-header> <ff-header> <ff-row> <cell flex=\\\"0 0 60px\\\" class=\\\"ff-center\\\"><span translate=\\\"API_SETTINGS.ALLOWED_HOSTS.ACTIVE\\\"></span></cell> <cell><req translate=\\\"API_SETTINGS.ALLOWED_HOSTS.URL\\\"></req></cell> </ff-row> </ff-header> <form name=\\\"form\\\" ng-repeat=\\\"host in $ctrl.allowedHosts\\\" novalidate> <ff-row ff-dim=\\\"host.$$spin\\\"> <ff-checkbox flex=\\\"0 0 60px\\\" ff-model=\\\"host.isActive\\\" class=\\\"ff-center ff-control\\\" ff-change=\\\"$ctrl.save(host, form, $index)\\\"></ff-checkbox> <ff-text ff-model=\\\"host.hostUrl\\\" ff-required=\\\"true\\\" placeholder=\\\"https://thesatellite.satellitedeskworks.com\\\" ff-validate-alert=\\\"{{'API_SETTINGS.ALLOWED_HOSTS.URL' | translate}}\\\" ff-change=\\\"$ctrl.save(host, form, $index)\\\"></ff-text> <ff-btn sense=\\\"remove\\\" size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row\\\" ff-click=\\\"$ctrl.delete(host, $index)\\\" title=\\\"{{'GLOBAL.BTN_DELETE' | translate}}\\\"></ff-btn> </ff-row> </form> <ff-btn-group class=\\\"ff-section-buttons\\\"> <ff-btn sense=\\\"new\\\" size=\\\"sm\\\" ff-click=\\\"$ctrl.new()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </ff-panel> </div> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.SetupBankEditCtrl', [\n  'deskworks.bank.service',\n  'deskworks.routeHelper',\n  'deskworks.optsTimezone',\n])\n\n  .controller('SetupBankEditCtrl', function($scope, $window, $translate, dwAlerts, state, helper, bank,\n                                            bankService, optsTimezone) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant(bank.id === 'new' ? 'BANKS.NEW.PAGE_TITLE' : 'BANKS.EDIT.PAGE_TITLE'));\n\n    $ctrl.bank = bank;\n    $ctrl.optsTimezone = optsTimezone;\n\n    $ctrl.save = () => {\n      if (helper.pointFirstInvalid('#bankEdit')) return;\n\n      return bankService.save($ctrl.bank)\n        .catch(err => dwAlerts.error(err, 'Failed to save bank'))\n        .then(() => state.setPath('/banks'));\n    };\n\n    $ctrl.delete = () => {\n      if ($window.confirm($translate.instant('BANKS.CONFIRM_DELETE'))) {\n        return bankService.delete($ctrl.bank.id)\n          .catch(err => dwAlerts.error(err, 'Failed to delete bank'))\n          .then(() => state.setPath('/banks'));\n      }\n    };\n\n    $ctrl.back = state.back;\n  });\n","// Module\nvar code = \"<form name=\\\"$ctrl.form\\\" id=\\\"bankEdit\\\" novalidate ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"gutter-v\\\"> <ff-panel style=\\\"max-width:815px\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><req translate=\\\"BANKS.NAME\\\"></req></ff-label> <ff-text flex=\\\"1 1 290px\\\" name=\\\"name\\\" ff-model=\\\"$ctrl.bank.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'BANKS.NAME' | translate}}\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><req translate=\\\"BANKS.TIMEZONE\\\"></req></ff-label> <ff-select flex=\\\"1 1 290px\\\" name=\\\"timezone\\\" ff-model=\\\"$ctrl.bank.timezone\\\" ff-options=\\\"tz.id as tz.name for tz in $ctrl.optsTimezone\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'BANKS.TIMEZONE' | translate}}\\\"></ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><req translate=\\\"BANKS.CC_CUT_OFF_TIME\\\"></req></ff-label> <ff-time flex=\\\"1 1 290px\\\" name=\\\"creditCardCutOffTime\\\" ff-model=\\\"$ctrl.bank.creditCardCutOffTime\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'BANKS.CC_CUT_OFF_TIME' | translate}}\\\"></ff-time> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><span translate=\\\"BANKS.NOTES\\\"></span></ff-label> <ff-text flex=\\\"1 1 290px\\\" name=\\\"notes\\\" ff-model=\\\"$ctrl.bank.notes\\\"></ff-text> </label> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"save\\\" type=\\\"submit\\\" ff-click=\\\"$ctrl.save()\\\" ff-disabled=\\\"$ctrl.form.$pristine\\\"> <span translate=\\\"GLOBAL.BTN_SAVE\\\"></span> </ff-btn> <ff-btn sense=\\\"delete\\\" ff-click=\\\"$ctrl.delete()\\\" ng-if=\\\"$ctrl.bank.id !== 'new'\\\"> <span translate=\\\"GLOBAL.BTN_DELETE\\\"></span> </ff-btn> <ff-btn sense=\\\"back\\\" ff-click=\\\"$ctrl.back()\\\"><span translate=\\\"GLOBAL.BTN_BACK\\\"></span></ff-btn> </ff-btn-group> </div> </form> \";\n// Exports\nmodule.exports = code;","import niceTimeDirective from 'shared/nice-date-time/nice-time.directive';\n\nexport default angular.module('deskworks.SetupBanksCtrl', [\n  'deskworks.SetupBankEditCtrl',\n  'deskworks.bank.service',\n  'deskworks.routeHelper',\n  'deskworks.optsTimezone',\n  niceTimeDirective.name,\n])\n\n  .controller('SetupBanksCtrl', function($scope, $translate, state, helper, banks, optsTimezone) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('BANKS.PAGE_TITLE'));\n\n    $ctrl.banks = banks;\n\n    $ctrl.banks.forEach(bank => {\n      bank.timezone = (helper.find(optsTimezone, bank.timezone) || {}).name || bank.timezone;\n    });\n\n    /**\n     * Edit Bank handler\n     */\n    $ctrl.edit = bank => state.setPath('/banks/' + bank.id);\n\n    /**\n     * New Bank handler\n     */\n    $ctrl.new = () => state.setPath('/banks/new');\n  });\n","// Module\nvar code = \"<div class=\\\"banks\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"gutter-v\\\"> <ff-panel> <span ng-if=\\\"!$ctrl.banks.length\\\" translate=\\\"BANKS.LIST.EMPTY\\\"></span> <ff-header ng-show=\\\"$ctrl.banks.length > 0\\\"> <ff-row> <cell flex=\\\"1 1 25%\\\"><span translate=\\\"BANKS.NAME\\\"></span></cell> <cell flex=\\\"1 1 25%\\\"><span translate=\\\"BANKS.TIMEZONE\\\"></span></cell> <cell flex=\\\"1 1 25%\\\" class=\\\"ff-center\\\"><span translate=\\\"BANKS.CC_CUT_OFF_TIME\\\"></span></cell> <cell flex=\\\"1 1 25%\\\" class=\\\"show-sm\\\"><span translate=\\\"BANKS.NOTES\\\"></span></cell> <ff-btn size=\\\"xs\\\" class=\\\"buttons-row zero-height\\\"></ff-btn> </ff-row> </ff-header> <ff-row ng-repeat=\\\"bank in $ctrl.banks\\\"> <ff-static flex=\\\"1 1 25%\\\" ff-bind=\\\"bank.name\\\"></ff-static> <ff-static flex=\\\"1 1 25%\\\" ff-bind=\\\"bank.timezone\\\"></ff-static> <ff-static flex=\\\"1 1 25%\\\" class=\\\"ff-center\\\"><span nice-time=\\\"bank.creditCardCutOffTime\\\"></span></ff-static> <ff-static flex=\\\"1 1 25%\\\" ff-bind=\\\"bank.notes\\\" class=\\\"show-sm\\\"></ff-static> <ff-btn sense=\\\"edit\\\" size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row\\\" ff-click=\\\"$ctrl.edit(bank)\\\" title=\\\"{{'GLOBAL.BTN_EDIT' | translate}}\\\"></ff-btn> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"new\\\" ff-click=\\\"$ctrl.new()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </div> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.BarUploadSettingsCtrl', [\n  'deskworks.state',\n  'deskworks.setup.service'\n])\n\n  .controller('BarUploadSettingsCtrl', function($scope, $translate, dwAlerts, state, helper, setupService, settings) {\n    var $ctrl = this;\n\n    state.setPageTitle($translate.instant('BAR_UPLOAD_SETTINGS.PAGE_TITLE'));\n\n    $ctrl.settings = settings;\n    $ctrl.settings.centerId = state.getCurrentCenterId();\n\n    /**\n     * Save settings\n     */\n    $ctrl.save = function() {\n      if(helper.pointFirstInvalid('#setupBarUploadSettings')) { return; }\n\n      return setupService.updateBarUploadSettings($ctrl.settings)\n        .then(function(result) { $ctrl.form.$setPristine(); })\n        .catch(function(err) { return dwAlerts.error(err, 'Failed to save bar upload settings.'); });\n    };\n  });\n","// Module\nvar code = \"<form name=\\\"$ctrl.form\\\" id=\\\"setupBarUploadSettings\\\" novalidate ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <flex-form style=\\\"max-width:640px\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 220px\\\"><req translate=\\\"BAR_UPLOAD_SETTINGS.PRODUCT\\\"></req></ff-label> <ff-select flex=\\\"1 1 370px\\\" name=\\\"product\\\" ff-model=\\\"$ctrl.settings.product\\\" ff-required=\\\"true\\\" ff-options=\\\"product.name for product in $ctrl.settings.options.serviceProducts\\\" ff-validate-alert=\\\"{{'BAR_UPLOAD_SETTINGS.PRODUCT' | translate}}\\\"></ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 220px\\\"><req translate=\\\"BAR_UPLOAD_SETTINGS.MEMBER_NAME\\\"></req></ff-label> <ff-text flex=\\\"1 1 370px\\\" name=\\\"colMemberName\\\" ff-model=\\\"$ctrl.settings.colMemberName\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'BAR_UPLOAD_SETTINGS.MEMBER_NAME' | translate}}\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 220px\\\"><req translate=\\\"BAR_UPLOAD_SETTINGS.CHARGE_AMOUNT\\\"></req></ff-label> <ff-text flex=\\\"1 1 370px\\\" name=\\\"colChargeAmount\\\" ff-model=\\\"$ctrl.settings.colChargeAmount\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'BAR_UPLOAD_SETTINGS.CHARGE_AMOUNT' | translate}}\\\"></ff-text> </label> </flex-form> <ff-btn-group class=\\\"buttons-bottom\\\"> <ff-btn sense=\\\"save\\\" type=\\\"submit\\\" ff-click=\\\"$ctrl.save()\\\" ff-disabled=\\\"$ctrl.form.$pristine\\\"> <span translate=\\\"GLOBAL.BTN_SAVE\\\"></span> </ff-btn> </ff-btn-group> </form> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.BundlesCtrl', [\n  'autoSave',\n  'deskworks.bundlesConfig',\n])\n\n  .controller('BundlesCtrl', function($scope, state, helper, dwAlerts, bundlesConfig, autoSave) {\n    const $ctrl = this;\n\n    state.setPageTitle('Bundles Configuration');\n\n    $ctrl.bundles = bundlesConfig.getOptionalBundles();\n\n    bundlesConfig.get()\n      .catch(err => dwAlerts.error(err, 'Failed to get bundles config'))\n      .then(config => { $ctrl.config = config; });\n\n    $ctrl.save = autoSave.wrap(saveFunc);\n\n    function saveFunc() {\n      $ctrl.saving = true;\n      return bundlesConfig.save(helper.purify($ctrl.config))\n        .catch(err => dwAlerts.error(err, 'Failed to save bundles config.'))\n        .finally(() => { $ctrl.saving = false; });\n    }\n  });\n","// Module\nvar code = \"<div> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <ff-panel style=\\\"max-width:815px\\\" ff-dim=\\\"!$ctrl.config\\\" class=\\\"ff-bmargin\\\"> <ff-header> <ff-row> <cell flex=\\\"0 0 36px\\\" class=\\\"ff-center\\\" ff-dim=\\\"$ctrl.saving\\\"><ff-icon sense=\\\"checkMark\\\"></ff-icon></cell> <cell>Bundle</cell> </ff-row> </ff-header> <label class=\\\"ff-row\\\" ng-repeat=\\\"bundle in $ctrl.bundles\\\"> <ff-static flex=\\\"0 0 36px\\\" class=\\\"ff-center\\\"> <ff-checkbox name=\\\"enable\\\" ff-model=\\\"$ctrl.config[bundle.id]\\\" ff-change=\\\"$ctrl.save()\\\"></ff-checkbox> </ff-static> <ff-static>{{::bundle.name}}</ff-static> </label> </ff-panel> </div> \";\n// Exports\nmodule.exports = code;","import reservationRulesDirective from 'shared/reservation-rules/reservation-rules.component';\nimport dwAddressDirective from 'shared/dw-controls/dw-address/dw-address.directive';\nimport dwPhoneDirective from 'shared/dw-controls/dw-phone.directive';\n\nexport default angular.module('deskworks.CenterEditCtrl', [\n  'deskworks.center.service',\n  'deskworks.optsTimezone',\n  'deskworks.Owner',\n  'deskworks.Region',\n  'deskworks.NetCheckInSettings',\n  'deskworks.setup.optsFreeAccessLength',\n  reservationRulesDirective.name,\n  dwAddressDirective.name,\n  dwPhoneDirective.name,\n])\n\n  .controller('CenterEditCtrl', function($scope, $translate, $window, $timeout, dwAlerts, state, helper, center, settings,\n                                         Owner, Region, centerService, optsTimezone, optsFreeAccessLength,\n                                         NetCheckInSettings) {\n    const vm = this;\n\n    state.setPageTitle($translate.instant(center.id ? 'CENTERS.EDIT.PAGE_TITLE' : 'CENTERS.NEW.PAGE_TITLE'));\n\n    vm.center = center;\n    vm.banks = center.options.banks;\n    vm.optsTimezone = optsTimezone;\n    vm.optsFreeAccessLength = optsFreeAccessLength;\n\n    const isNew = !vm.center.id || vm.center.id === 'new';\n\n    if (settings.isFranchise) {\n      vm.ownerRegionReadOnly = state.getLoggedUser().role !== 'master';\n      Owner.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query owners.'))\n        .then(owners => { vm.owners = owners; vm.owners.unshift({ id: null, name: $translate.instant('GLOBAL.NONE') }); });\n\n      Region.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query regions.'))\n        .then(regions => { vm.regions = regions; vm.regions.unshift({ id: null, name: $translate.instant('GLOBAL.NONE') }); });\n    }\n\n    if (isNew) {\n      vm.netCheckInSettings = { freeAccessLength: 120 };\n    } else {\n      NetCheckInSettings.get(vm.center.id)\n        .catch(err => dwAlerts.error(err, 'Failed to get net check-in settings.'))\n        .then(settings => { vm.netCheckInSettings = settings; });\n    }\n\n    /**\n     * Save Center handler\n     */\n    vm.save = function() {\n      if (helper.pointFirstInvalid('#centerEdit')) return;\n\n      return centerService.save(vm.center)\n        .catch(err => dwAlerts.error(err, 'Failed to save center.'))\n        .then(result => NetCheckInSettings.save(vm.center.id, vm.netCheckInSettings)\n          .catch(err => { dwAlerts.error(err, 'Failed to save net check-in settings.'); }) // skip errors\n          .then(() => result)\n        )\n        .then(result => {\n          $scope.$emit('CENTERS:REFRESH');\n\n          if (isNew) return state.setPath('/centers/' + result.id);\n\n          return centerService.get(vm.center.id)\n            .catch(err => dwAlerts.error(err, 'Failed to get center.'))\n            .then(center => {\n              vm.center = center;\n              vm.form.$setPristine();\n            });\n        });\n    };\n\n    /**\n     * Remove Center handler\n     */\n    vm.remove = function() {\n      if (!confirm($translate.instant('CENTERS.CONFIRM_DELETE'))) return;\n\n      return centerService.deleteCenter(vm.center.id)\n        .catch(err => dwAlerts.error(err, 'Failed to delete center.'))\n        .then(result => {\n          $scope.$emit('CENTERS:REFRESH');\n          return state.setPath('/centers');\n        });\n    };\n\n    /**\n     * Back button handler\n     */\n    vm.back = function() {\n      return state.setPath('/centers');\n    };\n\n    /**\n     * Upload Photo handler\n     * @param $files - files to upload\n     * @param $invalidFiles - files rejected by ngfPattern directive\n     */\n    vm.uploadPhoto = function($files, $invalidFiles) {\n      if ($invalidFiles && $invalidFiles.length > 0) return dwAlerts.error($translate.instant('CENTERS.PHOTO.INVALID_FORMAT'));\n\n      if ($files && $files.length > 0) {\n        vm.spinUpload = true;\n        return centerService.uploadThumbnail(vm.center.id, $files[0])\n          .catch(err => {\n            vm.spinUpload = false;\n            return dwAlerts.error(err, 'Failed to upload center thumbnail.');\n          })\n          .then(result => {\n            vm.spinUpload = false;\n            vm.center.thumbnail = result.data.photo;\n            vm.center.photo = result.data.photo;\n            $scope.$emit('CENTERS:REFRESH');\n            return result.data;\n          });\n      }\n    };\n\n    /**\n     * Delete photo\n     */\n    vm.deletePhoto = () => {\n      if (!$window.confirm($translate.instant('GLOBAL.CONFIRM_DELETE_PHOTO'))) return;\n\n      const promise = centerService.deletePhoto({ centerId: state.getCurrentCenterId() })\n        .catch(err => dwAlerts.error(err, 'Failed to delete photo.'));\n\n      promise\n        .then(() => $timeout())\n        .then(() => {\n          vm.center.thumbnail = null;\n          vm.center.photo = null;\n        });\n\n      return promise;\n    };\n\n    vm.addTax = function() {\n      const tax = {};\n      if (!vm.center.taxRates.length) tax.name = $translate.instant('CENTERS.TAX.NAME.DEFAULT');\n      vm.center.taxRates.push(tax);\n      vm.form.$setDirty();\n    };\n\n    vm.deleteTax = function(tax) {\n      vm.center.taxRates.splice(vm.center.taxRates.indexOf(tax), 1);\n      vm.form.$setDirty();\n    };\n  });\n","// Module\nvar code = \"<div class=\\\"ff-grid gutter-v\\\"> <form name=\\\"vm.form\\\" id=\\\"centerEdit\\\" novalidate ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-grid gutter-h gutter-v\\\"> <ff-panel flex=\\\"{ md: '0 0 50%' }\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.NAME\\\"></req></ff-label> <ff-text name=\\\"name\\\" ff-model=\\\"vm.center.name\\\" ff-required=\\\"true\\\" placeholder=\\\"The Satellite Felton\\\" ff-validate-alert=\\\"{{'CENTERS.NAME' | translate}}\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.SHORT_NAME\\\"></req></ff-label> <ff-text name=\\\"shortName\\\" ff-model=\\\"vm.center.shortName\\\" ff-required=\\\"true\\\" placeholder=\\\"Felton\\\" ff-validate-alert=\\\"{{'CENTERS.SHORT_NAME' | translate}}\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.PHONE\\\"></req></ff-label> <ff-text name=\\\"phone\\\" ff-model=\\\"vm.center.phone\\\" ff-required=\\\"true\\\" dw-phone ff-validate-alert=\\\"{ field: ('CENTERS.PHONE' | translate), pattern: ('GLOBAL.VALIDATION.PHONE' | translate) }\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.FAX\\\"></req></ff-label> <ff-text name=\\\"fax\\\" ff-model=\\\"vm.center.fax\\\" ff-required=\\\"true\\\" dw-phone ff-validate-alert=\\\"{ field: ('CENTERS.FAX' | translate), pattern: ('GLOBAL.VALIDATION.PHONE' | translate) }\\\"> </ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.EMAIL\\\"></req></ff-label> <ff-email name=\\\"email\\\" ff-model=\\\"vm.center.email\\\" ff-required=\\\"true\\\" placeholder=\\\"felton@thesatelliteinc.com\\\" ff-validate-alert=\\\"{{'CENTERS.EMAIL' | translate}}\\\"></ff-email> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><span translate=\\\"CENTERS.COLOR\\\"></span></ff-label> <ff-text name=\\\"color\\\" ff-model=\\\"vm.center.color\\\" placeholder=\\\"red, blue, #fe00d3, #0f0\\\" ff-validate-alert=\\\"{{'CENTERS.COLOR' | translate}}\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.TIMEZONE\\\"></req></ff-label> <ff-select name=\\\"timezone\\\" ff-model=\\\"vm.center.timezone\\\" ff-required=\\\"true\\\" ff-options=\\\"tz.id as tz.name for tz in vm.optsTimezone\\\" ff-validate-alert=\\\"{{'CENTERS.TIMEZONE' | translate}}\\\"></ff-select> </label> <label class=\\\"ff-row\\\" ng-if=\\\"$resolve.settings.isFranchise\\\"> <ff-label flex=\\\"0 0 100px\\\"><span translate=\\\"CENTERS.OWNER\\\"></span></ff-label> <ff-select name=\\\"owner\\\" ff-model=\\\"vm.center.ownerId\\\" ff-bulk-read-only=\\\"vm.ownerRegionReadOnly\\\" ff-options=\\\"owner.id as owner.name for owner in vm.owners\\\" ff-validate-alert=\\\"{{'CENTERS.OWNER' | translate}}\\\"></ff-select> </label> <label class=\\\"ff-row\\\" ng-if=\\\"$resolve.settings.isFranchise\\\"> <ff-label flex=\\\"0 0 100px\\\"><span translate=\\\"CENTERS.REGION\\\"></span></ff-label> <ff-select name=\\\"region\\\" ff-model=\\\"vm.center.regionId\\\" ff-bulk-read-only=\\\"vm.ownerRegionReadOnly\\\" ff-options=\\\"region.id as region.name for region in vm.regions\\\" ff-validate-alert=\\\"{{'CENTERS.REGION' | translate}}\\\"></ff-select> </label> </ff-panel> <ff-panel flex=\\\"{ md: '0 0 50%' }\\\"> <fieldset dw-address=\\\"vm.center\\\" second-street=\\\"true\\\"></fieldset> <label class=\\\"ff-row\\\" ng-if=\\\"vm.center.options.qboClasses\\\"> <ff-label flex=\\\"0 0 116px\\\"><span translate=\\\"CENTERS.QBO_CLASS\\\"></span></ff-label> <ff-select name=\\\"qboAccount\\\" ff-model=\\\"vm.center.qboClassId\\\"> <option value=\\\"\\\">-</option> <option ng-repeat=\\\"class in vm.center.options.qboClasses\\\" value=\\\"{{class.id}}\\\">{{class.name}}</option> </ff-select> </label> </ff-panel> <ff-panel flex=\\\"{ md: '0 0 50%' }\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"CENTERS.BANK\\\"></req></ff-label> <ff-select name=\\\"bank\\\" ff-model=\\\"vm.center.bankId\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'CENTERS.BANK' | translate}}\\\" ff-options=\\\"bank.id as bank.name for bank in vm.banks\\\"></ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"> <span> <span translate=\\\"CENTERS.TAX.ID\\\"></span> <ff-hint><span translate=\\\"CENTERS.TAX.ID.HINT\\\"></span></ff-hint> </span> </ff-label> <ff-text name=\\\"taxId\\\" ff-model=\\\"vm.center.taxId\\\"></ff-text> </label> <ff-row ng-repeat=\\\"tax in vm.center.taxRates\\\"> <label> <ff-label flex=\\\"0 0 100px\\\"> <span translate=\\\"CENTERS.TAX.INDEX\\\" translate-values=\\\"{ index: $index + 1 }\\\"></span> </ff-label> <ff-text flex=\\\"auto\\\" name=\\\"taxName\\\" ff-model=\\\"tax.name\\\" placeholder=\\\"{{'CENTERS.TAX.NAME' | translate}}\\\" ff-required=\\\"true\\\" ff-unique=\\\"{ array: vm.center.taxRates, prop: 'name' }\\\" ff-model-options=\\\"{ allowInvalid: true }\\\" flex=\\\"auto\\\" ff-validate-alert=\\\"{{'CENTERS.TAX.NAME' | translate}}\\\"></ff-text> </label> <ff-number name=\\\"taxRate\\\" ff-model=\\\"tax.rate\\\" flex=\\\"0 1 72px\\\" placeholder=\\\"{{'CENTERS.TAX.RATE' | translate}}\\\" ff-required=\\\"true\\\" ff-gt=\\\"0\\\" ff-validate-alert=\\\"{{'CENTERS.TAX.RATE' | translate}}\\\"></ff-number> <ff-btn flex=\\\"none\\\" class=\\\"buttons-row\\\" sense=\\\"delete\\\" size=\\\"xs\\\" ff-click=\\\"vm.deleteTax(tax)\\\" title=\\\"{{'CENTERS.TAX.BTN_DELETE.HINT' | translate}}\\\"></ff-btn> </ff-row> <ff-btn-group class=\\\"ff-section-buttons\\\"> <ff-btn sense=\\\"add\\\" size=\\\"sm\\\" ff-click=\\\"vm.addTax()\\\"><span translate=\\\"CENTERS.TAX.BTN_ADD\\\"></span></ff-btn> </ff-btn-group> </ff-panel> <ff-panel flex=\\\"{ md: '0 0 50%' }\\\"> <ff-label> <label> <ff-checkbox name=\\\"forInternalUse\\\" ff-model=\\\"vm.center.forInternalUse\\\"> <span translate=\\\"CENTERS.INTERNAL_USE\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"CENTERS.INTERNAL_USE.HINT\\\"></span></ff-hint> </ff-label> <ff-label> <label> <ff-checkbox name=\\\"hideInMemberSignUp\\\" ff-model=\\\"vm.center.hideInMemberSignUp\\\"> <span translate=\\\"CENTERS.HIDE_IN_MEMBER_SIGN_UP\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"CENTERS.HIDE_IN_MEMBER_SIGN_UP.HINT\\\"></span></ff-hint> </ff-label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 160px\\\"> <span translate=\\\"CENTERS.FREE_ACCESS\\\"></span> &nbsp; <ff-hint><span translate=\\\"CENTERS.FREE_ACCESS.HINT\\\"></span></ff-hint> </ff-label> <ff-select name=\\\"freeAccessLength\\\" ff-model=\\\"vm.netCheckInSettings.freeAccessLength\\\" ff-options=\\\"opt.id as opt.name for opt in vm.optsFreeAccessLength\\\" ff-disabled=\\\"!vm.netCheckInSettings\\\"></ff-select> </label> </ff-panel> <ff-panel flex=\\\"{ md: '0 0 50%' }\\\" ng-if=\\\"vm.center.id && vm.center.id !== 'new'\\\" ngf-drop=\\\"vm.uploadPhoto($files, $invalidFiles)\\\" ngf-pattern=\\\"'image/png,image/jpeg'\\\" ngf-drag-over-class=\\\"dragover\\\"> <ff-panel-header> <span translate=\\\"CENTERS.PHOTO.HEADER\\\"></span> <ff-hint><span translate=\\\"CENTERS.PHOTO.HINT\\\"></span></ff-hint> </ff-panel-header> <ff-col style=\\\"height:240px\\\"> <ff-col flex=\\\"auto\\\"> <ff-img flex=\\\"auto\\\" ff-style=\\\"{ height: '100%', width: 'auto', 'object-fit': 'contain' }\\\" ff-src=\\\"{{vm.center.thumbnail}}\\\" ff-src-hq=\\\"{{vm.center.photo}}\\\" ff-alt=\\\"{{vm.center.name}}\\\" img-placeholder=\\\"1280 x 640\\\"></ff-img> </ff-col> <ff-btn-group flex=\\\"none\\\" class=\\\"ff-section-buttons\\\"> <ff-btn sense=\\\"upload\\\" size=\\\"sm\\\" ff-spin=\\\"vm.spinUpload\\\" ngf-select=\\\"vm.uploadPhoto($files, $invalidFiles)\\\" ngf-pattern=\\\"'image/png,image/jpeg'\\\" accept=\\\"image/png,image/jpeg\\\"> <span translate=\\\"CENTERS.PHOTO.BTN_UPLOAD\\\"></span> </ff-btn> </ff-btn-group> </ff-col> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"save\\\" type=\\\"submit\\\" ff-click=\\\"vm.save()\\\" ff-disabled=\\\"vm.form.$pristine\\\"> <span translate=\\\"GLOBAL.BTN_SAVE\\\"></span> </ff-btn> <ff-btn sense=\\\"remove\\\" ff-click=\\\"vm.remove()\\\" ng-if=\\\"vm.center.id && vm.center.id !== 'new'\\\"> <span translate=\\\"GLOBAL.BTN_DELETE\\\"></span> </ff-btn> <ff-btn sense=\\\"back\\\" ff-click=\\\"vm.back()\\\"><span translate=\\\"GLOBAL.BTN_BACK\\\"></span></ff-btn> </ff-btn-group> </div> </form> <reservation-rules center-id=\\\"vm.center.id\\\" ng-if=\\\"vm.center.id !== 'new'\\\" ff-bulk-read-only></reservation-rules> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.CenterListCtrl', [])\n\n  .controller('CenterListCtrl', function($scope, $translate, state, helper, centers, admin) {\n    const vm = this;\n\n    state.setPageTitle($translate.instant('CENTERS.PAGE_TITLE'));\n\n    vm.centers = centers.filter(center => { // hide centers without permission\n      if (admin) return !!(helper.find(admin.centers, center.id) || {}).permission;\n      return true;\n    });\n\n    /**\n     * Edit Center handler\n     */\n    vm.edit = function(center) {\n      return state.setPath('/centers/' + center.id);\n    };\n\n    /**\n     * New Center handler\n     */\n    vm.new = function() {\n      return state.setPath('/centers/new');\n    };\n  });\n","// Module\nvar code = \"<div class=\\\"gutter-v\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <ff-panel style=\\\"max-width:600px\\\"> <ff-header> <ff-row> <cell flex=\\\"0 0 50%\\\"><span translate=\\\"CENTERS.CENTER\\\"></span></cell> <cell> <span translate=\\\"GLOBAL.ADDRESS.CITY\\\"></span>, <span translate=\\\"GLOBAL.ADDRESS.STATE\\\"></span> </cell> <ff-btn flex=\\\"none\\\" sense=\\\"edit\\\" size=\\\"xs\\\" class=\\\"buttons-row zero-height\\\"></ff-btn> </ff-row> </ff-header> <ff-row ng-repeat=\\\"center in vm.centers\\\"> <ff-static flex=\\\"0 0 50%\\\" ff-bind=\\\"::center.name\\\" ff-style=\\\"::center.color ? { color: center.color } : {}\\\"></ff-static> <ff-static ff-bind=\\\"::center.city + ', ' + center.state\\\"></ff-static> <ff-btn flex=\\\"none\\\" sense=\\\"edit\\\" size=\\\"xs\\\" class=\\\"buttons-row\\\" ff-click=\\\"vm.edit(center)\\\" title=\\\"{{'GLOBAL.BTN_EDIT' | translate}}\\\"></ff-btn> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"new\\\" ff-click=\\\"vm.new()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </div> \";\n// Exports\nmodule.exports = code;","const index = ['$injector', function index($injector) {\n  // JS\n  const importAll = r => r.keys().map(r);\n  const js = importAll(require.context('./', true, /\\..+\\/.+\\.js$/));\n  $injector.loadNewModules(js.map(m => m.default.name));\n\n  // Templates\n  $injector.invoke(['$templateCache', function($templateCache) {\n    const ctx = require.context('./', true, /.*\\.tpl\\.html$/);\n    ctx.keys().forEach(key => $templateCache.put(key.replace(/^\\.\\//, ''), ctx(key)));\n  }]);\n}];\n\nexport default index;\n","export default angular.module('deskworks.IntegrationsSetupCtrl', [])\n\n  .controller('IntegrationsSetupCtrl', function($scope, $translate, $injector, dwAlerts, state, helper) {\n    const $ctrl = this;\n\n    (function onInit() {\n      state.setPageTitle($translate.instant('INTEGRATIONS_SETUP.PAGE_TITLE'));\n      $ctrl.appointmentPlus = $injector.has('appointmentPlusSettingsDirective');\n      $ctrl.quickBooks = $injector.has('quickBooksCentersDirective');\n      $ctrl.teamgo = $injector.has('teamgoSettingsDirective');\n      $ctrl.kisi = $injector.has('kisiSettingsDirective');\n      $ctrl.doorflow = $injector.has('doorflowSettingsDirective');\n      $ctrl.ezeep = $injector.has('ezeepSettingsDirective');\n      $ctrl.greetly = $injector.has('greetlySettingsDirective');\n    })();\n  });\n","// Module\nvar code = \"<div id=\\\"integrationsSetup\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <quick-books-centers flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.quickBooks\\\" qb-apps=\\\"$ctrl.qbApps\\\"></quick-books-centers> <quick-books-apps flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.quickBooks\\\" qb-apps=\\\"$ctrl.qbApps\\\"></quick-books-apps> <appointment-plus-settings flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.appointmentPlus\\\"></appointment-plus-settings> <teamgo-settings flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.teamgo\\\"></teamgo-settings> <kisi-settings flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.kisi\\\"></kisi-settings> <doorflow-settings flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.doorflow\\\"></doorflow-settings> <ezeep-settings flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.ezeep\\\"></ezeep-settings> <greetly-settings flex=\\\"{lg: '0 0 50%'}\\\" ng-if=\\\"$ctrl.greetly\\\"></greetly-settings> </div> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.OwnersRegionsCtrl', [\n  'debounce',\n  'deskworks.Owner',\n  'deskworks.Region',\n])\n\n  .controller('OwnersRegionsCtrl', function($scope, $translate, dwAlerts, state, debounce,\n                                             owners, regions, Owner, Region) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('OWNERS_REGIONS.PAGE_TITLE'));\n\n    $ctrl.owners = owners;\n    $ctrl.regions = regions;\n\n    /**\n     * Save handler\n     */\n    $ctrl.saveOwner = debounce(saveOwner, 1000);\n    function saveOwner(owner, form, index) {\n      if (form.$invalid) return;\n\n      owner.$$spin = true;\n      return Owner.save(owner)\n        .catch(err => dwAlerts.error(err, 'Failed to save owner.'))\n        .finally(() => { owner.$$spin = false; });\n    }\n\n    $ctrl.saveRegion = debounce(saveRegion, 1000);\n    function saveRegion(region, form, index) {\n      if (form.$invalid) return;\n\n      region.$$spin = true;\n      return Region.save(region)\n        .catch(err => dwAlerts.error(err, 'Failed to save region.'))\n        .finally(() => { region.$$spin = false; });\n    }\n\n    /**\n     * New handler\n     */\n    $ctrl.newOwner = () => { $ctrl.owners.push({}); };\n\n    $ctrl.newRegion = () => { $ctrl.regions.push({}); };\n\n    /**\n     * Delete handler\n     */\n    $ctrl.deleteOwner = (owner, index) => {\n      if (owner.id) { // existing\n        owner.$$spin = true;\n        return Owner.delete(owner.id)\n          .catch(err => dwAlerts.error(err, 'Failed to delete owner.'))\n          .then(() => { $ctrl.owners.splice(index, 1); })\n          .finally(() => { owner.$$spin = false; });\n      } else { // new\n        $ctrl.owners.splice(index, 1);\n      }\n    };\n\n    $ctrl.deleteRegion = (region, index) => {\n      if (region.id) { // existing\n        region.$$spin = true;\n        return Region.delete(region.id)\n          .catch(err => dwAlerts.error(err, 'Failed to delete region.'))\n          .then(() => { $ctrl.regions.splice(index, 1); })\n          .finally(() => { region.$$spin = false; });\n      } else { // new\n        $ctrl.regions.splice(index, 1);\n      }\n    };\n  });\n","// Module\nvar code = \"<div class=\\\"owners-regions\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <ff-panel flex=\\\"{md: '0 0 50%'}\\\" class=\\\"ff-flex-start\\\"> <ff-panel-header><span translate=\\\"OWNERS_REGIONS.OWNERS.HEADER\\\"></span></ff-panel-header> <ff-header> <ff-row> <cell><req translate=\\\"OWNERS_REGIONS.OWNERS.NAME\\\"></req></cell> </ff-row> </ff-header> <form name=\\\"form\\\" ng-repeat=\\\"owner in $ctrl.owners\\\" novalidate> <ff-row ff-dim=\\\"owner.$$spin\\\"> <ff-text ff-model=\\\"owner.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'OWNERS_REGIONS.OWNERS.NAME' | translate}}\\\" ff-change=\\\"$ctrl.saveOwner(owner, form, $index)\\\"></ff-text> <ff-btn sense=\\\"remove\\\" size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row\\\" ff-click=\\\"$ctrl.deleteOwner(owner, $index)\\\" title=\\\"{{'GLOBAL.BTN_DELETE' | translate}}\\\"></ff-btn> </ff-row> </form> <ff-btn-group class=\\\"ff-section-buttons\\\"> <ff-btn sense=\\\"new\\\" size=\\\"sm\\\" ff-click=\\\"$ctrl.newOwner()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </ff-panel> <ff-panel flex=\\\"{md: '0 0 50%'}\\\" class=\\\"ff-flex-start\\\"> <ff-panel-header><span translate=\\\"OWNERS_REGIONS.REGIONS.HEADER\\\"></span></ff-panel-header> <ff-header> <ff-row> <cell><req translate=\\\"OWNERS_REGIONS.REGIONS.NAME\\\"></req></cell> </ff-row> </ff-header> <form name=\\\"form\\\" ng-repeat=\\\"region in $ctrl.regions\\\" novalidate> <ff-row ff-dim=\\\"region.$$spin\\\"> <ff-text ff-model=\\\"region.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'OWNERS_REGIONS.REGIONS.NAME' | translate}}\\\" ff-change=\\\"$ctrl.saveRegion(region, form, $index)\\\"></ff-text> <ff-btn sense=\\\"remove\\\" size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row\\\" ff-click=\\\"$ctrl.deleteRegion(region, $index)\\\" title=\\\"{{'GLOBAL.BTN_DELETE' | translate}}\\\"></ff-btn> </ff-row> </form> <ff-btn-group class=\\\"ff-section-buttons\\\"> <ff-btn sense=\\\"new\\\" size=\\\"sm\\\" ff-click=\\\"$ctrl.newRegion()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </ff-panel> </div> </div> \";\n// Exports\nmodule.exports = code;","import reservationFieldTypes from './reservation-field-types.service';\nimport ReservationFieldOption from 'shared/services/setup/reservation-field-option.service';\n\nexport default angular.module('deskworks.ReservationFieldEditCtrl', [\n  'debounce',\n  reservationFieldTypes.name,\n  ReservationFieldOption.name,\n])\n\n  .controller('ReservationFieldEditCtrl', function($scope, $q, close, dwAlerts, debounce, field,\n                                                   reservationFieldTypes, save, roles, ReservationFieldOption) {\n    // const $ctrl = this;\n\n    $scope.close = close;\n    $scope.field = field;\n    $scope.roles = roles;\n    $scope.save = save;\n    $scope.types = reservationFieldTypes;\n\n    $scope.newOption = (field) => {\n      field.options = field.options || [];\n      field.options.push({ name: '' })\n    };\n\n    $scope.saveOption = debounce(saveOption, 1000);\n    function saveOption(field, option, form) {\n      if (form.$invalid) return;\n\n      field.$$spin = true;\n      return ReservationFieldOption.save({ fieldId: field.id, option })\n        .catch(err => dwAlerts.error(err, 'Failed to save reservation field option.'))\n        .finally(() => { field.$$spin = false; })\n        .catch(angular.noop);\n    }\n\n    $scope.deleteOption = (field, option) => {\n      let promise = $q.when();\n      if (option.id) {\n        promise = ReservationFieldOption.delete({ fieldId: field.id, id: option.id })\n          .catch(err => dwAlerts.error(err, 'Failed to delete reservation field option.'));\n      }\n\n      promise.then(() => field.options.splice(field.options.find(o => o === option), 1));\n    };\n  });\n","// Module\nvar code = \"<div class=\\\"dw-modal\\\"> <div class=\\\"dw-modal-fade\\\" ng-click=\\\"close()\\\"></div> <div class=\\\"dw-modal-dialog\\\"> <div class=\\\"dw-modal-scroll\\\"> <div style=\\\"max-width:440px\\\"> <form name=\\\"form\\\" novalidate> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 70px\\\"><span translate=\\\"FORM_DESIGN.TYPE\\\"></span></ff-label> <ff-static>{{types[field.type].name}}</ff-static> <ff-static flex=\\\"0 0 36px\\\" ff-dim=\\\"field.$$spin\\\" class=\\\"ff-center\\\"> <i ng-class=\\\"types[field.type].icon\\\" class=\\\"text-brand\\\"></i> </ff-static> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 70px\\\"><req translate=\\\"FORM_DESIGN.NAME\\\"></req></ff-label> <ff-text ff-model=\\\"field.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'FORM_DESIGN.NAME' | translate}}\\\" ff-change=\\\"save(field, form)\\\"></ff-text> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 70px\\\"><span translate=\\\"FORM_DESIGN.REQUIRED\\\"></span></ff-label> <ff-static> <ff-checkbox ff-model=\\\"field.required\\\" ff-validate-alert=\\\"{{'FORM_DESIGN.REQUIRED' | translate}}\\\" ff-change=\\\"save(field, form)\\\"></ff-checkbox> </ff-static> </label> <ff-row> <ff-label flex=\\\"0 0 70px\\\"><span translate=\\\"FORM_DESIGN.ACCESS\\\"></span></ff-label> <ff-static> <div class=\\\"ff-grid gutter-h-half\\\" flex=\\\"auto\\\" style=\\\"justify-content:flex-start\\\"> <label flex=\\\"0 0 120px\\\" ng-repeat=\\\"role in roles\\\"> <ff-checkbox ff-model=\\\"field.access[role.id]\\\" ff-disabled=\\\"role.id === 'admin'\\\" ff-change=\\\"save(field, form)\\\">{{role.name}}</ff-checkbox> </label> </div> </ff-static> </ff-row> </form> <ff-row ng-if=\\\"field.type === 'dropdown'\\\"> <ff-label flex=\\\"0 0 70px\\\"><span translate=\\\"FORM_DESIGN.OPTIONS\\\"></span></ff-label> <ff-col> <ff-static ng-if=\\\"!field.options.length\\\"><span translate=\\\"GLOBAL.NONE\\\"></span></ff-static> <ng-form name=\\\"form\\\" class=\\\"ff-row\\\" ng-repeat=\\\"opt in field.options\\\"> <ff-text ff-model=\\\"opt.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'FORM_DESIGN.NAME' | translate}}\\\" ff-change=\\\"saveOption(field, opt, form)\\\" placeholder=\\\"{{'FORM_DESIGN.OPTION' | translate}}\\\"></ff-text> <ff-btn-group flex=\\\"none\\\" style=\\\"margin:0 .5rem\\\"> <ff-btn sense=\\\"delete\\\" size=\\\"xs\\\" ff-click=\\\"deleteOption(field, opt)\\\"></ff-btn> </ff-btn-group> </ng-form> </ff-col> </ff-row> <ff-btn-group style=\\\"margin:.5rem\\\" ng-if=\\\"field.type === 'dropdown'\\\"> <ff-btn sense=\\\"add\\\" size=\\\"xs\\\" title=\\\"{{'GLOBAL.BTN_NEW' | translate}}\\\" ff-click=\\\"newOption(field)\\\"></ff-btn> </ff-btn-group> </div> </div> <button class=\\\"dw-modal-cross\\\" ng-click=\\\"close()\\\"></button> </div> </div> \";\n// Exports\nmodule.exports = code;","/**\n * Form Design field types\n */\nexport default angular.module('deskworks.reservationFieldTypes', [])\n\n  .factory('reservationFieldTypes', function($rootScope, $translate) {\n    const types = [\n      { id: 'customPrice', icon: 'fa fa-dollar', _name: 'FORM_DESIGN.TYPE.CUSTOM_PRICE' },\n      { id: 'extraPrice', icon: 'fa fa-plus', _name: 'FORM_DESIGN.TYPE.EXTRA_PRICE' },\n      { id: 'text', icon: 'fa fa-text-width', _name: 'FORM_DESIGN.TYPE.TEXT' },\n      { id: 'date', icon: 'fa fa-calendar', _name: 'FORM_DESIGN.TYPE.DATE' },\n      { id: 'url', icon: 'fa fa-chain', _name: 'FORM_DESIGN.TYPE.URL' },\n      { id: 'email', icon: 'fa fa-at', _name: 'FORM_DESIGN.TYPE.EMAIL' },\n      { id: 'phone', icon: 'fa fa-phone', _name: 'FORM_DESIGN.TYPE.PHONE' },\n      { id: 'number', icon: 'fa fa-hashtag', _name: 'FORM_DESIGN.TYPE.NUMBER' },\n      { id: 'dropdown', icon: 'fa fa-caret-down', _name: 'FORM_DESIGN.TYPE.DROPDOWN' },\n      { id: 'checkbox', icon: 'fa fa-check', _name: 'FORM_DESIGN.TYPE.CHECKBOX' },\n    ];\n\n    types.forEach(t => { types[t.id] = t; }); // array/object duality\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { types.forEach(type => { type.name = $translate.instant(type._name); }); }\n\n    return types;\n  });\n","import dnd from 'shared/drag-n-drop/dnd.service';\nimport ReservationField from 'shared/services/setup/reservation-field.service';\nimport reservationFieldTypes from './reservation-field-types.service';\nimport fdToolbar from 'shared/form-design/fd-toolbar.directive';\nimport dwModal from 'shared/dw-modal/dw-modal.service';\nimport ReservationFieldEditCtrl from './reservation-field-edit.controller';\n\nexport default angular.module('deskworks.ReservationFieldsCtrl', [\n  'debounce',\n  dnd.name,\n  'deskworks.UserField',\n  fdToolbar.name,\n  reservationFieldTypes.name,\n  ReservationField.name,\n  'deskworks.reservationCategory.service',\n  dwModal.name,\n  ReservationFieldEditCtrl.name,\n  'deskworks.Roles',\n])\n\n  .controller('ReservationFieldsCtrl', function($scope, $translate, $window, $q, dwAlerts, state, helper, debounce, dnd,\n                                                dwModal, Roles, ReservationField,\n                                                reservationCategoryService, reservationFieldTypes) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('RESERVATION_FIELDS.PAGE_TITLE'));\n\n    $ctrl.types = reservationFieldTypes;\n\n    /**\n     * Init\n     */\n    (onInit => {\n      $ctrl.categories = [{\n        id: 0, fields: [], name: $translate.instant('RESERVATION_FIELDS.SHARED.HEADER'),\n        // hint: $translate.instant('RESERVATION_FIELDS.SHARED.HINT'),\n      }];\n      // const categoriesPromise = reservationCategoryService.query(state.getCurrentCenterId())\n      //   .catch(err => dwAlerts.error(err, 'Failed to query reservation categories.'))\n      //   .then(res => {\n      //     $ctrl.categories = res.map(cat => ({ id: cat.id, name: cat.name, fields: [] }));\n      //     $ctrl.categories.unshift({\n      //       id: 0, fields: [], name: $translate.instant('RESERVATION_FIELDS.SHARED.HEADER'),\n      //       hint: $translate.instant('RESERVATION_FIELDS.SHARED.HINT'),\n      //     });\n      //   });\n\n      const fieldsPromise = ReservationField.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query reservation fields.'));\n\n      Roles.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query roles.'))\n        .then(roles => { $ctrl.roles = roles; })\n        .then(() => {\n          $ctrl.newFieldTpl = {\n            type: '$type.id', name: '', reservationCategoryId: '$target.id', required: false,\n            access: $ctrl.roles.reduce((res, role) => (res[role.id] = true, res) , {}),\n          }\n        });\n\n      // $q.all({ categoriesPromise, fields: fieldsPromise })\n      $q.all({ fields: fieldsPromise })\n        .then(({ fields }) => {\n          fields.forEach(field => {\n            const category = $ctrl.categories.find(c => c.id === field.reservationCategoryId);\n            if (!category) return;\n            category.fields.push(field);\n          });\n        });\n    })();\n\n    /**\n     * Drop handler\n     */\n    $ctrl.onDrop = (srcList, srcIndex, targetList, targetIndex, form, target) => {\n      let item = srcList[srcIndex];\n      if (!targetList && item.id && !$window.confirm($translate.instant('FORM_DESIGN.TRASH.CONFIRM'))) return false;\n      item = dnd.move(srcList, srcIndex, targetList, targetIndex);\n\n      if (item && target) item.reservationCategoryId = target.id;\n\n      if (!targetList) { // delete\n        if (!item.id) return true; // don't delete uncreated\n        deleteField(item);\n      } else { // update\n        if (form.$invalid) return true; // don't save invalid\n        saveField(item, form);\n      }\n\n      return true; // true is required by dnd-callback of dnd-list\n    };\n\n\n    /**\n     * Save handler\n     */\n    $ctrl.saveField = debounce(saveField, 1000);\n    function saveField(field, form) {\n      if (form.$invalid) return;\n\n      field.$$spin = true;\n      return ReservationField.save(field)\n        .catch(err => dwAlerts.error(err, 'Failed to save reservation field.'))\n        .finally(() => { field.$$spin = false; })\n        .catch(angular.noop);\n    }\n\n    /**\n     * Edit handler\n     */\n    $ctrl.editField = (field) => {\n      dwModal.show({\n        scope: $scope,\n        templateUrl: 'reservation-fields/reservation-field-edit.tpl.html',\n        controller: 'ReservationFieldEditCtrl as $ctrl',\n        inputs: { field, save: $ctrl.saveField, roles: $ctrl.roles },\n      });\n    };\n\n    /**\n     * Delete handler\n     */\n    function deleteField(field) {\n      if (!field.id) return; // not existing\n      field.$$spin = true;\n      $ctrl.deleting = true;\n      return ReservationField.delete(field.id)\n        .catch(err => dwAlerts.error(err, 'Failed to delete reservation field.'))\n        .finally(() => { field.$$spin = false; $ctrl.deleting = false; })\n        .catch(angular.noop);\n    }\n  });\n","// Module\nvar code = \"<div ff-bulk-read-only> <h4 class=\\\"page-title\\\"> <span>{{state.getPageTitle()}}</span> <ff-hint style=\\\"vertical-align:top;line-height:.8rem\\\"><span translate=\\\"RESERVATION_FIELDS.HINT\\\"></span></ff-hint> </h4> <div class=\\\"fd-container\\\"> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <ff-spin class=\\\"ff-spin-placeholder\\\" ng-if=\\\"!$ctrl.categories\\\"></ff-spin> <ff-panel flex=\\\"{md: '0 0 50%'}\\\" ng-repeat=\\\"category in $ctrl.categories\\\"> <ff-panel-header> <span>{{category.name}}</span> <ff-hint><span translate=\\\"FORM_DESIGN.HINT\\\"></span></ff-hint> <ff-hint ng-if=\\\"category.hint\\\">{{category.hint}}</ff-hint> </ff-panel-header> <ng-include src=\\\"'reservationFieldsTpl'\\\"></ng-include> </ff-panel> </div> <fd-toolbar types=\\\"$ctrl.types\\\" deleting=\\\"$ctrl.deleting\\\" new-item=\\\"$ctrl.newFieldTpl\\\"></fd-toolbar> </div> </div> <script type=\\\"text/ng-template\\\" id=\\\"reservationFieldsTpl\\\"> <ff-header>\\n    <ff-row>\\n      <cell flex=\\\"0 0 36px\\\"><span translate=\\\"FORM_DESIGN.TYPE\\\" style=\\\"letter-spacing: -1px;\\\"></span></cell>\\n      <cell><req translate=\\\"FORM_DESIGN.NAME\\\"></req></cell>\\n    </ff-row>\\n  </ff-header>\\n\\n  <div dnd-list dnd-drop=\\\"callback({ targetList: category.fields, targetIndex: index, target: category })\\\">\\n    <form name=\\\"form\\\" novalidate class=\\\"ff-row\\\"\\n          ng-repeat=\\\"field in category.fields\\\"\\n          dnd-draggable=\\\"null\\\" dnd-callback=\\\"$ctrl.onDrop(category.fields, $index, targetList, targetIndex, form, target)\\\">\\n      <ff-static flex=\\\"0 0 36px\\\" ff-dim=\\\"field.$$spin\\\" class=\\\"ff-center\\\">\\n        <i ng-class=\\\"$ctrl.types[field.type].icon\\\"></i>\\n      </ff-static>\\n      <ff-text ff-model=\\\"field.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'FORM_DESIGN.NAME' | translate}}\\\"\\n               ff-change=\\\"$ctrl.saveField(field, form)\\\" dnd-nodrag></ff-text>\\n      <ff-btn-group flex=\\\"none\\\">\\n        <ff-btn sense=\\\"edit\\\" size=\\\"xs\\\" ff-click=\\\"$ctrl.editField(field)\\\"></ff-btn>\\n      </ff-btn-group>\\n    </form>\\n    <div ng-if=\\\"!category.fields.length\\\" translate=\\\"FORM_DESIGN.EMPTY\\\" style=\\\"padding: 10px 0 0\\\"></div>\\n  </div> </script> \";\n// Exports\nmodule.exports = code;","import dwSearchUserDirective from 'shared/dw-controls/dw-search-user.directive';\nimport optsInvoiceTemplate from 'shared/services/setup/opts-invoice-template.service';\n\nexport default angular.module('deskworks.SetupSettingsCtrl', [\n  'deskworks.state',\n  'deskworks.setup.service',\n  'deskworks.userProfile.service',\n  'setLocale',\n  'setTranslations',\n  'deskworks.setup.optsProrateAtStart',\n  'deskworks.setup.optsProrateAtTermination',\n  'deskworks.setup.optsMinPassFractionUnit',\n  'deskworks.optsDashboardIncome',\n  'deskworks.Roles',\n  dwSearchUserDirective.name,\n  optsInvoiceTemplate.name,\n])\n\n  .controller('SetupSettingsCtrl', function($scope, $window, $timeout, $route, $translate, $q, dwAlerts, state, helper,\n                                            setupService, settings, userProfileService, optsInvoiceDate,\n                                            optsProrateAtStart, optsProrateAtTermination, optsDashboardIncome,\n                                            optsReservationCreditsUnit, optsMinPassFractionUnit, Roles, optsInvoiceTemplate) {\n    const vm = this;\n\n    state.setPageTitle($translate.instant('SETUP_SETTINGS.PAGE_TITLE'));\n\n    vm.settings = settings;\n\n    vm.optsDeclinedPaymentAutoRetryPeriod = [1, 2, 3, 7];\n    vm.optsDeclinedPaymentAutoRetryAttempts = [0, 1, 2, 3];\n    vm.optsPassGracePeriod = [15, 20, 30];\n    vm.optsInvoiceTemplate = optsInvoiceTemplate;\n\n    /**\n     * Populate 'Create Invoice __ days in advance of charge' dropdown and select default value\n     */\n    vm.advanceInvoicingDays = [{ id: 1, name: '1 day' }];\n    for (let i = 2; i < 31; i++) {\n      vm.advanceInvoicingDays.push({ id: i, name: i + ' days' });\n    }\n\n    vm.settings.advanceInvoicingDays = vm.advanceInvoicingDays.find(d => d.id === vm.settings.advanceInvoicingDays);\n\n    if (!vm.settings.advanceInvoicingDays) {\n      vm.settings.advanceInvoicingDays = vm.advanceInvoicingDays[0];\n    }\n\n    vm.optsInvoiceDate = optsInvoiceDate;\n    vm.optsProrateAtStart = optsProrateAtStart;\n    vm.optsProrateAtTermination = optsProrateAtTermination;\n    vm.optsReservationCreditsUnit = optsReservationCreditsUnit;\n    vm.optsMinPassFractionUnit = optsMinPassFractionUnit;\n    vm.optsDashboardIncome = optsDashboardIncome;\n\n    fetchOwners();\n    fetchAdminRoles();\n\n    /**\n     * Save settings\n     */\n    vm.save = () => {\n      if (helper.pointFirstInvalid('#setupSettings')) return;\n\n      return setupService.updateSetupSettings(vm.settings)\n        .catch(err => dwAlerts.error(err, 'Failed to save setup settings.'))\n        .then(() => { $route.reload(); });\n    };\n\n    /**\n     * Fetch calendarOwners and replace owner.id with short user object\n     */\n    function fetchOwners() {\n      vm.settings.calendarOwners.forEach(calOwner => {\n        userProfileService.get(state.getCurrentCenterId(), calOwner.owner)\n          .then(result => {\n            calOwner.owner = { id: result.id, fullName: result.firstName + ' ' + result.lastName, company: result.company, email: result.email };\n          });\n      });\n    }\n\n    /**\n     * Fetch admin roles to use in limitRefundProcessingTo section\n     */\n    function fetchAdminRoles() {\n      return Roles.query()\n        .catch(err => dwAlerts.error(err, 'Failed to query user roles.'))\n        .then(result => { vm.adminRoles = result.filter(role => role.type === 'admin') });\n    }\n\n    /**\n     * Add Calendar Owner\n     */\n    vm.addCalendarOwner = () => {\n      vm.settings.calendarOwners.push({});\n      vm.form.$setDirty();\n    };\n\n    /**\n     * Delete Calendar Owner\n     */\n    vm.deleteCalendarOwner = calOwner => {\n      const idx = vm.settings.calendarOwners.indexOf(calOwner);\n      if (idx >= 0) vm.settings.calendarOwners.splice(idx, 1);\n      vm.form.$setDirty();\n    };\n\n    /**\n     * Disconnect Calendar button handler\n     */\n    vm.disconnectCalendar = () => {\n      if (!window.confirm($translate.instant('CALENDAR.CONFIRM_DISCONNECT'))) return;\n      return setupService.updateSetupSettingsRaw({ calendarConnected: false })\n        .catch(err => dwAlerts.error(err, 'Failed to disconnect calendar.'))\n        .then(() => { vm.settings.calendarConnected = false; });\n    };\n\n    vm.ccTypeRequired = () => {\n      return vm.settings.creditCardTypes.every(ccType => !ccType.enable);\n    };\n  });\n","// Module\nvar code = \"<form name=\\\"vm.form\\\" id=\\\"setupSettings\\\" novalidate ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <ff-panel flex=\\\"{lg: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"SETUP_SETTINGS.GENERAL.HEADER\\\"></span></ff-panel-header> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"{xs: '0 1 140px', sm: '0 1 220px'}\\\"><req translate=\\\"SETUP_SETTINGS.LANGUAGE\\\"></req></ff-label> <ff-select name=\\\"locale\\\" ff-model=\\\"vm.settings.locale\\\" ff-options=\\\"locale.id as locale.name for locale in $resolve.locales\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.LANGUAGE' | translate}}\\\"></ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"{xs: '0 1 140px', sm: '0 1 220px'}\\\"><span translate=\\\"SETUP_SETTINGS.DASHBOARD_INCOME\\\"></span></ff-label> <ff-select name=\\\"dashboardIncome\\\" ff-model=\\\"vm.settings.dashboardIncome\\\" ff-required=\\\"true\\\" ff-options=\\\"opt.id as opt.name for opt in vm.optsDashboardIncome\\\"></ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"{xs: '0 1 140px', sm: '0 1 220px'}\\\"><span translate=\\\"SETUP_SETTINGS.PASS_GRACE_PERIOD\\\"></span></ff-label> <ff-select name=\\\"passGracePeriod\\\" ff-model=\\\"vm.settings.passGracePeriod\\\"> <option ng-repeat=\\\"opt in vm.optsPassGracePeriod\\\" ng-value=\\\"opt\\\">{{opt | minutes}}</option> </ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"{xs: '0 1 140px', sm: '0 1 220px'}\\\"><span translate=\\\"SETUP_SETTINGS.INVOICE_TEMPLATE\\\"></span></ff-label> <ff-select name=\\\"invoiceTemplate\\\" ff-model=\\\"vm.settings.invoiceTemplate\\\" ff-options=\\\"opt.id as opt.name for opt in vm.optsInvoiceTemplate\\\"> </ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"{xs: '0 1 160px', sm: '0 1 250px'}\\\"> <span> <span translate=\\\"SETUP_SETTINGS.GTM_CONTAINER_ID\\\"></span> <ff-hint><span translate=\\\"SETUP_SETTINGS.GTM_CONTAINER_ID.HINT\\\"></span></ff-hint> </span> </ff-label> <ff-text name=\\\"gtmContainerId\\\" ff-model=\\\"vm.settings.gtmContainerId\\\" placeholder=\\\"GTM-XXXXXXX\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.GTM_CONTAINER_ID' | translate}}\\\"></ff-text> </label> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"enableAddOnProductsAtRegistration\\\" ff-model=\\\"vm.settings.enableAddOnProductsAtRegistration\\\"> <span translate=\\\"SETUP_SETTINGS.ADD_ON_PRODUCTS_REGISTRATION\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.ADD_ON_PRODUCTS_REGISTRATION.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"enableExtraFieldsAtRegistration\\\" ff-model=\\\"vm.settings.enableExtraFieldsAtRegistration\\\"> <span translate=\\\"SETUP_SETTINGS.EXTRA_FIELDS_REGISTRATION\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.EXTRA_FIELDS_REGISTRATION.HINT\\\"></span></ff-hint> </ff-static> <affiliatly-settings settings=\\\"vm.settings\\\"></affiliatly-settings> </ff-panel> <ff-panel flex=\\\"{lg: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"SETUP_SETTINGS.FEATURES.HEADER\\\"></span></ff-panel-header> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"timeFormat\\\" ff-model=\\\"vm.settings.timeFormat\\\" ff-true-value=\\\"24\\\" ff-false-value=\\\"12\\\"> <span translate=\\\"SETUP_SETTINGS.TIME_FORMAT\\\"></span> </ff-checkbox> </label> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"enableEmailing\\\" ff-model=\\\"vm.settings.enableEmailing\\\"> <span translate=\\\"SETUP_SETTINGS.ENABLE_EMAILING\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.ENABLE_EMAILING.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"sendNoticesFromLocalCenter\\\" ff-model=\\\"vm.settings.sendNoticesFromLocalCenter\\\"> <span translate=\\\"SETUP_SETTINGS.NOTICES_FROM_LOCAL_FACILITY\\\"></span> </ff-checkbox> </label> </ff-static> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"isFranchise\\\" ff-model=\\\"vm.settings.isFranchise\\\"> <span translate=\\\"SETUP_SETTINGS.IS_FRANCHISE\\\"></span> </ff-checkbox> </label> </ff-static> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"enableAccessCodes\\\" ff-model=\\\"vm.settings.enableAccessCodes\\\"> <span translate=\\\"SETUP_SETTINGS.ENABLE_ACCESS_CODES\\\"></span> </ff-checkbox> </label> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"activateMembersForAllCenters\\\" ff-model=\\\"vm.settings.activateMembersForAllCenters\\\"> <span translate=\\\"SETUP_SETTINGS.ACTIVATE_MEMBERS_FOR_ALL_CENTERS\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.ACTIVATE_MEMBERS_FOR_ALL_CENTERS.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"skipPlanMemberSignUp\\\" ff-model=\\\"vm.settings.skipPlanMemberSignUp\\\"> <span translate=\\\"SETUP_SETTINGS.SKIP_PLAN_MEMBER_SIGN_UP\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.SKIP_PLAN_MEMBER_SIGN_UP.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"enableSecurityDepositInMembershipProducts\\\" ff-model=\\\"vm.settings.enableSecurityDepositInMembershipProducts\\\"> <span translate=\\\"SETUP_SETTINGS.ENABLE_SECURITY_DEPOSIT_IN_MEMBERSHIP_PRODUCTS\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.ENABLE_SECURITY_DEPOSIT_IN_MEMBERSHIP_PRODUCTS.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"enableRenewalNotices\\\" ff-model=\\\"vm.settings.enableRenewalNotices\\\"> <span translate=\\\"SETUP_SETTINGS.ENABLE_RENEWAL_NOTICES\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.ENABLE_RENEWAL_NOTICES.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"multiLevelProductCategory\\\" ff-model=\\\"vm.settings.multiLevelProductCategory\\\"> <span translate=\\\"SETUP_SETTINGS.MULTI_LEVEL_PRODUCT_CATEGORY\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.MULTI_LEVEL_PRODUCT_CATEGORY.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"enableGdprDelete\\\" ff-model=\\\"vm.settings.enableGdprDelete\\\"> <span translate=\\\"SETUP_SETTINGS.ENABLE_GDPR_DELETE\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.ENABLE_GDPR_DELETE.HINT\\\"></span></ff-hint> </ff-static> </ff-panel> <ff-panel flex=\\\"{lg: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"SETUP_SETTINGS.BILLING_FEATURES.HEADER\\\"></span></ff-panel-header> <ff-row> <ff-label flex=\\\"{xs: '0 1 140px', sm: '0 1 152px'}\\\"><span translate=\\\"SETUP_SETTINGS.CC_TYPES\\\"></span></ff-label> <ff-static> <div class=\\\"ff-grid gutter-h-half\\\" style=\\\"justify-content:flex-start\\\"> <label flex=\\\"none\\\" ng-repeat=\\\"ccType in vm.settings.creditCardTypes\\\"> <ff-checkbox name=\\\"{{ccType.id}}\\\" ff-model=\\\"ccType.enable\\\" ff-required=\\\"vm.ccTypeRequired()\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.CC_TYPES.AT_LEAST_ONE' | translate}}\\\">{{ccType.name}}</ff-checkbox> </label> </div> </ff-static> </ff-row> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"enableEChecks\\\" ff-model=\\\"vm.settings.enableEChecks\\\"> <span translate=\\\"SETUP_SETTINGS.USE_E_CHECKS\\\"></span> </ff-checkbox> </label> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"creditCardAddressOptional\\\" ff-model=\\\"vm.settings.creditCardAddressOptional\\\"> <span translate=\\\"SETUP_SETTINGS.CC_ADDRESS_OPTIONAL\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.CC_ADDRESS_OPTIONAL.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <div class=\\\"gutter-h-half\\\" ff-dim=\\\"!vm.adminRoles\\\"> <ff-static class=\\\"i-block ff-no-frame\\\" ff-style=\\\"{ padding: 0 }\\\" style=\\\"min-width:196px\\\"> <span translate=\\\"SETUP_SETTINGS.LIMIT_REFUND_PROCESSING_TO\\\"></span> </ff-static> <label ng-repeat=\\\"role in vm.adminRoles\\\" class=\\\"i-block\\\"> <ff-checkbox name=\\\"{{role.id}}\\\" ff-model=\\\"vm.settings.limitRefundProcessingTo[role.id]\\\">{{role._name ? (role._name | translate) : role.name}}</ff-checkbox> </label> </div> </ff-static> <ff-static> <div class=\\\"gutter-h-half\\\" ff-dim=\\\"!vm.adminRoles\\\"> <ff-static class=\\\"i-block ff-no-frame\\\" ff-style=\\\"{ padding: 0 }\\\" style=\\\"min-width:196px\\\"> <span translate=\\\"SETUP_SETTINGS.LIMIT_DELETING_ORDER_ITEMS_TO\\\"></span> </ff-static> <label ng-repeat=\\\"role in vm.adminRoles\\\" class=\\\"i-block\\\"> <ff-checkbox name=\\\"{{role.id}}\\\" ff-model=\\\"vm.settings.limitDeletingOrderItemsTo[role.id]\\\">{{role._name ? (role._name | translate) : role.name}}</ff-checkbox> </label> </div> </ff-static> <ff-row> <label class=\\\"ff-row\\\" flex=\\\"0 1 320px\\\"> <ff-label flex=\\\"0 1 auto\\\"> <span translate=\\\"SETUP_SETTINGS.AUTO_RETRY_DECLINED_PAYMENTS\\\"></span> </ff-label> <ff-select flex=\\\"0 0 40px\\\" name=\\\"declinedPaymentAutoRetryPeriod\\\" ff-disabled=\\\"vm.settings.declinedPaymentAutoRetryAttempts === 0\\\" ff-model=\\\"vm.settings.declinedPaymentAutoRetryPeriod\\\" ff-required=\\\"true\\\" ff-options=\\\"days for days in vm.optsDeclinedPaymentAutoRetryPeriod\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.AUTO_RETRY_DAYS' | translate}}\\\"></ff-select> <ff-label flex=\\\"1 0 auto\\\"><span translate=\\\"SETUP_SETTINGS.AUTO_RETRY_DAYS\\\"></span></ff-label> </label> <label class=\\\"ff-row\\\" flex=\\\"1 1 190px\\\"> <ff-label flex=\\\"0 0 auto\\\"><span translate=\\\"SETUP_SETTINGS.AUTO_RETRY_FOR\\\"></span></ff-label> <ff-select flex=\\\"0 0 40px\\\" name=\\\"declinedPaymentAutoRetryAttempts\\\" ff-model=\\\"vm.settings.declinedPaymentAutoRetryAttempts\\\" ff-required=\\\"true\\\" ff-options=\\\"days for days in vm.optsDeclinedPaymentAutoRetryAttempts\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.AUTO_RETRY_ATTEMPTS' | translate}}\\\"></ff-select> <ff-label flex=\\\"1 0 auto\\\"><span translate=\\\"SETUP_SETTINGS.AUTO_RETRY_ATTEMPTS\\\"></span></ff-label> </label> </ff-row> </ff-panel> <ff-panel flex=\\\"{lg: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"SETUP_SETTINGS.SWEEP.HEADER\\\"></span></ff-panel-header> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"sweepCharges\\\" ff-model=\\\"vm.settings.sweepCharges\\\"> <span translate=\\\"SETUP_SETTINGS.SWEEP_CHARGES\\\"></span> </ff-checkbox> </label> </ff-static> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"emailSweptInvoices\\\" ff-model=\\\"vm.settings.emailSweptInvoices\\\" ff-disabled=\\\"!vm.settings.sweepCharges\\\"> <span translate=\\\"SETUP_SETTINGS.EMAIL_SWEPT_INVOICES\\\"></span> </ff-checkbox> </label> </ff-static> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 60%\\\" ng-disabled=\\\"!vm.settings.sweepCharges\\\"> <req translate=\\\"SETUP_SETTINGS.ADVANCE_INVOICING_DAYS\\\"></req> </ff-label> <ff-select name=\\\"advanceInvoicingDays\\\" ff-model=\\\"vm.settings.advanceInvoicingDays\\\" ff-required=\\\"true\\\" ff-options=\\\"days.name for days in vm.advanceInvoicingDays\\\" ff-disabled=\\\"!vm.settings.sweepCharges\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.ADVANCE_INVOICING_BY' | translate}}\\\"></ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 60%\\\" ng-disabled=\\\"!vm.settings.sweepCharges\\\"> <span translate=\\\"SETUP_SETTINGS.INVOICE_DATE\\\"></span> </ff-label> <ff-select name=\\\"invoiceDate\\\" ff-model=\\\"vm.settings.invoiceDate\\\" ff-options=\\\"date.name for date in vm.optsInvoiceDate\\\" ff-disabled=\\\"!vm.settings.sweepCharges\\\"></ff-select> </label> </ff-panel> <ff-panel flex=\\\"{lg: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"SETUP_SETTINGS.RESERVATION.HEADER\\\"></span></ff-panel-header> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><span translate=\\\"SETUP_SETTINGS.RESERVATION_CREDITS_UNIT\\\"></span></ff-label> <ff-select name=\\\"reservationCreditsUnit\\\" ff-model=\\\"vm.settings.reservationCreditsUnit\\\"> <option ng-repeat=\\\"opt in vm.optsReservationCreditsUnit\\\" ng-value=\\\"opt.id\\\">{{opt.name}}</option> </ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"> <span> <span translate=\\\"SETUP_SETTINGS.MIN_PASS_UNIT\\\"></span> <ff-hint><span translate=\\\"SETUP_SETTINGS.MIN_PASS_UNIT.HINT\\\"></span></ff-hint> </span> </ff-label> <ff-select name=\\\"minPassInPercent\\\" ff-model=\\\"vm.settings.minPassInPercent\\\" ff-options=\\\"opt.id as opt.name for opt in vm.optsMinPassFractionUnit\\\"> </ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><span translate=\\\"SETUP_SETTINGS.RESERVATION_INFO_VISIBILITY\\\"></span></ff-label> <ff-select name=\\\"publicReservationDetails\\\" ff-model=\\\"vm.settings.publicReservationDetails\\\"> <option ng-value=\\\"false\\\" translate=\\\"SETUP_SETTINGS.RESERVATION_INFO_VISIBILITY.SHARED\\\"></option> <option ng-value=\\\"true\\\" translate=\\\"SETUP_SETTINGS.RESERVATION_INFO_VISIBILITY.ALL\\\"></option> </ff-select> </label> <ff-static> <label> <ff-checkbox name=\\\"hideReservationCostEstimate\\\" ff-model=\\\"vm.settings.hideReservationCostEstimate\\\"> <span translate=\\\"SETUP_SETTINGS.HIDE_RESERVATION_COST_ESTIMATE\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.HIDE_RESERVATION_COST_ESTIMATE.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"hideRecurringReservations\\\" ff-model=\\\"vm.settings.hideRecurringReservations\\\"> <span translate=\\\"SETUP_SETTINGS.HIDE_RECURRING_RESERVATIONS\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.HIDE_RECURRING_RESERVATIONS.HINT\\\"></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=\\\"hideStaffOnlyUnits\\\" ff-model=\\\"vm.settings.hideStaffOnlyUnits\\\"> <span translate=\\\"SETUP_SETTINGS.HIDE_STAFF_ONLY_UNITS\\\"></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=\\\"SETUP_SETTINGS.HIDE_STAFF_ONLY_UNITS.HINT\\\"></span></ff-hint> </ff-static> </ff-panel> <div flex=\\\"{lg: '0 0 50%'}\\\"> <ff-col class=\\\"gutter-v\\\"> <ff-panel> <ff-panel-header> <span translate=\\\"SETUP_SETTINGS.PRO_RATION.HEADER\\\"></span> <ff-hint><span translate=\\\"SETUP_SETTINGS.PRO_RATION.HINT\\\"></span></ff-hint> </ff-panel-header> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><span translate=\\\"SETUP_SETTINGS.PRO_RATE_AT_START\\\"></span></ff-label> <ff-select name=\\\"prorateAtStart\\\" ff-model=\\\"vm.settings.prorateAtStart\\\" ff-options=\\\"opt.id as opt.name for opt in vm.optsProrateAtStart\\\"> </ff-select> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 200px\\\"><span translate=\\\"SETUP_SETTINGS.PRO_RATE_AT_TERMINATION\\\"></span></ff-label> <ff-select name=\\\"prorateAtTermination\\\" ff-model=\\\"vm.settings.prorateAtTermination\\\" ff-options=\\\"opt.id as opt.name for opt in vm.optsProrateAtTermination\\\"> </ff-select> </label> </ff-panel> <ff-panel> <ff-panel-header> <span translate=\\\"SETUP_SETTINGS.PROCESSING_CHARGES.HEADER\\\"></span> <ff-hint><span translate=\\\"SETUP_SETTINGS.PROCESSING_CHARGES.HINT\\\"></span></ff-hint> </ff-panel-header> <ff-static> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"enablePaymentProcessingCharges\\\" ff-model=\\\"vm.settings.enablePaymentProcessingCharges\\\"> <span translate=\\\"SETUP_SETTINGS.PROCESSING_CHARGES.ENABLE\\\"></span> </ff-checkbox> </label> </ff-static> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 220px\\\" ng-disabled=\\\"!vm.settings.enablePaymentProcessingCharges\\\"> <span translate=\\\"SETUP_SETTINGS.PROCESSING_CHARGES.CC_RATE\\\"></span> </ff-label> <ff-number name=\\\"paymentProcessingRatesCc\\\" ff-model=\\\"vm.settings.paymentProcessingRates.cc\\\" ff-disabled=\\\"!vm.settings.enablePaymentProcessingCharges\\\" ff-gte=\\\"0\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.PROCESSING_CHARGES.PERCENT' | translate}}\\\"></ff-number> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 1 220px\\\" ng-disabled=\\\"!vm.settings.enablePaymentProcessingCharges\\\"> <span translate=\\\"SETUP_SETTINGS.PROCESSING_CHARGES.ACH_RATE\\\"></span> </ff-label> <ff-number name=\\\"paymentProcessingRatesAch\\\" ff-model=\\\"vm.settings.paymentProcessingRates.ach\\\" ff-disabled=\\\"!vm.settings.enablePaymentProcessingCharges\\\" ff-gte=\\\"0\\\" ff-validate-alert=\\\"{{'SETUP_SETTINGS.PROCESSING_CHARGES.PERCENT' | translate}}\\\"></ff-number> </label> </ff-panel> </ff-col> </div> <ff-panel ng-if=\\\"vm.settings.calendarIntegration\\\" flex=\\\"{xl: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"SETUP_SETTINGS.CALENDAR.HEADER\\\"></span></ff-panel-header> <ff-row> <label flex=\\\"auto\\\"> <ff-label flex=\\\"auto\\\"><span translate=\\\"SETUP_SETTINGS.CALENDAR.CONNECTION\\\"></span></ff-label> <ff-static flex=\\\"none\\\" ng-if=\\\"vm.settings.calendarConnected\\\"> <span> <ff-icon sense=\\\"check\\\"></ff-icon> <span translate=\\\"SETUP_SETTINGS.CALENDAR.CONNECTED\\\"></span> </span> </ff-static> </label> <ff-btn-group flex=\\\"none\\\" class=\\\"buttons-row\\\"> <a ng-if=\\\"!vm.settings.calendarConnected\\\" href=\\\"{{vm.settings.calendarGrantUrl}}\\\" target=\\\"_self\\\" style=\\\"background:url(data:image/png;base64,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);background-size:100%;display:inline-block;width:160px;height:38px;margin-left:5px\\\"></a> <ff-btn ng-if=\\\"vm.settings.calendarConnected\\\" sense=\\\"delete\\\" size=\\\"sm\\\" ff-click=\\\"vm.disconnectCalendar()\\\"> <span translate=\\\"SETUP_SETTINGS.CALENDAR.BTN_DISCONNECT\\\"></span> </ff-btn> </ff-btn-group> </ff-row> <label class=\\\"ff-row\\\" ng-if=\\\"vm.settings.googleCalendarEmail\\\"> <ff-label flex=\\\"0 0 50%\\\"><span translate=\\\"SETUP_SETTINGS.CALENDAR.EMAIL\\\"></span></ff-label> <ff-static>{{vm.settings.googleCalendarEmail}}</ff-static> </label> <ff-static ng-if=\\\"vm.settings.calendarConnected\\\"> <label class=\\\"ff-row\\\"> <ff-checkbox name=\\\"addCenterPrefixToCalendar\\\" ff-model=\\\"vm.settings.addCenterPrefixToCalendar\\\"> <span translate=\\\"SETUP_SETTINGS.CALENDAR.CENTER_PREFIX\\\"></span> </ff-checkbox> </label> </ff-static> <ff-header ng-if=\\\"vm.settings.calendarConnected\\\" style=\\\"margin-top:.6rem;padding-bottom:.6rem\\\"> <span><span translate=\\\"SETUP_SETTINGS.CALENDAR.ACCOUNTS\\\"></span>:</span> </ff-header> <ff-row ng-if=\\\"vm.settings.calendarConnected\\\" ng-repeat=\\\"calOwner in vm.settings.calendarOwners\\\"> <label flex=\\\"0 0 50%\\\"> <ff-label flex=\\\"0 0 65px\\\"><span translate=\\\"SETUP_SETTINGS.CALENDAR.ACCOUNT\\\"></span></ff-label> <ff-search flex=\\\"auto\\\" name=\\\"calendarAssignedToMember\\\" ng-model=\\\"calOwner.owner\\\" dw-search-user=\\\"activeNameOnly\\\"></ff-search> </label> <label flex=\\\"0 1 50%\\\"> <ff-label flex=\\\"none\\\"> <span> <span translate=\\\"SETUP_SETTINGS.CALENDAR.KEYWORD\\\"></span> <ff-hint><span translate=\\\"SETUP_SETTINGS.CALENDAR.KEYWORD.HINT\\\"></span></ff-hint> </span> </ff-label> <ff-text flex=\\\"1 1 1%\\\" name=\\\"mask\\\" ff-model=\\\"calOwner.mask\\\"></ff-text> </label> <ff-btn sense=\\\"delete\\\" size=\\\"xs\\\" ff-click=\\\"vm.deleteCalendarOwner(calOwner)\\\" title=\\\"{{'SETUP_SETTINGS.CALENDAR.BTN_DELETE_ACCOUNT.HINT' | translate}}\\\"></ff-btn> </ff-row> <ff-btn-group class=\\\"ff-section-buttons\\\" ng-if=\\\"vm.settings.calendarConnected\\\"> <ff-btn sense=\\\"add\\\" size=\\\"sm\\\" ff-click=\\\"vm.addCalendarOwner(calOwner)\\\"> <span translate=\\\"SETUP_SETTINGS.CALENDAR.BTN_ADD_ACCOUNT\\\"></span> </ff-btn> </ff-btn-group> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"save\\\" type=\\\"submit\\\" ff-click=\\\"vm.save()\\\" ff-disabled=\\\"vm.form.$pristine\\\"> <span translate=\\\"GLOBAL.BTN_SAVE\\\"></span> </ff-btn> </ff-btn-group> </div> </form> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.SystemEmailEditCtrl', [\n  'deskworks.system.service',\n])\n\n  .controller('SystemEmailEditCtrl', function($scope, $translate, dwAlerts, state, helper, systemEmail,\n                                              systemService, optsSystemEmailFunction) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant(systemEmail.id ? 'SYSTEM_EMAILS.EDIT.PAGE_TITLE' : 'SYSTEM_EMAILS.NEW.PAGE_TITLE'));\n\n    $ctrl.systemEmail = systemEmail;\n    $ctrl.functions = optsSystemEmailFunction;\n    $ctrl.systemEmail.function = $ctrl.functions.find(f => f.id === $ctrl.systemEmail.function) || $ctrl.functions[0];\n\n    /**\n     * Save System Email handler\n     */\n    $ctrl.save = () => {\n      if (helper.pointFirstInvalid('#systemEmailEdit')) return;\n\n      const data = {\n        function: $ctrl.systemEmail.function.id,\n        email: $ctrl.systemEmail.email,\n      };\n\n      const promise = $ctrl.systemEmail.id ? systemService.updateSystemEmail($ctrl.systemEmail.id, data) : systemService.createSystemEmail(data);\n      return promise\n        .catch(err => dwAlerts.error(err, 'Failed to save system email.'))\n        .then(result => {\n          if (!$ctrl.systemEmail.id) return state.setPath('/system-emails/' + result.id);\n          $ctrl.form.$setPristine();\n        });\n    };\n\n    /**\n     * Remove System Email handler\n     */\n    $ctrl.remove = () => {\n      if (!confirm($translate.instant('SYSTEM_EMAILS.CONFIRM_DELETE'))) return;\n\n      return systemService.removeSystemEmail($ctrl.systemEmail.id)\n        .catch(err => dwAlerts.error(err, 'Failed to remove system email.'))\n        .then(() => state.setPath('/system-emails'));\n    };\n\n    /**\n     * Back button handler\n     */\n    $ctrl.back = () => state.setPath('/system-emails');\n  });\n","// Module\nvar code = \"<form name=\\\"$ctrl.form\\\" id=\\\"systemEmailEdit\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"gutter-v\\\"> <ff-panel style=\\\"max-width:815px\\\"> <ff-header> <ff-row> <cell flex=\\\"0 0 30%\\\"><req translate=\\\"SYSTEM_EMAILS.FUNCTION\\\"></req></cell> <cell><req translate=\\\"SYSTEM_EMAILS.EMAIL\\\"></req></cell> </ff-row> </ff-header> <ff-row> <ff-select flex=\\\"0 0 30%\\\" ff-model=\\\"$ctrl.systemEmail.function\\\" ff-options=\\\"function.name for function in $ctrl.functions\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'SYSTEM_EMAILS.FUNCTION' | translate}}\\\"></ff-select> <ff-email ff-model=\\\"$ctrl.systemEmail.email\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'SYSTEM_EMAILS.EMAIL' | translate}}\\\"></ff-email> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"save\\\" type=\\\"submit\\\" ff-click=\\\"$ctrl.save()\\\" ff-disabled=\\\"$ctrl.form.$pristine\\\"> <span translate=\\\"GLOBAL.BTN_SAVE\\\"></span> </ff-btn> <ff-btn sense=\\\"remove\\\" ff-click=\\\"$ctrl.remove()\\\" ng-if=\\\"$ctrl.systemEmail.id\\\"> <span translate=\\\"GLOBAL.BTN_DELETE\\\"></span> </ff-btn> <ff-btn sense=\\\"back\\\" ff-click=\\\"$ctrl.back()\\\"><span translate=\\\"GLOBAL.BTN_BACK\\\"></span></ff-btn> </ff-btn-group> </div> </form> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.SystemEmailListCtrl', [\n  'deskworks.system.service',\n  'deskworks.optsSystemEmailFunction',\n])\n\n  .controller('SystemEmailListCtrl', function($scope, $translate, state, helper,\n                                              systemEmails, optsSystemEmailFunction) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('SYSTEM_EMAILS.PAGE_TITLE'));\n\n    $ctrl.systemEmails = systemEmails;\n    $ctrl.functions = optsSystemEmailFunction;\n\n    $ctrl.systemEmails.forEach(systemEmail => {\n      systemEmail.function = $ctrl.functions.find(f => f.id === systemEmail.function);\n    });\n\n    /**\n     * Edit System Email handler\n     */\n    $ctrl.edit = systemEmail => state.setPath('/system-emails/' + systemEmail.id);\n\n    /**\n     * New System Email handler\n     */\n    $ctrl.new = () => state.setPath('/system-emails/new');\n  });\n","// Module\nvar code = \"<div class=\\\"system-email-list\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"gutter-v\\\"> <ff-panel style=\\\"max-width:815px\\\"> <span ng-if=\\\"!$ctrl.systemEmails.length\\\" translate=\\\"GLOBAL.NONE\\\"></span> <ff-header ng-if=\\\"$ctrl.systemEmails.length\\\"> <ff-row> <cell flex=\\\"0 0 30%\\\"><span translate=\\\"SYSTEM_EMAILS.FUNCTION\\\"></span></cell> <cell><span translate=\\\"SYSTEM_EMAILS.EMAIL\\\"></span></cell> <ff-btn sense=\\\"edit\\\" size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row zero-height\\\"></ff-btn> </ff-row> </ff-header> <ff-row ng-repeat=\\\"systemEmail in $ctrl.systemEmails\\\"> <ff-static flex=\\\"0 0 30%\\\" ff-bind=\\\"systemEmail.function.name\\\"></ff-static> <ff-static ff-bind=\\\"systemEmail.email\\\"></ff-static> <ff-btn sense=\\\"edit\\\" size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row\\\" ff-click=\\\"$ctrl.edit(systemEmail)\\\" title=\\\"{{'GLOBAL.BTN_EDIT' | translate}}\\\"></ff-btn> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"new\\\" ff-click=\\\"$ctrl.new()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </div> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.TaskEditCtrl', [\n  'deskworks.Task',\n  'deskworks.optsTaskPermission',\n])\n\n  .controller('TaskEditCtrl', function($scope, $translate, dwAlerts, state, helper, task, Task, roles, optsTaskPermission) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant(task.id ? 'TASKS.EDIT.PAGE_TITLE' : 'TASKS.NEW.PAGE_TITLE'));\n\n    task.permissions = task.permissions || {};\n    $ctrl.task = task;\n    $ctrl.roles = roles;\n    $ctrl.optsTaskPermission = optsTaskPermission;\n\n    $ctrl.roles.forEach(role => {\n      if (role._name) role.name = $translate.instant(role._name)  || role.name;\n    });\n\n    if (!$ctrl.task.id) {\n      $ctrl.roles.forEach(role => {\n        $ctrl.task.permissions[role.id] = 'view';\n        if (role.id === 'nonMember' || role.id === 'member') $ctrl.task.permissions[role.id] = null;\n        if (role.id === 'admin' || role.id === 'master') $ctrl.task.permissions[role.id] = 'edit';\n      });\n    }\n\n    /**\n     * Save Task handler\n     */\n    $ctrl.save = () => {\n      if (helper.pointFirstInvalid('#taskEdit')) return;\n\n      const isNew = !$ctrl.task.id;\n      return Task.save($ctrl.task)\n        .catch(err => dwAlerts.error(err, 'Failed to save task.'))\n        .then(task => {\n          $scope.$emit('SIDEBAR:REFRESH');\n          if (isNew) return state.setPath('/tasks/' + task.id);\n          else $ctrl.form.$setPristine();\n        });\n    };\n\n    /**\n     * Remove Task handler\n     */\n    $ctrl.remove = () => {\n      if (!confirm($translate.instant('TASKS.CONFIRM_DELETE'))) return;\n\n      return Task.delete($ctrl.task.id)\n        .catch(err => dwAlerts.error(err, 'Failed to delete task.'))\n        .then(() => {\n          $scope.$emit('SIDEBAR:REFRESH');\n          return state.setPath('/tasks');\n        });\n    };\n\n    /**\n     * Back button handler\n     */\n    $ctrl.back = () => state.setPath('/tasks');\n\n    // /**\n    //  * Role permission checkbox change handler\n    //  */\n    // $ctrl.onChangePermission = function(role, perm) {\n    //   var p = $ctrl.task.permissions[role];\n    //   if(p.edit && perm === 'edit') p.view = true;\n    //   if(!p.view && perm === 'view') p.edit = false;\n    // };\n\n    $ctrl.onChangeIsGroup = () => {\n      if (!$ctrl.task.isGroup) return;\n      $ctrl.roles.forEach(role => {\n        if ($ctrl.task.permissions[role.id]) $ctrl.task.permissions[role.id] = 'view';\n      });\n    };\n  });\n","// Module\nvar code = \"<form name=\\\"$ctrl.form\\\" id=\\\"taskEdit\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <ff-panel flex=\\\"{md: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"TASKS.GENERAL.HEADER\\\"></span></ff-panel-header> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"TASKS.POSITION\\\"></req></ff-label> <ff-number name=\\\"taskPosition\\\" ff-model=\\\"$ctrl.task.position\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'TASKS.POSITION' | translate}}\\\"></ff-number> </label> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\"><req translate=\\\"TASKS.NAME\\\"></req></ff-label> <ff-text name=\\\"taskName\\\" ff-model=\\\"$ctrl.task.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'TASKS.NAME' | translate}}\\\"></ff-text> </label> <ff-static> <label flex=\\\"0 0 100px\\\"> <span translate=\\\"TASKS.IS_GROUP\\\"></span> </label> <ff-checkbox name=\\\"isGroup\\\" ff-model=\\\"$ctrl.task.isGroup\\\" ff-change=\\\"$ctrl.onChangeIsGroup()\\\"></ff-checkbox> </ff-static> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"0 0 100px\\\" ff-required=\\\"{{!$ctrl.task.isGroup}}\\\" ng-disabled=\\\"$ctrl.task.isGroup\\\"> <span translate=\\\"TASKS.URL\\\"></span> </ff-label> <ff-text name=\\\"taskUrl\\\" ff-model=\\\"$ctrl.task.url\\\" ff-required=\\\"!$ctrl.task.isGroup\\\" ff-disabled=\\\"$ctrl.task.isGroup\\\" ff-validate-alert=\\\"{{'TASKS.URL' | translate}}\\\"></ff-text> </label> </ff-panel> <ff-panel flex=\\\"{md: '0 0 50%'}\\\"> <ff-panel-header><span translate=\\\"TASKS.PERMISSIONS.HEADER\\\"></span></ff-panel-header> <ff-header> <ff-row> <cell><span translate=\\\"GLOBAL.ROLE\\\"></span></cell> <cell flex=\\\"0 0 100px\\\"><span translate=\\\"TASKS.PERMISSION\\\"></span></cell> </ff-row> </ff-header> <ff-row ng-repeat=\\\"role in $ctrl.roles\\\"> <ff-static>{{role.name}}</ff-static> <ff-select name=\\\"view\\\" ff-model=\\\"$ctrl.task.permissions[role.id]\\\" flex=\\\"0 0 100px\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.optsTaskPermission | filter: ($ctrl.task.isGroup ? { id: '!edit' } : {})\\\"> <option ng-repeat=\\\"opt in $ctrl.optsTaskPermission\\\" ng-value=\\\"opt.id\\\" ng-if=\\\"!$ctrl.task.isGroup || opt.id !== 'edit'\\\">{{opt.name}}</option> </ff-select> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=\\\"save\\\" type=\\\"submit\\\" ff-click=\\\"$ctrl.save()\\\" ff-disabled=\\\"$ctrl.form.$pristine\\\"> <span translate=\\\"GLOBAL.BTN_SAVE\\\"></span> </ff-btn> <ff-btn sense=\\\"remove\\\" ff-click=\\\"$ctrl.remove()\\\" ng-if=\\\"$ctrl.task.id\\\"> <span translate=\\\"GLOBAL.BTN_DELETE\\\"></span> </ff-btn> <ff-btn sense=\\\"back\\\" ff-click=\\\"$ctrl.back()\\\"><span translate=\\\"GLOBAL.BTN_BACK\\\"></span></ff-btn> </ff-btn-group> </div> </form> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.TaskListCtrl', [])\n\n  .controller('TaskListCtrl', function($scope, $translate, state, helper, tasks, roles) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('TASKS.PAGE_TITLE'));\n\n    $ctrl.tasks = [];\n    $ctrl.tasksHidden = [];\n    $ctrl.tasksHiddenCollapse = true;\n    $ctrl.roles = roles;\n\n    tasks.tasks.forEach(task => {\n      (task.position ? $ctrl.tasks : $ctrl.tasksHidden).push(task);\n      const viewRoles = [], editRoles = [];\n      $ctrl.roles.forEach(role => {\n        if (role._name) role.name = $translate.instant(role._name) || role.name;\n        if (task.permissions[role.id] === 'edit') return editRoles.push(role.name);\n        if (task.permissions[role.id] === 'view') return viewRoles.push(role.name);\n      });\n      task.viewRoles = viewRoles.join(', ');\n      task.editRoles = editRoles.join(', ');\n      if (task.viewRoles && task.editRoles && !task.isGroup) task.viewRoles += ',';\n    });\n\n\n    /**\n     * Edit Task handler\n     */\n    $ctrl.edit = task => state.setPath('/tasks/' + task.id);\n\n    /**\n     * New Task handler\n     */\n    $ctrl.new = () => state.setPath('/tasks/new');\n  });\n","// Module\nvar code = \"<script type=\\\"text/ng-template\\\" id=\\\"taskListTpl\\\"> <ff-panel>\\n    <ff-header>\\n      <ff-row>\\n        <cell class=\\\"ff-center\\\" flex=\\\"0 0 50px\\\" title=\\\"{{'GLOBAL.POSITION.HINT' | translate}}\\\">\\n          <span translate=\\\"GLOBAL.POSITION\\\"></span>\\n        </cell>\\n        <cell flex=\\\"0 0 35%\\\"><span translate=\\\"TASKS.NAME\\\"></span></cell>\\n        <cell><span translate=\\\"TASKS.PERMISSIONS.HEADER\\\"></span></cell>\\n        <ff-btn size=\\\"xs\\\" flex=\\\"none\\\" class=\\\"buttons-row zero-height\\\"></ff-btn>\\n      </ff-row>\\n    </ff-header>\\n\\n    <ff-row ng-repeat=\\\"task in tasks\\\">\\n      <ff-static class=\\\"ff-center\\\" flex=\\\"0 0 50px\\\" ff-bind=\\\"task.position\\\" ng-if=\\\"!task.isGroup\\\"></ff-static>\\n      <ff-static flex=\\\"0 0 35%\\\" ff-bind=\\\"task.name\\\" ng-if=\\\"!task.isGroup\\\"></ff-static>\\n      <ff-static ng-if=\\\"!task.isGroup\\\">\\n        <span>\\n          <span ng-if=\\\"task.viewRoles\\\" style=\\\"background: #eceaea\\\">{{task.viewRoles}}</span>\\n          <span ng-if=\\\"task.editRoles\\\">{{task.editRoles}}</span>\\n        </span>\\n      </ff-static>\\n\\n      <ff-label class=\\\"ff-center standout em\\\" flex=\\\"0 0 50px\\\" ng-if=\\\"task.isGroup\\\"><span style=\\\"font-size: .8666rem\\\">{{task.position}}</span></ff-label>\\n      <ff-label class=\\\"standout em\\\" flex=\\\"0 0 35%\\\" ng-if=\\\"task.isGroup\\\"><span style=\\\"font-size: .8666rem\\\">{{task.name}}</span></ff-label>\\n      <ff-label class=\\\"standout em\\\" ng-if=\\\"task.isGroup\\\">\\n        <span ng-if=\\\"task.viewRoles\\\" style=\\\"font-size: .8666rem\\\">{{task.viewRoles}}</span>\\n      </ff-label>\\n\\n      <ff-btn sense=\\\"edit\\\" size=\\\"xs\\\" flex=\\\"none\\\" ff-click=\\\"$ctrl.edit(task)\\\"\\n              class=\\\"buttons-row\\\" title=\\\"{{'GLOBAL.BTN_EDIT' | translate}}\\\"></ff-btn>\\n    </ff-row>\\n  </ff-panel> </script> <div class=\\\"task-list\\\" ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"gutter-v\\\"> <div class=\\\"ff-grid\\\"> <label class=\\\"ff-row\\\" flex=\\\"0 0 210px\\\" style=\\\"margin-left:auto\\\"> <div flex=\\\"0 0 45%\\\"> <span style=\\\"border:1px solid;width:35px;max-height:20px;background:#eceaea\\\"></span> &nbsp; <span translate=\\\"TASKS.PERMISSION.VIEW\\\"></span> </div> <div flex=\\\"0 0 55%\\\"> <span style=\\\"border:1px solid;width:35px;max-height:20px\\\"></span> &nbsp; <span translate=\\\"TASKS.PERMISSION.EDIT\\\"></span> </div> </label> </div> <div> <ng-include src=\\\"'taskListTpl'\\\" ng-init=\\\"tasks = $ctrl.tasks\\\"></ng-include> </div> <ff-btn-group ng-if=\\\"$ctrl.tasksHidden.length > 0\\\"> <ff-btn sense=\\\"collapse\\\" ng-class=\\\"{ collapsed: $ctrl.tasksHiddenCollapse }\\\" ff-click=\\\"$ctrl.tasksHiddenCollapse = !$ctrl.tasksHiddenCollapse\\\"> <span translate=\\\"TASKS.BTN_HIDDEN\\\"></span> </ff-btn> </ff-btn-group> <div> <div ng-collapse=\\\"$ctrl.tasksHiddenCollapse\\\" ng-if=\\\"$ctrl.tasksHidden.length > 0\\\"> <ng-include src=\\\"'taskListTpl'\\\" ng-init=\\\"tasks = $ctrl.tasksHidden\\\"></ng-include> </div> </div> <ff-btn-group> <ff-btn sense=\\\"new\\\" ff-click=\\\"$ctrl.new()\\\"><span translate=\\\"GLOBAL.BTN_NEW\\\"></span></ff-btn> </ff-btn-group> </div> </div> \";\n// Exports\nmodule.exports = code;","/**\n * Form Design field types\n */\nexport default angular.module('deskworks.userFieldTypes', [])\n\n  .factory('userFieldTypes', function($rootScope, $translate) {\n    const types = [\n      { id: 'text', icon: 'fa fa-text-width', _name: 'FORM_DESIGN.TYPE.TEXT' },\n      { id: 'textarea', icon: 'fa fa-text-height', _name: 'FORM_DESIGN.TYPE.TEXTAREA' },\n      { id: 'date', icon: 'fa fa-calendar', _name: 'FORM_DESIGN.TYPE.DATE' },\n      { id: 'url', icon: 'fa fa-chain', _name: 'FORM_DESIGN.TYPE.URL' },\n      { id: 'email', icon: 'fa fa-at', _name: 'FORM_DESIGN.TYPE.EMAIL' },\n      { id: 'phone', icon: 'fa fa-phone', _name: 'FORM_DESIGN.TYPE.PHONE' },\n      { id: 'number', icon: 'fa fa-hashtag', _name: 'FORM_DESIGN.TYPE.NUMBER' },\n    ];\n\n    types.forEach(t => { types[t.id] = t; }); // array/object duality\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { types.forEach(type => { type.name = $translate.instant(type._name); }); }\n\n    return types;\n  });\n","import dnd from 'shared/drag-n-drop/dnd.service';\nimport UserField from 'shared/services/setup/user-field.service';\nimport userFieldTypes from 'bundles/setup/user-fields/user-field-types.service';\nimport fdToolbar from 'shared/form-design/fd-toolbar.directive';\n\nexport default angular.module('deskworks.UserFieldsCtrl', [\n  'debounce',\n  dnd.name,\n  UserField.name,\n  fdToolbar.name,\n  userFieldTypes.name,\n])\n\n  .controller('UserFieldsCtrl', function($scope, $translate, $window, dwAlerts, state, helper, debounce, dnd,\n                                         UserField, userFields, userFieldTypes) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('USER_FIELDS.PAGE_TITLE'));\n\n    $ctrl.types = userFieldTypes;\n\n    $ctrl.sections = {\n      customFields: userFields.filter(field => field.section === 'customFields'),\n      shareable: userFields.filter(field => field.section === 'shareable'),\n    };\n\n    /**\n     * Drop handler\n     */\n    $ctrl.onDrop = (srcList, srcIndex, targetList, targetIndex, form, target) => {\n      let item = srcList[srcIndex];\n      if (!targetList && item.id && !$window.confirm($translate.instant('FORM_DESIGN.TRASH.CONFIRM'))) return false;\n      item = dnd.move(srcList, srcIndex, targetList, targetIndex);\n\n      if (item) item.section = target;\n\n      if (!targetList) { // delete\n        if (!item.id) return true; // don't delete uncreated\n        deleteField(item);\n      } else { // update\n        if (form.$invalid) return true; // don't save invalid\n        saveField(item, form);\n      }\n\n      return true; // true is required by dnd-callback of dnd-list\n    };\n\n\n    /**\n     * Save handler\n     */\n    $ctrl.saveField = debounce(saveField, 1000);\n    function saveField(field, form) {\n      if (form.$invalid) return;\n\n      field.$$spin = true;\n      return UserField.save(field)\n        .catch(err => dwAlerts.error(err, 'Failed to save user field.'))\n        .finally(() => { field.$$spin = false; })\n        .catch(angular.noop);\n    }\n\n    /**\n     * Delete handler\n     */\n    function deleteField(field) {\n      if (!field.id) return; // not existing\n      field.$$spin = true;\n      $ctrl.deleting = true;\n      return UserField.delete(field.id)\n        .catch(err => dwAlerts.error(err, 'Failed to delete field.'))\n        .finally(() => { field.$$spin = false; $ctrl.deleting = false; })\n        .catch(angular.noop);\n    }\n  });\n","// Module\nvar code = \"<div ff-bulk-read-only> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"fd-container\\\"> <div class=\\\"ff-grid gutter-v gutter-h\\\"> <ff-panel flex=\\\"{md: '0 0 50%'}\\\" ng-if=\\\"true\\\"> <ff-panel-header> <span translate=\\\"USER_FIELDS.CUSTOM.HEADER\\\"></span> <ff-hint><span translate=\\\"FORM_DESIGN.HINT\\\"></span></ff-hint> </ff-panel-header> <ng-include src=\\\"'userFieldsTpl'\\\" ng-init=\\\"section = 'customFields'\\\"></ng-include> </ff-panel> <ff-panel flex=\\\"{md: '0 0 50%'}\\\" ng-if=\\\"true\\\"> <ff-panel-header> <span translate=\\\"USER_FIELDS.SHAREABLE.HEADER\\\"></span> <ff-hint><span translate=\\\"FORM_DESIGN.HINT\\\"></span></ff-hint> </ff-panel-header> <ng-include src=\\\"'userFieldsTpl'\\\" ng-init=\\\"section = 'shareable'\\\"></ng-include> </ff-panel> </div> <fd-toolbar types=\\\"$ctrl.types\\\" deleting=\\\"$ctrl.deleting\\\" new-item=\\\"{ type: '$type.id', name: '', section: '$target' }\\\"></fd-toolbar> </div> </div> <script type=\\\"text/ng-template\\\" id=\\\"userFieldsTpl\\\"> <ff-header>\\n    <ff-row>\\n      <cell flex=\\\"0 0 36px\\\"><span translate=\\\"FORM_DESIGN.TYPE\\\" style=\\\"letter-spacing: -1px;\\\"></span></cell>\\n      <cell><req translate=\\\"FORM_DESIGN.NAME\\\"></req></cell>\\n    </ff-row>\\n  </ff-header>\\n\\n  <div dnd-list dnd-drop=\\\"callback({ targetList: $ctrl.sections[section], targetIndex: index, target: section })\\\">\\n    <form name=\\\"form\\\" novalidate class=\\\"ff-row\\\"\\n          ng-repeat=\\\"field in $ctrl.sections[section]\\\"\\n          dnd-draggable=\\\"null\\\" dnd-callback=\\\"$ctrl.onDrop($ctrl.sections[section], $index, targetList, targetIndex, form, target)\\\">\\n      <ff-static flex=\\\"0 0 36px\\\" ff-dim=\\\"field.$$spin\\\" class=\\\"ff-center\\\">\\n        <i ng-class=\\\"$ctrl.types[field.type].icon\\\"></i>\\n      </ff-static>\\n      <ff-text ff-model=\\\"field.name\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'FORM_DESIGN.NAME' | translate}}\\\"\\n               ff-change=\\\"$ctrl.saveField(field, form)\\\" dnd-nodrag></ff-text>\\n    </form>\\n    <div ng-if=\\\"!$ctrl.sections[section].length\\\" translate=\\\"FORM_DESIGN.EMPTY\\\" style=\\\"padding: 10px 0 0\\\"></div>\\n  </div> </script> \";\n// Exports\nmodule.exports = code;","import 'angular-drag-and-drop-lists';\nimport './drag-n-drop.scss';\nimport keese from './keese.service';\n\n/**\n * Drag'n'Drop helper service\n */\nexport default angular.module('dnd', [\n  'dndLists',\n  keese.name,\n])\n\n  .factory('dnd', function(keese) {\n    return {\n      move: move,\n    };\n\n    /**\n     * Move item from srcList[srcIndex] to targetList[targetIndex], auto-generates new order. Returns moved item.\n     */\n    function move(srcList, srcIndex, targetList, targetIndex) {\n      const item = srcList[srcIndex];\n\n      if (targetList) targetList.splice(targetIndex, 0, item); // copy item from source to target\n      // remove source item, possibly correcting index. We must do this immediately, otherwise ng-repeat complains about duplicates\n      if (srcList === targetList && targetIndex <= srcIndex) srcIndex++;\n      srcList.splice(srcIndex, 1); // remove source item\n\n      if (targetList) {\n        const index = targetList.indexOf(item); // find new index of item\n        item.order = keese.generate(targetList[index - 1] && targetList[index - 1].order, targetList[index + 1] && targetList[index + 1].order);\n      }\n\n      return item;\n    }\n  });\n","// extracted by extract-css-chunks-webpack-plugin","/**\n * Sort keys generator. Based on node-keese v1.1.1: https://github.com/thejoshwolfe/node-keese\n */\nexport default angular.module('keese', [])\n  .factory('keese', function() {\n\n    const alphabet = \"0123456789?@ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n    const radix = alphabet.length;\n    const order_specifier = '~'; // bigger than any from the alphabet\n\n    /**\n     * Character to numerical value aka index of the character: \"0\": 0, \"z\": 63, etc.\n     */\n    const values = (function() {\n      const values = {};\n      for (let i = 0; i < alphabet.length; i++) values[alphabet[i]] = i;\n      return values;\n    })();\n\n    return {\n      /**\n       * Main exported function. Generates new sort key.\n       * @param low - previous sort key or null/undefined\n       * @param high - next sort key or null/undefined\n       * @param count - if defined - the result is an Array of size count values\n       * @returns {*} - single key or array of keys, depending on count\n       */\n      generate: function keese(low, high, count) {\n        if (count) {\n          return multi_keese(low, high, count);\n        } else {\n          return single_keese(low, high);\n        }\n      }\n    };\n\n    function single_keese(low, high) {\n      if (!low) {\n        if (!high) {\n          return '1'; // return anything above 0\n        } else {\n          return average('0', high); // go smaller\n        }\n      } else {\n        if (!high) {\n          return increment(low); // go bigger\n        } else {\n          return average(low, high); // go in between\n        }\n      }\n    }\n    function multi_keese(low, high, count) {\n      let result = new Array(count);\n      if (count > 0) {\n        if (!high) {\n          for (let i = 0; i < count; i++) { // just allocate straight forward\n            const value = keese(low, null);\n            result[i] = value;\n            low = value;\n          }\n        } else {\n          recurse(low, high, 0, count); // binary tree descent\n        }\n      }\n      return result;\n      function recurse(low_value, high_value, low_index, high_index) {\n        const mid_index = Math.floor((low_index + high_index) / 2);\n        const mid_value = single_keese(low_value, high_value);\n        result[mid_index] = mid_value;\n        if (low_index < mid_index) recurse(low_value, mid_value, low_index, mid_index);\n        if (mid_index + 1 < high_index) recurse(mid_value, high_value, mid_index + 1, high_index);\n      }\n    }\n\n    function increment(value) {\n      const n = parse(value);\n      n.digits = n.digits.substr(0, n.order_length + 1); // drop the fraction\n      return add(n, parse(\"1\"));\n    }\n\n    function average(low, high) {\n      if (low > high) {\n        throw new Error('assertion failed: ' + JSON.stringify(low) + \" < \" + JSON.stringify(high));\n      }\n      const a = parse(low);\n      const b = parse(high);\n      pad_to_equal_order(a, b);\n      let b_carry = 0;\n      const max_digit_length = Math.max(a.digits.length, b.digits.length);\n      for (let i = 0; i < max_digit_length || b_carry > 0; i++) {\n        const a_value =            values[a.digits[i]] || 0;\n        const b_value = b_carry + (values[b.digits[i]] || 0);\n        if (a_value === b_value) continue;\n        if (a_value === b_value - 1) {\n          b_carry = radix; // we need more digits, but remember that b is ahead\n          continue;\n        }\n        // we have a distance of at least 2 between the values.\n        // half the distance floored is sure to be a positive single digit.\n        let half_distance_value = Math.floor((b_value - a_value) / 2);\n        let half_distance_digits = '';\n        for (let j = 0; j < i; j++)\n          half_distance_digits += '0';\n        half_distance_digits += alphabet[half_distance_value];\n        const half_distance = parse(construct(a.order_length, half_distance_digits));\n        // truncate insignificant digits of a\n        a.digits = a.digits.substr(0, i + 1);\n        return add(a, half_distance);\n      }\n      throw new Error(); // unreachable\n    }\n\n    function add(a, b) {\n      pad_to_equal_order(a, b);\n      let result_digits = \"\";\n      let order_length = a.order_length;\n      let value = 0;\n      for (let i = Math.max(a.digits.length, b.digits.length) - 1; i >= 0; i--) {\n        value += values[a.digits[i]] || 0;\n        value += values[b.digits[i]] || 0;\n        result_digits = alphabet[value % radix] + result_digits;\n        value = Math.floor(value / radix);\n      }\n      // overflow up to moar digits\n      while (value > 0) {\n        result_digits = alphabet[value % radix] + result_digits;\n        value = Math.floor(value / radix);\n        order_length++;\n      }\n      return construct(order_length, result_digits);\n    }\n\n    function parse(value) {\n      const order_length = value.lastIndexOf(order_specifier) + 1;\n      return {\n        order_length: order_length,\n        digits: value.substr(order_length)\n      };\n    }\n    function construct(order_length, digits) {\n      while (order_length > 0 && digits.charAt(0) == '0') { // strip unnecessary leading zeros\n        digits = digits.substr(1);\n        order_length--;\n      }\n      let result = \"\";\n      for (let i = 0; i < order_length; i++)\n        result += order_specifier;\n      return result + digits;\n    }\n\n    function pad_to_equal_order(a, b) {\n      pad_in_place(a, b.order_length);\n      pad_in_place(b, a.order_length);\n    }\n    function pad_in_place(n, order_length) {\n      while (n.order_length < order_length) {\n        n.digits = \"0\" + n.digits;\n        n.order_length++;\n      }\n    }\n  });\n","import \"./fd-toolbar.scss\";\nimport dnd from 'shared/drag-n-drop/dnd.service';\nimport template from './fd-toolbar.tpl.html'\n\n/**\n * fdToolbar directive - toolbar with draggable components for Form Design\n */\nexport default angular.module('deskworks.fdToolbar', [\n  dnd.name,\n])\n\n  .directive('fdToolbar', function() {\n    return {\n      scope: true,\n      template,\n      controller: 'FdToolbarCtrl as $ctrl',\n      bindToController: {\n        deleting: '<',\n        types: '<',\n        newItem: '<',\n      },\n    };\n  })\n\n  .controller('FdToolbarCtrl', function($scope, $element, dnd) {\n    const $ctrl = this;\n    let scroller;\n\n    /**\n     * Init\n     */\n    $ctrl.$onInit = () => {\n      scroller = document.querySelector('.snap-content-scroller');\n      scroller.addEventListener('scroll', onScroll);\n      onScroll();\n    };\n\n    /**\n     * Drop handler - creates new element in targetList\n     */\n    $ctrl.onDrop = (targetList, targetIndex, type, target) => {\n      const item = angular.copy($ctrl.newItem);\n      Object.keys(item).forEach(key => {\n        if (!item[key] || typeof item[key] !== 'string') return;\n        const subst = item[key].split('.');\n        if (subst[0] === '$type') item[key] = subst[1] ? type[subst[1]] : type;\n        else if (subst[0] === '$target') item[key] = subst[1] ? target[subst[1]] : target;\n      });\n      dnd.move([item], 0, targetList, targetIndex);\n      return true; // true is required by dnd-callback of dnd-list\n    };\n\n    /**\n     * Destroy\n     */\n    $ctrl.$onDestroy = () => { scroller.removeEventListener('scroll', onScroll); };\n\n    /**\n     * Scroll handler - stick toolbar to screen top\n     */\n    function onScroll(event) {\n      const rect = $element[0].parentNode.getBoundingClientRect();\n      $element.css('top', -Math.min(rect.top - 5, 0) + 'px');\n    }\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<div> <div class=\\\"fd-tb-header em\\\"><span translate=\\\"FORM_DESIGN.TOOLBAR.HEADER\\\"></span></div> <div class=\\\"fd-tool\\\" ng-repeat=\\\"type in $ctrl.types\\\" title=\\\"{{type.name}}\\\" dnd-draggable=\\\"null\\\" dnd-callback=\\\"$ctrl.onDrop(targetList, targetIndex, type, target)\\\" dnd-effect-allowed=\\\"copy\\\"><i ng-class=\\\"type.icon\\\"></i></div> <div class=\\\"fd-tool fd-trash\\\" title=\\\"{{'FORM_DESIGN.TRASH.HINT' | translate}}\\\" ff-dim=\\\"$ctrl.deleting\\\" dnd-list=\\\"[]\\\" dnd-drop=\\\"callback({ targetList: null, targetIndex: index })\\\"><i class=\\\"fa fa-trash\\\"></i></div> </div> \";\n// Exports\nmodule.exports = code;","import template from './reservation-rules.tpl.html';\nimport './reservation-rules.scss';\nimport './rr-rule.component';\nimport './rr-limit.component';\nimport './rr-date-limit.component';\nimport './rr-static.component';\nimport './rr-weekday-limit.component';\nimport rrChecklist from './rr-checklist.component';\nimport optsReservationScale from 'shared/services/reservation-rules/opts-reservation-scale.service';\nimport optsReservationBuffer from 'shared/services/reservation-rules/opts-reservation-buffer.service';\n\n/**\n * reservationRules component - reservation rules widget for center / reservation category / reservation unit\n */\nexport default angular.module('deskworks.reservationRules', [\n  'deskworks.reservationRules.service',\n  'deskworks.inventory.product.service',\n  'deskworks.reservationRules.rrRule',\n  'deskworks.reservationRules.rrLimit',\n  'deskworks.reservationRules.rrWeekdayLimit',\n  'deskworks.reservationRules.rrDateLimit',\n  'deskworks.reservationRules.rrStatic',\n  'deskworks.reservationRules.optsWhoCanReserve',\n  'deskworks.reservationRules.optsReservationLimitMin',\n  'deskworks.reservationRules.optsReservationLimitMax',\n  'deskworks.reservationRules.optsDaysInAdvance',\n  'deskworks.reservationRules.optsTimeInAdvance',\n  optsReservationScale.name,\n  optsReservationBuffer.name,\n  rrChecklist.name,\n])\n\n  .directive('reservationRules', function() {\n    return {\n      scope: true,\n      template: template,\n      controller: 'ReservationRulesCtrl as $ctrl',\n      bindToController: {\n        centerId: '<',\n        reservationUnitId: '<',\n      },\n    };\n  })\n\n  .controller('ReservationRulesCtrl', function($scope, $q, $filter, $timeout, $translate, helper, dwAlerts,\n                                               ReservationRules, productService, ReservationUnit,\n                                               optsWhoCanReserve, optsReservationLimitMin, optsReservationLimitMax,\n                                               optsDaysInAdvance, optsTimeInAdvance,\n                                               optsReservationScale, optsReservationBuffer) {\n    const $ctrl = this;\n\n    $ctrl.conf = {\n      whoCanReserve: { name: $translate.instant('RESERVATION_RULES.WHO_CAN_RESERVE'), opts: optsWhoCanReserve },\n      scale: { name: $translate.instant('RESERVATION_RULES.RESERVATION_SCALE'), opts: optsReservationScale },\n      buffer: { name: $translate.instant('RESERVATION_RULES.RESERVATION_BUFFER'), opts: optsReservationBuffer },\n      fullTimeProduct: { name: $translate.instant('RESERVATION_RULES.FULL_TIME_PRODUCT') }, // deferred opts\n      attachedUser: { name: $translate.instant('RESERVATION_RULES.ATTACHED_USER') }, // no opts\n      limitMin: { name: $translate.instant('RESERVATION_RULES.MIN_LIMIT'), opts: optsReservationLimitMin },\n      limitMax: { name: $translate.instant('RESERVATION_RULES.MAX_LIMIT'), opts: optsReservationLimitMax },\n      daysInAdvance: { name: $translate.instant('RESERVATION_RULES.DAYS_IN_ADVANCE'), opts: optsDaysInAdvance },\n      timeInAdvance: { name: $translate.instant('RESERVATION_RULES.TIME_IN_ADVANCE'), opts: optsTimeInAdvance },\n      nestedUnits: { name: $translate.instant('RESERVATION_RULES.NESTED_UNITS') }, // deferred opts\n    };\n\n    /**\n     * Component $onInit\n     */\n    $ctrl.$onInit = () => {\n      $ctrl.form = $scope.formReservationRules;\n    };\n\n    /**\n     * Component $onChanges\n     */\n    $ctrl.$onChanges = () => {\n      ReservationRules.query({ centerId: $ctrl.centerId, reservationUnitId: $ctrl.reservationUnitId })\n        .catch(err => dwAlerts.error(err, 'Failed to load reservation rules.'))\n        .then(result => {\n          $ctrl.rules = result;\n          $ctrl.whoCanReserve = $ctrl.rules.find(i => i.uid === 'whoCanReserve');\n          $ctrl.scale = $ctrl.rules.find(i => i.uid === 'scale');\n          $ctrl.buffer = $ctrl.rules.find(i => i.uid === 'buffer');\n        });\n\n      if ($ctrl.reservationUnitId) {\n        ReservationUnit.query($ctrl.centerId)\n          .catch(err => dwAlerts.error(err, 'Reservation Rules failed to query reservation units.'))\n          .then(units => {\n            const unit = units.find(u => u.id === $ctrl.reservationUnitId) || {};\n            $ctrl.fullTimeProduct = { uid: 'fullTimeProduct', type: 'value', value: unit.fullTimeProductId };\n            $ctrl.attachedUser = { uid: 'attachedUser', type: 'static', value: unit.attachedUserName };\n            // $ctrl.conf.nestedUnits.opts = units.filter(u => u.reservationTypeId === unit.reservationTypeId && u.id !== unit.id);\n            $ctrl.conf.nestedUnits.opts = units.filter(u => u.whoCanReserve !== 'notAvailable' && u.id !== unit.id);\n          });\n\n        productService.getMembershipProducts($ctrl.centerId)\n          .catch(err => dwAlerts.error(err, 'Reservation Rules failed to query membership products.'))\n          .then(products => {\n            angular.forEach(products, product => { product.name += ' (' + $filter('ncurrency')(product.price) + ')'; });\n            $ctrl.conf.fullTimeProduct.opts = products;\n            $ctrl.conf.fullTimeProduct.opts.unshift({ id: null, name: $translate.instant('GLOBAL.NONE') });\n          });\n      }\n    };\n\n    /**\n     * Control roles visibility\n     */\n    $scope.$watch('$ctrl.whoCanReserve.value', val => {\n      if (!val) return;\n      ReservationRules.roles.forEach(role => { role.$visible = role.$isVisible(val); });\n\n      $ctrl.hideRules = val === 'staffOnly' || val === 'notAvailable';\n    });\n\n    /**\n     * Add date to Annual Holiday Calendar\n     */\n    $ctrl.addDate = () => {\n      $ctrl.rules.push({\n        type: 'date',\n        member: { available: false, intervals: [] },\n        nonMember: { available: false, intervals: [] },\n      });\n    };\n\n    /**\n     * Reset rules - copy from center defaults\n     */\n    $ctrl.resetRules = () => {\n      if (!window.confirm($translate.instant('RESERVATION_RULES.ACTIVE.BTN_RESET.CONFIRM'))) return;\n\n      return ReservationRules.query({ centerId: $ctrl.centerId })\n        .catch(err => dwAlerts.error(err, 'Failed to load reservation rules defaults from center.'))\n        .then(result => $ctrl.copyRules(result));\n    };\n\n    /**\n     * Copy values of all passed rules to $ctrl.rules and trigger auto-save\n     */\n    $ctrl.copyRules = rules => {\n      return $q.all(rules\n        .filter(rule => rule.type === 'value' || rule.type === 'roles' || rule.type === 'weekday')\n        .map(src => {\n          const dst = helper.find($ctrl.rules, { uid: src.uid });\n          if (!dst) return;\n          switch (src.type) {\n            case 'value':\n              dst.value = src.value;\n              break;\n            case 'roles':\n              ReservationRules.roles.forEach(role => { dst[role.id] = src[role.id]; });\n              break;\n            case 'weekday':\n              ReservationRules.roles.forEach(role => {\n                dst[role.id].available = src[role.id].available;\n                dst[role.id].intervals = src[role.id].intervals.map(interval => { return { from: interval.from, to: interval.to }; });\n              });\n          }\n          return $timeout(() => dst.$as(), 100);\n        })\n      );\n    };\n\n    /**\n     * Save Full Time Product callback\n     */\n    $ctrl.saveFullTimeProduct = () => {\n      return ReservationUnit.save($ctrl.centerId, { id: $ctrl.reservationUnitId, fullTimeProductId: $ctrl.fullTimeProduct.value && +$ctrl.fullTimeProduct.value || null })\n        .catch(err => dwAlerts.error(err, 'Failed to save full time product.'));\n    };\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<form name=\\\"formReservationRules\\\" novalidate> <div class=\\\"gutter-v\\\"> <ff-panel> <ff-panel-header ng-if=\\\"$ctrl.reservationUnitId\\\"> <div class=\\\"ff-grid gutter-v-half gutter-h-half\\\"> <div flex=\\\"auto\\\"> <span translate=\\\"RESERVATION_RULES.ACTIVE.HEADER\\\"></span> <ff-hint><span translate=\\\"RESERVATION_RULES.ACTIVE.HINT\\\"></span></ff-hint> </div> <ff-btn flex=\\\"none\\\" sense=\\\"clone\\\" size=\\\"sm\\\" ff-click=\\\"$ctrl.resetRules()\\\" style=\\\"margin:-.5rem 0 .5rem 0\\\"> <span translate=\\\"RESERVATION_RULES.ACTIVE.BTN_RESET\\\"></span> </ff-btn> </div> </ff-panel-header> <ff-panel-header ng-if=\\\"!$ctrl.reservationUnitId\\\"> <span translate=\\\"RESERVATION_RULES.DEFAULT.HEADER\\\"></span> <ff-hint><span translate=\\\"RESERVATION_RULES.DEFAULT.HINT\\\"></span></ff-hint> </ff-panel-header> <ff-col ff-dim=\\\"!$ctrl.rules\\\" class=\\\"gutter-v\\\"> <ff-col> <div class=\\\"rr-container gutter-v-half\\\"> <rr-rule rule=\\\"$ctrl.whoCanReserve\\\" options=\\\"$ctrl.conf.whoCanReserve.opts\\\" flex=\\\"{sm: '1 1 137px', md: '0 0 180px'}\\\">{{$ctrl.conf.whoCanReserve.name}}</rr-rule> <rr-rule rule=\\\"$ctrl.fullTimeProduct\\\" options=\\\"$ctrl.conf.fullTimeProduct.opts\\\" ng-if=\\\"$ctrl.reservationUnitId && $ctrl.conf.fullTimeProduct.opts\\\" rule-save=\\\"$ctrl.saveFullTimeProduct()\\\" flex=\\\"{sm: '1 1 176px', md: '0 0 350px'}\\\">{{$ctrl.conf.fullTimeProduct.name}}</rr-rule> <rr-rule rule=\\\"$ctrl.attachedUser\\\" ng-if=\\\"$ctrl.reservationUnitId && $ctrl.whoCanReserve.value === 'notAvailable'\\\" flex=\\\"{sm: '1 1 313px', md: '0 0 250px'}\\\">{{$ctrl.conf.attachedUser.name}}</rr-rule> </div> </ff-col> <ff-col ng-if=\\\"$ctrl.rules\\\"> <div class=\\\"rr-container gutter-v-half\\\"> <rr-rule rule=\\\"$ctrl.scale\\\" options=\\\"$ctrl.conf.scale.opts\\\" flex=\\\"{sm: '1 1 176px', md: '0 0 200px'}\\\"> {{$ctrl.conf.scale.name}} <ff-hint><span translate=\\\"RESERVATION_RULES.RESERVATION_SCALE.HINT\\\"></span></ff-hint> </rr-rule> <rr-rule rule=\\\"$ctrl.buffer\\\" options=\\\"$ctrl.conf.buffer.opts\\\" flex=\\\"{sm: '1 1 176px', md: '0 0 200px'}\\\"> {{$ctrl.conf.buffer.name}} <ff-hint><span translate=\\\"RESERVATION_RULES.RESERVATION_BUFFER.HINT\\\"></span></ff-hint> </rr-rule> </div> </ff-col> <ff-col ng-if=\\\"!$ctrl.hideRules\\\"> <div class=\\\"rr-container gutter-v-half\\\"> <rr-rule rule=\\\"rule\\\" options=\\\"$ctrl.conf[rule.uid].opts\\\" ng-repeat=\\\"rule in $ctrl.rules | filter:{ type: 'roles' }\\\" flex=\\\"{sm: '0 0 50%', md: '0 0 200px'}\\\"> <span ng-bind-html=\\\"$ctrl.conf[rule.uid].name\\\"></span> </rr-rule> </div> </ff-col> <ff-col ng-if=\\\"!$ctrl.hideRules\\\"> <div class=\\\"rr-container gutter-v-half\\\"> <rr-rule rule=\\\"rule\\\" ng-repeat=\\\"rule in $ctrl.rules | filter:{ type: 'weekday' }\\\" flex=\\\"{sm: '0 0 50%', md: '0 0 200px'}\\\">{{rule.name.toUpperCase()}}</rr-rule> </div> </ff-col> <ff-col ng-if=\\\"!$ctrl.hideRules\\\"> <div class=\\\"rr-container gutter-v-half\\\"> <rr-rule rule=\\\"rule\\\" ng-repeat=\\\"rule in $ctrl.rules | filter:{ type: 'checklist' }\\\" options=\\\"$ctrl.conf[rule.uid].opts\\\" flex=\\\"auto\\\" class=\\\"animate-collapse\\\" ng-if=\\\"$ctrl.conf[rule.uid].opts.length\\\">{{$ctrl.conf[rule.uid].name}}</rr-rule> </div> </ff-col> </ff-col> </ff-panel> <ff-panel class=\\\"rr-calendar\\\" ng-if=\\\"!$ctrl.reservationUnitId\\\"> <ff-panel-header> <span translate=\\\"RESERVATION_RULES.ANNUAL.HEADER\\\"></span> <ff-hint><span translate=\\\"RESERVATION_RULES.ANNUAL.HINT\\\"></span></ff-hint> </ff-panel-header> <ff-col ff-dim=\\\"!$ctrl.rules\\\"> <div class=\\\"rr-container gutter-v-half\\\"> <rr-rule rule=\\\"rule\\\" ng-repeat=\\\"rule in $ctrl.rules | filter:{ type: 'date' }\\\" flex=\\\"{sm: '0 0 50%', md: '0 0 200px'}\\\"></rr-rule> </div> <ff-btn-group class=\\\"ff-section-buttons\\\"> <ff-btn sense=\\\"add\\\" size=\\\"sm\\\" ff-click=\\\"$ctrl.addDate()\\\"><span translate=\\\"RESERVATION_RULES.BTN_ADD_DATE\\\"></span></ff-btn> </ff-btn-group> </ff-col> </ff-panel> </div> </form> \";\n// Exports\nmodule.exports = code;","import template from './rr-checklist.tpl.html';\n\n/**\n * rrChecklist component - checkbox list component for reservation rules\n */\nexport default angular.module('deskworks.reservationRules.rrChecklist', [])\n\n  .directive('rrChecklist', () => {\n    return {\n      scope: true,\n      template: template,\n      controller: 'RrChecklistCtrl as $ctrl',\n      bindToController: {\n        rule: '<',\n        role: '<',\n        options: '<',\n      },\n    };\n  })\n\n  .controller('RrChecklistCtrl', function($scope, $element) {\n    const $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = () => $element.addClass('ff-col');\n  });\n","// Module\nvar code = \"<div class=\\\"ff-grid gutter-h-half\\\" style=\\\"justify-content:flex-start\\\"> <label flex=\\\"none\\\" ng-repeat=\\\"opt in $ctrl.options\\\"> <ff-checkbox ff-model=\\\"$ctrl.rule.value[opt.id]\\\" ff-change=\\\"$ctrl.rule.$as()\\\">{{::opt.name}}</ff-checkbox> </label> </div> \";\n// Exports\nmodule.exports = code;","import template from './rr-date-limit.tpl.html';\n\n/**\n * rrDateLimit component - date intervals limit component for reservation rules / annual holiday calendar\n */\nexport default angular.module('deskworks.reservationRules.rrDateLimit', [\n  'deskworks.reservationRules.service',\n])\n\n  .directive('rrDateLimit', () => {\n    return {\n      scope: true,\n      require: ['rrDateLimit', '^^reservationRules'],\n      template: template,\n      controller: 'RrDateLimitCtrl as $ctrl',\n      bindToController: {\n        rule: '<',\n        role: '<',\n      },\n      link: ($scope, $element, $attrs, $controllers) => {\n        $controllers[0].rrCtrl = $controllers[1];\n      },\n    };\n  })\n\n  .controller('RrDateLimitCtrl', function($scope, $element, $timeout, $translate, helper, ReservationRules) { 'use strict';\n    const $ctrl = this;\n\n    $ctrl.options = [\n      { id: true, name: $translate.instant('RESERVATION_RULES.AVAILABLE') },\n      { id: false, name: $translate.instant('RESERVATION_RULES.NOT_AVAILABLE') },\n    ];\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = () => {\n      $element.addClass('ff-col');\n      $scope.$watch('$ctrl.rrCtrl.rules', $ctrl.updateGhosts);\n    };\n\n    /**\n     * $onChanges\n     */\n    // $ctrl.$onChanges = function(z) {\n    //   // $ctrl.updateGhosts();\n    // };\n\n    /**\n     * Add Interval\n     */\n    $ctrl.addInterval = () => {\n      if ($ctrl.rule.$$autoSaving) return;\n      if ($ctrl.rule[$ctrl.role].$ghosts) $ctrl.rule[$ctrl.role].$ghosts.pop();\n      $timeout(() => {\n        $ctrl.rule[$ctrl.role].intervals.push({ from: null, to: null });\n        $ctrl.updateGhosts();\n      });\n    };\n\n    /**\n     * Delete Interval\n     */\n    $ctrl.deleteInterval = interval => {\n      if ($ctrl.rule.$$autoSaving) return;\n      $ctrl.rule[$ctrl.role].intervals.splice($ctrl.rule[$ctrl.role].intervals.indexOf(interval), 1);\n      $timeout($ctrl.updateGhosts);\n      return interval.id ? $ctrl.rule.$as() : null;\n    };\n\n    /**\n     * Update ghost items to sync rrRule items height\n     */\n    $ctrl.updateGhosts = () => {\n      if (!$ctrl.rrCtrl) return;\n\n      const group = $ctrl.rrCtrl.rules.filter(rule => rule.type === 'date');\n\n      ReservationRules.roles.forEach(role => {\n        const max = group.reduce((prev, curr) => curr[role.id].available && curr[role.id].intervals.length > prev ? curr[role.id].intervals.length : prev, 0);\n\n        group.forEach(rule => {\n          rule[role.id].$ghosts = new Array(max - (rule[role.id].available ? rule[role.id].intervals.length : 0));\n        });\n      });\n    };\n  });\n","// Module\nvar code = \"<ff-row> <ff-select ff-model=\\\"$ctrl.rule[$ctrl.role].available\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.options\\\" ff-change=\\\"$ctrl.updateGhosts() + $ctrl.rule.$as()\\\"></ff-select> <ff-btn flex=\\\"none\\\" sense=\\\"add\\\" size=\\\"xs\\\" ng-class=\\\"{ invisible: !$ctrl.rule[$ctrl.role].available }\\\" title=\\\"{{'RESERVATION_RULES.BTN_ADD_INTERVAL.HINT' | translate}}\\\" ff-click=\\\"$ctrl.addInterval()\\\"></ff-btn> </ff-row> <ff-row ng-repeat=\\\"interval in $ctrl.rule[$ctrl.role].intervals\\\" ng-if=\\\"$ctrl.rule[$ctrl.role].available\\\"> <ff-time ff-model=\\\"interval.from\\\" ff-change=\\\"$ctrl.rule.$as()\\\" ff-required=\\\"true\\\" ff-time-order=\\\"{ early: interval.from, late: interval.to }\\\" ff-validate-alert=\\\"{ field: ('RESERVATION_RULES.TIME_FROM' | translate), late: ('RESERVATION_RULES.TIME_TO' | translate) }\\\" placeholder=\\\"09:00 AM\\\"></ff-time> <ff-time ff-model=\\\"interval.to\\\" ff-change=\\\"$ctrl.rule.$as()\\\" ff-required=\\\"true\\\" ff-time-order=\\\"{ early: interval.from, late: interval.to }\\\" ff-validate-alert=\\\"{ field: ('RESERVATION_RULES.TIME_TO' | translate), early: ('RESERVATION_RULES.TIME_FROM' | translate) }\\\" placeholder=\\\"05:00 PM\\\"></ff-time> <ff-btn flex=\\\"none\\\" sense=\\\"delete\\\" size=\\\"xs\\\" ff-click=\\\"$ctrl.deleteInterval(interval)\\\" title=\\\"{{'RESERVATION_RULES.BTN_DELETE_INTERVAL.HINT' | translate}}\\\"></ff-btn> </ff-row> <ff-row ng-repeat=\\\"item in $ctrl.rule[$ctrl.role].$ghosts track by $index\\\"> <ff-static></ff-static> </ff-row> \";\n// Exports\nmodule.exports = code;","import template from './rr-limit.tpl.html';\n\n/**\n * rrLimit component - limit component for reservation rules\n */\nexport default angular.module('deskworks.reservationRules.rrLimit', [])\n\n  .directive('rrLimit', () => {\n    return {\n      scope: true,\n      template: template,\n      controller: 'RrLimitCtrl as $ctrl',\n      bindToController: {\n        rule: '<',\n        role: '<',\n        options: '<',\n      },\n    };\n  })\n\n  .controller('RrLimitCtrl', function($scope, $element) { 'use strict';\n    const $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = () => $element.addClass('ff-col');\n\n    // /**\n    //  * $onChanges\n    //  */\n    // $ctrl.$onChanges = function() {\n    // };\n  });\n","// Module\nvar code = \"<div> <ff-select ff-model=\\\"$ctrl.rule[$ctrl.role]\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.options\\\" ng-if=\\\"$ctrl.rule.type === 'roles'\\\" ff-change=\\\"$ctrl.rule.$as()\\\"></ff-select> <ff-select ff-model=\\\"$ctrl.rule.value\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.options\\\" ng-if=\\\"$ctrl.rule.type === 'value'\\\" ff-change=\\\"$ctrl.rule.$as()\\\"></ff-select> </div> \";\n// Exports\nmodule.exports = code;","import template from './rr-rule.tpl.html';\n\n/**\n * rrRule component - rule component for reservation rules\n */\nexport default angular.module('deskworks.reservationRules.rrRule', [\n  'autoSave',\n  'deskworks.reservationRules.service',\n])\n\n  .directive('rrRule', () => {\n    return {\n      scope: true,\n      require: { rrCtrl: '^^reservationRules' },\n      transclude: true,\n      template: template,\n      controller: 'RrRuleCtrl as $ctrl',\n      bindToController: {\n        rule: '<',\n        options: '<',\n        ruleSave: '&?',\n      },\n    };\n  })\n\n  .controller('RrRuleCtrl', function($scope, $element, $timeout, helper, dwAlerts, ReservationRules, autoSave) {\n    const $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = () => {\n      $element.addClass('ff-col');\n      $ctrl.roles = ReservationRules.roles;\n    };\n\n    /**\n     * $onChanges\n     */\n    $ctrl.$onChanges = () => {\n      if (!$ctrl.rule) return;\n\n      $timeout(() => { // timeout to complete linking and make $scope.rrForm available\n        const saveFunc = $ctrl.ruleSave || function() {\n          return ReservationRules.save({ centerId: $ctrl.rrCtrl.centerId, reservationUnitId: $ctrl.rrCtrl.reservationUnitId }, this)\n            .catch(err => dwAlerts.error(err, 'Failed to save rule.'));\n        };\n        $ctrl.rule.$as = autoSave.wrap(saveFunc, $scope.rrForm);\n      });\n    };\n\n    /**\n     * Delete rule\n     */\n    $ctrl.deleteRule = () => {\n      return ($ctrl.rule.id ? ReservationRules.delete({ centerId: $ctrl.rrCtrl.centerId, ruleId: $ctrl.rule.id }) : $timeout())\n        .then(() => $ctrl.rrCtrl.rules.splice($ctrl.rrCtrl.rules.indexOf($ctrl.rule), 1))\n        .catch(err => dwAlerts.error(err, 'Failed to delete rule'));\n    };\n  });\n","// Module\nvar code = \"<ng-form name=\\\"rrForm\\\"> <ff-header ff-spin=\\\"$ctrl.rule.$$autoSaving\\\" class=\\\"ff-relative ff-spin-sm\\\"> <ff-header class=\\\"rr-role\\\"></ff-header> <cell ng-transclude flex=\\\"auto\\\"> <ff-row> <ff-col> <ff-date ff-model=\\\"$ctrl.rule.date\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"Date\\\" ff-change=\\\"$ctrl.rule.$as()\\\"></ff-date> <ff-text ff-model=\\\"$ctrl.rule.name\\\" ff-change=\\\"$ctrl.rule.$as()\\\"></ff-text> </ff-col> <ff-btn flex=\\\"none\\\" sense=\\\"delete\\\" size=\\\"xs\\\" ff-click=\\\"$ctrl.deleteRule()\\\" title=\\\"{{'RESERVATION_RULES.BTN_DELETE_DATE' | translate}}\\\"></ff-btn> </ff-row> </cell> </ff-header> <ff-row ng-repeat=\\\"role in $ctrl.roles\\\" ng-if=\\\"(role.$visible || $ctrl.rule.type === 'date') && $ctrl.rule.type !== 'value' && $ctrl.rule.type !== 'static' && $ctrl.rule.type !== 'checklist'\\\"> <ff-label class=\\\"rr-role\\\">{{role.name}}</ff-label> <rr-limit rule=\\\"$ctrl.rule\\\" role=\\\"role.id\\\" options=\\\"$ctrl.options\\\" ng-if=\\\"$ctrl.rule.type === 'roles'\\\"></rr-limit> <rr-weekday-limit rule=\\\"$ctrl.rule\\\" role=\\\"role.id\\\" ng-if=\\\"$ctrl.rule.type === 'weekday'\\\"></rr-weekday-limit> <rr-date-limit rule=\\\"$ctrl.rule\\\" role=\\\"role.id\\\" ng-if=\\\"$ctrl.rule.type === 'date'\\\"></rr-date-limit> </ff-row> <ff-row ng-if=\\\"$ctrl.rule.type === 'value'\\\"> <rr-limit rule=\\\"$ctrl.rule\\\" options=\\\"$ctrl.options\\\"></rr-limit> </ff-row> <ff-row ng-if=\\\"$ctrl.rule.type === 'static'\\\"> <rr-static rule=\\\"$ctrl.rule\\\"></rr-static> </ff-row> <ff-row ng-if=\\\"$ctrl.rule.type === 'checklist'\\\"> <rr-checklist rule=\\\"$ctrl.rule\\\" options=\\\"$ctrl.options\\\"></rr-checklist> </ff-row> </ng-form> \";\n// Exports\nmodule.exports = code;","import template from './rr-static.tpl.html';\n\n/**\n * rrStatic component - static (read-only) component for reservation rules\n */\nexport default angular.module('deskworks.reservationRules.rrStatic', [\n])\n\n  .directive('rrStatic', () => {\n    return {\n      scope: true,\n      require: ['rrWeekdayLimit', '^^reservationRules'],\n      template: template,\n      controller: 'RrStaticCtrl as $ctrl',\n      bindToController: {\n        rule: '<',\n      },\n    };\n  })\n\n  .controller('RrStaticCtrl', function ($scope, $element, helper) { 'use strict';\n    const $ctrl = this;\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = () => $element.addClass('ff-col');\n\n    // /**\n    //  * $onChanges\n    //  */\n    // $ctrl.$onChanges = function() {\n    // };\n  });\n","// Module\nvar code = \"<ff-static ff-bind=\\\"$ctrl.rule.value | nd\\\"></ff-static> \";\n// Exports\nmodule.exports = code;","import template from './rr-weekday-limit.tpl.html';\n\n/**\n * rrWeekdayLimit component - weekday intervals limit component for reservation rules\n */\nexport default angular.module('deskworks.reservationRules.rrWeekdayLimit', [\n  'deskworks.reservationRules.service',\n])\n\n  .directive('rrWeekdayLimit', () => {\n    return {\n      scope: true,\n      require: ['rrWeekdayLimit', '^^reservationRules'],\n      template: template,\n      controller: 'RrWeekdayLimitCtrl as $ctrl',\n      bindToController: {\n        rule: '<',\n        role: '<',\n      },\n      link: ($scope, $element, $attrs, $controllers) => {\n        $controllers[0].rrCtrl = $controllers[1];\n        $controllers[0].onInit();\n      },\n    };\n  })\n\n  .controller('RrWeekdayLimitCtrl', function($scope, $element, $timeout, $translate, $locale, helper,\n                                             ReservationRules) { 'use strict';\n    const $ctrl = this;\n\n    $ctrl.weekdayIds = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n    $ctrl.options = [\n      { id: true, name: $translate.instant('RESERVATION_RULES.AVAILABLE') },\n      { id: false, name: $translate.instant('RESERVATION_RULES.NOT_AVAILABLE') },\n    ];\n\n    /**\n     * On change rule availability handler. If day of week selected, clones itself from rule of that day of week.\n     */\n    $ctrl.onChangeAvailable = () => {\n      if (angular.isString($ctrl.rule[$ctrl.role].available)) {\n        const wd = helper.find($ctrl.rrCtrl.rules, { uid: $ctrl.rule[$ctrl.role].available });\n        $ctrl.rule[$ctrl.role].intervals = wd[$ctrl.role].intervals\n          .map(interval => { return { from: interval.from.clone(), to: interval.to.clone() }; });\n        $ctrl.rule[$ctrl.role].available = wd[$ctrl.role].available;\n      }\n      $ctrl.updateGhosts();\n      $ctrl.rule.$as();\n    };\n\n    /**\n     * $onInit\n     */\n    $ctrl.onInit = () => {\n      $element.addClass('ff-col');\n      $ctrl.weekdayIds.forEach(weekday => {\n        if (weekday !== $ctrl.rule.uid) { // skip ourselves\n          $ctrl.options.push({ id: weekday, name: $translate.instant('RESERVATION_RULES.COPY_FROM', {\n            weekday: helper.find($ctrl.rrCtrl.rules, { uid: weekday }).name.toUpperCase(),\n          }) });\n        }\n      });\n\n      /**\n       * Watch for intervals and update ghosts\n       */\n      $scope.$watchCollection('$ctrl.rule[$ctrl.role].intervals', () => $ctrl.updateGhosts());\n    };\n\n    /**\n     * $onChanges\n     */\n    // $ctrl.$onChanges = function() {\n    // };\n\n    /**\n     * Add Interval\n     */\n    $ctrl.addInterval = () => {\n      if ($ctrl.rule.$$autoSaving) return;\n      $ctrl.rule[$ctrl.role].$ghosts.pop();\n      $timeout( () => $ctrl.rule[$ctrl.role].intervals.push({ from: null, to: null }) );\n    };\n\n    /**\n     * Delete Interval\n     */\n    $ctrl.deleteInterval = interval => {\n      if ($ctrl.rule.$$autoSaving) return;\n      $ctrl.rule[$ctrl.role].intervals.splice($ctrl.rule[$ctrl.role].intervals.indexOf(interval), 1);\n      return interval.id ? $ctrl.rule.$as() : null;\n    };\n\n    /**\n     * Update ghost items to sync rrRule items height\n     */\n    $ctrl.updateGhosts = () => {\n      const group = $ctrl.rrCtrl.rules.filter(rule => rule.type === 'weekday');\n\n      ReservationRules.roles.forEach(role => {\n        const max = group\n          .reduce((prev, curr) => curr[role.id].available && curr[role.id].intervals.length > prev ? curr[role.id].intervals.length : prev, 0);\n\n        group.forEach(rule => {\n          rule[role.id].$ghosts = new Array(max - (rule[role.id].available ? rule[role.id].intervals.length : 0));\n        });\n      });\n    };\n  });\n","// Module\nvar code = \"<ff-row> <ff-select ff-model=\\\"$ctrl.rule[$ctrl.role].available\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.options\\\" ff-change=\\\"$ctrl.onChangeAvailable()\\\"></ff-select> <ff-btn flex=\\\"none\\\" sense=\\\"add\\\" size=\\\"xs\\\" ng-class=\\\"{ invisible: !$ctrl.rule[$ctrl.role].available }\\\" title=\\\"{{'RESERVATION_RULES.BTN_ADD_INTERVAL.HINT' | translate}}\\\" ff-click=\\\"$ctrl.addInterval()\\\"></ff-btn> </ff-row> <ff-row ng-repeat=\\\"interval in $ctrl.rule[$ctrl.role].intervals track by $index\\\" ng-if=\\\"$ctrl.rule[$ctrl.role].available\\\"> <ff-time ff-model=\\\"interval.from\\\" ff-change=\\\"$ctrl.rule.$as()\\\" ff-required=\\\"true\\\" ff-time-order=\\\"{ early: interval.from, late: interval.to }\\\" ff-validate-alert=\\\"{ field: ('RESERVATION_RULES.TIME_FROM' | translate), late: ('RESERVATION_RULES.TIME_TO' | translate) }\\\" placeholder=\\\"09:00 AM\\\"></ff-time> <ff-time ff-model=\\\"interval.to\\\" ff-change=\\\"$ctrl.rule.$as()\\\" ff-required=\\\"true\\\" ff-time-order=\\\"{ early: interval.from, late: interval.to }\\\" ff-validate-alert=\\\"{ field: ('RESERVATION_RULES.TIME_TO' | translate), early: ('RESERVATION_RULES.TIME_FROM' | translate) }\\\" placeholder=\\\"05:00 PM\\\"></ff-time> <ff-btn flex=\\\"none\\\" sense=\\\"delete\\\" size=\\\"xs\\\" ff-click=\\\"$ctrl.deleteInterval(interval)\\\" title=\\\"{{'RESERVATION_RULES.BTN_DELETE_INTERVAL.HINT' | translate}}\\\"></ff-btn> </ff-row> <ff-row ng-repeat=\\\"ghost in $ctrl.rule[$ctrl.role].$ghosts track by $index\\\"> <ff-static></ff-static> </ff-row> \";\n// Exports\nmodule.exports = code;","/**\n * Options for Reservation Rules / Reservation Buffer\n */\nexport default angular.module('deskworks.optsReservationBuffer', [])\n  .factory('optsReservationBuffer', function($rootScope, $translate, $filter) {\n    const opts = [\n      { id: 0, _name: 'GLOBAL.NONE' },  // minutes\n      { id: 15 },\n      { id: 30 },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = opt._name ? $translate.instant(opt._name) : $filter('minutes')(opt.id); }); }\n\n    return opts;\n  });\n","/**\n * Options for Reservation Rules / Reservation Scale\n */\nexport default angular.module('deskworks.optsReservationScale', [])\n  .factory('optsReservationScale', function($rootScope, $filter) {\n    const opts = [\n      { id: 15 }, // minutes\n      { id: 30 },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $filter('minutes')(opt.id); }); }\n\n    return opts;\n  });\n","/**\n * Options for Setup -> Settings -> Invoice Template\n */\nexport default angular.module('deskworks.optsInvoiceTemplate', [])\n\n  .factory('optsInvoiceTemplate', function($rootScope, $translate) {\n    const opts = [\n      { id: 'standard', _name: 'SETUP_SETTINGS.INVOICE_TEMPLATE.STANDARD' },\n      { id: 'alternate', _name: 'SETUP_SETTINGS.INVOICE_TEMPLATE.ALTERNATE' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","export default angular.module('deskworks.ReservationFieldOption', [\n  'ngResource',\n  'deskworks.config',\n])\n\n  .factory('ReservationFieldOption', function($resource, $filter, $timeout, deskworksConfig) {\n    const res = $resource(deskworksConfig.getApiAbsUrl('/reservation-fields/:fieldId/options/:id'), {}, {\n      update: { method: 'PUT' }\n    });\n\n    return {\n      /**\n       * @param params.fieldId\n       * @param params.option\n       * @returns {*}\n       */\n      save: params => {\n        const { fieldId, option } = params;\n        if (option.id) return res.update({ fieldId, id: option.id }, option).$promise;\n        return res.save({ fieldId }, option).$promise\n          .then(result => { option.id = result.id; });\n      },\n\n      /**\n       * @param params.fieldId\n       * @param params.id\n       * @returns {*}\n       */\n      delete: params => res.delete(params).$promise,\n    };\n  });\n"],"sourceRoot":""}