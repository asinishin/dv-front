{"version":3,"sources":["webpack:///./bundles/analytics sync .*\\.tpl\\.html$","webpack:///./bundles/analytics sync \\..+\\/.+\\.js$","webpack:///./bundles/analytics/dashboard/analytics-dashboard.controller.js","webpack:///./bundles/analytics/dashboard/analytics-dashboard.scss?36dd","webpack:///./bundles/analytics/dashboard/analytics-dashboard.tpl.html","webpack:///./bundles/analytics/dashboard/analytics-user.service.js","webpack:///./bundles/analytics/index.js","webpack:///./bundles/analytics/widgets/analytics-widget-base.tpl.html","webpack:///./bundles/analytics/widgets/analytics-widget.directive.js","webpack:///./bundles/analytics/widgets/analytics-widget.scss?7825","webpack:///./bundles/analytics/widgets/analytics-widget.tpl.html","webpack:///./bundles/analytics/widgets/analytics-widgets-list.service.js","webpack:///./bundles/analytics/widgets/income/analytics-income-chart.service.js","webpack:///./bundles/analytics/widgets/income/analytics-income.directive.js","webpack:///./bundles/analytics/widgets/income/analytics-income.service.js","webpack:///./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy-chart-units.service.js","webpack:///./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy-chart.service.js","webpack:///./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy.directive.js","webpack:///./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy.service.js","webpack:///./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy.tpl.html","webpack:///./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings-chart.service.js","webpack:///./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings.directive.js","webpack:///./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings.service.js","webpack:///./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings.tpl.html","webpack:///./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization-chart-units.service.js","webpack:///./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization-chart.service.js","webpack:///./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization.directive.js","webpack:///./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization.service.js","webpack:///./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization.tpl.html","webpack:///./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category-chart.service.js","webpack:///./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category-detailed-chart.service.js","webpack:///./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category.directive.js","webpack:///./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category.service.js","webpack:///./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category.tpl.html","webpack:///./bundles/analytics/widgets/sales/analytics-sales-chart.service.js","webpack:///./bundles/analytics/widgets/sales/analytics-sales.directive.js","webpack:///./bundles/analytics/widgets/sales/analytics-sales.service.js","webpack:///./shared/charts/chart-by-period.directive.js","webpack:///./shared/charts/chart-by-period.tpl.html","webpack:///./shared/charts/chart-colors.service.js","webpack:///./shared/charts/chart-period.directive.js","webpack:///./shared/charts/chart-period.scss?c060","webpack:///./shared/charts/chart-period.tpl.html","webpack:///./shared/charts/chart.directive.js","webpack:///./shared/charts/chart.scss?761c","webpack:///./shared/charts/opts-chart-by-period.service.js","webpack:///./shared/charts/opts-chart-period.service.js","webpack:///./shared/charts/system-colors.service.js","webpack:///./shared/drag-n-drop/dnd.service.js","webpack:///./shared/drag-n-drop/drag-n-drop.scss?4a61","webpack:///./shared/drag-n-drop/keese.service.js"],"names":["angular","module","dnd","name","keese","companySnapshotWidgetDirective","analyticsWidgetsList","AnalyticsUser","controller","$scope","$translate","$timeout","dwAlerts","state","helper","session","$ctrl","setPageTitle","instant","widgetsList","widgetToAdd","onInit","loadDefaults","getCenterId","settings","allCenters","getCurrentCenterId","onDrop","srcList","srcIndex","targetList","targetIndex","item","move","addWidget","widgets","push","uid","order","generate","length","wide","saveDefaults","save","userId","user","id","catch","err","error","then","defaults","copy","get","result","purify","isPristine","equals","factory","$resource","datesDeserializer","deskworksConfig","url","getApiAbsUrl","desDates","res","method","transformResponse","fromJson","update","params","$promise","data","index","$injector","importAll","r","js","require","loadNewModules","m","default","invoke","$templateCache","ctx","forEach","key","put","replace","directive","template","restrict","scope","bindToController","widget","centerId","link","$element","addClass","$window","$compile","$w","$onInit","$watch","toggleClass","$onChanges","config","w","css","body","element","querySelector","tpl","attr","children","el","remove","append","$new","onDragStart","event","list","findParentElement","target","undefined","onDragEnd","analyticsSalesDirective","analyticsSalesByProductCategoryDirective","analyticsIncomeDirective","analyticsRecurringBillingsDirective","analyticsReservationSpaceUtilizationDirective","analyticsOccupancyVacancyDirective","_name","chartColors","$filter","whitelabel","periods","totals","labels","period","title","datasets","maxBarThickness","backgroundColor","getProperty","tpLabel","chart","type","options","tooltips","callbacks","label","tooltipItem","layout","padding","top","legend","display","scales","yAxes","ticks","min","callback","value","chartDirective","reportHelper","optsChartByPeriod","optsChartPeriod","AnalyticsIncome","analyticsIncomeChart","chartPeriodDirective","chartByPeriodDirective","$q","debounce","paramsChanged","optsByPeriod","optsPeriod","watchParams","np","op","byPeriod","widgetToolbarForm","$invalid","spin","finally","all","from","to","isArray","deserialize","periodConfig","i","format","selected","units","unit","idx","mode","intersect","displayColors","datasetIndex","position","max","$rootScope","onChartClick","category","onClick","items","$apply","_","getElementAtEvent","_datasetIndex","AnalyticsOccupancyVacancy","analyticsOccupancyVacancyChart","analyticsOccupancyVacancyChartUnits","dataset","xAxes","stacked","AnalyticsRecurringBillings","analyticsRecurringBillingsChart","p","round","reduce","sum","cat","total","utilization","usage","expected","AnalyticsReservationSpaceUtilization","analyticsReservationSpaceUtilizationChart","analyticsReservationSpaceUtilizationChartUnits","u","totalPercentage","_index","isNumber","t","AnalyticsSalesByProductCategory","analyticsSalesByProductCategoryChart","analyticsSalesByProductCategoryDetailedChart","chartLevels","grandTotal","AnalyticsSales","analyticsSalesChart","$watchGroup","nv","ov","endOf","systemColors","Chart","global","boxWidth","cornerRadius","elements","rectangle","borderWidth","primary","arc","plugins","unregister","ChartDataLabels","chartOptions","maintainAspectRatio","hoverBorderWidth","hoverBorderColor","$onDestroy","destroy","changes","ds","chartData","extend","currentValue","previousValue","df","opts","translate","$on","opt","moment","subtract","startOf","colors","picker","document","appendChild","text","rgb2hex","getComputedStyle","getPropertyValue","info","warning","indexOf","alphabet","radix","order_specifier","values","low","high","count","multi_keese","single_keese","average","increment","Array","recurse","low_value","high_value","low_index","high_index","mid_index","Math","floor","mid_value","n","parse","digits","substr","order_length","add","Error","a","b","pad_to_equal_order","b_carry","max_digit_length","a_value","b_value","half_distance_value","half_distance_digits","j","half_distance","construct","result_digits","lastIndexOf","charAt","pad_in_place"],"mappings":"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","file":"analytics~._b.js?_rev=8470539a2d7f2e21dbf5","sourcesContent":["var map = {\n\t\"./dashboard/analytics-dashboard.tpl.html\": \"./bundles/analytics/dashboard/analytics-dashboard.tpl.html\",\n\t\"./widgets/analytics-widget-base.tpl.html\": \"./bundles/analytics/widgets/analytics-widget-base.tpl.html\",\n\t\"./widgets/analytics-widget.tpl.html\": \"./bundles/analytics/widgets/analytics-widget.tpl.html\",\n\t\"./widgets/occupancy-vacancy/analytics-occupancy-vacancy.tpl.html\": \"./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy.tpl.html\",\n\t\"./widgets/recurring-billings/analytics-recurring-billings.tpl.html\": \"./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings.tpl.html\",\n\t\"./widgets/reservation-space-utilization/analytics-reservation-space-utilization.tpl.html\": \"./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization.tpl.html\",\n\t\"./widgets/sales-by-product-category/analytics-sales-by-product-category.tpl.html\": \"./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category.tpl.html\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/analytics sync recursive .*\\\\.tpl\\\\.html$\";","var map = {\n\t\"./dashboard/analytics-dashboard.controller.js\": \"./bundles/analytics/dashboard/analytics-dashboard.controller.js\",\n\t\"./dashboard/analytics-user.service.js\": \"./bundles/analytics/dashboard/analytics-user.service.js\",\n\t\"./widgets/analytics-widget.directive.js\": \"./bundles/analytics/widgets/analytics-widget.directive.js\",\n\t\"./widgets/analytics-widgets-list.service.js\": \"./bundles/analytics/widgets/analytics-widgets-list.service.js\",\n\t\"./widgets/income/analytics-income-chart.service.js\": \"./bundles/analytics/widgets/income/analytics-income-chart.service.js\",\n\t\"./widgets/income/analytics-income.directive.js\": \"./bundles/analytics/widgets/income/analytics-income.directive.js\",\n\t\"./widgets/income/analytics-income.service.js\": \"./bundles/analytics/widgets/income/analytics-income.service.js\",\n\t\"./widgets/occupancy-vacancy/analytics-occupancy-vacancy-chart-units.service.js\": \"./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy-chart-units.service.js\",\n\t\"./widgets/occupancy-vacancy/analytics-occupancy-vacancy-chart.service.js\": \"./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy-chart.service.js\",\n\t\"./widgets/occupancy-vacancy/analytics-occupancy-vacancy.directive.js\": \"./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy.directive.js\",\n\t\"./widgets/occupancy-vacancy/analytics-occupancy-vacancy.service.js\": \"./bundles/analytics/widgets/occupancy-vacancy/analytics-occupancy-vacancy.service.js\",\n\t\"./widgets/recurring-billings/analytics-recurring-billings-chart.service.js\": \"./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings-chart.service.js\",\n\t\"./widgets/recurring-billings/analytics-recurring-billings.directive.js\": \"./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings.directive.js\",\n\t\"./widgets/recurring-billings/analytics-recurring-billings.service.js\": \"./bundles/analytics/widgets/recurring-billings/analytics-recurring-billings.service.js\",\n\t\"./widgets/reservation-space-utilization/analytics-reservation-space-utilization-chart-units.service.js\": \"./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization-chart-units.service.js\",\n\t\"./widgets/reservation-space-utilization/analytics-reservation-space-utilization-chart.service.js\": \"./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization-chart.service.js\",\n\t\"./widgets/reservation-space-utilization/analytics-reservation-space-utilization.directive.js\": \"./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization.directive.js\",\n\t\"./widgets/reservation-space-utilization/analytics-reservation-space-utilization.service.js\": \"./bundles/analytics/widgets/reservation-space-utilization/analytics-reservation-space-utilization.service.js\",\n\t\"./widgets/sales-by-product-category/analytics-sales-by-product-category-chart.service.js\": \"./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category-chart.service.js\",\n\t\"./widgets/sales-by-product-category/analytics-sales-by-product-category-detailed-chart.service.js\": \"./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category-detailed-chart.service.js\",\n\t\"./widgets/sales-by-product-category/analytics-sales-by-product-category.directive.js\": \"./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category.directive.js\",\n\t\"./widgets/sales-by-product-category/analytics-sales-by-product-category.service.js\": \"./bundles/analytics/widgets/sales-by-product-category/analytics-sales-by-product-category.service.js\",\n\t\"./widgets/sales/analytics-sales-chart.service.js\": \"./bundles/analytics/widgets/sales/analytics-sales-chart.service.js\",\n\t\"./widgets/sales/analytics-sales.directive.js\": \"./bundles/analytics/widgets/sales/analytics-sales.directive.js\",\n\t\"./widgets/sales/analytics-sales.service.js\": \"./bundles/analytics/widgets/sales/analytics-sales.service.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./bundles/analytics sync recursive \\\\..+\\\\/.+\\\\.js$\";","import './analytics-dashboard.scss';\nimport dnd from 'shared/drag-n-drop/dnd.service';\nimport keese from 'shared/drag-n-drop/keese.service';\nimport companySnapshotWidgetDirective from '../widgets/analytics-widget.directive';\nimport analyticsWidgetsList from '../widgets/analytics-widgets-list.service';\nimport AnalyticsUser from './analytics-user.service';\n\nexport default angular.module('deskworks.AnalyticsDashboardCtrl', [\n  'deskworks.state',\n  'session',\n  dnd.name,\n  keese.name,\n  companySnapshotWidgetDirective.name,\n  analyticsWidgetsList.name,\n  AnalyticsUser.name,\n])\n\n  .controller('AnalyticsDashboardCtrl', function($scope, $translate, $timeout ,dwAlerts, state, helper, dnd, keese, session,\n                                                 analyticsWidgetsList, AnalyticsUser) {\n    const $ctrl = this;\n\n    state.setPageTitle($translate.instant('ANALYTICS.PAGE_TITLE'));\n\n    $ctrl.widgetsList = analyticsWidgetsList;\n    $ctrl.widgetToAdd = $ctrl.widgetsList[0];\n\n    /**\n     * onInit\n     */\n    $ctrl.onInit = () => {\n      $ctrl.loadDefaults();\n    };\n\n    /**\n     * Get settings\n     */\n    $ctrl.getCenterId = () => $ctrl.settings.allCenters ? null : state.getCurrentCenterId();\n\n    /**\n     * Drop handler\n     */\n    $ctrl.onDrop = (srcList, srcIndex, targetList, targetIndex) => {\n      const item = dnd.move(srcList, srcIndex, targetList, targetIndex);\n      return true; // true is required by dnd-callback of dnd-list\n    };\n\n    /**\n     * Add widget\n     */\n    $ctrl.addWidget = () => {\n      const { widgets } = $ctrl.settings;\n      widgets.push({\n        uid: $ctrl.widgetToAdd.uid,\n        order: keese.generate(widgets.length && widgets[widgets.length - 1].order),\n        wide: false,\n      });\n    };\n\n    /**\n     * Save defaults\n     */\n    $ctrl.saveDefaults = () => AnalyticsUser.save({ userId: session.user.id }, $ctrl.settings)\n      .catch(err => dwAlerts.error(err, 'Failed to save dashboard settings.'))\n      .then(() => {\n        $ctrl.defaults = angular.copy($ctrl.settings);\n      });\n\n    /**\n     * Load defaults\n     */\n    $ctrl.loadDefaults = () => AnalyticsUser.get({ userId: session.user.id })\n      .catch(err => dwAlerts.error(err, 'Failed to get dashboard settings.'))\n      .then(result => {\n        $ctrl.settings = helper.purify(result);\n        $timeout(() => { $ctrl.defaults = angular.copy($ctrl.settings); });\n      });\n\n    $ctrl.isPristine = () => angular.equals($ctrl.settings, $ctrl.defaults);\n\n    $ctrl.onInit();\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<div class=\\\"analytics-dashboard\\\"> <h1 class=\\\"page-title\\\">{{state.getPageTitle()}}</h1> <div class=\\\"ff-spin ff-spin-placeholder\\\" ng-if=\\\"!$ctrl.settings\\\"></div> <div class=\\\"gutter-v\\\" ng-if=\\\"$ctrl.settings\\\"> <ff-panel ng-if=\\\"state.getUserCenters().length > 1\\\"> <div> <label class=\\\"i-block\\\"> <ff-checkbox ff-model=\\\"$ctrl.settings.allCenters\\\"><span translate=\\\"ANALYTICS.ALL_CENTERS\\\"></span></ff-checkbox> </label> <ff-hint><span translate=\\\"ANALYTICS.ALL_CENTERS.HINT\\\"></span></ff-hint> </div> </ff-panel> <div> <div class=\\\"ff-grid gutter-h gutter-v\\\" dnd-list dnd-drop=\\\"callback({ targetList: $ctrl.settings.widgets, targetIndex: index })\\\"> <analytics-widget ng-repeat=\\\"widget in $ctrl.settings.widgets\\\" widget=\\\"widget\\\" center-id=\\\"$ctrl.getCenterId()\\\" dnd-draggable=\\\"null\\\" dnd-nodrag dnd-dragstart=\\\"$w.onDragStart(event)\\\" dnd-dragend=\\\"$w.onDragEnd(event)\\\" dnd-callback=\\\"$ctrl.onDrop($ctrl.settings.widgets, $index, targetList, targetIndex)\\\"></analytics-widget> <div class=\\\"dndPlaceholder\\\">Drop here.</div> <div class=\\\"analytics-dashboard-trash\\\" title=\\\"{{'ANALYTICS.BTN_TRASH' | translate}}\\\" dnd-list=\\\"[]\\\" dnd-drop=\\\"callback({ targetList: null, targetIndex: index })\\\"><i class=\\\"fa fa-trash\\\"></i></div> </div> </div> <div> <div class=\\\"ff-grid gutter-h-half gutter-v-half\\\"> <ng-form class=\\\"ff-row\\\" flex=\\\"0 1 300px\\\"> <label class=\\\"ff-row\\\"> <ff-label flex=\\\"none\\\">Add widget:</ff-label> <ff-select ff-model=\\\"$ctrl.widgetToAdd\\\" ff-options=\\\"widget._name | translate for widget in $ctrl.widgetsList\\\"></ff-select> </label> <ff-btn-group flex=\\\"none\\\" class=\\\"buttons-row\\\"> <ff-btn sense=\\\"add\\\" size=\\\"xs\\\" type=\\\"submit\\\" ff-click=\\\"$ctrl.addWidget()\\\" title=\\\"{{ 'GLOBAL.BTN_NEW' | translate }}\\\"></ff-btn> </ff-btn-group> </ng-form> <ff-btn-group flex=\\\"none\\\"> <ff-btn sense=\\\"makeFavorite\\\" ff-click=\\\"$ctrl.saveDefaults()\\\" ff-disabled=\\\"$ctrl.isPristine()\\\"> <span translate=\\\"ANALYTICS.BTN_SAVE_DEFAULTS\\\"></span> </ff-btn> </ff-btn-group> </div> </div> </div> </div> \";\n// Exports\nmodule.exports = code;","export default angular.module('deskworks.AnalyticsUser', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n])\n\n  .factory('AnalyticsUser', function($resource, $timeout, datesDeserializer, deskworksConfig) {\n    const url = deskworksConfig.getApiAbsUrl('/analytics/users/:userId');\n\n    const desDates = datesDeserializer(['widgets.from', 'widgets.to']);\n\n    const res = $resource(url, { userId: '@userId' }, {\n      get: { method: 'GET', transformResponse: [angular.fromJson, desDates] },\n      update: { method: 'PUT' },\n    });\n\n    return {\n      get: params => res.get(params).$promise,\n\n      save: (params, data) => res.update(params, data).$promise,\n    };\n  });\n","const index = ['$injector', function index($injector) {\n  // JS\n  const importAll = r => r.keys().map(r);\n  const js = importAll(require.context('./', true, /\\..+\\/.+\\.js$/));\n  $injector.loadNewModules(js.map(m => m.default.name));\n\n  // Templates\n  $injector.invoke(['$templateCache', function($templateCache) {\n    const ctx = require.context('./', true, /.*\\.tpl\\.html$/);\n    ctx.keys().forEach(key => $templateCache.put(key.replace(/^\\.\\//, ''), ctx(key)));\n  }]);\n}];\n\nexport default index;\n","// Module\nvar code = \"<div> <ng-form name=\\\"$ctrl.widgetToolbarForm\\\" class=\\\"ff-grid\\\"> <chart-by-period flex=\\\"none\\\" period=\\\"$ctrl.params.byPeriod\\\"></chart-by-period> <ff-static flex=\\\"auto\\\"></ff-static> <chart-period flex=\\\"0 1 auto\\\" period=\\\"$ctrl.params.period\\\" from=\\\"$ctrl.params.from\\\" to=\\\"$ctrl.params.to\\\"></chart-period> </ng-form> <chart config=\\\"$ctrl.chart\\\" ff-dim=\\\"$ctrl.spin\\\"></chart> </div> \";\n// Exports\nmodule.exports = code;","import './analytics-widget.scss';\nimport template from './analytics-widget.tpl.html';\n\nimport analyticsWidgetsList from './analytics-widgets-list.service';\n\nexport default angular.module('deskworks.analyticsWidgetDirective', [\n  analyticsWidgetsList.name,\n])\n\n  .directive('analyticsWidget', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsWidgetDirectiveCtrl as $w',\n      bindToController: {\n        widget: '<',\n        centerId: '@',\n      },\n      link: ($scope, $element) => { $element.addClass('analytics-widget'); },\n    };\n  })\n\n  .controller('AnalyticsWidgetDirectiveCtrl', function($scope, $element, $window, $compile, state, dwAlerts, helper, analyticsWidgetsList) {\n    const $w = this;\n\n    $w.$onInit = () => {\n      $scope.$watch('$w.widget.wide', () => {\n        $element.toggleClass('analytics-widget-wide', !!$w.widget.wide);\n      });\n    };\n\n    $w.$onChanges = () => {\n      if ($w.widget) {\n        $w.config = analyticsWidgetsList.find(w => w.uid === $w.widget.uid);\n        if (!$w.config) { // don't show unknown widgets\n          $element.css('display', 'none');\n          return;\n        }\n        const body = angular.element($element[0].querySelector('.analytics-widget-body'));\n        const tpl = angular.element($w.config.template);\n        tpl.attr('params', '$w.widget');\n        tpl.attr('center-id', $w.centerId);\n        angular.forEach(body.children(), el => el.remove());\n        body.append(tpl);\n        $compile(tpl)($scope.$new());\n      }\n    };\n\n    $w.onDragStart = (event) => {\n      const list = helper.findParentElement(event.target, el => el.attr('dnd-list') !== undefined);\n      list.toggleClass('analytics-wide-placeholder', !!$w.widget.wide);\n      list.toggleClass('analytics-dragging', true);\n    };\n\n    $w.onDragEnd = (event) => {\n      const list = helper.findParentElement(event.target, el => el.attr('dnd-list') !== undefined);\n      list.toggleClass('analytics-dragging', false);\n    };\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<ff-panel> <ff-panel-header class=\\\"ff-row\\\"> <span translate=\\\"{{$w.config._name}}\\\"></span> <div class=\\\"analytics-widget-toolbar\\\"> <ff-btn sense=\\\"widen\\\" size=\\\"xs\\\" class=\\\"ff-btn-icon\\\" ff-click=\\\"$w.widget.wide = !$w.widget.wide\\\" title=\\\"{{'ANALYTICS.WIDE' | translate}}\\\"></ff-btn> <ff-btn sense=\\\"drag\\\" size=\\\"xs\\\" class=\\\"ff-btn-icon\\\" dnd-handle title=\\\"{{'ANALYTICS.DRAG_N_DROP' | translate}}\\\"></ff-btn> </div> </ff-panel-header> <div class=\\\"analytics-widget-body\\\"></div> </ff-panel> \";\n// Exports\nmodule.exports = code;","import analyticsSalesDirective from './sales/analytics-sales.directive';\nimport analyticsSalesByProductCategoryDirective from './sales-by-product-category/analytics-sales-by-product-category.directive';\nimport analyticsIncomeDirective from './income/analytics-income.directive';\nimport analyticsRecurringBillingsDirective from './recurring-billings/analytics-recurring-billings.directive';\nimport analyticsReservationSpaceUtilizationDirective from './reservation-space-utilization/analytics-reservation-space-utilization.directive';\n// import companySnapshotRevenueForecastDirective from './reservation-space-utilization/company-snapshot-reservation-space-utilization.directive';\n// import companySnapshotOverallSpaceUtilizationDirective from './overall-space-utilization/company-snapshot-overall-space-utilization.directive';\nimport analyticsOccupancyVacancyDirective from './occupancy-vacancy/analytics-occupancy-vacancy.directive';\n\nexport default angular.module('deskworks.analyticsWidgetsList', [\n  analyticsSalesDirective.name,\n  analyticsSalesByProductCategoryDirective.name,\n  analyticsIncomeDirective.name,\n  analyticsRecurringBillingsDirective.name,\n  // companySnapshotRevenueForecastDirective.name,\n  analyticsReservationSpaceUtilizationDirective.name,\n  // companySnapshotOverallSpaceUtilizationDirective.name,\n  analyticsOccupancyVacancyDirective.name,\n])\n\n  .factory('analyticsWidgetsList', () => {\n    return [\n      {\n        uid: 'sales',\n        _name: 'ANALYTICS.WIDGET.SALES',\n        template: '<analytics-sales></analytics-sales>',\n      },\n      {\n        uid: 'sales-by-product-category',\n        _name: 'ANALYTICS.WIDGET.SALES_BY_PRODUCT_CATEGORY',\n        template: '<analytics-sales-by-product-category></analytics-sales-by-product-category>',\n      },\n      {\n        uid: 'income',\n        _name: 'ANALYTICS.WIDGET.INCOME',\n        template: '<analytics-income></analytics-income>',\n      },\n      {\n        uid: 'recurring-billings',\n        _name: 'ANALYTICS.WIDGET.RECURRING_BILLINGS',\n        template: '<analytics-recurring-billings></analytics-recurring-billings>',\n      },\n      // {\n      //   uid: 'revenue-forecast',\n      //   _name: 'ANALYTICS.WIDGET.REVENUE_FORECAST',\n      //   template: '<company-snapshot-revenue-forecast></company-snapshot-revenue-forecast>',\n      // },\n      {\n        uid: 'reservation-space-utilization',\n        _name: 'ANALYTICS.WIDGET.RESERVATION_SPACE_UTILIZATION',\n        template: '<analytics-reservation-space-utilization></analytics-reservation-space-utilization>',\n      },\n      // {\n      //   uid: 'overall-space-utilization',\n      //   _name: 'ANALYTICS.WIDGET.OVERALL_SPACE_UTILIZATION',\n      //   template: '<company-snapshot-overall-space-utilization></company-snapshot-overall-space-utilization>',\n      // },\n      {\n        uid: 'occupancy-vacancy',\n        _name: 'ANALYTICS.WIDGET.OCCUPANCY_VACANCY',\n        template: '<analytics-occupancy-vacancy></analytics-occupancy-vacancy>',\n      },\n    ];\n  });\n","import chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsIncomeChart', [\n  chartColors.name,\n  'deskworks.whitelabel',\n])\n\n  .factory('analyticsIncomeChart', ($filter, $translate, chartColors, whitelabel) => {\n    return ({ periods, totals, params }) => {\n      const labels = periods.map(period => period.title);\n      const datasets = [{\n        data: totals,\n        maxBarThickness: 80,\n        backgroundColor: whitelabel.getProperty('--brand-color') || chartColors[0],\n      }];\n\n      const tpLabel = $translate.instant('ANALYTICS.INCOME');\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     backgroundColor: '#000',\n          //     padding: 1,\n          //     borderRadius: 3,\n          //     formatter: (value, context) => $filter('ncurrency')(value, undefined, 0),\n          //   }\n          // },\n          tooltips: {\n            callbacks: {\n              label: (tooltipItem) => `${tpLabel}: ${$filter('ncurrency')(totals[tooltipItem.index])}`,\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: false },\n          scales: {\n            yAxes: [{\n              ticks: {\n                min: 0,\n                callback: value => $filter('ncurrency')(value, undefined, 0),\n              },\n            }],\n          },\n        },\n      };\n\n      return chart;\n    };\n  });\n","import template from '../analytics-widget-base.tpl.html';\nimport chartDirective from 'shared/charts/chart.directive';\nimport reportHelper from 'shared/reports/services/report-helper.service';\nimport AnalyticsIncome from './analytics-income.service';\nimport optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\nimport analyticsIncomeChart from './analytics-income-chart.service';\nimport chartPeriodDirective from 'shared/charts/chart-period.directive';\nimport chartByPeriodDirective from 'shared/charts/chart-by-period.directive';\n\nexport default angular.module('deskworks.analyticsIncomeDirective', [\n  'debounce',\n  chartDirective.name,\n  reportHelper.name,\n  optsChartByPeriod.name,\n  optsChartPeriod.name,\n  AnalyticsIncome.name,\n  analyticsIncomeChart.name,\n  chartPeriodDirective.name,\n  chartByPeriodDirective.name,\n])\n\n  .directive('analyticsIncome', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsIncomeDirectiveCtrl as $ctrl',\n      bindToController: {\n        params: '<',\n        centerId: '<',\n      },\n    };\n  })\n\n  .controller('AnalyticsIncomeDirectiveCtrl', function($scope, $q, state, dwAlerts, helper, debounce,\n                                                       reportHelper, AnalyticsIncome, analyticsIncomeChart,\n                                                       optsChartByPeriod, optsChartPeriod) {\n    const $ctrl = this;\n\n    const { paramsChanged } = reportHelper;\n    $ctrl.optsByPeriod = optsChartByPeriod;\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $ctrl.data = null;\n\n    $ctrl.$onInit = () => {\n      watchParams();\n    };\n\n    function watchParams() {\n      $scope.$watch(() => ({ ...$ctrl.params, centerId: $ctrl.centerId }), debounce((np, op) => {\n        $ctrl.params.period = $ctrl.params.period || '12months';\n        $ctrl.params.byPeriod = $ctrl.params.byPeriod || 'month';\n\n        if ($ctrl.widgetToolbarForm.$invalid) { return; }\n\n        if (paramsChanged(np, op, ['byPeriod', 'from', 'to', 'centerId'])) {\n          $ctrl.data = null;\n        }\n\n        $ctrl.data = $ctrl.data || ($ctrl.spin = true, AnalyticsIncome.get(np)\n          .catch(err => dwAlerts.error(err, 'Failed to query Income widget data.'))\n          .finally(() => { $ctrl.spin = false; }));\n\n        $q.all({ data: $ctrl.data })\n          .then(result => {\n            $ctrl.data = result.data;\n          })\n          .then(() => {\n            $ctrl.chart = analyticsIncomeChart({ ...$ctrl.data, params: $ctrl.params });\n          });\n\n      }, 100), true);\n    }\n\n  });\n","import optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.AnalyticsIncome', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n  optsChartByPeriod.name,\n])\n  .factory('AnalyticsIncome', function($resource, $filter, $timeout, datesDeserializer, deskworksConfig, helper, optsChartByPeriod) {\n    const desDates = datesDeserializer(['periods.from', 'periods.to']);\n\n    const url = deskworksConfig.getApiAbsUrl('/analytics/income');\n\n    const res = $resource(url, { byPeriod: '@byPeriod', from: '@from', to: '@to' }, {\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      get: params => res.get({\n        centerId: params.centerId || null,\n        byPeriod: params.byPeriod || 'month',\n        from: $filter('date')(params.from, 'yyyy-MM-dd') || null,\n        to: $filter('date')(params.to, 'yyyy-MM-dd') || null,\n      }).$promise\n        .then(data => deserialize({ data, params })),\n    };\n\n    function deserialize({ data, params }) {\n      const { byPeriod = 'month' } = params;\n      const periodConfig = optsChartByPeriod.find(i => i.id === byPeriod);\n\n      data.periods.forEach(period => {\n        period.title = periodConfig.format(period.from, period.to);\n      });\n\n      return data;\n    }\n\n  });\n","import reportHelper from 'shared/reports/services/report-helper.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsOccupancyVacancyChartUnits', [\n  reportHelper.name,\n  chartColors.name,\n])\n\n  .factory('analyticsOccupancyVacancyChartUnits', ($filter, $translate, chartColors, reportHelper) => {\n    return ({ periods, data, params }) => {\n      const labels = periods.map(period => period.title);\n\n      const datasets = data[params.selected].units.map((unit, idx) => ({\n        label: unit.name,\n        data: unit.totals,\n        maxBarThickness: 80,\n        backgroundColor: chartColors[idx],\n      }));\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     backgroundColor: '#000',\n          //     padding: 1,\n          //     borderRadius: 3,\n          //     formatter: (value, context) => `${Math.round(value)}%`,\n          //   }\n          // },\n          tooltips: {\n            mode: 'index',\n            intersect: true,\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem) => {\n                const { name, totals } = data[params.selected].units[tooltipItem.datasetIndex];\n                return `${name}: ${totals[tooltipItem.index]}%`;\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: params.wide ? 'right' : 'bottom' },\n          scales: {\n            yAxes: [{\n              ticks: {\n                min: 0,\n                max: 100,\n                callback: value => `${value}%`,\n              },\n            }],\n          },\n        },\n      };\n\n      return chart;\n    };\n  });\n","import reportHelper from 'shared/reports/services/report-helper.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsOccupancyVacancyChart', [\n  reportHelper.name,\n  chartColors.name,\n])\n\n  .factory('analyticsOccupancyVacancyChart', ($rootScope, $filter, $translate, chartColors, reportHelper) => {\n    return ({ periods, data, params, onChartClick }) => {\n      // data = reportHelper.sort(data, 'utilization', true).slice(0, 12);\n\n      const labels = periods.map(period => period.title);\n\n      const datasets = data.map((category, idx) => ({\n        label: category.name,\n        data: category.totals,\n        maxBarThickness: 80,\n        backgroundColor: chartColors[idx],\n      }));\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     backgroundColor: '#000',\n          //     padding: 1,\n          //     borderRadius: 3,\n          //     formatter: (value, context) => `${Math.round(value)}%`,\n          //   }\n          // },\n          tooltips: {\n            mode: 'index',\n            intersect: true,\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem) => {\n                const { name, totals } = data[tooltipItem.datasetIndex];\n                return `${name}: ${totals[tooltipItem.index]}%`;\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: params.wide ? 'right' : 'bottom' },\n          scales: {\n            yAxes: [{\n              ticks: {\n                min: 0,\n                max: 100,\n                callback: value => `${value}%`,\n              },\n            }],\n          },\n          onClick,\n        },\n      };\n\n      return chart;\n\n      function onClick(event, items) {\n        $rootScope.$apply(_ => {\n          const el = this.getElementAtEvent(event)[0];\n          if (!el) return;\n          onChartClick(el._datasetIndex);\n        });\n      }\n    };\n  });\n","import template from './analytics-occupancy-vacancy.tpl.html';\nimport chartDirective from 'shared/charts/chart.directive';\nimport reportHelper from 'shared/reports/services/report-helper.service';\nimport AnalyticsOccupancyVacancy from './analytics-occupancy-vacancy.service';\nimport optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\nimport analyticsOccupancyVacancyChart from './analytics-occupancy-vacancy-chart.service';\nimport analyticsOccupancyVacancyChartUnits from './analytics-occupancy-vacancy-chart-units.service';\nimport chartPeriodDirective from 'shared/charts/chart-period.directive';\nimport chartByPeriodDirective from 'shared/charts/chart-by-period.directive';\n\nexport default angular.module('deskworks.analyticsOccupancyVacancyDirective', [\n  'debounce',\n  chartDirective.name,\n  reportHelper.name,\n  optsChartByPeriod.name,\n  optsChartPeriod.name,\n  AnalyticsOccupancyVacancy.name,\n  analyticsOccupancyVacancyChart.name,\n  analyticsOccupancyVacancyChartUnits.name,\n  chartPeriodDirective.name,\n  chartByPeriodDirective.name,\n])\n\n  .directive('analyticsOccupancyVacancy', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsOccupancyVacancyDirectiveCtrl as $ctrl',\n      bindToController: {\n        params: '<',\n        centerId: '<',\n      },\n    };\n  })\n\n  .controller('AnalyticsOccupancyVacancyDirectiveCtrl', function(\n    $scope, $q, state, dwAlerts, helper, debounce, reportHelper, AnalyticsOccupancyVacancy,\n    analyticsOccupancyVacancyChart, analyticsOccupancyVacancyChartUnits, optsChartByPeriod, optsChartPeriod) {\n    const $ctrl = this;\n\n    const { paramsChanged } = reportHelper;\n    $ctrl.optsByPeriod = optsChartByPeriod;\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $ctrl.data = null;\n\n    $ctrl.$onInit = () => {\n      watchParams();\n    };\n\n    function watchParams() {\n      $scope.$watch(() => ({ ...$ctrl.params, centerId: $ctrl.centerId }), debounce((np, op) => {\n        $ctrl.params.period = $ctrl.params.period || '12months';\n        $ctrl.params.byPeriod = $ctrl.params.byPeriod || 'quarter';\n\n        if ($ctrl.widgetToolbarForm.$invalid) { return; }\n\n        if (paramsChanged(np, op, ['byPeriod', 'from', 'to', 'centerId'])) {\n          $ctrl.data = null;\n          $ctrl.params.selected = null;\n        }\n\n        $ctrl.data = $ctrl.data || ($ctrl.spin = true, AnalyticsOccupancyVacancy.get(np)\n          .catch(err => dwAlerts.error(err, 'Failed to query Occupancy Vacancy widget data.'))\n          .finally(() => { $ctrl.spin = false; }));\n\n        $q.all({\n          data: $ctrl.data,\n        })\n          .then(result => {\n            $ctrl.data = result.data;\n          })\n          .then(() => {\n            if ($ctrl.params.selected !== null) {\n              $ctrl.chart = analyticsOccupancyVacancyChartUnits({ ...$ctrl.data, params: $ctrl.params });\n            } else {\n              $ctrl.chart = analyticsOccupancyVacancyChart({ ...$ctrl.data, params: $ctrl.params, onChartClick });\n            }\n          });\n\n      }, 100), true);\n    }\n\n    function onChartClick(index) {\n      $ctrl.params.selected = index;\n    }\n\n  });\n","import optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.AnalyticsOccupancyVacancy', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n  optsChartByPeriod.name,\n])\n  .factory('AnalyticsOccupancyVacancy', function($resource, $filter, $timeout, datesDeserializer,\n                                                       deskworksConfig, helper, optsChartByPeriod) {\n    const desDates = datesDeserializer(['periods.from', 'periods.to']);\n\n    const url = deskworksConfig.getApiAbsUrl('/analytics/occupancy-vacancy');\n\n    const res = $resource(url, { byPeriod: '@byPeriod', from: '@from', to: '@to' }, {\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      get: params => res.get({\n        centerId: params.centerId || null,\n        byPeriod: params.byPeriod || 'quarter',\n        from: $filter('date')(params.from, 'yyyy-MM-dd') || null,\n        to: $filter('date')(params.to, 'yyyy-MM-dd') || null,\n      }).$promise\n        .then(data => deserialize({ data, params })),\n    };\n\n    function deserialize({ data, params }) {\n      const { byPeriod = 'month' } = params;\n      const periodConfig = optsChartByPeriod.find(i => i.id === byPeriod);\n\n      data.periods.forEach(period => {\n        period.title = periodConfig.format(period.from, period.to);\n      });\n\n      // data.data.forEach(unit => {\n      //   unit.utilizations = unit.occupiedTotals.map((ot, idx) => helper.round(ot * 100 / (ot + unit.vacantTotals[idx]), 1));\n      //   unit.utilization = helper.round(unit.utilizations.reduce((sum, i) => sum + i, 0));\n      // });\n\n      return data;\n    }\n\n  });\n","// Module\nvar code = \"<div> <ng-form name=\\\"$ctrl.widgetToolbarForm\\\" class=\\\"ff-grid\\\"> <chart-by-period flex=\\\"none\\\" period=\\\"$ctrl.params.byPeriod\\\"></chart-by-period> <ff-static flex=\\\"auto\\\"> <ff-hint ng-if=\\\"$ctrl.params.selected === null\\\"><span translate=\\\"ANALYTICS.WIDGET.OCCUPANCY_VACANCY.HINT\\\"></span></ff-hint> <ff-btn sense=\\\"back\\\" size=\\\"sm\\\" ng-if=\\\"$ctrl.params.selected !== null\\\" ff-click=\\\"$ctrl.params.selected = null\\\"> <span translate=\\\"GLOBAL.BTN_BACK\\\"></span> </ff-btn> </ff-static> <chart-period flex=\\\"0 1 auto\\\" period=\\\"$ctrl.params.period\\\" from=\\\"$ctrl.params.from\\\" to=\\\"$ctrl.params.to\\\"></chart-period> </ng-form> <chart config=\\\"$ctrl.chart\\\" ff-dim=\\\"$ctrl.spin\\\"></chart> </div> \";\n// Exports\nmodule.exports = code;","import reportHelper from 'shared/reports/services/report-helper.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsRecurringBillingsChart', [\n  reportHelper.name,\n  chartColors.name,\n])\n\n  .factory('analyticsRecurringBillingsChart', ($filter, $translate, chartColors, reportHelper) => {\n    return ({ periods, data, totals, params }) => {\n\n      data = reportHelper.sort(data, 'total', true).slice(0, 12);\n\n      const labels = periods.map(period => period.title);\n      const datasets = data\n        .map((item, idx) => ({\n          label: item.name,\n          data: item.totals,\n          backgroundColor: chartColors[idx],\n          maxBarThickness: 80,\n        }))\n        .concat([{\n          label: $translate.instant('GLOBAL.TOTAL'),\n          data: totals.map(_ => 0),\n          backgroundColor: 'transparent',\n          maxBarThickness: 80,\n          // datalabels: {\n          //   display: true,\n          //   align: 'end',\n          //   offset: -3,\n          //   color: '#000',\n          //   textStrokeWidth: 0,\n          //   font: { weight: 'bold' },\n          // },\n        }]);\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     textStrokeColor: '#000',\n          //     textStrokeWidth: 2,\n          //     formatter: (value, context) => $filter('ncurrency')(context.datasetIndex < datasets.length - 1 ? value : totals[context.dataIndex], undefined, 0),\n          //   }\n          // },\n          tooltips: {\n            mode: 'index',\n            intersect: true,\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem, data) => {\n                const dataset = data.datasets[tooltipItem.datasetIndex];\n                return dataset.label + ': ' + $filter('ncurrency')(tooltipItem.datasetIndex < datasets.length - 1 ? dataset.data[tooltipItem.index] : totals[tooltipItem.index]);\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: params.wide ? 'right' : 'bottom' },\n          scales: {\n            xAxes: [{ stacked: true }],\n            yAxes: [{\n              stacked: true,\n              ticks: {\n                min: 0,\n                callback: value => $filter('ncurrency')(value, undefined, 0),\n              },\n            }],\n          },\n        },\n      };\n\n      return chart;\n    };\n  });\n","import template from './analytics-recurring-billings.tpl.html';\nimport chartDirective from 'shared/charts/chart.directive';\nimport reportHelper from 'shared/reports/services/report-helper.service';\nimport AnalyticsRecurringBillings from './analytics-recurring-billings.service';\nimport optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\nimport analyticsRecurringBillingsChart from './analytics-recurring-billings-chart.service';\nimport chartPeriodDirective from 'shared/charts/chart-period.directive';\nimport chartByPeriodDirective from 'shared/charts/chart-by-period.directive';\n\nexport default angular.module('deskworks.analyticsRecurringBillingsDirective', [\n  'debounce',\n  chartDirective.name,\n  reportHelper.name,\n  AnalyticsRecurringBillings.name,\n  optsChartByPeriod.name,\n  optsChartPeriod.name,\n  analyticsRecurringBillingsChart.name,\n  chartPeriodDirective.name,\n  chartByPeriodDirective.name,\n])\n\n  .directive('analyticsRecurringBillings', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsRecurringBillingsDirectiveCtrl as $ctrl',\n      bindToController: {\n        params: '<',\n        centerId: '<',\n      },\n    };\n  })\n\n  .controller('AnalyticsRecurringBillingsDirectiveCtrl', function($scope, $q, state, dwAlerts,\n    helper, debounce, reportHelper, AnalyticsRecurringBillings, analyticsRecurringBillingsChart,\n    optsChartByPeriod, optsChartPeriod) {\n    const $ctrl = this;\n\n    const { paramsChanged } = reportHelper;\n    $ctrl.optsByPeriod = optsChartByPeriod;\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $ctrl.data = null;\n\n    $ctrl.$onInit = () => {\n      watchParams();\n    };\n\n    function watchParams() {\n      $scope.$watch(() => ({ ...$ctrl.params, centerId: $ctrl.centerId }), debounce((np, op) => {\n        $ctrl.params.period = $ctrl.params.period || '12months';\n        $ctrl.params.byPeriod = $ctrl.params.byPeriod || 'month';\n\n        if ($ctrl.widgetToolbarForm.$invalid) { return; }\n\n        if (paramsChanged(np, op, ['byPeriod', 'from', 'to', 'centerId'])) {\n          $ctrl.data = null;\n        }\n\n        $ctrl.data = $ctrl.data || ($ctrl.spin = true, AnalyticsRecurringBillings.get({ ...$ctrl.params, centerId: $ctrl.centerId })\n          .catch(err => dwAlerts.error(err, 'Failed to get Recurring Billings widget data.'))\n          .finally(() => { $ctrl.spin = false; }));\n\n        $q.all({\n          data: $ctrl.data,\n        })\n          .then(result => {\n            $ctrl.data = result.data;\n          })\n          .then(() => {\n            $ctrl.chart = analyticsRecurringBillingsChart({ ...$ctrl.data, params: $ctrl.params });\n          });\n\n      }, 100), true);\n    }\n\n  });\n","import optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.AnalyticsRecurringBillings', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n  optsChartByPeriod.name,\n])\n  .factory('AnalyticsRecurringBillings', function($resource, $filter, $timeout, datesDeserializer,\n                                                deskworksConfig, helper, optsChartByPeriod) {\n    const desDates = datesDeserializer(['periods.from', 'periods.to']);\n\n    const url = deskworksConfig.getApiAbsUrl('/analytics/recurring-billings');\n\n    const res = $resource(url, { byPeriod: '@byPeriod', from: '@from', to: '@to' }, {\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      get: params => res.get({\n        centerId: params.centerId || null,\n        byPeriod: params.byPeriod || 'month',\n        from: $filter('date')(params.from, 'yyyy-MM-dd'),\n        to: $filter('date')(params.to, 'yyyy-MM-dd'),\n      }).$promise\n        .then(data => deserialize({ data, params })),\n    };\n\n    function deserialize({ data, params }) {\n      const { byPeriod = 'month' } = params;\n      const periodConfig = optsChartByPeriod.find(i => i.id === byPeriod);\n\n      data.periods.forEach(period => {\n        period.title = periodConfig.format(period.from, period.to);\n      });\n\n      data.totals = data.periods.map((p, idx) => helper.round(data.data.reduce((sum, i) => sum + i.totals[idx], 0)));\n\n      data.data.forEach(cat => {\n        cat.total = helper.round(cat.totals.reduce((sum, i) => sum + i, 0));\n      });\n\n      return data;\n    }\n\n  });\n","// Module\nvar code = \"<div> <ng-form name=\\\"$ctrl.widgetToolbarForm\\\" class=\\\"ff-grid\\\"> <chart-by-period flex=\\\"none\\\" period=\\\"$ctrl.params.byPeriod\\\"></chart-by-period> <ff-static flex=\\\"auto\\\"> <ff-hint><span translate=\\\"ANALYTICS.WIDGET.RECURRING_BILLINGS.HINT\\\"></span></ff-hint> </ff-static> <chart-period flex=\\\"0 1 auto\\\" period=\\\"$ctrl.params.period\\\" from=\\\"$ctrl.params.from\\\" to=\\\"$ctrl.params.to\\\"></chart-period> </ng-form> <chart config=\\\"$ctrl.chart\\\" ff-dim=\\\"$ctrl.spin\\\"></chart> </div> \";\n// Exports\nmodule.exports = code;","import reportHelper from 'shared/reports/services/report-helper.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsReservationSpaceUtilizationChartUnits', [\n  reportHelper.name,\n  chartColors.name,\n])\n\n  .factory('analyticsReservationSpaceUtilizationChartUnits', ($filter, $translate, chartColors, reportHelper) => {\n    return ({ periods, data, params }) => {\n      const labels = periods.map(period => period.title);\n\n      const datasets = data[params.selected].units.map((unit, idx) => ({\n        label: unit.name,\n        data: unit.utilization,\n        maxBarThickness: 80,\n        backgroundColor: chartColors[idx],\n      }));\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     backgroundColor: '#000',\n          //     padding: 1,\n          //     borderRadius: 3,\n          //     formatter: (value, context) => `${Math.round(value)}%`,\n          //   }\n          // },\n          tooltips: {\n            mode: 'index',\n            intersect: true,\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem) => {\n                const { name, utilization, usage, expected } = data[params.selected].units[tooltipItem.datasetIndex];\n                const idx = tooltipItem.index;\n                return `${name}: ${utilization[idx]}% (${usage[idx]} of ${expected[idx]} hr)`;\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: params.wide ? 'right' : 'bottom' },\n          scales: {\n            yAxes: [{\n              ticks: {\n                min: 0,\n                max: 100,\n                callback: value => `${value}%`,\n              },\n            }],\n          },\n        },\n      };\n\n      return chart;\n    };\n  });\n","import reportHelper from 'shared/reports/services/report-helper.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsReservationSpaceUtilizationChart', [\n  reportHelper.name,\n  chartColors.name,\n])\n\n  .factory('analyticsReservationSpaceUtilizationChart', ($filter, $translate, $rootScope, chartColors, reportHelper) => {\n    return ({ periods, data, params, onChartClick }) => {\n      // data = reportHelper.sort(data, 'utilization', true).slice(0, 12);\n\n      const labels = periods.map(period => period.title);\n\n      const datasets = data.map((category, idx) => ({\n        label: category.name,\n        data: category.utilization,\n        maxBarThickness: 80,\n        backgroundColor: chartColors[idx],\n      }));\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     backgroundColor: '#000',\n          //     padding: 1,\n          //     borderRadius: 3,\n          //     formatter: (value, context) => `${Math.round(value)}%`,\n          //   }\n          // },\n          tooltips: {\n            mode: 'index',\n            intersect: true,\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem) => {\n                const { name, utilization, usage, expected } = data[tooltipItem.datasetIndex];\n                const idx = tooltipItem.index;\n                return `${name}: ${utilization[idx]}% (${usage[idx]} of ${expected[idx]} hr)`;\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: params.wide ? 'right' : 'bottom' },\n          scales: {\n            yAxes: [{\n              ticks: {\n                min: 0,\n                max: 100,\n                callback: value => `${value}%`,\n              },\n            }],\n          },\n          onClick,\n        },\n      };\n\n      return chart;\n\n      function onClick(event, items) {\n        $rootScope.$apply(_ => {\n          const el = this.getElementAtEvent(event)[0];\n          if (!el) return;\n          onChartClick(el._datasetIndex);\n        });\n      }\n    };\n  });\n","import template from './analytics-reservation-space-utilization.tpl.html';\nimport chartDirective from 'shared/charts/chart.directive';\nimport reportHelper from 'shared/reports/services/report-helper.service';\nimport AnalyticsReservationSpaceUtilization from './analytics-reservation-space-utilization.service';\nimport optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\nimport analyticsReservationSpaceUtilizationChart from './analytics-reservation-space-utilization-chart.service';\nimport analyticsReservationSpaceUtilizationChartUnits from './analytics-reservation-space-utilization-chart-units.service';\nimport chartPeriodDirective from 'shared/charts/chart-period.directive';\nimport chartByPeriodDirective from 'shared/charts/chart-by-period.directive';\n\nexport default angular.module('deskworks.analyticsReservationSpaceUtilizationDirective', [\n  'debounce',\n  chartDirective.name,\n  reportHelper.name,\n  optsChartByPeriod.name,\n  optsChartPeriod.name,\n  AnalyticsReservationSpaceUtilization.name,\n  analyticsReservationSpaceUtilizationChart.name,\n  analyticsReservationSpaceUtilizationChartUnits.name,\n  chartPeriodDirective.name,\n  chartByPeriodDirective.name,\n])\n\n  .directive('analyticsReservationSpaceUtilization', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsReservationSpaceUtilizationDirectiveCtrl as $ctrl',\n      bindToController: {\n        params: '<',\n        centerId: '<',\n      },\n    };\n  })\n\n  .controller('AnalyticsReservationSpaceUtilizationDirectiveCtrl', function(\n    $scope, $q, state, dwAlerts, helper, debounce, reportHelper, AnalyticsReservationSpaceUtilization,\n    analyticsReservationSpaceUtilizationChart, analyticsReservationSpaceUtilizationChartUnits, optsChartByPeriod, optsChartPeriod) {\n    const $ctrl = this;\n\n    const { paramsChanged } = reportHelper;\n    $ctrl.optsByPeriod = optsChartByPeriod;\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $ctrl.data = null;\n\n    $ctrl.$onInit = () => {\n      watchParams();\n    };\n\n    function watchParams() {\n      $scope.$watch(() => ({ ...$ctrl.params, centerId: $ctrl.centerId }), debounce((np, op) => {\n        $ctrl.params.period = $ctrl.params.period || '12months';\n        $ctrl.params.byPeriod = $ctrl.params.byPeriod || 'quarter';\n\n        if ($ctrl.widgetToolbarForm.$invalid) { return; }\n\n        if (paramsChanged(np, op, ['byPeriod', 'from', 'to', 'centerId'])) {\n          $ctrl.data = null;\n          $ctrl.params.selected = null;\n        }\n\n        $ctrl.data = $ctrl.data || ($ctrl.spin = true, AnalyticsReservationSpaceUtilization.get({ ...$ctrl.params, centerId: $ctrl.centerId })\n          .catch(err => dwAlerts.error(err, 'Failed to query Reservation Space Utilization widget data.'))\n          .finally(() => { $ctrl.spin = false; }));\n\n        $q.all({\n          data: $ctrl.data,\n        })\n          .then(result => {\n            $ctrl.data = result.data;\n          })\n          .then(() => {\n            if ($ctrl.params.selected !== null) {\n              $ctrl.chart = analyticsReservationSpaceUtilizationChartUnits({ ...$ctrl.data, params: $ctrl.params });\n            } else {\n              $ctrl.chart = analyticsReservationSpaceUtilizationChart({ ...$ctrl.data, params: $ctrl.params, onChartClick });\n            }\n          });\n\n      }, 100), true);\n    }\n\n    function onChartClick(index) {\n      $ctrl.params.selected = index;\n    }\n  });\n","import optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.AnalyticsReservationSpaceUtilization', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n  optsChartByPeriod.name,\n])\n  .factory('AnalyticsReservationSpaceUtilization', function($resource, $filter, $timeout, datesDeserializer,\n                                                            deskworksConfig, helper, optsChartByPeriod) {\n    const desDates = datesDeserializer(['periods.from', 'periods.to']);\n\n    const url = deskworksConfig.getApiAbsUrl('/analytics/reservation-space-utilization');\n\n    const res = $resource(url, { byPeriod: '@byPeriod', from: '@from', to: '@to' }, {\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      get: params => res.get({\n        centerId: params.centerId || null,\n        byPeriod: params.byPeriod || 'quarter',\n        from: $filter('date')(params.from, 'yyyy-MM-dd'),\n        to: $filter('date')(params.to, 'yyyy-MM-dd'),\n      }).$promise\n        .then(data => deserialize({ data, params })),\n    };\n\n    function deserialize({ data, params }) {\n      const { byPeriod = 'month' } = params;\n      const periodConfig = optsChartByPeriod.find(i => i.id === byPeriod);\n\n      data.periods.forEach(period => {\n        period.title = periodConfig.format(period.from, period.to);\n      });\n\n      data.data.forEach(cat => {\n        cat.units.forEach(unit => {\n          unit.utilization = unit.usage.map((u, i) => unit.expected[i] ? helper.round(u * 100 / unit.expected[i], 1) : 0);\n        });\n        cat.utilization = cat.usage.map((u, i) => cat.expected[i] ? helper.round(u * 100 / cat.expected[i], 1) : 0);\n      });\n\n      return data;\n    }\n\n  });\n","// Module\nvar code = \"<div> <ng-form name=\\\"$ctrl.widgetToolbarForm\\\" class=\\\"ff-grid\\\"> <chart-by-period flex=\\\"none\\\" period=\\\"$ctrl.params.byPeriod\\\"></chart-by-period> <ff-static flex=\\\"auto\\\"> <ff-hint ng-if=\\\"$ctrl.params.selected === null\\\"><span translate=\\\"ANALYTICS.WIDGET.OCCUPANCY_VACANCY.HINT\\\"></span></ff-hint> <ff-btn sense=\\\"back\\\" size=\\\"sm\\\" ng-if=\\\"$ctrl.params.selected !== null\\\" ff-click=\\\"$ctrl.params.selected = null\\\"> <span translate=\\\"GLOBAL.BTN_BACK\\\"></span> </ff-btn> </ff-static> <chart-period flex=\\\"0 1 auto\\\" period=\\\"$ctrl.params.period\\\" from=\\\"$ctrl.params.from\\\" to=\\\"$ctrl.params.to\\\"></chart-period> </ng-form> <chart config=\\\"$ctrl.chart\\\" ff-dim=\\\"$ctrl.spin\\\"></chart> </div> \";\n// Exports\nmodule.exports = code;","import reportHelper from 'shared/reports/services/report-helper.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsSalesByProductCategoryChart', [\n  reportHelper.name,\n])\n\n  .factory('analyticsSalesByProductCategoryChart', ($filter, $rootScope, reportHelper) => {\n    return ({ data, onChartClick, params }) => {\n      const labels = data.map(i => i.name);\n      const datasets = [{\n        data: data.map(i => i.totalPercentage),\n      }];\n\n      const chart = {\n        type: 'pie',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     textStrokeColor: '#000',\n          //     textStrokeWidth: 2,\n          //     formatter: (value, context) => {\n          //       const { name, totalPercentage } = data[context.dataIndex];\n          //       return `${name}\\n${totalPercentage}%`;\n          //     },\n          //   }\n          // },\n          tooltips: {\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem) => {\n                const { name, totalPercentage, total } = data[tooltipItem.index];\n                return `${name}: ${totalPercentage}% (${$filter('ncurrency')(total)})`;\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: 'right' },\n          onClick,\n        },\n      };\n\n      return chart;\n\n      function onClick(event, items) {\n        $rootScope.$apply(_ => {\n          const idx = items[0] && items[0]._index;\n          if (!angular.isNumber(idx)) return;\n          onChartClick(idx);\n        });\n      }\n    };\n  });\n","import ChartDataLabels from 'chartjs-plugin-datalabels';\nimport chartColors from 'shared/charts/chart-colors.service';\n\nexport default angular.module('deskworks.analyticsSalesByProductCategoryDetailedChart', [\n  chartColors.name,\n])\n\n  .factory('analyticsSalesByProductCategoryDetailedChart', ($filter, chartColors) => {\n    return ({ periods, data, params }) => {\n      data = data[params.selected];\n      const labels = periods.map(period => period.title);\n      const datasets = [{\n        data: data.totals,\n        maxBarThickness: 80,\n        backgroundColor: chartColors[params.selected],\n      }];\n\n      const { min, max } = data.totals.reduce((res, t) => {\n        if (t < res.min) { res.min = t; }\n        if (t > res.max) { res.max = t; }\n        return res;\n      }, { min: 0, max: 0 });\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     textStrokeColor: '#000',\n          //     textStrokeWidth: 2,\n          //     formatter: (value, context) => $filter('ncurrency')(value, undefined, 0),\n          //   }\n          // },\n          tooltips: {\n            callbacks: {\n              label: (tooltipItem) => {\n                const { name, totals } = data;\n                return `${name}: ${$filter('ncurrency')(totals[tooltipItem.index])}`;\n              },\n            },\n          },\n          legend: { display: false },\n          scales: {\n            yAxes: [{\n              ticks: {\n                min,\n                max,\n                callback: value => $filter('ncurrency')(value, undefined, 0),\n              },\n            }],\n          },\n        },\n      };\n\n      return chart;\n    };\n  });\n","import template from './analytics-sales-by-product-category.tpl.html';\nimport chartDirective from 'shared/charts/chart.directive';\nimport reportHelper from 'shared/reports/services/report-helper.service';\nimport AnalyticsSalesByProductCategory from './analytics-sales-by-product-category.service';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\nimport analyticsSalesByProductCategoryChart from './analytics-sales-by-product-category-chart.service';\nimport analyticsSalesByProductCategoryDetailedChart from './analytics-sales-by-product-category-detailed-chart.service';\nimport chartPeriodDirective from 'shared/charts/chart-period.directive';\nimport chartByPeriodDirective from 'shared/charts/chart-by-period.directive';\n\nexport default angular.module('deskworks.analyticsSalesByProductCategoryDirective', [\n  'debounce',\n  'deskworks.setup.service',\n  chartDirective.name,\n  reportHelper.name,\n  AnalyticsSalesByProductCategory.name,\n  optsChartPeriod.name,\n  analyticsSalesByProductCategoryChart.name,\n  analyticsSalesByProductCategoryDetailedChart.name,\n  chartPeriodDirective.name,\n  chartByPeriodDirective.name,\n])\n\n  .directive('analyticsSalesByProductCategory', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsSalesByProductCategoryDirectiveCtrl as $ctrl',\n      bindToController: {\n        params: '<',\n        centerId: '<',\n      },\n    };\n  })\n\n  .controller('AnalyticsSalesByProductCategoryDirectiveCtrl', function($scope, $q, state, dwAlerts, helper, debounce,\n                                                                       reportHelper, AnalyticsSalesByProductCategory,\n                                                                       analyticsSalesByProductCategoryChart,\n                                                                       analyticsSalesByProductCategoryDetailedChart,\n                                                                       optsChartPeriod) {\n    const $ctrl = this;\n\n    const { paramsChanged } = reportHelper;\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $ctrl.data = null;\n    $ctrl.chartLevels = [];\n\n    $ctrl.$onInit = () => {\n      watchParams();\n    };\n\n    function watchParams() {\n      $scope.$watch(() => ({ ...$ctrl.params, centerId: $ctrl.centerId }), debounce((np, op) => {\n        $ctrl.params.period = $ctrl.params.period || 'lastMonth';\n        $ctrl.params.byPeriod = $ctrl.params.byPeriod || 'month';\n\n        if ($ctrl.widgetToolbarForm.$invalid) { return; }\n\n        if (paramsChanged(np, op, ['from', 'to', 'centerId'])) {\n          $ctrl.data = null;\n          $ctrl.params.selected = null;\n        }\n\n        $ctrl.data = $ctrl.data || ($ctrl.spin = true, AnalyticsSalesByProductCategory.get({ ...$ctrl.params, centerId: $ctrl.centerId })\n          .catch(err => dwAlerts.error(err, 'Failed to get Sales By Product Category widget data.')))\n          .finally(() => { $ctrl.spin = false; });\n\n        $q.all({\n          data: $ctrl.data,\n        })\n          .then(result => {\n            $ctrl.data = result.data;\n          })\n          .then(() => {\n            if ($ctrl.params.selected !== null) {\n              $ctrl.chart = analyticsSalesByProductCategoryDetailedChart({ ...$ctrl.data, params: $ctrl.params });\n            } else {\n              $ctrl.chart = analyticsSalesByProductCategoryChart({ ...$ctrl.data, params: $ctrl.params, onChartClick });\n            }\n          });\n\n      }, 100), true);\n    }\n\n    function onChartClick(index) {\n      $ctrl.params.selected = index;\n    }\n\n  });\n","import optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.AnalyticsSalesByProductCategory', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n  optsChartByPeriod.name,\n])\n  .factory('AnalyticsSalesByProductCategory', function($resource, $filter, $timeout, datesDeserializer, deskworksConfig,\n                                                       helper, optsChartByPeriod) {\n    const desDates = datesDeserializer(['periods.from', 'periods.to']);\n\n    const url = deskworksConfig.getApiAbsUrl('/analytics/sales-by-product-category');\n\n    const res = $resource(url, { byPeriod: '@byPeriod', from: '@from', to: '@to' }, {\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      get: params => res.get({\n        centerId: params.centerId || null,\n        byPeriod: params.byPeriod || 'month',\n        from: $filter('date')(params.from, 'yyyy-MM-dd'),\n        to: $filter('date')(params.to, 'yyyy-MM-dd'),\n      }).$promise\n        .then(data => deserialize({ data, params })),\n    };\n\n    function deserialize({ data, params }) {\n      const { byPeriod = 'month' } = params;\n      const periodConfig = optsChartByPeriod.find(i => i.id === byPeriod);\n\n      data.periods.forEach(period => {\n        period.title = periodConfig.format(period.from, period.to);\n      });\n\n      data.grandTotal = 0;\n      data.data.forEach(i => {\n        i.total = i.totals.reduce((sum, t) => sum + t, 0);\n        data.grandTotal += i.total;\n      });\n      data.data.forEach(i => {\n        i.totalPercentage = data.grandTotal ? helper.round(i.total * 100 / data.grandTotal, 1) : 0;\n        i.total = helper.round(i.total);\n      });\n      return data;\n    }\n\n  });\n","// Module\nvar code = \"<div ng-class=\\\"{ 'empty-chart': $ctrl.data.data.length === 0 || $ctrl.data.grandTotal === 0 }\\\"> <ng-form name=\\\"$ctrl.widgetToolbarForm\\\" class=\\\"ff-grid\\\"> <ff-static flex=\\\"auto\\\"> <ff-hint ng-if=\\\"$ctrl.params.selected === null\\\"><span translate=\\\"ANALYTICS.WIDGET.SALES_BY_PRODUCT_CATEGORY.HINT\\\"></span></ff-hint> <ff-btn sense=\\\"back\\\" size=\\\"sm\\\" ng-if=\\\"$ctrl.params.selected !== null\\\" ff-click=\\\"$ctrl.params.selected = null\\\"> <span translate=\\\"GLOBAL.BTN_BACK\\\"></span> </ff-btn> </ff-static> <chart-period flex=\\\"0 1 auto\\\" period=\\\"$ctrl.params.period\\\" from=\\\"$ctrl.params.from\\\" to=\\\"$ctrl.params.to\\\"></chart-period> </ng-form> <chart config=\\\"$ctrl.chart\\\" ff-dim=\\\"$ctrl.spin\\\"></chart> </div> \";\n// Exports\nmodule.exports = code;","import reportHelper from 'shared/reports/services/report-helper.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nexport default angular.module('deskworks.analyticsSalesChart', [\n  reportHelper.name,\n  chartColors.name,\n])\n\n  .factory('analyticsSalesChart', ($filter, $translate, chartColors) => {\n    return ({ periods, data, totals, params }) => {\n\n      const labels = periods.map(period => period.title);\n      const datasets = data\n        .map((type, idx) => ({\n          label: type.name,\n          data: type.totals,\n          backgroundColor: chartColors[idx],\n          maxBarThickness: 80,\n        }))\n        .concat([{\n          label: $translate.instant('GLOBAL.TOTAL'),\n          data: totals.map(_ => 0),\n          backgroundColor: 'transparent',\n          maxBarThickness: 80,\n          // datalabels: {\n          //   display: true,\n          //   align: 'end',\n          //   offset: -3,\n          //   color: '#fff',\n          //   backgroundColor: '#000',\n          //   padding: 1,\n          //   borderRadius: 3,\n          //   font: { weight: 'bold' },\n          // },\n        }]);\n\n      const chart = {\n        type: 'bar',\n        // plugins: [ChartDataLabels],\n        data: {\n          labels,\n          datasets,\n        },\n        options: {\n          // plugins: {\n          //   datalabels: {\n          //     display: 'auto',\n          //     color: '#fff',\n          //     backgroundColor: '#000',\n          //     padding: 1,\n          //     borderRadius: 3,\n          //     formatter: (value, context) => $filter('ncurrency')(context.datasetIndex < datasets.length - 1 ? value : totals[context.dataIndex], undefined, 0),\n          //   }\n          // },\n          tooltips: {\n            mode: 'index',\n            intersect: true,\n            displayColors: true,\n            callbacks: {\n              label: (tooltipItem, data) => {\n                const dataset = data.datasets[tooltipItem.datasetIndex];\n                return dataset.label + ': ' + $filter('ncurrency')(tooltipItem.datasetIndex < datasets.length - 1 ? dataset.data[tooltipItem.index] : totals[tooltipItem.index]);\n              },\n            },\n          },\n          layout: { padding: { top: 15 } },\n          legend: { display: true, position: params.wide ? 'right' : 'bottom' },\n          scales: {\n            xAxes: [{ stacked: true }],\n            yAxes: [{\n              stacked: true,\n              ticks: {\n                // min: 0,\n                callback: value => $filter('ncurrency')(value, undefined, 0),\n              },\n            }],\n          },\n        },\n      };\n\n      return chart;\n    };\n  });\n","import template from '../analytics-widget-base.tpl.html';\nimport chartDirective from 'shared/charts/chart.directive';\nimport reportHelper from 'shared/reports/services/report-helper.service';\nimport AnalyticsSales from './analytics-sales.service';\nimport optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\nimport analyticsSalesChart from './analytics-sales-chart.service';\nimport chartPeriodDirective from 'shared/charts/chart-period.directive';\nimport chartByPeriodDirective from 'shared/charts/chart-by-period.directive';\n\nexport default angular.module('deskworks.analyticsSalesDirective', [\n  'debounce',\n  chartDirective.name,\n  reportHelper.name,\n  AnalyticsSales.name,\n  optsChartByPeriod.name,\n  optsChartPeriod.name,\n  analyticsSalesChart.name,\n  chartPeriodDirective.name,\n  chartByPeriodDirective.name,\n])\n\n  .directive('analyticsSales', function() {\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'AnalyticsSalesDirectiveCtrl as $ctrl',\n      bindToController: {\n        params: '<',\n        centerId: '<',\n      },\n    };\n  })\n\n  .controller('AnalyticsSalesDirectiveCtrl', function($scope, $q, state, dwAlerts,\n                                                      helper, debounce, reportHelper, AnalyticsSales,\n                                                      analyticsSalesChart, optsChartByPeriod, optsChartPeriod) {\n    const $ctrl = this;\n\n    const { paramsChanged } = reportHelper;\n    $ctrl.optsByPeriod = optsChartByPeriod;\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $ctrl.data = null;\n\n    $ctrl.$onInit = () => {\n      watchParams();\n    };\n\n    function watchParams() {\n      $scope.$watch(() => ({ ...$ctrl.params, centerId: $ctrl.centerId }), debounce((np, op) => {\n        $ctrl.params.period = $ctrl.params.period || '12months';\n        $ctrl.params.byPeriod = $ctrl.params.byPeriod || 'month';\n\n        if ($ctrl.widgetToolbarForm.$invalid) { return; }\n\n        if (paramsChanged(np, op, ['centerId', 'from', 'to', 'byPeriod'])) {\n          $ctrl.data = null;\n        }\n\n        $ctrl.data = $ctrl.data || ($ctrl.spin = true, AnalyticsSales.get(np)\n          .catch(err => dwAlerts.error(err, 'Failed to get Sales widget data.'))\n          .finally(() => { $ctrl.spin = false; }));\n\n        $q.all({\n          data: $ctrl.data,\n        })\n          .then(result => {\n            $ctrl.data = result.data;\n          })\n          .then(() => {\n            $ctrl.chart = analyticsSalesChart({ ...$ctrl.data, params: $ctrl.params });\n          });\n\n      }, 100), true);\n    }\n\n  });\n","import optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.AnalyticsSales', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n  optsChartByPeriod.name,\n])\n  .factory('AnalyticsSales', function($resource, $filter, $timeout, datesDeserializer,\n                                            deskworksConfig, helper, optsChartByPeriod) {\n    const desDates = datesDeserializer(['periods.from', 'periods.to']);\n\n    const url = deskworksConfig.getApiAbsUrl('/analytics/sales');\n\n    const res = $resource(url, { byPeriod: '@byPeriod', from: '@from', to: '@to' }, {\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      get: params => res.get({\n        centerId: params.centerId || null,\n        byPeriod: params.byPeriod || 'month',\n        from: $filter('date')(params.from, 'yyyy-MM-dd'),\n        to: $filter('date')(params.to, 'yyyy-MM-dd'),\n      }).$promise\n        .then(data => deserialize({ data, params })),\n    };\n\n    function deserialize({ data, params }) {\n      const { byPeriod = 'month' } = params;\n      const periodConfig = optsChartByPeriod.find(i => i.id === byPeriod);\n\n      data.periods.forEach(period => {\n        period.title = periodConfig.format(period.from, period.to);\n      });\n\n      data.totals = data.periods.map((p, idx) => helper.round(data.data.reduce((sum, i) => sum + i.totals[idx], 0)));\n\n      data.data.forEach(type => {\n        type.total = helper.round(type.totals.reduce((sum, i) => sum + i, 0));\n      });\n\n      return data;\n    }\n\n  });\n","import template from './chart-by-period.tpl.html';\nimport optsChartByPeriod from 'shared/charts/opts-chart-by-period.service';\n\nexport default angular.module('deskworks.chartByPeriodDirective', [\n  optsChartByPeriod.name,\n])\n\n  .directive('chartByPeriod', function() {\n\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'ChartByPeriodCtrl as $ctrl',\n      bindToController: {\n        period: '=',\n      },\n    };\n  })\n\n  .controller('ChartByPeriodCtrl', function($scope, optsChartByPeriod) {\n    const $ctrl = this;\n\n    $ctrl.optsPeriod = optsChartByPeriod;\n  });\n","// Module\nvar code = \"<label class=\\\"ff-row\\\" style=\\\"min-width:130px\\\"> <ff-label flex=\\\"none\\\"><span translate=\\\"CHARTS.BY_PERIOD\\\"></span></ff-label> <ff-select ff-model=\\\"$ctrl.period\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.optsPeriod\\\"></ff-select> </label> \";\n// Exports\nmodule.exports = code;","export default angular.module('chartColors', [])\n\n  .factory('chartColors', function() {\n    return [\n      '#317da3', '#e6194b', '#3cb44b', '#ffe119', '#f58231', '#911eb4', '#aa6e28', '#008080', '#808080', '#800000',\n      '#3244a1', '#e64c19', '#3db372', '#d1ff1a', '#f5c131', '#b31e81', '#a89728', '#005580', '#806659', '#804000',\n    ];\n  });\n","import template from './chart-period.tpl.html';\nimport './chart-period.scss';\nimport optsChartPeriod from 'shared/charts/opts-chart-period.service';\n\nexport default angular.module('deskworks.chartPeriodDirective', [\n  optsChartPeriod.name,\n])\n\n  .directive('chartPeriod', function() {\n\n    return {\n      template,\n      restrict: 'E',\n      scope: true,\n      controller: 'ChartPeriodCtrl as $ctrl',\n      bindToController: {\n        period: '=',\n        from: '=',\n        to: '=',\n      },\n    };\n  })\n\n  .controller('ChartPeriodCtrl', function($scope, optsChartPeriod) {\n    const $ctrl = this;\n\n    $ctrl.optsPeriod = optsChartPeriod;\n\n    $scope.$watchGroup(['$ctrl.period', '$ctrl.from', '$ctrl.to'], (nv, ov) => {\n      if ($ctrl.period === 'custom' && $ctrl.to) $ctrl.to.endOf('month');\n\n      if (nv[0] === ov[0] && (!$ctrl.period || $ctrl.from || $ctrl.to)) return;\n\n      const period = optsChartPeriod.find(i => i.id === $ctrl.period);\n      $ctrl.from = period.from();\n      $ctrl.to = period.to();\n    });\n\n  });\n","// extracted by extract-css-chunks-webpack-plugin","// Module\nvar code = \"<label class=\\\"ff-row\\\" style=\\\"min-width:190px\\\"> <ff-label flex=\\\"none\\\"><span translate=\\\"CHARTS.PERIOD\\\"></span></ff-label> <ff-select ff-model=\\\"$ctrl.period\\\" ff-options=\\\"opt.id as opt.name for opt in $ctrl.optsPeriod\\\"></ff-select> </label> <ff-row style=\\\"z-index:1;margin-left:-108px\\\" ng-style=\\\"{ 'min-width': $ctrl.period === 'custom' ? '300px' : 'none' }\\\"> <label class=\\\"ff-row\\\" flex=\\\"0 1 158px\\\" ng-if=\\\"$ctrl.period === 'custom'\\\"> <ff-label flex=\\\"none\\\"><span translate=\\\"CHARTS.FROM\\\"></span></ff-label> <ff-date name=\\\"from\\\" ff-model=\\\"$ctrl.from\\\" monthly=\\\"true\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'CHARTS.FROM' | translate}}\\\"></ff-date> </label> <label class=\\\"ff-row\\\" flex=\\\"0 1 140px\\\" ng-if=\\\"$ctrl.period === 'custom'\\\"> <ff-label flex=\\\"none\\\"><span translate=\\\"CHARTS.TO\\\"></span></ff-label> <ff-date name=\\\"to\\\" ff-model=\\\"$ctrl.to\\\" monthly=\\\"true\\\" ff-required=\\\"true\\\" ff-validate-alert=\\\"{{'CHARTS.TO' | translate}}\\\"></ff-date> </label> </ff-row> \";\n// Exports\nmodule.exports = code;","import 'chart.js';\nimport './chart.scss';\nimport systemColors from 'shared/charts/system-colors.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\n/**\n * Chart directive - wrapper for chart.js\n */\nexport default angular.module('chartDirective', [\n  'deskworks.helper',\n  systemColors.name,\n  chartColors.name,\n])\n\n  .directive('chart', function($window, systemColors) {\n    $window.Chart.defaults.global.legend.labels.boxWidth = 12;\n    $window.Chart.defaults.global.tooltips.cornerRadius = 3;\n    $window.Chart.defaults.global.tooltips.displayColors = false;\n    $window.Chart.defaults.global.tooltips.backgroundColor = 'rgba(0,0,0,0.65)';\n    $window.Chart.defaults.global.elements.rectangle.borderWidth = 1;\n    $window.Chart.defaults.global.elements.rectangle.backgroundColor = systemColors.primary;\n    $window.Chart.defaults.global.elements.arc.borderWidth = 1;\n\n    $window.Chart.plugins.unregister(ChartDataLabels);\n\n    return {\n      restrict: 'E',\n      scope: true,\n      controller: 'ChartCtrl as $ctrl',\n      bindToController: {\n        type: '@chartType',\n        labels: '<chartLabels',\n        data: '<chartData',\n        options: '<chartOptions',\n        config: '<',\n      },\n      template: '<canvas></canvas>',\n    };\n  })\n\n  .controller('ChartCtrl', function($scope, $element, $window, chartColors) {\n    const $ctrl = this;\n\n    let chart;\n\n    const chartOptions = { maintainAspectRatio: false };\n\n    const defaults = {\n      backgroundColor: chartColors,\n      hoverBorderWidth: 2,\n      hoverBorderColor: '#fff',\n    };\n\n    /**\n     * $onInit\n     */\n    // $ctrl.$onInit = function() {\n    // };\n\n    /**\n     * $onDestroy\n     */\n    $ctrl.$onDestroy = function() {\n      if (chart) chart.destroy();\n    };\n\n    /**\n     * $onChanges\n     */\n    $ctrl.$onChanges = function(changes) {\n      // NEW APPROACH\n      if ($ctrl.config) {\n        if (chart) chart.destroy();\n        const config = { ...$ctrl.config };\n        config.options = { ...config.options, ...chartOptions };\n        config.data = { ...config.data };\n        config.data.datasets = config.data.datasets.map(ds => ({ ...defaults, ...ds }));\n        chart = new $window.Chart($element.children(), config);\n        return;\n      }\n\n      // OLD APPROACH\n      if (!$ctrl.options) return;\n\n      const chartData = {\n        labels: $ctrl.labels,\n        datasets: $ctrl.data.slice(),\n      };\n      chartData.datasets[0] = angular.extend({}, defaults, chartData.datasets[0]);\n\n      if (chart && (!changes.type || changes.type.currentValue === changes.type.previousValue)) {\n        angular.extend(chart.data, chartData);\n        angular.extend(chart.options, chartOptions, $ctrl.options);\n        chart.update();\n      } else {\n        if (chart) chart.destroy();\n        chart = new $window.Chart($element.children(), {\n          type: $ctrl.type,\n          data: chartData,\n          options: angular.extend({}, chartOptions, $ctrl.options),\n        });\n      }\n    };\n\n  });\n","// extracted by extract-css-chunks-webpack-plugin","/**\n * Options for Chart / Group By Period\n */\nexport default angular.module('deskworks.optsChartByPeriod', [])\n\n  .factory('optsChartByPeriod', ($rootScope, $translate, $filter) => {\n    const df = $filter('date');\n\n    const opts = [\n      { id: 'week', _name: 'CHARTS.BY_PERIOD.WEEK', format: (from, to) => df(from, 'MMM d') + ' - ' + df(to, 'MMM d') },\n      { id: 'month', _name: 'CHARTS.BY_PERIOD.MONTH', format: (from, to) => df(from, 'MMM')},\n      { id: 'quarter', _name: 'CHARTS.BY_PERIOD.QUARTER', format: (from, to) => df(from, 'MMM') + ' - ' + df(to, 'MMM') },\n      { id: 'year', _name: 'CHARTS.BY_PERIOD.YEAR', format: (from, to) => df(from, 'yyyy') },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","export default angular.module('deskworks.optsChartPeriod', [])\n\n  .factory('optsChartPeriod', function($rootScope, $translate) {\n    const opts = [\n      {\n        id: 'lastMonth', _name: 'CHARTS.PERIOD.LAST_MONTH',\n        from: () => moment().subtract(1, 'month').startOf('month'), to: () => moment().subtract(1, 'month').endOf('month'),\n      },\n      {\n        id: 'thisMonth', _name: 'CHARTS.PERIOD.THIS_MONTH',\n        from: () => moment().startOf('month'), to: () => moment().endOf('month'),\n      },\n      {\n        id: 'lastQuarter', _name: 'CHARTS.PERIOD.LAST_QUARTER',\n        from: () => moment().subtract(1, 'quarter').startOf('quarter'), to: () => moment().subtract(1, 'quarter').endOf('quarter'),\n      },\n      {\n        id: 'thisQuarter', _name: 'CHARTS.PERIOD.THIS_QUARTER',\n        from: () => moment().startOf('quarter'), to: () => moment().endOf('quarter'),\n      },\n      {\n        id: '12months', _name: 'CHARTS.PERIOD.12_MONTHS',\n        from: () => moment().subtract(12, 'month'), to: () => moment(),\n      },\n      {\n        id: 'lastYear', _name: 'CHARTS.PERIOD.LAST_YEAR',\n        from: () => moment().subtract(1, 'year').startOf('year'), to: () => moment().subtract(1, 'year').endOf('year'),\n      },\n      {\n        id: 'thisYear', _name: 'CHARTS.PERIOD.THIS_YEAR',\n        from: () => moment().startOf('year'), to: () => moment().endOf('year'),\n      },\n      {\n        id: 'allTime', _name: 'CHARTS.PERIOD.ALL_TIME',\n        from: () => null, to: () => null,\n      },\n      {\n        id: 'custom', _name: 'CHARTS.PERIOD.CUSTOM',\n        from: () => moment().subtract(1, 'month').startOf('month'), to: () => moment().subtract(1, 'month').endOf('month'),\n      },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * systemColors service - sniffs and keeps system colors for using in JS\n */\nexport default angular.module('systemColors', [\n  'deskworks.helper',\n])\n  .factory('systemColors', function($window, helper) {\n\n    const colors = {};\n\n    const picker = angular.element('<div style=\"display: none\"></div>');\n    picker.append('<div class=\"text-text\"></div>');\n    picker.append('<div class=\"text-brand\"></div>');\n    picker.append('<div class=\"text-brand\"></div>');\n    picker.append('<div class=\"text-danger\"></div>');\n\n    picker.append('<div></div>');\n    picker.append('<div class=\"sidebar-group-header\"></div>');\n\n    document.body.appendChild(picker[0]);\n\n    colors.text = helper.rgb2hex($window.getComputedStyle(picker.children()[0]).getPropertyValue('color')) || '#444';\n    colors.info = helper.rgb2hex($window.getComputedStyle(picker.children()[4]).getPropertyValue('color')) || '#4d4e4c';\n    colors.primary = helper.rgb2hex($window.getComputedStyle(picker.children()[5]).getPropertyValue('background-color')) || '#949594';\n    colors.warning = helper.rgb2hex($window.getComputedStyle(picker.children()[3]).getPropertyValue('color')) || '#ff9b00';\n\n    picker.remove();\n\n    return colors;\n  });\n","import 'angular-drag-and-drop-lists';\nimport './drag-n-drop.scss';\nimport keese from './keese.service';\n\n/**\n * Drag'n'Drop helper service\n */\nexport default angular.module('dnd', [\n  'dndLists',\n  keese.name,\n])\n\n  .factory('dnd', function(keese) {\n    return {\n      move: move,\n    };\n\n    /**\n     * Move item from srcList[srcIndex] to targetList[targetIndex], auto-generates new order. Returns moved item.\n     */\n    function move(srcList, srcIndex, targetList, targetIndex) {\n      const item = srcList[srcIndex];\n\n      if (targetList) targetList.splice(targetIndex, 0, item); // copy item from source to target\n      // remove source item, possibly correcting index. We must do this immediately, otherwise ng-repeat complains about duplicates\n      if (srcList === targetList && targetIndex <= srcIndex) srcIndex++;\n      srcList.splice(srcIndex, 1); // remove source item\n\n      if (targetList) {\n        const index = targetList.indexOf(item); // find new index of item\n        item.order = keese.generate(targetList[index - 1] && targetList[index - 1].order, targetList[index + 1] && targetList[index + 1].order);\n      }\n\n      return item;\n    }\n  });\n","// extracted by extract-css-chunks-webpack-plugin","/**\n * Sort keys generator. Based on node-keese v1.1.1: https://github.com/thejoshwolfe/node-keese\n */\nexport default angular.module('keese', [])\n  .factory('keese', function() {\n\n    const alphabet = \"0123456789?@ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n    const radix = alphabet.length;\n    const order_specifier = '~'; // bigger than any from the alphabet\n\n    /**\n     * Character to numerical value aka index of the character: \"0\": 0, \"z\": 63, etc.\n     */\n    const values = (function() {\n      const values = {};\n      for (let i = 0; i < alphabet.length; i++) values[alphabet[i]] = i;\n      return values;\n    })();\n\n    return {\n      /**\n       * Main exported function. Generates new sort key.\n       * @param low - previous sort key or null/undefined\n       * @param high - next sort key or null/undefined\n       * @param count - if defined - the result is an Array of size count values\n       * @returns {*} - single key or array of keys, depending on count\n       */\n      generate: function keese(low, high, count) {\n        if (count) {\n          return multi_keese(low, high, count);\n        } else {\n          return single_keese(low, high);\n        }\n      }\n    };\n\n    function single_keese(low, high) {\n      if (!low) {\n        if (!high) {\n          return '1'; // return anything above 0\n        } else {\n          return average('0', high); // go smaller\n        }\n      } else {\n        if (!high) {\n          return increment(low); // go bigger\n        } else {\n          return average(low, high); // go in between\n        }\n      }\n    }\n    function multi_keese(low, high, count) {\n      let result = new Array(count);\n      if (count > 0) {\n        if (!high) {\n          for (let i = 0; i < count; i++) { // just allocate straight forward\n            const value = keese(low, null);\n            result[i] = value;\n            low = value;\n          }\n        } else {\n          recurse(low, high, 0, count); // binary tree descent\n        }\n      }\n      return result;\n      function recurse(low_value, high_value, low_index, high_index) {\n        const mid_index = Math.floor((low_index + high_index) / 2);\n        const mid_value = single_keese(low_value, high_value);\n        result[mid_index] = mid_value;\n        if (low_index < mid_index) recurse(low_value, mid_value, low_index, mid_index);\n        if (mid_index + 1 < high_index) recurse(mid_value, high_value, mid_index + 1, high_index);\n      }\n    }\n\n    function increment(value) {\n      const n = parse(value);\n      n.digits = n.digits.substr(0, n.order_length + 1); // drop the fraction\n      return add(n, parse(\"1\"));\n    }\n\n    function average(low, high) {\n      if (low > high) {\n        throw new Error('assertion failed: ' + JSON.stringify(low) + \" < \" + JSON.stringify(high));\n      }\n      const a = parse(low);\n      const b = parse(high);\n      pad_to_equal_order(a, b);\n      let b_carry = 0;\n      const max_digit_length = Math.max(a.digits.length, b.digits.length);\n      for (let i = 0; i < max_digit_length || b_carry > 0; i++) {\n        const a_value =            values[a.digits[i]] || 0;\n        const b_value = b_carry + (values[b.digits[i]] || 0);\n        if (a_value === b_value) continue;\n        if (a_value === b_value - 1) {\n          b_carry = radix; // we need more digits, but remember that b is ahead\n          continue;\n        }\n        // we have a distance of at least 2 between the values.\n        // half the distance floored is sure to be a positive single digit.\n        let half_distance_value = Math.floor((b_value - a_value) / 2);\n        let half_distance_digits = '';\n        for (let j = 0; j < i; j++)\n          half_distance_digits += '0';\n        half_distance_digits += alphabet[half_distance_value];\n        const half_distance = parse(construct(a.order_length, half_distance_digits));\n        // truncate insignificant digits of a\n        a.digits = a.digits.substr(0, i + 1);\n        return add(a, half_distance);\n      }\n      throw new Error(); // unreachable\n    }\n\n    function add(a, b) {\n      pad_to_equal_order(a, b);\n      let result_digits = \"\";\n      let order_length = a.order_length;\n      let value = 0;\n      for (let i = Math.max(a.digits.length, b.digits.length) - 1; i >= 0; i--) {\n        value += values[a.digits[i]] || 0;\n        value += values[b.digits[i]] || 0;\n        result_digits = alphabet[value % radix] + result_digits;\n        value = Math.floor(value / radix);\n      }\n      // overflow up to moar digits\n      while (value > 0) {\n        result_digits = alphabet[value % radix] + result_digits;\n        value = Math.floor(value / radix);\n        order_length++;\n      }\n      return construct(order_length, result_digits);\n    }\n\n    function parse(value) {\n      const order_length = value.lastIndexOf(order_specifier) + 1;\n      return {\n        order_length: order_length,\n        digits: value.substr(order_length)\n      };\n    }\n    function construct(order_length, digits) {\n      while (order_length > 0 && digits.charAt(0) == '0') { // strip unnecessary leading zeros\n        digits = digits.substr(1);\n        order_length--;\n      }\n      let result = \"\";\n      for (let i = 0; i < order_length; i++)\n        result += order_specifier;\n      return result + digits;\n    }\n\n    function pad_to_equal_order(a, b) {\n      pad_in_place(a, b.order_length);\n      pad_in_place(b, a.order_length);\n    }\n    function pad_in_place(n, order_length) {\n      while (n.order_length < order_length) {\n        n.digits = \"0\" + n.digits;\n        n.order_length++;\n      }\n    }\n  });\n"],"sourceRoot":""}