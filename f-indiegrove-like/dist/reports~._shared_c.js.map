{"version":3,"sources":["webpack:///./shared/charts/chart-colors.service.js","webpack:///./shared/charts/chart.directive.js","webpack:///./shared/charts/chart.scss?761c","webpack:///./shared/charts/system-colors.service.js","webpack:///./shared/reports/api/income-by-item-report.service.js","webpack:///./shared/reports/directives/report-by-period/opts-report-by-period.service.js","webpack:///./shared/reports/directives/report-by-period/report-by-period.directive.js"],"names":["angular","module","factory","systemColors","name","chartColors","directive","$window","Chart","defaults","global","legend","labels","boxWidth","tooltips","cornerRadius","displayColors","backgroundColor","elements","rectangle","borderWidth","primary","arc","plugins","unregister","ChartDataLabels","restrict","scope","controller","bindToController","type","data","options","config","template","$scope","$element","$ctrl","chart","chartOptions","maintainAspectRatio","hoverBorderWidth","hoverBorderColor","$onDestroy","destroy","$onChanges","changes","datasets","ds","children","chartData","extend","currentValue","previousValue","update","helper","colors","picker","element","append","document","body","appendChild","text","rgb2hex","getComputedStyle","getPropertyValue","info","warning","remove","$resource","$filter","datesDeserializer","deskworksConfig","desDates","url","getApiAbsUrl","res","centerId","fromDate","toDate","query","method","isArray","transformResponse","fromJson","params","$promise","$rootScope","$translate","df","opts","id","_name","format","from","to","translate","$on","forEach","opt","instant","optsReportByPeriod","$compile","$templateCache","templateUrl","transclude","priority","model","link","$attrs","$transclude","clone","newScope","tpl","get","querySelector","after","$location","state","$onInit","optsPeriod","watchTimePeriod","$watch","search","byPeriod","val","replace"],"mappings":"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","file":"reports~._shared_c.js?_rev=f364024df9664685c546","sourcesContent":["export default angular.module('chartColors', [])\n\n  .factory('chartColors', function() {\n    return [\n      '#317da3', '#e6194b', '#3cb44b', '#ffe119', '#f58231', '#911eb4', '#aa6e28', '#008080', '#808080', '#800000',\n      '#3244a1', '#e64c19', '#3db372', '#d1ff1a', '#f5c131', '#b31e81', '#a89728', '#005580', '#806659', '#804000',\n    ];\n  });\n","import 'chart.js';\nimport './chart.scss';\nimport systemColors from 'shared/charts/system-colors.service';\nimport chartColors from 'shared/charts/chart-colors.service';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\n/**\n * Chart directive - wrapper for chart.js\n */\nexport default angular.module('chartDirective', [\n  'deskworks.helper',\n  systemColors.name,\n  chartColors.name,\n])\n\n  .directive('chart', function($window, systemColors) {\n    $window.Chart.defaults.global.legend.labels.boxWidth = 12;\n    $window.Chart.defaults.global.tooltips.cornerRadius = 3;\n    $window.Chart.defaults.global.tooltips.displayColors = false;\n    $window.Chart.defaults.global.tooltips.backgroundColor = 'rgba(0,0,0,0.65)';\n    $window.Chart.defaults.global.elements.rectangle.borderWidth = 1;\n    $window.Chart.defaults.global.elements.rectangle.backgroundColor = systemColors.primary;\n    $window.Chart.defaults.global.elements.arc.borderWidth = 1;\n\n    $window.Chart.plugins.unregister(ChartDataLabels);\n\n    return {\n      restrict: 'E',\n      scope: true,\n      controller: 'ChartCtrl as $ctrl',\n      bindToController: {\n        type: '@chartType',\n        labels: '<chartLabels',\n        data: '<chartData',\n        options: '<chartOptions',\n        config: '<',\n      },\n      template: '<canvas></canvas>',\n    };\n  })\n\n  .controller('ChartCtrl', function($scope, $element, $window, chartColors) {\n    const $ctrl = this;\n\n    let chart;\n\n    const chartOptions = { maintainAspectRatio: false };\n\n    const defaults = {\n      backgroundColor: chartColors,\n      hoverBorderWidth: 2,\n      hoverBorderColor: '#fff',\n    };\n\n    /**\n     * $onInit\n     */\n    // $ctrl.$onInit = function() {\n    // };\n\n    /**\n     * $onDestroy\n     */\n    $ctrl.$onDestroy = function() {\n      if (chart) chart.destroy();\n    };\n\n    /**\n     * $onChanges\n     */\n    $ctrl.$onChanges = function(changes) {\n      // NEW APPROACH\n      if ($ctrl.config) {\n        if (chart) chart.destroy();\n        const config = { ...$ctrl.config };\n        config.options = { ...config.options, ...chartOptions };\n        config.data = { ...config.data };\n        config.data.datasets = config.data.datasets.map(ds => ({ ...defaults, ...ds }));\n        chart = new $window.Chart($element.children(), config);\n        return;\n      }\n\n      // OLD APPROACH\n      if (!$ctrl.options) return;\n\n      const chartData = {\n        labels: $ctrl.labels,\n        datasets: $ctrl.data.slice(),\n      };\n      chartData.datasets[0] = angular.extend({}, defaults, chartData.datasets[0]);\n\n      if (chart && (!changes.type || changes.type.currentValue === changes.type.previousValue)) {\n        angular.extend(chart.data, chartData);\n        angular.extend(chart.options, chartOptions, $ctrl.options);\n        chart.update();\n      } else {\n        if (chart) chart.destroy();\n        chart = new $window.Chart($element.children(), {\n          type: $ctrl.type,\n          data: chartData,\n          options: angular.extend({}, chartOptions, $ctrl.options),\n        });\n      }\n    };\n\n  });\n","// extracted by extract-css-chunks-webpack-plugin","/**\n * systemColors service - sniffs and keeps system colors for using in JS\n */\nexport default angular.module('systemColors', [\n  'deskworks.helper',\n])\n  .factory('systemColors', function($window, helper) {\n\n    const colors = {};\n\n    const picker = angular.element('<div style=\"display: none\"></div>');\n    picker.append('<div class=\"text-text\"></div>');\n    picker.append('<div class=\"text-brand\"></div>');\n    picker.append('<div class=\"text-brand\"></div>');\n    picker.append('<div class=\"text-danger\"></div>');\n\n    picker.append('<div></div>');\n    picker.append('<div class=\"sidebar-group-header\"></div>');\n\n    document.body.appendChild(picker[0]);\n\n    colors.text = helper.rgb2hex($window.getComputedStyle(picker.children()[0]).getPropertyValue('color')) || '#444';\n    colors.info = helper.rgb2hex($window.getComputedStyle(picker.children()[4]).getPropertyValue('color')) || '#4d4e4c';\n    colors.primary = helper.rgb2hex($window.getComputedStyle(picker.children()[5]).getPropertyValue('background-color')) || '#949594';\n    colors.warning = helper.rgb2hex($window.getComputedStyle(picker.children()[3]).getPropertyValue('color')) || '#ff9b00';\n\n    picker.remove();\n\n    return colors;\n  });\n","/**\n * IncomeByItemReport service\n */\nexport default angular.module('deskworks.IncomeByItemReport', [\n  'ngResource',\n  'datesDeserializer',\n  'deskworks.config',\n])\n  .factory('IncomeByItemReport', function($resource, $filter, datesDeserializer, deskworksConfig) {\n    const desDates = datesDeserializer(['productCategories.products.date']);\n\n    const url = deskworksConfig.getApiAbsUrl('/centers/:centerId/income-by-item-reports');\n\n    const res = $resource(url, { centerId: '@centerId', fromDate: '@fromDate', toDate: '@toDate' }, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] }\n    });\n\n    return {\n      query: params => res.query({\n        centerId: params.centerId || 0,\n        fromDate: $filter('date')(params.fromDate, 'yyyy-MM-dd'),\n        toDate: $filter('date')(params.toDate, 'yyyy-MM-dd'),\n      }).$promise,\n    };\n\n  });\n","/**\n * Options for Report / Group By Period\n */\nexport default angular.module('deskworks.reports.optsReportByPeriod', [])\n\n  .factory('optsReportByPeriod', ($rootScope, $translate, $filter) => {\n    const df = $filter('date');\n\n    const opts = [\n      { id: 'week', _name: 'REPORTS.BY_PERIOD.WEEK', format: (from, to) => df(from, 'MMM d') + ' - ' + df(to, 'MMM d') },\n      { id: 'month', _name: 'REPORTS.BY_PERIOD.MONTH', format: (from, to) => df(from, 'MMM')},\n      { id: 'quarter', _name: 'REPORTS.BY_PERIOD.QUARTER', format: (from, to) => df(from, 'MMM') + ' - ' + df(to, 'MMM') },\n      { id: 'year', _name: 'REPORTS.BY_PERIOD.YEAR', format: (from, to) => df(from, 'yyyy') },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","import optsReportByPeriod from './opts-report-by-period.service';\n\n/**\n * reportOptions directive - wraps report options: center, paper size, paper layout\n */\nexport default angular.module('deskworks.reportByPeriodDirective', [\n  'deskworks.helper',\n  optsReportByPeriod.name,\n])\n\n  .directive('reportByPeriod', function($compile, $templateCache) {\n    const templateUrl = 'directives/report-by-period.tpl.html';\n\n    return {\n      restrict: 'EAC',\n      scope: true,\n      transclude: 'element',\n      priority: 2, // To be higher than ngModel directive with priority: 1\n      controller: 'ReportByPeriodCtrl as $ctrl',\n      bindToController: {\n        model: '=',\n        opts: '<',\n      },\n\n      link: ($scope, $element, $attrs, $ctrl, $transclude) => {\n        $transclude((clone, newScope) => {\n          const tpl = $compile($templateCache.get(templateUrl))($scope);\n          angular.element(tpl[0] && tpl[0].querySelector ? tpl[0].querySelector('.ff-panel-body') : tpl).append(clone); // append custom content before compilation\n          $element.after(tpl);\n        });\n      },\n    };\n  })\n\n  .controller('ReportByPeriodCtrl', function($scope, $location, $filter, $translate, state, helper, optsReportByPeriod) {\n    const $ctrl = this;\n\n\n    /**\n     * $onInit\n     */\n    $ctrl.$onInit = () => {\n      $ctrl.optsPeriod = $ctrl.opts || optsReportByPeriod;\n      watchTimePeriod();\n    };\n\n    /**\n     * Map timePeriod to URL search param\n     */\n    function watchTimePeriod() {\n      $scope.$watch(() => $location.search().byPeriod, val => {\n        $ctrl.model = val || $ctrl.model || $ctrl.optsPeriod[0].id;\n      });\n      $scope.$watch('$ctrl.model', val => {\n        $location.search('byPeriod', val).replace();\n      });\n    }\n  });\n"],"sourceRoot":""}