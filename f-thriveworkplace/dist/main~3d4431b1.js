(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+xae":function(e,t,n){"use strict";n.r(t);n("DbwS"),n("t91x");t.default=angular.module("autoSave",["debounce"]).factory("autoSave",["$q","debounce",function(e,t){return{wrap:function(n,r){return t(function(t){return function(t){var i=r||t.$$form;if(i&&i.$invalid)return;return e.when(t.$$autoSaving).catch(function(){}).then(function(){return t.$$autoSaving=e.when(n.call(t,t)),t.$$autoSaving.then(function(){i&&i.$setPristine()}).finally(function(){delete t.$$autoSaving}),t.$$autoSaving})}(t||this)},1e3)}}}])},"0SAq":function(e,t,n){"use strict";n.r(t);n("DbwS"),n("t91x");angular.module("deskworks.routeHelper",["deskworks.state","session"]).service("routeHelper",["dwAlerts","$q","$timeout","session","state",function(e,t,n,r,i){var o;this.auth=function(e){return null===e?(o||r.wait()).then(function(){if(r.isAnonymous())throw null;return r.user}):o||(o=r.wait().then(function(){if(r.isAnonymous())throw e||i.setParam("redirect",i.getPath()),i.setPath(e||"/sign-in",!0),null}).then(function(){return i.getCentersPromise()}).finally(function(){o=null}))},this.selectUser=function(){return i.isUserSelected()?t.when():("/user-search"!==i.getPath()&&(i.setParam("redirect",i.getPath()),i.setPath("/user-search")),t.reject())}}])},"1AIy":function(e,t){angular.module("setLocale",["tmh.dynamicLocale"]).factory("setLocale",["$locale","$rootScope","tmhDynamicLocale","dwAlerts","helper",function(e,t,n,r,i){"use strict";return function(o){(o=o||{}).locale=o.locale||"en-us";i.findByKeyValue(window.dwLocales,"id",o.locale);return n.set(o.locale).catch(function(e){return r.error(e,"Failed to set "+o.locale+" locale.")}).then(function(){var n=e.DATETIME_FORMATS,r=e.NUMBER_FORMATS;return e.timeFormat=o.timeFormat,n.shortTime=24===e.timeFormat?"HH:mm":"hh:mm a",n.mediumDate=n.mediumDate.replace(/ '\u0433'.$/,""),n.weekDate=n.fullDate.replace(/ '\u0433'.$/,"").replace("EEEE","EEE").replace("MMMM","MMM"),n.iso="yyyy-MM-ddTHH:mm:ssZ",r.DECIMAL_SEP=".",r.GROUP_SEP=",",t.$emit("$setLocaleSuccess"),e})}}])},"2nMP":function(e,t){angular.module("deskworks.checkIn.service",["ngResource","deskworks.config"]).factory("checkInService",["$resource","deskworksConfig","helper",function(e,t,n){"use strict";var r=e(t.getApiAbsUrl("/centers/:centerId/check-in")),i=e(t.getApiAbsUrl("/centers/:centerId/check-out"));return{checkIn:function(e,t){var n={accessCardNumber:t.accessCardNumber||void 0,login:t.login||void 0,password:t.password||void 0};return r.save({centerId:e},n).$promise},checkOut:function(e,t){var n={accessCardNumber:t.accessCardNumber||void 0,login:t.login||void 0,password:t.password||void 0};return i.save({centerId:e},n).$promise}}}])},"3HUq":function(e,t){angular.module("deserializeNumbers",["deskworks.helper"]).factory("deserializeNumbers",["helper",function(e){"use strict";return function(e){return function(t){return t?(angular.forEach(angular.isArray(t)?t:[t],function(t){t&&angular.forEach(angular.isArray(e)?e:[e],function(e){var n=e.split(".");!function e(t,r){if(!r)return;t<n.length-1?angular.isArray(r[n[t]])&&r[n[t]].forEach(function(n){e(t+1,n)}):t<n.length&&r[n[t]]&&!isNaN(+r[n[t]])&&(r[n[t]]=+r[n[t]])}(0,t)})}),t):t}}}])},"3HV4":function(e,t,n){"use strict";n.r(t);n("it7j");angular.module("deskworks.recurringCharge.service",["ngResource","deskworks.config","deskworks.billing.optsBillingFrequency","deskworks.billing.optsRecurringChargeStatus","deskworks.billing.optsNoticePeriod","deskworks.billing.optsDiscountType","deskworks.userProfile.optsMonthsOfDiscount","deskworks.billing.optsRecurringChargeTerminate","datesDeserializer"]).factory("recurringChargeService",["$resource","$q","$timeout","$filter","deskworksConfig","helper","datesDeserializer","optsBillingFrequency","optsRecurringChargeStatus","optsNoticePeriod","optsDiscountType","optsMonthsOfDiscount","optsRecurringChargeTerminate",function(e,t,n,r,i,o,a,u,s,c,d,l,f){r("toDate");var m=a(["lastBillDate","nextBillDate","entryDate","startDate","discountStartDate","terminate","noticeDate"]),g=e(i.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/recurring-charges/:recurringId"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,m]},get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,m]},update:{method:"PUT"}});return{new:function(){var e={};return e.id=o.uid(),e.lastBillDate=moment(),e.nextBillDate=moment().add(1,"M"),e.status=s[0],e.billingFrequency=u[0],e.quantity=1,e.entryDate=moment(),e.startDate=moment(),e.noticePeriod=c[1],e.discountType=d[0],e.discountTrialOccurrences=l[0],e.discountStartDate=moment(),e},isNew:function(e){return e&&o.isUid(e.id)},save:function(e,t,n){return o.isUid(n.id)?g.save({centerId:e,userId:t},this.unresolve(n)).$promise.then(function(e){return n.id=e.id,e}):g.update({centerId:e,userId:t,recurringId:n.id},this.unresolve(n)).$promise},query:function(e,t){return g.query({centerId:e,userId:t}).$promise.then(function(e){return angular.forEach(e,function(e){e.status=o.find(s,e.status)}),e})},get:function(e,t,n){return g.get({centerId:e,userId:t,recurringId:n}).$promise.then(function(e){return e.userName=e.memberName,"new"===n?(e.lastBillDate=moment(),e.nextBillDate=moment().add(1,"M"),e.status=s[0],e.billingFrequency=u[0],e.quantity=1,e.entryDate=moment(),e.startDate=moment(),e.noticePeriod=c[1],e.discountType=d[0],e.discountTrialOccurrences=l[0],e.discountStartDate=moment()):(e.status=o.find(s,e.status),e.priceListProduct=o.find(e.options.priceListProducts,e.priceListProductId),e.priceListProduct&&(e.billingFrequency=o.find(u,e.priceListProduct.billingFrequency)),e.terminate&&e.billingFrequency&&(e.terminate="asNeeded"===e.billingFrequency.id?o.find(f,e.terminate):e.terminate),e.noticePeriod=o.find(c,e.noticePeriod),e.discountType=o.find(d,e.discountTypeId)||d[0],e.discountTrialOccurrences=o.find(l,e.discountTrialOccurrences)||l[0]),e})},createCharge:function(e,t,n){return n.startDate=r("date")(n.startDate,"yyyy-MM-dd"),n.lastBillDate=r("date")(n.lastBillDate,"yyyy-MM-dd"),n.nextBillDate=r("date")(n.nextBillDate,"yyyy-MM-dd"),n.noticeDate=moment.isMoment(n.noticeDate)?r("date")(n.noticeDate,"yyyy-MM-dd"):n.noticeDate,n.terminate=moment.isMoment(n.terminate)?r("date")(n.terminate,"yyyy-MM-dd"):n.terminate,n.discountStartDate=r("date")(n.discountStartDate,"yyyy-MM-dd"),g.save({centerId:e,userId:t},n).$promise},updateCharge:function(e,t,n,i){return i.startDate=r("date")(i.startDate,"yyyy-MM-dd"),i.lastBillDate=r("date")(i.lastBillDate,"yyyy-MM-dd"),i.nextBillDate=r("date")(i.nextBillDate,"yyyy-MM-dd"),i.noticeDate=moment.isMoment(i.noticeDate)?r("date")(i.noticeDate,"yyyy-MM-dd"):i.noticeDate,i.terminate=moment.isMoment(i.terminate)?r("date")(i.terminate,"yyyy-MM-dd"):i.terminate,i.discountStartDate=r("date")(i.discountStartDate,"yyyy-MM-dd"),g.update({centerId:e,userId:t,recurringId:n},i).$promise},deleteCharge:function(e,t,n){return g.delete({centerId:e,userId:t,recurringId:n}).$promise},setUseForCheckInBilling:function(e,t,n){return g.update({centerId:e,userId:t,recurringId:n},{useForCheckInBilling:!0}).$promise},unresolve:function(e){var t={name:e.name,priceListProductId:e.priceListProduct?e.priceListProduct.id:null,nextBillDate:r("date")(e.nextBillDate,"yyyy-MM-dd"),lastBillDate:r("date")(e.lastBillDate,"yyyy-MM-dd"),noticeDate:r("date")(e.noticeDate,"yyyy-MM-dd"),terminate:r("date")(e.terminate,"yyyy-MM-dd"),quantity:e.quantity,noticePeriod:e.noticePeriod?e.noticePeriod.id:e.noticePeriod,status:e.status?e.status.id:e.status,notes:e.notes,attachedReservationUnitId:e.attachedReservationUnitId||null};return t.discountStartDate=r("date")(e.discountStartDate,"yyyy-MM-dd"),e.discountType&&e.discountType.id?(t.discountTypeId=e.discountType.id,t.discountValue=e.discountValue,e.discountTrialOccurrences&&(t.discountTrialOccurrences=e.discountTrialOccurrences.id)):t.discountTypeId=0,t}}}])},"7JnH":function(e,t){angular.module("deskworks.billing.optsDiscountType",[]).factory("optsDiscountType",["$rootScope","$translate",function(e,t){"use strict";var n=[{id:0,_name:"RECURRING_BILLING.DISCOUNT.TYPE.NO"},{id:1,_name:"RECURRING_BILLING.DISCOUNT.TYPE.$"},{id:2,_name:"RECURRING_BILLING.DISCOUNT.TYPE.%"}];function r(){n.forEach(function(e){e.name=t.instant(e._name)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},"7jkG":function(e,t){angular.module("ccValidator",[]).factory("ccValidator",function(){"use strict";var e={},t=["visa","master","american_express","diners-club","discover","jcb","unionpay","maestro"];function n(e){var t,n,r;return e?(t=e.prefixPattern.source,n=e.exactPattern.source,(r=JSON.parse(JSON.stringify(e))).prefixPattern=t,r.exactPattern=n,r):null}function r(r){var i,o,a,u=[],s=[];if(!("string"==typeof r||r instanceof String))return[];for(a=0;a<t.length;a++)i=t[a],o=e[i],0!==r.length?o.exactPattern.test(r)?s.push(n(o)):o.prefixPattern.test(r)&&u.push(n(o)):u.push(n(o));return s.length?s:u}return e.visa={niceType:"Visa",type:"visa",prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},e.master={niceType:"MasterCard",type:"master",prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},e.american_express={niceType:"American Express",type:"american_express",prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},e["diners-club"]={niceType:"Diners Club",type:"diners-club",prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},e.discover={niceType:"Discover",type:"discover",prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},e.jcb={niceType:"JCB",type:"jcb",prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},e.unionpay={niceType:"UnionPay",type:"unionpay",prefixPattern:/^((6|62|62\d|(621(?!83|88|98|99))|622(?!06)|627[02,06,07]|628(?!0|1)|629[1,2])|622018)$/,exactPattern:/^(((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[02,06,07]|628(?!0|1)|629[1,2]))\d*|622018\d{12})$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},e.maestro={niceType:"Maestro",type:"maestro",prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^(5[06-9]|6[37])\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},r.getTypeInfo=function(t){return n(e[t])},r.types={VISA:"visa",MASTERCARD:"master",AMERICAN_EXPRESS:"american_express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro"},function(e){var t,n,o,a,u,s;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return i(null,!1,!1);if(e=e.replace(/\-|\s/g,""),!/^\d*$/.test(e))return i(null,!1,!1);if(0===(t=r(e)).length)return i(null,!1,!1);if(1!==t.length)return i(null,!0,!1);a="unionpay"===(n=t[0]).type||function(e){var t,n=0,r=!1,i=e.length-1;for(;i>=0;)t=parseInt(e.charAt(i),10),r&&(t*=2)>9&&(t=t%10+1),r=!r,n+=t,i--;return n%10==0}(e);for(s=Math.max.apply(null,n.lengths),u=0;u<n.lengths.length;u++)if(n.lengths[u]===e.length)return o=e.length!==s||a,i(n,o,a);return i(n,e.length<s,!1)};function i(e,t,n){return{card:e,isPotentiallyValid:t,isValid:n}}})},AAdL:function(e,t){angular.module("deskworks.isMultiSite",["deskworks.state"]).factory("isMultiSite",["$rootScope","state",function(e,t){"use strict";function n(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.CookieManagementPlugin&&(window.cordova.plugins.CookieManagementPlugin.flush(),console.log("DEBUG: flush cookies"))}return e.$watch(function(){return window.cordova},n),e.$watch(function(){return t.getLoggedUserId()},function(e,t){!e&&t&&(document.cookie="DwSiteCookie=; expires=expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.satellitedeskworks.com; path=/"),n()}),e.$on("$routeChangeSuccess",function(){if(window.cordova&&t.getLoggedUserId()){var e=new Date;e.setTime(e.getTime()+2592e6),document.cookie="DwSiteCookie="+location.href+"; expires="+e.toGMTString()+"; domain=.satellitedeskworks.com; path=/",n()}}),function(){return!!window.cordova}}])},CTp1:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.billing.optsRefundMethod",[]).factory("optsRefundMethod",["$rootScope","$translate",function(e,t){var n=[{id:"cc",_name:"PURCHASE.REFUND.METHOD.CC"},{id:"cash",_name:"PURCHASE.REFUND.METHOD.CASH"},{id:"check",_name:"PURCHASE.REFUND.METHOD.CHECK"},{id:"writeOff",_name:"PURCHASE.REFUND.METHOD.WRITE_OFF"},{id:"ach",_name:"PURCHASE.REFUND.METHOD.ACH"},{id:"other",_name:"PURCHASE.REFUND.METHOD.OTHER"}];function r(){n.forEach(function(e){e.name=t.instant(e._name)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},FBHV:function(e,t){angular.module("deskworks.purchase.service",["ngResource","deskworks.config","datesDeserializer","deserializeNumbers"]).factory("purchaseService",["$resource","deskworksConfig","helper","datesDeserializer","deserializeNumbers",function(e,t,n,r,i){"use strict";var o=r(["open.firstOpened","paid.firstOpened","credit.firstOpened","deposit.firstOpened","open.lastModified","paid.lastModified","credit.lastModified","deposit.lastModified","items.billedAt","items.createdAt"]),a=i(["items.amount","items.price","items.quantity"]),u=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId"),{},{query:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,o]},get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,o,a]},update:{method:"PUT"}}),s=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/items/:itemId"),{},{update:{method:"PUT"}}),c=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/charges"),{},{update:{method:"PUT"}}),d=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/discounts"),{},{update:{method:"PUT"}}),l=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/refunds"),{},{update:{method:"PUT"}}),f=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/payments"),{},{update:{method:"PUT"}}),m=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/deposits"),{},{update:{method:"PUT"}}),g=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/staff-helps"),{},{update:{method:"PUT"}}),p=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/consolidations"),{},{update:{method:"PUT"}});return{get:function(e,t,n,r){return u.get({centerId:e||0,userId:t,purchaseId:n,productId:r}).$promise},getPurchases:function(e,t){return u.query({centerId:e||0,userId:t}).$promise},query:function(e,t){return u.query({centerId:e||0,userId:t}).$promise.then(function(e){return e.open.map(function(e){return e.type="open",e}).concat(e.paid.map(function(e){return e.type="paid",e})).concat(e.credit.map(function(e){return e.type="credit",e})).concat(e.deposit.map(function(e){return e.type="deposit",e}))})},createPurchase:function(e,t,n,r,i,o){return u.save({centerId:e||0,userId:t,registration:n,productId:r||void 0,attachedReservationUnitId:i||void 0,membershipStartDate:o||void 0},{}).$promise},createPurchaseForReservation:function(e,t,n){return u.save({centerId:e||0,userId:t},n).$promise},createCharge:function(e,t,n,r,i,o,a){return c.save({centerId:e||0,userId:t,purchaseId:n,custom:i,registration:o||void 0,productId:a},r).$promise},createDiscount:function(e,t,n,r){return d.save({centerId:e||0,userId:t,purchaseId:n},r).$promise},createRefund:function(e,t,n,r){return l.save({centerId:e||0,userId:t,purchaseId:n},r).$promise},deletePurchaseItem:function(e,t,n,r){return s.delete({centerId:e||0,userId:t,purchaseId:n,itemId:r}).$promise},createPayment:function(e,t,n,r,i,o,a){var u;return angular.isObject(e)&&(u=e,r=t),f.save(u||{centerId:e||0,userId:t,purchaseId:n,registration:i,productId:o,membershipStartDate:a},r).$promise},createDeposit:function(e,t,n,r,i,o){return m.save({centerId:e||0,userId:t,purchaseId:n,registration:i,productId:o},r).$promise},createStaffHelp:function(e,t,n,r,i){return g.save({centerId:e||0,userId:t,purchaseId:n,registration:r,productId:i},{}).$promise},consolidate:function(e,t,n,r){return p.save({centerId:e||0,userId:t,purchaseId:n},{sourcePurchaseId:r.id}).$promise}}}])},HCKn:function(e,t){angular.module("NATS",[]).factory("NATS",["$rootScope","$window","deskworksConfig","state",function(e,t,n,r){"use strict";if(!t.NATS)throw new Error("Missing websocket-nats dependency.");return angular.extend({},t.NATS,{connect:function(r){if(!(r=r||n.getWsUrl()||"wss://"+n.getApiDomain()+"/nats"))throw new Error("NATS.connect: missing url");var o=t.NATS.connect(r);return o.publish=(s=o.publish,function(e,t,n,r){return(n||r)&&console.warn("we have opt_reply and opt_callback unimplemented in nats.publish"),e=i(e),(angular.isObject(t)||angular.isArray(t))&&(t=angular.toJson(t)),s.call(this,e,t)}),o.subscribe=(u=o.subscribe,function(t,n,r){var o=angular.isFunction(n)?n:r;if(t=i(t),o){var a=o;o=function(t,n,r){return e.$apply(function(){return a.call(null,t&&angular.fromJson(t),n,r)})}}return u.call(this,t,angular.isFunction(n)?o:n,angular.isFunction(r)?o:r)}),o.request=(a=o.request,function(e,t,n,r){return console.warn("we have nats.request unimplemented"),a.call(this,e,t,n,r)}),o;var a;var u;var s}});function i(e){return e&&e.replace(/:siteId/,n.getSiteId()).replace(/:centerId/,r.getCurrentCenterId())}}])},JHgu:function(e,t){angular.module("deskworks.billing.optsRecurringChargeTerminate",[]).factory("optsRecurringChargeTerminate",["$rootScope","$translate",function(e,t){"use strict";var n=[{id:"never",_name:"RECURRING_BILLING.DATES.TERMINATE.NEVER"},{id:"usedUp",_name:"RECURRING_BILLING.DATES.TERMINATE.WHEN_USED_UP"}];function r(){n.forEach(function(e){e.name=t.instant(e._name)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},LZJC:function(e,t){angular.module("deskworks.state",["ngRoute","session","deskworks.center.service","deskworks.userProfile.service","deskworks.helper","autoCacheFactory"]).factory("state",["$rootScope","$location","$q","$route","$timeout","$window","session","centerService","userProfileService","helper","autoCacheFactory","resolveTimezone",function(e,t,n,r,i,o,a,u,s,c,d,l){"use strict";var f,m,g=[],p="";a.wait().then(function(){a.isAnonymous()||e.$emit("LOGIN")});var h,y={login:function(t,n,r){return a.login(t,n,r).then(function(){return e.$emit("LOGIN"),a.user})},logout:function(t){return a.logout().then(function(){e.$emit("LOGOUT",t)})},getCurrentUserId:function(){return angular.isDefined(t.search().user)?t.search().user:a.user&&a.user.id},setCurrentUserId:function(e){t.search("user",e||null)},getCurrentUser:function(){return f||a.user},setCurrentUser:function(e){f=e,this.setCurrentUserId((e||{}).id)},getLoggedUserId:function(){return a.user&&a.user.id},getLoggedUser:function(){return a.user},setLoggedUserCenter:function(e,t){a.user.centerId=e,a.user.centerName=t},isLoggedAdmin:a.isAdmin,isLoggedMember:function(){return a.isRole("member")},isLoggedNonMember:function(){return a.isRole("nonMember")},isLoggedRole:function(e){return a.isRole(e)},isUserSelected:function(){return angular.isDefined(t.search().user)||a.user&&!this.isLoggedAdmin()},isMasterProfile:function(){return!this.isLoggedAdmin()&&y.getLoggedUserId()&&this.getLoggedUserId()!=this.getCurrentUserId()},getCurrentCenterId:function(){var e=t.search().center;return angular.isDefined(e)&&null!==e?+e:void 0},setCurrentCenterId:function(n){t.search("center",n?+n:null),e.$emit("CHANGE-CENTER")},getUserCenters:function(){var e=this;return g.filter(function(t){return e.isLoggedAdmin()||t.reservationUnitsCount>0})},currentCenterId:function(e){return angular.isDefined(e)&&this.setCurrentCenterId(+e),this.getCurrentCenterId()},getCurrentCenter:function(){return c.findByKeyValue(g,"id",this.getCurrentCenterId())},setCurrentCenter:function(e){e&&this.setCurrentCenterId(e.id)},currentCenter:function(e){return angular.isDefined(e)&&this.setCurrentCenter(e),this.getCurrentCenter()},getParam:function(e){return t.search()[e]},setParam:function(e,n){return t.search(e,angular.isDefined(n)?n:null)},resetParams:function(e){var n=t.search().user,r=t.search().center;return t.$$search=angular.isDefined(e)?e:{},angular.isDefined(n)&&t.search("user",n),angular.isDefined(r)&&t.search("center",r),this},getPath:function(){return t.path()},setPath:function(e,n){return n&&t.replace(),t.path(e),i(5e3)},back:function(){return o.history.back(),i(5e3)},getPageTitle:function(){return p},setPageTitle:function(e){return p=e,e},replace:function(){return t.replace(),this},getCentersPromise:function(){return m},prohibitBack:function(t,n,r){return(r=r||e).$on("$routeChangeStart",function(e,i,o){i.$$route&&t.indexOf(i.$$route.controller)>=0&&(r.showError(n||"Back is not allowed."),e.preventDefault())})}};return e.$on("$routeChangeSuccess",function(){p=""}),e.$watch(function(){return t.search().user},function(t){t?l().then(function(){s.get(y.getCurrentCenterId(),t).then(function(t){f=t,e.$emit("CHANGE-USER")})}):(f={},e.$emit("CHANGE-USER"))}),e.$on("LOGIN",function(){d.emptyAll(),e.$emit("CENTERS:REFRESH"),m.then(function(t){if(h&&h(),h=e.$on("$routeChangeStart",function(){g&&g.length>0&&!c.findByKeyValue(g,"id",y.getCurrentCenterId())&&y.setCurrentCenterId(a.user.centerId||g[0].id)}),!y.getCurrentCenterId()){y.replace();var n=a.user.centerId;g&&g.length>0&&!c.findByKeyValue(g,"id",n)&&(n=g[0].id),y.setCurrentCenterId(n)}})}),e.$on("LOGOUT",function(e,n){n=n||{},h&&(h(),h=null),d.emptyAll(),n.skipResetParams||(y.resetParams(),t.search("user",null),t.search("center",null)),g=[]}),e.$on("CHANGE-CENTER",function(){d.emptyAll()}),e.$on("CENTERS:REFRESH",function(){m=u.getCenters().then(function(e){return g=e,e}).catch(function(t){return e.showError(t,"CENTERS:REFRESH failed to load centers list")})}),e.$on("CurrentUser:refresh",function(){s.get(y.getCurrentCenterId(),y.getCurrentUserId()).then(function(e){f=e})}),y}])},OGsH:function(e,t){angular.module("debounce",[]).factory("debounce",["$timeout",function(e){"use strict";return function(t,n,r){var i;return function(){var o=this,a=arguments,u=r&&!i;return e.cancel(i),i=e(function(){if(i=null,!r)return t.apply(o,a)},n),u?t.apply(o,a):i}}}])},OSHC:function(e,t){angular.module("deskworks.billing.optsRenewalNoticePeriod",[]).factory("optsRenewalNoticePeriod",["$rootScope","$filter","$translate",function(e,t,n){"use strict";var r=[{id:null,_name:"RECURRING_BILLING.RENEWAL_NOTICE_PERIOD.NO_NOTICE"},{id:10},{id:30},{id:60},{id:67},{id:90},{id:120}];function i(){r.forEach(function(e){e.name=e._name?n.instant(e._name):t("days")(e.id)})}return i(),e.$on("$setTranslationsSuccess",i),r}])},OTKG:function(e,t,n){"use strict";n.r(t);n("2UZ+"),n("t91x");var r=n("e+GP"),i=n.n(r);angular.module("deskworks.helper",[]).factory("helper",["$window","$timeout","$compile","$templateCache","$filter",function(e,t,n,r,o){return{findByKeyValue:function(e,t,n){if(angular.isArray(e)&&t)for(var r=0;r<e.length;r++)if(e[r]&&e[r][t]==n)return e[r]},findIndexByKeyValue:function(e,t,n){if(angular.isArray(e)&&t)for(var r=0;r<e.length;r++)if(e[r]&&e[r][t]==n)return r;return-1},findIndex:function(e,t){if(!t&&0!==t||angular.isObject(t)||(t={id:t}),angular.isArray(e)&&t){for(var n=function(n){if(Object.keys(t).every(function(r){return e[n]&&e[n][r]==t[r]}))return{v:n}},r=0;r<e.length;r++){var o=n(r);if("object"===i()(o))return o.v}return-1}},find:function(e,t){var n=this.findIndex(e,t);if(n>=0)return e[n]},isDateString:function(e){return angular.isString(e)&&!(!e.match(/^\d\d\d\d-\d\d-\d\d(?:T\d\d:\d\d:\d\d(?:(?:(?:-|\+)\d\d:?\d\d)|(?:\.\d\d\d\d?)?Z)?)?$/i)&&!e.match(/^\d\d:\d\d(?::?\d\d)?$/i))},isMobile:function(){if(e.navigator.userAgent&&(e.navigator.userAgent.match(/Android/i)||e.navigator.userAgent.match(/webOS/i)||e.navigator.userAgent.match(/iPhone/i)||e.navigator.userAgent.match(/iPad/i)||e.navigator.userAgent.match(/iPod/i)||e.navigator.userAgent.match(/BlackBerry/i)||e.navigator.userAgent.match(/Windows Phone/i)))return!0},isIE:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!(!document.uniqueID&&!window.MSInputMethodContext)},interpolateRoute:function(e,t){var n=[];return angular.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];n.push(t[o]),n.push(i[2]||"")}}),n.join("")},unique:function(){return Date.now().toString(36)+Math.random().toString(36).substr(2,5)},uid:function(){return"dwuid"+Date.now()+Math.floor(Math.random()*Date.now()+Math.random()*Date.now())},isUid:function(e){return!!String(e).match(/^dwuid\d+/)},stripUid:function(e){if(!String(e).match(/^dwuid\d+/))return e},pointFirstInvalid:function(e){var n=document.querySelector(e+" .ng-invalid:not(ng-form):not(form):not([ng-form]):not([disabled])");return n&&t(function(){n.focus(),n.blur(),n.focus()}),n},focus:function(e){t(function(){var t=document.querySelector(e);t&&t.focus()})},trim:function(e){return angular.isUndefined(e)||null===e?"":String(e).trim()},indexSoft:function(e,t,n){if(angular.isArray(e)&&angular.isArray(t)&&angular.isDefined(n)){n=String(n).trim().toLowerCase();for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(String(e[r][t[i]]).trim().toLowerCase()===n)return r}return-1},searchSoft:function(e,t,n){if(angular.isArray(e)&&angular.isArray(t)&&angular.isDefined(n)){n=String(n).trim().toLowerCase();for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(String(e[r][t[i]]).trim().toLowerCase()===n)return e[r]}},scrollTo:function(t){var n=document.querySelector(t);n&&e.scrollTo(0,e.pageYOffset+n.getBoundingClientRect().top)},purify:function(e,t,n){var r=this,i={};return t=angular.isArray(t)?t:Object.keys(t||{}),Object.keys(e).forEach(function(o){"$"===o[0]||t.some(function(e){return o===e})||(i[n?r.toDashCase(o):o]=e[o])}),i},pick:function(e,t){return t.reduce(function(t,n){return t[n]=e[n],t},{})},transcludeElement:function(e,t,i,o,a){return t.after(this.transcludeAttrs(n(r.get(o))(e),i,a))},transcludeAttrs:function(e,t,n){return e.attr(this.purify(t,n,!0))},toDashCase:function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})},join:function(e,t){return e.filter(function(e){return e}).join(t)},rgb2hex:function(e){if(!e||/^#[0-9A-F]{6}$/i.test(e))return e;function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return"#"+t((e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+t(e[2])+t(e[3])},hex2rgbArr:function(e){if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var t=parseInt(e.substr(1),16);return[t>>16&255,t>>8&255,255&t]}return e},findParentElement:function(e,t){e=angular.element(e).parent();for(var n=0;n<5&&e.length;n++){if(t(e))return e;e=e.parent()}},toNumber:function(e){return e=+e,!isNaN(e)&&isFinite(e)?e:0},round:function(e,t){if(isNaN(+e))return e;var n=+"1000000".slice(0,(t||2)+1);return Math.round(e*n)/n}}}]).filter("yesno",["$translate",function(e){return function(t,n,r){return e.instant(t?"GLOBAL.YES":"GLOBAL.NO")}}]).filter("pre",function(){return function(e,t,n){return angular.isString(e)?e.replace(/\s/g,"&nbsp;"):""}}).filter("ncurrency",["$filter",function(e){return function(t,n,r){return/^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(t)?+t>=0?e("currency")(+t):"-"+e("currency")(-t):t}}]).filter("price",["$filter",function(e){return function(t,n,r){return angular.isNumber(t)||angular.isString(t)?e("number")(t,2).replace(",",""):"0.00"}}]).filter("nd",["$filter",function(e){return function(e,t,n){return e||"-"}}]).filter("zpad",function(){return function(e,t){if((e=""+(e||"")).length>=t)return e;return("00000000"+e).slice(-1*t)}}).filter("months",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.MONTHS_FILTER",{monthsCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("weeks",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.WEEKS_FILTER",{weeksCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("days",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.DAYS_FILTER",{daysCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("hours",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.HOURS_FILTER",{hoursCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("minutes",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.MINUTES_FILTER",{minCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("seconds",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.SECONDS_FILTER",{secCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("passes",["$translate",function(e){return function(t,n){var r=e.instant("GLOBAL.PASSES_FILTER",{passCount:t},"messageformat");return n?r.replace(/\d+\s*/,""):r}}]).filter("hours-minutes",["$filter","helper",function(e,t){return function(n){var r=Math.floor(n/36e5),i=Math.round(60*(n/36e5-r));return t.join([r?r+e("hours")(r,!0)[0]:null,e("zpad")(i,2)+e("minutes")(i,!0)[0]]," ")}}]).filter("highlight",function(){return function(e,t){if(!e||!t||0===e.length||0===t.length)return e;var n=(e=String(e)).toLowerCase().indexOf(t.toLowerCase());return n>=0?[e.slice(0,n),"<strong>",e.slice(n,n+t.length),"</strong>",e.slice(n+t.length)].join(""):e}}).filter("isArray",function(){return function(e,t){return angular.isArray(e)}}).filter("isString",function(){return function(e,t){return angular.isString(e)}}).filter("join",["helper",function(e){return function(t,n){return e.join(t,n)}}]).filter("round",["helper",function(e){return e.round}])},P20j:function(e,t,n){"use strict";n.r(t);n("DbwS"),n("t91x");angular.module("resolveTimezone",[]).factory("resolveTimezone",["$rootScope","$q","$route","$location","dwAlerts","helper","setupService","centerService",function(e,t,n,r,i,o,a,u){var s;return e.$on("CHANGE-CENTER",function(){n.current.reloadOnSearch||c()}),c;function c(){return s||(s=t.all({timezones:a.queryTimezones().catch(function(e){return i.error(e,"Failed to query timezones.")}).then(function(e){return moment.tz.names().length<e.length&&moment.tz.add(e.map(function(e){return e.tz})),e}),centers:u.getCenters().catch(function(e){return i.error(e,"Failed to query centers.")}).then(function(e){return e})}).then(function(e){if(e.centers.length){var t="new"===n.current.params.centerId?null:+n.current.params.centerId;t=t||r.search().center&&+r.search().center||e.centers[0].id;var i=(o.findByKeyValue(e.centers,"id",t)||e.centers[0]).timezone,a=o.findByKeyValue(e.timezones,"id",i);a&&moment.tz.setDefault(a.tz.split("|")[0])}}).finally(function(){s=null}))}}])},R5S3:function(e,t){angular.module("deskworks.accounting.bulkInvoicing.service",["ngResource","deskworks.config","deskworks.helper","datesDeserializer"]).factory("bulkInvoicingService",["$resource","datesDeserializer","deskworksConfig","helper",function(e,t,n,r){"use strict";var i=t(["date","items.date"]),o=e(n.getApiAbsUrl("/centers/:centerId/send-invoices"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,i]}}),a=e(n.getApiAbsUrl("/centers/:centerId/bulk-charges"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,i]}});return{getInvoices:function(e){return o.query({centerId:e}).$promise},sendEmails:function(e,t){return o.save({centerId:e},t).$promise},getPurchases:function(e){return a.query({centerId:e}).$promise},billPurchases:function(e,t){return a.save({centerId:e},t).$promise}}}])},T6vr:function(e,t){angular.module("setTranslations",["pascalprecht.translate"]).factory("setTranslations",["$translatePartialLoader","$translate","$rootScope",function(e,t,n){"use strict";return function(r,i){return e.addPart("_global"),r.forEach(function(t){e.addPart(t)}),t.use(i.split("-")[0]).then(function(){return t.refresh()}).then(function(){n.$emit("$setTranslationsSuccess")})}}]).factory("$translateErrorHandler",["$q","dwAlerts",function(e,t){return function(n,r,i){return"en"!==r?e.when():t.error("Failed to load "+n+"-"+r+" translation.").catch(angular.noop)}}])},UBkG:function(e,t){angular.module("dateFilters",["deskworks.helper"]).config(["$provide",function(e){"use strict";e.decorator("dateFilter",["$delegate",function(e){return function(t,n,r){return t instanceof moment?e(t.toDate(),n,t.format("ZZ")):e(t,n,r)}}])}]).filter("numTimeToDate",function(){return function(e){return moment().hour(Math.floor(+e)).minute(+e%1?30:0).second(0).millisecond(0)}}).filter("toDate",["helper",function(e){"use strict";return function(t){return e.isDateString(t)?t.length<=8?moment.tz(t,"HH:mm:ss",moment.defaultZone.name):moment.tz(t,moment.defaultZone.name):t}}])},VLhr:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.rcHelper",[]).factory("rcHelper",["$filter",function(e){return{weekStart:function(e){return(moment.isMoment(e)?e.clone():moment()).startOf("week")},weekEnd:function(e){return(moment.isMoment(e)?e.clone():moment()).endOf("week")},floorDate:function(e,t){return e.minutes(Math.floor(e.minutes()/t)*t,0,0),e},dateToStr:function(t){return e("date")(t,"yyyy-MM-ddTHH:mm:00Z")},checkIntersection:function(e,t,n,r){return e<=r&&e>=n||t<=r&&t>=n||e<=n&&t>=r}}}])},YzSq:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.billing.optsPaymentMethod",[]).factory("optsPaymentMethod",["$rootScope","$translate",function(e,t){var n=[{id:"cc",_name:"PURCHASE.PAYMENT.METHOD.CC"},{id:"cash",_name:"PURCHASE.PAYMENT.METHOD.CASH"},{id:"check",_name:"PURCHASE.PAYMENT.METHOD.CHECK"},{id:"writeOff",_name:"PURCHASE.PAYMENT.METHOD.WRITE_OFF"},{id:"wireTransfer",_name:"PURCHASE.PAYMENT.METHOD.WIRE_TRANSFER"},{id:"ach",_name:"PURCHASE.PAYMENT.METHOD.ACH"},{id:"other",_name:"PURCHASE.PAYMENT.METHOD.OTHER"}];function r(){n.forEach(function(e){e.name=t.instant(e._name)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},Zy0Y:function(e,t){angular.module("deskworks.billing.optsRenewalTerm",[]).factory("optsRenewalTerm",["$rootScope","$filter",function(e,t){"use strict";var n=[{id:1},{id:3},{id:6},{id:12},{id:24}];function r(){n.forEach(function(e){e.name=t("months")(e.id)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},aAGo:function(e,t){angular.module("deskworks.userProfile.optsMonthsOfDiscount",[]).factory("optsMonthsOfDiscount",["$rootScope","$translate",function(e,t){"use strict";for(var n=[{id:1,_name:"RECURRING_BILLING.DISCOUNT.MONTHS.SINGLE"}],r=2;r<25;r++)n.push({id:r,name:String(r)});function i(){n[0].name=t.instant(n[0]._name)}return i(),e.$on("$setTranslationsSuccess",i),n}])},bk9w:function(e,t){angular.module("security",["deskworks.config"]).factory("security",["$http","$q","deskworksConfig",function(e,t,n){var r,i={login:function(t,o,a){return(r=e.post(n.getApiAbsUrl("/sessions"),{login:t,password:o,rememberMe:a})).then(function(e){i.currentUser=e.data.user}),r},logout:function(){return e.delete(n.getApiAbsUrl("/sessions/123")).then(function(){r=null,i.currentUser=null})},requestCurrentUser:function(){return r||(r=i.isAuthenticated()?t.when(i.currentUser):e.get(n.getApiAbsUrl("/sessions/123")).then(function(e){return angular.isDefined(e.data.success)&&!e.data.success?t.reject():(i.currentUser=e.data.user,t.when(i.currentUser))}))},currentUser:null,isAuthenticated:function(){return!!i.currentUser},isAdmin:function(){return!(!i.currentUser||!i.currentUser.admin)}};return i}])},cU3u:function(e,t){angular.module("deskworks.billing.optsBillingFrequency",[]).factory("optsBillingFrequency",["$rootScope","$translate",function(e,t){"use strict";var n=[{id:"monthly",_name:"RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.MONTHLY",months:1},{id:"quarterly",_name:"RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.QUARTERLY",months:3},{id:"semiAnnual",_name:"RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.SEMI_ANNUAL",months:6},{id:"annual",_name:"RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.ANNUAL",months:12},{id:"asNeeded",_name:"RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.AS_NEEDED"}];function r(){n.forEach(function(e){e.name=t.instant(e._name)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},eEea:function(e,t){angular.module("deskworks.billing.optsNoticePeriod",[]).factory("optsNoticePeriod",["$rootScope","$filter",function(e,t){"use strict";var n=[{id:10,name:"10 days"},{id:30,name:"30 days"},{id:60,name:"60 days"},{id:90,name:"90 days"}];function r(){n.forEach(function(e){e.name=t("days")(e.id)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},fbex:function(e,t,n){"use strict";n.r(t);n("DbwS"),n("t91x");angular.module("userTasksPolicy",["session","deskworks.routeHelper","deskworks.UserTasks.service"]).factory("userTasksPolicy",["$rootScope","$q","$route","dwAlerts","helper","state","session","UserTasks","routeHelper",function(e,t,n,r,i,o,a,u,s){var c;return e.$on("CHANGE-CENTER",function(){n.current.reloadOnSearch||d()}),d;function d(){var e=["dashboard","sign-in","sign-out"];return!1===n.current.$$route.userTasksPolicy?t.resolve({}):e.indexOf(n.current.$$route.routeBranch)>=0?t.resolve({}):c||(c=a.wait().then(function(){return o.getCentersPromise()}).then(function(){return u.query(o.getCurrentCenterId(),o.isMasterProfile()&&o.getCurrentUserId()).catch(function(e){return r.error(e,"userTasksPolicy: failed to query user-tasks.")})}).then(function(r){if(!1===n.current.$$route.userTasksPolicy)return t.resolve({});if(e.indexOf(n.current.$$route.routeBranch)>=0)return t.resolve({});var i="/"+n.current.$$route.routeBranch;return r.some(function(e){return e.tasks.some(function(e){return e.url===i})})?t.resolve():(o.resetParams().setPath("/dashboard"),t.reject())}).finally(function(){c=null}))}}])},laQf:function(e,t){angular.module("resolveGtm",[]).factory("resolveGtm",["dwAlerts","setupService",function(e,t){"use strict";var n;return function(){return t.getSetupSettings().catch(function(t){return e.error(t,"Failed to get setup settings.")}).then(function(e){e.gtmContainerId&&e.gtmContainerId!==n&&(n=e.gtmContainerId,function(e,t,n,r,i){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],a=t.createElement(n);a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+i,o.parentNode.insertBefore(a,o)}(window,document,"script","dataLayer",n))})}}])},ljkM:function(e,t,n){"use strict";n.r(t),function(e){var t,r=n("e+GP"),i=n.n(r);t=function(){return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){var t,r,i,o="angular/i18n/angular-locale_{{locale}}.js",a="tmhDynamicLocaleStorageCache",u=e,s="get",c="put",d={},l={};function f(e,t,o,a,s,l,f){function m(e,t){i===o&&(angular.forEach(e,function(n,r){t[r]?angular.isArray(t[r])&&(e[r].length=t[r].length):delete e[r]}),angular.forEach(t,function(n,r){angular.isArray(t[r])||angular.isObject(t[r])?(e[r]||(e[r]=angular.isArray(t[r])?[]:{}),m(e[r],t[r])):e[r]=t[r]}))}if(d[o])return i=o,d[o];var g,p=s.defer();return o===i?p.resolve(t):(g=l.get(o))?(i=o,a.$evalAsync(function(){m(t,g),r[c](u,o),a.$broadcast("$localeChangeSuccess",o,t),p.resolve(t)})):(i=o,d[o]=p.promise,function(e,t,r,i){n("lRGF")("./angular-locale_".concat(e,".js")).then(t).catch(function(e){console.error("ERROR:",e),r()})}(o,function(){var e=angular.injector(["ngLocale"]).get("$locale");m(t,e),l.put(o,e),delete d[o],a.$applyAsync(function(){r[c](u,o),a.$broadcast("$localeChangeSuccess",o,t),p.resolve(t)})},function(){delete d[o],a.$applyAsync(function(){i===o&&(i=t.id),a.$broadcast("$localeChangeError",o),p.reject(o)})})),p.promise}this.localeLocationPattern=function(e){return e?(o=e,this):o},this.appendScriptTo=function(e){e},this.useStorage=function(e){a=e,s="get",c="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),s="getObject",c="putObject")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(u=e,this):u},this.addLocalePatternValue=function(e,t){l[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,n,c,d,m,g,p){var h=c(o);return r=n.get(a),e.$evalAsync(function(){var e;(e=r[s](u)||t)&&y(e)}),{set:y,get:function(){return i}};function y(t){var n={locale:t,angularVersion:angular.version.full};return f(h(angular.extend({},l,n)),d,t,e,m,g)}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"},"function"==typeof define&&n("K2jg")?define([],function(){return t()}):"object"===("undefined"==typeof exports?"undefined":i()(exports))?e.exports=t():t()}.call(this,n("Ono3")(e))},qmMG:function(e,t){angular.module("datesDeserializer",[]).factory("datesDeserializer",["$filter",function(e){"use strict";var t=e("toDate");return function(e,n){return function(n){return n?(n=angular.fromJson(n),angular.forEach(angular.isArray(n)?n:[n],function(n){n&&angular.forEach(angular.isArray(e)?e:[e],function(e){var r=e.split(".");!function e(n,i){if(!i)return;n<r.length-1?angular.isArray(i[r[n]])&&i[r[n]].forEach(function(t){e(n+1,t)}):n<r.length&&(i[r[n]]=t(i[r[n]]))}(0,n)})}),angular.fromJson(n)):n}}}])},syNh:function(e,t){angular.module("deskworks.billing.optsRecurringChargeStatus",[]).factory("optsRecurringChargeStatus",["$rootScope","$translate",function(e,t){"use strict";var n=[{id:"active",_name:"RECURRING_BILLING.STATUS_NOTES.STATUS.ACTIVE"},{id:"inactive",_name:"RECURRING_BILLING.STATUS_NOTES.STATUS.INACTIVE"},{id:"deleted",_name:"RECURRING_BILLING.STATUS_NOTES.STATUS.DELETED"}];function r(){n.forEach(function(e){e.name=t.instant(e._name)})}return r(),e.$on("$setTranslationsSuccess",r),n}])},tGEK:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.appDim",[]).factory("appDim",["$rootScope",function(e){return function(t){e.appDim=t}}])},y6vA:function(e,t){angular.module("deskworks.getAttachments.service",[]).factory("getAttachments",["$q","$timeout",function(e,t){"use strict";return function(n){return e.all(n.map(function(n){return e(function(e){var r=new FileReader;r.onload=function(r){return t(function(){return e({fileName:n.name,fileData:r.target.result})})},r.readAsDataURL(n)})}))}}])}}]);