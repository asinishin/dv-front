(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"/qs1":function(e,t){e.exports='<form name=$ctrl.form id=systemEmailEdit ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=gutter-v> <ff-panel style=max-width:815px> <ff-header> <ff-row> <cell flex="0 0 30%"><req translate=SYSTEM_EMAILS.FUNCTION></req></cell> <cell><req translate=SYSTEM_EMAILS.EMAIL></req></cell> </ff-row> </ff-header> <ff-row> <ff-select flex="0 0 30%" ff-model=$ctrl.systemEmail.function ff-options="function.name for function in $ctrl.functions" ff-required=true ff-validate-alert="{{\'SYSTEM_EMAILS.FUNCTION\' | translate}}"></ff-select> <ff-email ff-model=$ctrl.systemEmail.email ff-required=true ff-validate-alert="{{\'SYSTEM_EMAILS.EMAIL\' | translate}}"></ff-email> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=save type=submit ff-click=$ctrl.save() ff-disabled=$ctrl.form.$pristine> <span translate=GLOBAL.BTN_SAVE></span> </ff-btn> <ff-btn sense=remove ff-click=$ctrl.remove() ng-if=$ctrl.systemEmail.id> <span translate=GLOBAL.BTN_DELETE></span> </ff-btn> <ff-btn sense=back ff-click=$ctrl.back()><span translate=GLOBAL.BTN_BACK></span></ff-btn> </ff-btn-group> </div> </form> '},"0zcp":function(e,t){e.exports='<div> <div class="fd-tb-header em"><span translate=USER_FIELDS.TOOLBAR.HEADER></span></div> <div class=fd-tool ng-repeat="type in $ctrl.types" title={{type.name}} dnd-draggable=null dnd-callback="$ctrl.onDrop(targetList, targetIndex, type, targetSection)" dnd-effect-allowed=copy><i ng-class=type.icon></i></div> <div class="fd-tool fd-trash" title="{{\'USER_FIELDS.TRASH.HINT\' | translate}}" ff-dim=$ctrl.deleting dnd-list=[] dnd-drop="callback({ targetList: null, targetIndex: index })"><i class="fa fa-trash"></i></div> </div> '},"3S0r":function(e,t,n){"use strict";n.r(t);var a=n("nbuU"),s=n.n(a),f=n("WSeP"),l=n.n(f);t.default=angular.module("deskworks.SystemEmailListCtrl",["deskworks.system.service","deskworks.optsSystemEmailFunction"]).controller("SystemEmailListCtrl",["$scope","$translate","state","helper","systemEmails","optsSystemEmailFunction",function(e,t,n,a,f,r){var i,o=this;n.setPageTitle(t.instant("SYSTEM_EMAILS.PAGE_TITLE")),o.systemEmails=f,o.functions=r,l()(i=o.systemEmails).call(i,(function(e){var t;e.function=s()(t=o.functions).call(t,(function(t){return t.id===e.function}))})),o.edit=function(e){return n.setPath("/system-emails/"+e.id)},o.new=function(){return n.setPath("/system-emails/new")}}])},"47Sf":function(e,t,n){"use strict";n.r(t);n("y89P");var a=n("WSeP"),s=n.n(a),f=n("lRNC"),l=n.n(f),r=n("yCd9"),i=n.n(r),o=["$injector",function(e){var t,a,f=(t=n("YN9/"),i()(a=l()(t).call(t)).call(a,t));e.loadNewModules(i()(f).call(f,(function(e){return e.default.name}))),e.invoke(["$templateCache",function(e){var t,a=n("Mxc/");s()(t=l()(a).call(a)).call(t,(function(t){return e.put(t.replace(/^\.\//,""),a(t))}))}])}];t.default=o},"5f5L":function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR");t.default=angular.module("deskworks.BundlesCtrl",["autoSave","deskworks.bundlesConfig"]).controller("BundlesCtrl",["$scope","state","helper","dwAlerts","bundlesConfig","autoSave",function(e,t,n,a,s,f){var l=this;t.setPageTitle("Bundles Configuration"),l.bundles=s.getOptionalBundles(),s.get().catch((function(e){return a.error(e,"Failed to get bundles config")})).then((function(e){l.config=e})),l.save=f.wrap((function(){return l.saving=!0,s.save(n.purify(l.config)).catch((function(e){return a.error(e,"Failed to save bundles config.")})).finally((function(){l.saving=!1}))}))}])},"9Jlz":function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR");var a=n("hsT8"),s=n.n(a),f=(n("YUWK"),n("I5Zy"));t.default=angular.module("deskworks.UserFieldsCtrl",["debounce","deskworks.UserField","deskworks.fdToolbar","deskworks.fdFieldTypes",f.a.name]).controller("UserFieldsCtrl",["$scope","$translate","$window","dwAlerts","state","helper","debounce","dnd","UserField","userFields","fdFieldTypes",function(e,t,n,a,f,l,r,i,o,c,d){var p=this;function E(e,t){if(!t.$invalid)return e.$$spin=!0,o.save(e).catch((function(e){return a.error(e,"Failed to save user field.")})).finally((function(){e.$$spin=!1})).catch(angular.noop)}f.setPageTitle(t.instant("USER_FIELDS.PAGE_TITLE")),p.types=d,p.sections={customFields:s()(c).call(c,(function(e){return"customFields"===e.section})),shareable:s()(c).call(c,(function(e){return"shareable"===e.section}))},p.onDrop=function(e,s,f,l,r,c){var d=e[s];if(!f&&d.id&&!n.confirm(t.instant("USER_FIELDS.TRASH.CONFIRM")))return!1;if((d=i.move(e,s,f,l))&&(d.section=c),f){if(r.$invalid)return!0;E(d,r)}else{if(!d.id)return!0;!function(e){if(!e.id)return;e.$$spin=!0,p.deleting=!0,o.delete(e.id).catch((function(e){return a.error(e,"Failed to delete field.")})).finally((function(){e.$$spin=!1,p.deleting=!1})).catch(angular.noop)}(d)}return!0},p.saveField=r(E,1e3)}])},"9SuE":function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR");var a=n("0zKI"),s=n.n(a);t.default=angular.module("deskworks.ApiSettingsCtrl",["debounce","deskworks.allowedHost.service"]).controller("ApiSettingsCtrl",["$scope","$translate","$window","dwAlerts","state","helper","debounce","allowedHosts","allowedHostService",function(e,t,n,a,f,l,r,i,o){var c=this;f.setPageTitle(t.instant("API_SETTINGS.PAGE_TITLE")),c.allowedHosts=i,c.save=r((function(e,t,n){if(t.$invalid)return;return e.$$spin=!0,o.save(e).catch((function(e){return a.error(e,"Failed to save allowed host.")})).finally((function(){e.$$spin=!1}))}),1e3),c.new=function(){c.allowedHosts.push({isActive:!0})},c.delete=function(e,f){if(e.id){if(!n.confirm(t.instant("API_SETTINGS.ALLOWED_HOSTS.CONFIRM_DELETE")))return;return e.$$spin=!0,o.delete(e.id).catch((function(e){return a.error(e,"Failed to delete allowed host.")})).then((function(){var e;s()(e=c.allowedHosts).call(e,f,1)})).finally((function(){e.$$spin=!1}))}var l;s()(l=c.allowedHosts).call(l,f,1)}}])},DPgT:function(e,t){e.exports='<form name=$ctrl.form id=taskEdit ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{md: \'0 0 50%\'}"> <ff-panel-header><span translate=TASKS.GENERAL.HEADER></span></ff-panel-header> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=TASKS.POSITION></req></ff-label> <ff-number name=taskPosition ff-model=$ctrl.task.position ff-required=true ff-validate-alert="{{\'TASKS.POSITION\' | translate}}"></ff-number> </label> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=TASKS.NAME></req></ff-label> <ff-text name=taskName ff-model=$ctrl.task.name ff-required=true ff-validate-alert="{{\'TASKS.NAME\' | translate}}"></ff-text> </label> <ff-static> <label flex="0 0 100px"> <span translate=TASKS.IS_GROUP></span> </label> <ff-checkbox name=isGroup ff-model=$ctrl.task.isGroup ff-change=$ctrl.onChangeIsGroup()></ff-checkbox> </ff-static> <label class=ff-row> <ff-label flex="0 0 100px" ff-required={{!$ctrl.task.isGroup}} ng-disabled=$ctrl.task.isGroup> <span translate=TASKS.URL></span> </ff-label> <ff-text name=taskUrl ff-model=$ctrl.task.url ff-required=!$ctrl.task.isGroup ff-disabled=$ctrl.task.isGroup ff-validate-alert="{{\'TASKS.URL\' | translate}}"></ff-text> </label> </ff-panel> <ff-panel flex="{md: \'0 0 50%\'}"> <ff-panel-header><span translate=TASKS.PERMISSIONS.HEADER></span></ff-panel-header> <ff-header> <ff-row> <cell><span translate=GLOBAL.ROLE></span></cell> <cell flex="0 0 100px"><span translate=TASKS.PERMISSION></span></cell> </ff-row> </ff-header> <ff-row ng-repeat="role in $ctrl.roles"> <ff-static>{{role.name}}</ff-static> <ff-select name=view ff-model=$ctrl.task.permissions[role.id] flex="0 0 100px" ff-options="opt.id as opt.name for opt in $ctrl.optsTaskPermission | filter: ($ctrl.task.isGroup ? { id: \'!edit\' } : {})"> <option ng-repeat="opt in $ctrl.optsTaskPermission" ng-value=opt.id ng-if="!$ctrl.task.isGroup || opt.id !== \'edit\'">{{opt.name}}</option> </ff-select> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=save type=submit ff-click=$ctrl.save() ff-disabled=$ctrl.form.$pristine> <span translate=GLOBAL.BTN_SAVE></span> </ff-btn> <ff-btn sense=remove ff-click=$ctrl.remove() ng-if=$ctrl.task.id> <span translate=GLOBAL.BTN_DELETE></span> </ff-btn> <ff-btn sense=back ff-click=$ctrl.back()><span translate=GLOBAL.BTN_BACK></span></ff-btn> </ff-btn-group> </div> </form> '},E3ve:function(e,t,n){"use strict";n.r(t);var a=n("uQX1"),s=n.n(a),f=n("0zKI"),l=n.n(f),r=n("xeXu"),i=n.n(r),o=n("WSeP"),c=n.n(o),d=n("nbuU"),p=n.n(d),E=n("Tjft");t.default=angular.module("deskworks.SetupSettingsCtrl",["deskworks.state","deskworks.setup.service","deskworks.userProfile.service","setLocale","setTranslations","deskworks.setup.optsProrateAtStart","deskworks.setup.optsProrateAtTermination","deskworks.setup.optsMinPassFractionUnit","deskworks.optsDashboardIncome",E.a.name]).controller("SetupSettingsCtrl",["$scope","$window","$timeout","$route","$translate","$q","dwAlerts","state","helper","setupService","settings","userProfileService","optsInvoiceDate","optsProrateAtStart","optsProrateAtTermination","optsDashboardIncome","optsReservationCreditsUnit","optsMinPassFractionUnit",function(e,t,n,a,f,r,o,d,E,m,u,T,b,S,g,v,h,N){var A,k,I=this;d.setPageTitle(f.instant("SETUP_SETTINGS.PAGE_TITLE")),I.settings=u,I.advanceInvoicingDays=[{id:1,name:"1 day"}];for(var x=2;x<31;x++)I.advanceInvoicingDays.push({id:x,name:x+" days"});I.settings.advanceInvoicingDays=p()(A=I.advanceInvoicingDays).call(A,(function(e){return e.id===I.settings.advanceInvoicingDays})),I.settings.advanceInvoicingDays||(I.settings.advanceInvoicingDays=I.advanceInvoicingDays[0]),I.optsInvoiceDate=b,I.optsProrateAtStart=S,I.optsProrateAtTermination=g,I.optsReservationCreditsUnit=h,I.optsMinPassFractionUnit=N,I.optsDashboardIncome=v,c()(k=I.settings.calendarOwners).call(k,(function(e){T.get(d.getCurrentCenterId(),e.owner).then((function(t){e.owner={id:t.id,fullName:t.firstName+" "+t.lastName,company:t.company,email:t.email}}))})),I.save=function(){if(!E.pointFirstInvalid("#setupSettings"))return m.updateSetupSettings(I.settings).catch((function(e){return o.error(e,"Failed to save setup settings.")})).then((function(){a.reload()}))},I.addCalendarOwner=function(){I.settings.calendarOwners.push({}),I.form.$setDirty()},I.deleteCalendarOwner=function(e){var t,n,a=i()(t=I.settings.calendarOwners).call(t,e);a>=0&&l()(n=I.settings.calendarOwners).call(n,a,1),I.form.$setDirty()},I.disconnectCalendar=function(){if(window.confirm(f.instant("CALENDAR.CONFIRM_DISCONNECT")))return m.updateSetupSettingsRaw({calendarConnected:!1}).catch((function(e){return o.error(e,"Failed to disconnect calendar.")})).then((function(){I.settings.calendarConnected=!1}))},I.ccTypeRequired=function(){var e;return s()(e=I.settings.creditCardTypes).call(e,(function(e){return!e.enable}))}}])},GEpe:function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR");var a=n("0zKI"),s=n.n(a);t.default=angular.module("deskworks.OwnersRegionsCtrl",["debounce","deskworks.Owner","deskworks.Region"]).controller("OwnersRegionsCtrl",["$scope","$translate","dwAlerts","state","debounce","owners","regions","Owner","Region",function(e,t,n,a,f,l,r,i,o){var c=this;a.setPageTitle(t.instant("OWNERS_REGIONS.PAGE_TITLE")),c.owners=l,c.regions=r,c.saveOwner=f((function(e,t,a){if(t.$invalid)return;return e.$$spin=!0,i.save(e).catch((function(e){return n.error(e,"Failed to save owner.")})).finally((function(){e.$$spin=!1}))}),1e3),c.saveRegion=f((function(e,t,a){if(t.$invalid)return;return e.$$spin=!0,o.save(e).catch((function(e){return n.error(e,"Failed to save region.")})).finally((function(){e.$$spin=!1}))}),1e3),c.newOwner=function(){c.owners.push({})},c.newRegion=function(){c.regions.push({})},c.deleteOwner=function(e,t){if(e.id)return e.$$spin=!0,i.delete(e.id).catch((function(e){return n.error(e,"Failed to delete owner.")})).then((function(){var e;s()(e=c.owners).call(e,t,1)})).finally((function(){e.$$spin=!1}));var a;s()(a=c.owners).call(a,t,1)},c.deleteRegion=function(e,t){if(e.id)return e.$$spin=!0,o.delete(e.id).catch((function(e){return n.error(e,"Failed to delete region.")})).then((function(){var e;s()(e=c.regions).call(e,t,1)})).finally((function(){e.$$spin=!1}));var a;s()(a=c.regions).call(a,t,1)}}])},GQHb:function(e,t,n){"use strict";n.r(t);n("wx3J");var a=n("I5Zy");t.default=angular.module("deskworks.fdToolbar",["deskworks.fdFieldTypes",a.a.name]).directive("fdToolbar",(function(){return{scope:!0,templateUrl:"user-fields/fd/fd-toolbar.tpl.html",controller:"FdToolbarCtrl as $ctrl",bindToController:{deleting:"<"}}})).controller("FdToolbarCtrl",["$scope","$element","$window","dnd","helper","fdFieldTypes",function(e,t,n,a,s,f){var l,r=this;function i(e){var n=t[0].parentNode.getBoundingClientRect();t.css("top",-Math.min(n.top-5,0)+"px")}r.$onInit=function(){r.types=f,(l=document.querySelector(".snap-content-scroller")).addEventListener("scroll",i),i()},r.onDrop=function(e,t,n,s){return a.move([{type:n.id,name:"",section:s}],0,e,t),!0},r.$onDestroy=function(){l.removeEventListener("scroll",i)}}])},JnBz:function(e,t){e.exports='<form name=vm.form id=setupSettings novalidate ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class="ff-grid gutter-v gutter-h"> <div> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{lg: \'0 0 50%\'}"> <ff-panel-header><span translate=SETUP_SETTINGS.GENERAL.HEADER></span></ff-panel-header> <label class=ff-row> <ff-label flex="{xs: \'0 1 140px\', sm: \'0 1 220px\'}"><req translate=SETUP_SETTINGS.LANGUAGE></req></ff-label> <ff-select name=locale ff-model=vm.settings.locale ff-options="locale.id as locale.name for locale in $resolve.locales" ff-required=true ff-validate-alert="{{\'SETUP_SETTINGS.LANGUAGE\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="{xs: \'0 1 140px\', sm: \'0 1 220px\'}"><span translate=SETUP_SETTINGS.DASHBOARD_INCOME></span></ff-label> <ff-select name=dashboardIncome ff-model=vm.settings.dashboardIncome ff-required=true ff-options="opt.id as opt.name for opt in vm.optsDashboardIncome"></ff-select> </label> <ff-row> <ff-label flex="{xs: \'0 1 140px\', sm: \'0 1 220px\'}"><span translate=SETUP_SETTINGS.CC_TYPES></span></ff-label> <ff-static> <div class="ff-grid gutter-h-half" style=justify-content:flex-start> <label flex=none ng-repeat="ccType in vm.settings.creditCardTypes"> <ff-checkbox name={{ccType.id}} ff-model=ccType.enable ff-required=vm.ccTypeRequired() ff-validate-alert="{{\'SETUP_SETTINGS.CC_TYPES.AT_LEAST_ONE\' | translate}}">{{ccType.name}}</ff-checkbox> </label> </div> </ff-static> </ff-row> <ff-static> <label class=ff-row> <ff-checkbox name=timeFormat ff-model=vm.settings.timeFormat ff-true-value=24 ff-false-value=12> <span translate=SETUP_SETTINGS.TIME_FORMAT></span> </ff-checkbox> </label> </ff-static> <ff-static> <label class=ff-row> <ff-checkbox name=sendNoticesFromLocalCenter ff-model=vm.settings.sendNoticesFromLocalCenter> <span translate=SETUP_SETTINGS.NOTICES_FROM_LOCAL_FACILITY></span> </ff-checkbox> </label> </ff-static> <ff-static> <label> <ff-checkbox name=skipPlanMemberSignUp ff-model=vm.settings.skipPlanMemberSignUp> <span translate=SETUP_SETTINGS.SKIP_PLAN_MEMBER_SIGN_UP></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.SKIP_PLAN_MEMBER_SIGN_UP.HINT></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=creditCardAddressOptional ff-model=vm.settings.creditCardAddressOptional> <span translate=SETUP_SETTINGS.CC_ADDRESS_OPTIONAL></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.CC_ADDRESS_OPTIONAL.HINT></span></ff-hint> </ff-static> <label class=ff-row> <ff-label flex="{xs: \'0 1 160px\', sm: \'0 1 250px\'}"> <span> <span translate=SETUP_SETTINGS.GTM_CONTAINER_ID></span> <ff-hint><span translate=SETUP_SETTINGS.GTM_CONTAINER_ID.HINT></span></ff-hint> </span> </ff-label> <ff-text name=gtmContainerId ff-model=vm.settings.gtmContainerId ff-validate-alert="{{\'SETUP_SETTINGS.GTM_CONTAINER_ID\' | translate}}"></ff-text> </label> </ff-panel> <ff-panel flex="{lg: \'0 0 50%\'}"> <ff-panel-header><span translate=SETUP_SETTINGS.FEATURES.HEADER></span></ff-panel-header> <ff-static> <label> <ff-checkbox name=enableEmailing ff-model=vm.settings.enableEmailing> <span translate=SETUP_SETTINGS.ENABLE_EMAILING></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.ENABLE_EMAILING.HINT></span></ff-hint> </ff-static> <ff-static> <label class=ff-row> <ff-checkbox name=enableEChecks ff-model=vm.settings.enableEChecks> <span translate=SETUP_SETTINGS.USE_E_CHECKS></span> </ff-checkbox> </label> </ff-static> <ff-static> <label class=ff-row> <ff-checkbox name=isFranchise ff-model=vm.settings.isFranchise> <span translate=SETUP_SETTINGS.IS_FRANCHISE></span> </ff-checkbox> </label> </ff-static> <ff-static> <label class=ff-row> <ff-checkbox name=enableAccessCodes ff-model=vm.settings.enableAccessCodes> <span translate=SETUP_SETTINGS.ENABLE_ACCESS_CODES></span> </ff-checkbox> </label> </ff-static> <ff-static> <label> <ff-checkbox name=activateMembersForAllCenters ff-model=vm.settings.activateMembersForAllCenters> <span translate=SETUP_SETTINGS.ACTIVATE_MEMBERS_FOR_ALL_CENTERS></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.ACTIVATE_MEMBERS_FOR_ALL_CENTERS.HINT></span></ff-hint> </ff-static> </ff-panel> </div> </div> <div> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{lg: \'0 0 50%\'}"> <ff-panel-header><span translate=SETUP_SETTINGS.SWEEP.HEADER></span></ff-panel-header> <ff-static> <label class=ff-row> <ff-checkbox name=sweepCharges ff-model=vm.settings.sweepCharges> <span translate=SETUP_SETTINGS.SWEEP_CHARGES></span> </ff-checkbox> </label> </ff-static> <label class=ff-row> <ff-label flex="0 0 60%" ng-disabled=!vm.settings.sweepCharges> <req translate=SETUP_SETTINGS.ADVANCE_INVOICING_DAYS></req> </ff-label> <ff-select name=advanceInvoicingDays ff-model=vm.settings.advanceInvoicingDays ff-required=true ff-options="days.name for days in vm.advanceInvoicingDays" ff-disabled=!vm.settings.sweepCharges ff-validate-alert="{{\'SETUP_SETTINGS.ADVANCE_INVOICING_BY\' | translate}}"></ff-select> </label> <ff-static> <label class=ff-row> <ff-checkbox name=emailSweptInvoices ff-model=vm.settings.emailSweptInvoices ff-disabled=!vm.settings.sweepCharges> <span translate=SETUP_SETTINGS.EMAIL_SWEPT_INVOICES></span> </ff-checkbox> </label> </ff-static> <label class=ff-row> <ff-label flex="0 0 60%" ng-disabled=!vm.settings.sweepCharges> <span translate=SETUP_SETTINGS.INVOICE_DATE></span> </ff-label> <ff-select name=invoiceDate ff-model=vm.settings.invoiceDate ff-options="date.name for date in vm.optsInvoiceDate" ff-disabled=!vm.settings.sweepCharges></ff-select> </label> </ff-panel> <ff-panel flex="{lg: \'0 0 50%\'}"> <ff-panel-header><span translate=SETUP_SETTINGS.RESERVATION.HEADER></span></ff-panel-header> <ff-static> <label> <ff-checkbox name=sendReservationReminder ff-model=vm.settings.sendReservationReminder> <span translate=SETUP_SETTINGS.RESERVATION_REMINDER></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.RESERVATION_REMINDER.HINT></span></ff-hint> </ff-static> <label class=ff-row> <ff-label flex="0 1 200px"><span translate=SETUP_SETTINGS.RESERVATION_CREDITS_UNIT></span></ff-label> <ff-select name=reservationCreditsUnit ff-model=vm.settings.reservationCreditsUnit> <option ng-repeat="opt in vm.optsReservationCreditsUnit" ng-value=opt.id>{{opt.name}}</option> </ff-select> </label> <label class=ff-row> <ff-label flex="0 1 200px"> <span> <span translate=SETUP_SETTINGS.MIN_PASS_UNIT></span> <ff-hint><span translate=SETUP_SETTINGS.MIN_PASS_UNIT.HINT></span></ff-hint> </span> </ff-label> <ff-select name=minPassInPercent ff-model=vm.settings.minPassInPercent ff-options="opt.id as opt.name for opt in vm.optsMinPassFractionUnit"> </ff-select> </label> <label class=ff-row> <ff-label flex="0 1 200px"><span translate=SETUP_SETTINGS.RESERVATION_INFO_VISIBILITY></span></ff-label> <ff-select name=publicReservationDetails ff-model=vm.settings.publicReservationDetails> <option ng-value=false translate=SETUP_SETTINGS.RESERVATION_INFO_VISIBILITY.SHARED></option> <option ng-value=true translate=SETUP_SETTINGS.RESERVATION_INFO_VISIBILITY.ALL></option> </ff-select> </label> <ff-static> <label> <ff-checkbox name=hideReservationCostEstimate ff-model=vm.settings.hideReservationCostEstimate> <span translate=SETUP_SETTINGS.HIDE_RESERVATION_COST_ESTIMATE></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.HIDE_RESERVATION_COST_ESTIMATE.HINT></span></ff-hint> </ff-static> <ff-static> <label> <ff-checkbox name=hideRecurringReservations ff-model=vm.settings.hideRecurringReservations> <span translate=SETUP_SETTINGS.HIDE_RECURRING_RESERVATIONS></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=SETUP_SETTINGS.HIDE_RECURRING_RESERVATIONS.HINT></span></ff-hint> </ff-static> </ff-panel> </div> </div> <div> <div class="ff-grid gutter-h gutter-v"> <ff-panel flex="{lg: \'0 0 50%\'}"> <ff-panel-header> <span translate=SETUP_SETTINGS.PRO_RATION.HEADER></span> <ff-hint><span translate=SETUP_SETTINGS.PRO_RATION.HINT></span></ff-hint> </ff-panel-header> <label class=ff-row> <ff-label flex="0 1 200px"><span translate=SETUP_SETTINGS.PRO_RATE_AT_START></span></ff-label> <ff-select name=prorateAtStart ff-model=vm.settings.prorateAtStart ff-options="opt.id as opt.name for opt in vm.optsProrateAtStart"> </ff-select> </label> <label class=ff-row> <ff-label flex="0 1 200px"><span translate=SETUP_SETTINGS.PRO_RATE_AT_TERMINATION></span></ff-label> <ff-select name=prorateAtTermination ff-model=vm.settings.prorateAtTermination ff-options="opt.id as opt.name for opt in vm.optsProrateAtTermination"> </ff-select> </label> </ff-panel> <ff-panel flex="{lg: \'0 0 50%\'}"> <ff-panel-header> <span translate=SETUP_SETTINGS.PROCESSING_CHARGES.HEADER></span> <ff-hint><span translate=SETUP_SETTINGS.PROCESSING_CHARGES.HINT></span></ff-hint> </ff-panel-header> <ff-static> <label class=ff-row> <ff-checkbox name=enablePaymentProcessingCharges ff-model=vm.settings.enablePaymentProcessingCharges> <span translate=SETUP_SETTINGS.PROCESSING_CHARGES.ENABLE></span> </ff-checkbox> </label> </ff-static> <label class=ff-row> <ff-label flex="0 1 220px" ng-disabled=!vm.settings.enablePaymentProcessingCharges> <span translate=SETUP_SETTINGS.PROCESSING_CHARGES.CC_RATE></span> </ff-label> <ff-number name=paymentProcessingRatesCc ff-model=vm.settings.paymentProcessingRates.cc ff-disabled=!vm.settings.enablePaymentProcessingCharges ff-gte=0 ff-validate-alert="{{\'SETUP_SETTINGS.PROCESSING_CHARGES.PERCENT\' | translate}}"></ff-number> </label> <label class=ff-row> <ff-label flex="0 1 220px" ng-disabled=!vm.settings.enablePaymentProcessingCharges> <span translate=SETUP_SETTINGS.PROCESSING_CHARGES.ACH_RATE></span> </ff-label> <ff-number name=paymentProcessingRatesAch ff-model=vm.settings.paymentProcessingRates.ach ff-disabled=!vm.settings.enablePaymentProcessingCharges ff-gte=0 ff-validate-alert="{{\'SETUP_SETTINGS.PROCESSING_CHARGES.PERCENT\' | translate}}"></ff-number> </label> </ff-panel> </div> </div> <div> <div class="ff-grid gutter-h"> <ff-panel ng-if=vm.settings.calendarIntegration flex="{xl: \'0 0 50%\'}"> <ff-panel-header><span translate=SETUP_SETTINGS.CALENDAR.HEADER></span></ff-panel-header> <ff-row> <label flex=auto> <ff-label flex=auto><span translate=SETUP_SETTINGS.CALENDAR.CONNECTION></span></ff-label> <ff-static flex=none ng-if=vm.settings.calendarConnected> <span> <ff-icon sense=check></ff-icon> <span translate=SETUP_SETTINGS.CALENDAR.CONNECTED></span> </span> </ff-static> </label> <ff-btn-group flex=none class=buttons-row> <a ng-if=!vm.settings.calendarConnected href={{vm.settings.calendarGrantUrl}} target=_self style="background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ0AAAAWCAMAAADtj27/AAAA8FBMVEX///8AR5cHS58ARZUAJlYAQ5Oj0O0AesoASpoAeMgAdsYATZ0Ac8MAcMAAbLwAUaEAXq4AVKQAabkAZrYARHgiaK4RXaczdLRml7/u8/hEgrx3oMMASX1EjMdmmMgRYq2qwNV3lbEAV6MAbrczYYoiU4B3o8yqxd+7y9kAUY7d5ex3r9oAQHTP2uQAWJuIrcyIpL1EbpRVlsxVe55miKdEgLGIttsBM3IEOn5yh6IYOmYiesCZsMUAQ4UCLmZVh7Azc6dJnNWSwuURWpRAdKUiXJEiZqVAfKRmlMQzbq4zldW12fEAPHcwgMB3q9Yzf7mR9TIhAAADaklEQVRIic1VaXPaSBRs5GU3sWNACEkMCEkILAYZcZnDNthxzNpkiZX9//8mbw7hxHbV5sNWQldJPa+n38EMBUDsGIcJJwbixv2fr2B8ea39ctw3YkSfVn+9grF7rf1yrD5FKLzPcdwRkEtj9/4QUEDhWMN+mG+386lcG7vjQ0ABRx8UOrN0wRDuZGDsPvx/8DY/57M9+4VyhOKpwhzZaQuJCoyWVk87fc/zhqc/gaD0Yzz0bCUi3GslUc17YcwxR/2FUkSxpBDisVTiUIGRaTWYcADnpf9GsL37UfiKqRIR7j3dkFG51dsV6mi+UIq4rCr0MAuCNVPBSabVOyTT7HxV7ddqnlOt1gh9Ik+SUIfVakDUD7Zo10gaklKrCfo3dJWIULmpGmPnWetcpQz3JOqQg6bbKwqXuLQUMrDthPkqMDKtcnQEbUIgmVgW6KOvHQsJwDfWkNSxYz3Q8fZWdCaMnD6aAWNBHVO6KCXqJEIIXbebAm0npw0nS2jRdNZDCnZh5XiezsoWCZoVtT5ZaRHcUmW/thI8UiO/hznRdIGRNYZ/j49OwqatzBphJJI64HfAHYdsJkWwFqckUS21rMFgMHQYa/UoUxFV9xdqukrKWins76araAyfxkg9tS6vtAi+pzrqgkUNESKsJOnAw7qBkbAIXYBjTCeqjVIkp96kVYWOsy5SXISa8nJkesR4MMPHfKRLLNUi8tr8S4Kkr6az9X7CnqLoJgKPohn8vJHsEopGdKcNtKMoqtCVRiKD/hw5XZgvjVJ8no5Rtc4ITZHSV5lENF10o0y+LBnn0y2xNCX6aWqbQQ9rFQaKTB+8W5sNOS7O6MRNhCbVECQexi667ccArHv2YFIrT2TYNNkICKRRijqJEINPBm36ZiI5W8PXZKbotpXJRjqZzPLm5hK3alHH34LSUEblKDf44idgatNpsAaN1KN5Y0HiccVew2wQ9UwnQSozEjiuWAqjFHWSHE9kYEpTAwszJ1knlCZ5eHlv8xa3ZQkf7aebm6fkswrN8h62K9+2fDvlsutIEo/eK7ty03XKuVNuuvqlkxQc5c0FSRu6AsR5gv3cmqY7kYhS8GYzGZ38BnwWX9+3Nmi6dxqNOPbtd78F0T/RmzpNVzhc3OL66HBxjatl8VCxvAKurv84TFxf4RvjbsCNLOsK3AAAAABJRU5ErkJggg==);background-size:100%;display:inline-block;width:160px;height:22px;margin-left:5px"></a> <ff-btn ng-if=vm.settings.calendarConnected sense=delete size=sm ff-click=vm.disconnectCalendar()> <span translate=SETUP_SETTINGS.CALENDAR.BTN_DISCONNECT></span> </ff-btn> </ff-btn-group> </ff-row> <label class=ff-row ng-if=vm.settings.googleCalendarEmail> <ff-label flex="0 0 50%"><span translate=SETUP_SETTINGS.CALENDAR.EMAIL></span></ff-label> <ff-static>{{vm.settings.googleCalendarEmail}}</ff-static> </label> <ff-static ng-if=vm.settings.calendarConnected> <label class=ff-row> <ff-checkbox name=addCenterPrefixToCalendar ff-model=vm.settings.addCenterPrefixToCalendar> <span translate=SETUP_SETTINGS.CALENDAR.CENTER_PREFIX></span> </ff-checkbox> </label> </ff-static> <ff-header ng-if=vm.settings.calendarConnected style=margin-top:.6rem;padding-bottom:.6rem> <span><span translate=SETUP_SETTINGS.CALENDAR.ACCOUNTS></span>:</span> </ff-header> <ff-row ng-if=vm.settings.calendarConnected ng-repeat="calOwner in vm.settings.calendarOwners"> <label flex="0 0 50%"> <ff-label flex="0 0 65px"><span translate=SETUP_SETTINGS.CALENDAR.ACCOUNT></span></ff-label> <ff-search flex=auto name=calendarAssignedToMember ng-model=calOwner.owner dw-search-user=activeNameOnly></ff-search> </label> <label flex="0 1 50%"> <ff-label flex=none> <span> <span translate=SETUP_SETTINGS.CALENDAR.KEYWORD></span> <ff-hint><span translate=SETUP_SETTINGS.CALENDAR.KEYWORD.HINT></span></ff-hint> </span> </ff-label> <ff-text name=mask ff-model=calOwner.mask></ff-text> </label> <ff-btn sense=delete size=xs ff-click=vm.deleteCalendarOwner(calOwner) title="{{\'SETUP_SETTINGS.CALENDAR.BTN_DELETE_ACCOUNT.HINT\' | translate}}"></ff-btn> </ff-row> <ff-btn-group class=ff-section-buttons ng-if=vm.settings.calendarConnected> <ff-btn sense=add size=sm ff-click=vm.addCalendarOwner(calOwner)> <span translate=SETUP_SETTINGS.CALENDAR.BTN_ADD_ACCOUNT></span> </ff-btn> </ff-btn-group> </ff-panel> </div> </div> <ff-btn-group> <ff-btn sense=save type=submit ff-click=vm.save() ff-disabled=vm.form.$pristine> <span translate=GLOBAL.BTN_SAVE></span> </ff-btn> </ff-btn-group> </div> </form> '},MYVj:function(e,t){e.exports='<div id=integrationsSetup ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class="ff-grid gutter-v gutter-h"> <quick-books-centers flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.quickBooks qb-apps=$ctrl.qbApps></quick-books-centers> <quick-books-apps flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.quickBooks qb-apps=$ctrl.qbApps></quick-books-apps> <appointment-plus-settings flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.appointmentPlus></appointment-plus-settings> <teamgo-settings flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.teamgo></teamgo-settings> <kisi-settings flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.kisi></kisi-settings> <ezeep-settings flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.ezeep></ezeep-settings> <greetly-settings flex="{lg: \'0 0 50%\'}" ng-if=$ctrl.greetly></greetly-settings> </div> </div> '},Mtz3:function(e,t,n){"use strict";n.r(t);var a=n("WSeP"),s=n.n(a);t.default=angular.module("deskworks.fdFieldTypes",[]).factory("fdFieldTypes",["$rootScope","$translate",function(e,t){var n=[{id:"text",icon:"fa fa-text-width",_name:"USER_FIELDS.TYPE.TEXT"},{id:"textarea",icon:"fa fa-text-height",_name:"USER_FIELDS.TYPE.TEXTAREA"},{id:"date",icon:"fa fa-calendar",_name:"USER_FIELDS.TYPE.DATE"},{id:"url",icon:"fa fa-chain",_name:"USER_FIELDS.TYPE.URL"},{id:"email",icon:"fa fa-at",_name:"USER_FIELDS.TYPE.EMAIL"},{id:"phone",icon:"fa fa-phone",_name:"USER_FIELDS.TYPE.PHONE"},{id:"number",icon:"fa fa-hashtag",_name:"USER_FIELDS.TYPE.NUMBER"}];function a(){s()(n).call(n,(function(e){e.name=t.instant(e._name)}))}return s()(n).call(n,(function(e){n[e.id]=e})),a(),e.$on("$setTranslationsSuccess",a),n}])},"Mxc/":function(e,t,n){var a={"./api-settings/api-settings.tpl.html":"nnEW","./banks/bank-edit.tpl.html":"uBTc","./banks/banks.tpl.html":"WWK5","./bar-upload-settings/bar-upload-settings.tpl.html":"Ss88","./bundles/bundles.tpl.html":"jkQh","./center/center-edit.tpl.html":"mX0C","./center/center-list.tpl.html":"jPFR","./integrations-setup/integrations-setup.tpl.html":"MYVj","./owners-regions/owners-regions.tpl.html":"gA3c","./settings/settings.tpl.html":"JnBz","./system-email/system-email-edit.tpl.html":"/qs1","./system-email/system-email-list.tpl.html":"jvv4","./task/task-edit.tpl.html":"DPgT","./task/task-list.tpl.html":"SXpF","./user-fields/fd/fd-toolbar.tpl.html":"0zcp","./user-fields/user-fields.tpl.html":"uiVx"};function s(e){var t=f(e);return n(t)}function f(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=f,e.exports=s,s.id="Mxc/"},N4ug:function(e,t,n){"use strict";n.r(t);var a=n("nbuU"),s=n.n(a),f=n("WSeP"),l=n.n(f),r=n("+l1P");t.default=angular.module("deskworks.SetupBanksCtrl",["deskworks.SetupBankEditCtrl","deskworks.bank.service","deskworks.routeHelper","deskworks.optsTimezone",r.a.name]).controller("SetupBanksCtrl",["$scope","$translate","state","helper","banks","optsTimezone",function(e,t,n,a,f,r){var i;n.setPageTitle(t.instant("BANKS.PAGE_TITLE")),this.banks=f,l()(i=this.banks).call(i,(function(e){e.timezone=(s()(a).call(a,r,e.timezone)||{}).name||e.timezone})),this.edit=function(e){return n.setPath("/banks/"+e.id)},this.new=function(){return n.setPath("/banks/new")}}])},Qzss:function(e,t,n){"use strict";n.r(t);var a=n("WSeP"),s=n.n(a);t.default=angular.module("deskworks.TaskEditCtrl",["deskworks.Task","deskworks.optsTaskPermission"]).controller("TaskEditCtrl",["$scope","$translate","dwAlerts","state","helper","task","Task","optsTaskPermission",function(e,t,n,a,f,l,r,i){var o,c=this;(a.setPageTitle(t.instant(l.id?"TASKS.EDIT.PAGE_TITLE":"TASKS.NEW.PAGE_TITLE")),l.permissions=l.permissions||{},c.task=l,c.roles=l.options.roles,c.optsTaskPermission=i,c.task.id)||s()(o=c.roles).call(o,(function(e){c.task.permissions[e.id]="view","nonMember"!==e.id&&"member"!==e.id||(c.task.permissions[e.id]=null),"admin"!==e.id&&"master"!==e.id||(c.task.permissions[e.id]="edit")}));c.save=function(){if(!f.pointFirstInvalid("#taskEdit")){var t=!c.task.id;return r.save(c.task).catch((function(e){return n.error(e,"Failed to save task.")})).then((function(n){if(e.$emit("SIDEBAR:REFRESH"),t)return a.setPath("/tasks/"+n.id);c.form.$setPristine()}))}},c.remove=function(){if(confirm(t.instant("TASKS.CONFIRM_DELETE")))return r.delete(c.task.id).catch((function(e){return n.error(e,"Failed to delete task.")})).then((function(){return e.$emit("SIDEBAR:REFRESH"),a.setPath("/tasks")}))},c.back=function(){return a.setPath("/tasks")},c.onChangeIsGroup=function(){var e;c.task.isGroup&&s()(e=c.roles).call(e,(function(e){c.task.permissions[e.id]&&(c.task.permissions[e.id]="view")}))}}])},SXpF:function(e,t){e.exports='<script type=text/ng-template id=taskListTpl> <ff-panel>\n    <ff-header>\n      <ff-row>\n        <cell class="ff-center" flex="0 0 50px" title="{{\'GLOBAL.POSITION.HINT\' | translate}}">\n          <span translate="GLOBAL.POSITION"></span>\n        </cell>\n        <cell flex="0 0 35%"><span translate="TASKS.NAME"></span></cell>\n        <cell><span translate="TASKS.PERMISSIONS.HEADER"></span></cell>\n        <ff-btn size="xs" flex="none" class="buttons-row zero-height"></ff-btn>\n      </ff-row>\n    </ff-header>\n\n    <ff-row ng-repeat="task in tasks">\n      <ff-static class="ff-center" flex="0 0 50px" ff-bind="task.position" ng-if="!task.isGroup"></ff-static>\n      <ff-static flex="0 0 35%" ff-bind="task.name" ng-if="!task.isGroup"></ff-static>\n      <ff-static ng-if="!task.isGroup">\n        <span>\n          <span ng-if="task.viewRoles" style="background: #eceaea">{{task.viewRoles}}</span>\n          <span ng-if="task.editRoles">{{task.editRoles}}</span>\n        </span>\n      </ff-static>\n\n      <ff-label class="ff-center standout em" flex="0 0 50px" ng-if="task.isGroup"><span style="font-size: .8666rem">{{task.position}}</span></ff-label>\n      <ff-label class="standout em" flex="0 0 35%" ng-if="task.isGroup"><span style="font-size: .8666rem">{{task.name}}</span></ff-label>\n      <ff-label class="standout em" ng-if="task.isGroup">\n        <span ng-if="task.viewRoles" style="font-size: .8666rem">{{task.viewRoles}}</span>\n      </ff-label>\n\n      <ff-btn sense="edit" size="xs" flex="none" ff-click="$ctrl.edit(task)"\n              class="buttons-row" title="{{\'GLOBAL.BTN_EDIT\' | translate}}"></ff-btn>\n    </ff-row>\n  </ff-panel> <\/script> <div class=task-list ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=gutter-v> <div class=ff-grid> <label class=ff-row flex="0 0 210px" style=margin-left:auto> <div flex="0 0 45%"> <span style="border:1px solid;width:35px;max-height:20px;background:#eceaea"></span> &nbsp; <span translate=TASKS.PERMISSION.VIEW></span> </div> <div flex="0 0 55%"> <span style="border:1px solid;width:35px;max-height:20px"></span> &nbsp; <span translate=TASKS.PERMISSION.EDIT></span> </div> </label> </div> <div> <ng-include src="\'taskListTpl\'" ng-init="tasks = $ctrl.tasks"></ng-include> </div> <ff-btn-group ng-if="$ctrl.tasksHidden.length > 0"> <ff-btn sense=collapse ng-class="{ collapsed: $ctrl.tasksHiddenCollapse }" ff-click="$ctrl.tasksHiddenCollapse = !$ctrl.tasksHiddenCollapse"> <span translate=TASKS.BTN_HIDDEN></span> </ff-btn> </ff-btn-group> <div> <div ng-collapse=$ctrl.tasksHiddenCollapse ng-if="$ctrl.tasksHidden.length > 0"> <ng-include src="\'taskListTpl\'" ng-init="tasks = $ctrl.tasksHidden"></ng-include> </div> </div> <ff-btn-group> <ff-btn sense=new ff-click=$ctrl.new()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </div> </div> '},Ss88:function(e,t){e.exports='<form name=$ctrl.form id=setupBarUploadSettings novalidate ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <flex-form style=max-width:640px> <label class=ff-row> <ff-label flex="0 1 220px"><req translate=BAR_UPLOAD_SETTINGS.PRODUCT></req></ff-label> <ff-select flex="1 1 370px" name=product ff-model=$ctrl.settings.product ff-required=true ff-options="product.name for product in $ctrl.settings.options.serviceProducts" ff-validate-alert="{{\'BAR_UPLOAD_SETTINGS.PRODUCT\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="0 1 220px"><req translate=BAR_UPLOAD_SETTINGS.MEMBER_NAME></req></ff-label> <ff-text flex="1 1 370px" name=colMemberName ff-model=$ctrl.settings.colMemberName ff-required=true ff-validate-alert="{{\'BAR_UPLOAD_SETTINGS.MEMBER_NAME\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 220px"><req translate=BAR_UPLOAD_SETTINGS.CHARGE_AMOUNT></req></ff-label> <ff-text flex="1 1 370px" name=colChargeAmount ff-model=$ctrl.settings.colChargeAmount ff-required=true ff-validate-alert="{{\'BAR_UPLOAD_SETTINGS.CHARGE_AMOUNT\' | translate}}"></ff-text> </label> </flex-form> <ff-btn-group class=buttons-bottom> <ff-btn sense=save type=submit ff-click=$ctrl.save() ff-disabled=$ctrl.form.$pristine> <span translate=GLOBAL.BTN_SAVE></span> </ff-btn> </ff-btn-group> </form> '},WGEb:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.IntegrationsSetupCtrl",[]).controller("IntegrationsSetupCtrl",["$scope","$translate","$injector","dwAlerts","state","helper",function(e,t,n,a,s,f){var l=this;s.setPageTitle(t.instant("INTEGRATIONS_SETUP.PAGE_TITLE")),l.appointmentPlus=n.has("appointmentPlusSettingsDirective"),l.quickBooks=n.has("quickBooksCentersDirective"),l.teamgo=n.has("teamgoSettingsDirective"),l.kisi=n.has("kisiSettingsDirective"),l.ezeep=n.has("ezeepSettingsDirective"),l.greetly=n.has("greetlySettingsDirective")}])},WWK5:function(e,t){e.exports='<div class=banks ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=gutter-v> <ff-panel> <span ng-if=!$ctrl.banks.length translate=BANKS.LIST.EMPTY></span> <ff-header ng-show="$ctrl.banks.length > 0"> <ff-row> <cell flex="1 1 25%"><span translate=BANKS.NAME></span></cell> <cell flex="1 1 25%"><span translate=BANKS.TIMEZONE></span></cell> <cell flex="1 1 25%" class=ff-center><span translate=BANKS.CC_CUT_OFF_TIME></span></cell> <cell flex="1 1 25%" class=show-sm><span translate=BANKS.NOTES></span></cell> <ff-btn size=xs class="buttons-row zero-height"></ff-btn> </ff-row> </ff-header> <ff-row ng-repeat="bank in $ctrl.banks"> <ff-static flex="1 1 25%" ff-bind=bank.name></ff-static> <ff-static flex="1 1 25%" ff-bind=bank.timezone></ff-static> <ff-static flex="1 1 25%" class=ff-center><span nice-time=bank.creditCardCutOffTime></span></ff-static> <ff-static flex="1 1 25%" ff-bind=bank.notes class=show-sm></ff-static> <ff-btn sense=edit size=xs flex=none class=buttons-row ff-click=$ctrl.edit(bank) title="{{\'GLOBAL.BTN_EDIT\' | translate}}"></ff-btn> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=new ff-click=$ctrl.new()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </div> </div> '},"YN9/":function(e,t,n){var a={"./api-settings/api-settings.controller.js":"9SuE","./banks/bank-edit.controller.js":"obni","./banks/banks.controller.js":"N4ug","./bar-upload-settings/bar-upload-settings.controller.js":"zFln","./bundles/bundles.controller.js":"5f5L","./center/center-edit.controller.js":"jRg5","./center/center-list.controller.js":"oyNP","./integrations-setup/integrations-setup.controller.js":"WGEb","./owners-regions/owners-regions.controller.js":"GEpe","./settings/settings.controller.js":"E3ve","./system-email/system-email-edit.controller.js":"eCeB","./system-email/system-email-list.controller.js":"3S0r","./task/task-edit.controller.js":"Qzss","./task/task-list.controller.js":"fbCv","./user-fields/fd/fd-field-types.service.js":"Mtz3","./user-fields/fd/fd-toolbar.directive.js":"GQHb","./user-fields/user-fields.controller.js":"9Jlz"};function s(e){var t=f(e);return n(t)}function f(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=f,e.exports=s,s.id="YN9/"},YUWK:function(e,t,n){},eCeB:function(e,t,n){"use strict";n.r(t);var a=n("nbuU"),s=n.n(a);t.default=angular.module("deskworks.SystemEmailEditCtrl",["deskworks.system.service"]).controller("SystemEmailEditCtrl",["$scope","$translate","dwAlerts","state","helper","systemEmail","systemService","optsSystemEmailFunction",function(e,t,n,a,f,l,r,i){var o,c=this;a.setPageTitle(t.instant(l.id?"SYSTEM_EMAILS.EDIT.PAGE_TITLE":"SYSTEM_EMAILS.NEW.PAGE_TITLE")),c.systemEmail=l,c.functions=i,c.systemEmail.function=s()(o=c.functions).call(o,(function(e){return e.id===c.systemEmail.function}))||c.functions[0],c.save=function(){if(!f.pointFirstInvalid("#systemEmailEdit")){var e={function:c.systemEmail.function.id,email:c.systemEmail.email};return(c.systemEmail.id?r.updateSystemEmail(c.systemEmail.id,e):r.createSystemEmail(e)).catch((function(e){return n.error(e,"Failed to save system email.")})).then((function(e){if(!c.systemEmail.id)return a.setPath("/system-emails/"+e.id);c.form.$setPristine()}))}},c.remove=function(){if(confirm(t.instant("SYSTEM_EMAILS.CONFIRM_DELETE")))return r.removeSystemEmail(c.systemEmail.id).catch((function(e){return n.error(e,"Failed to remove system email.")})).then((function(){return a.setPath("/system-emails")}))},c.back=function(){return a.setPath("/system-emails")}}])},fbCv:function(e,t,n){"use strict";n.r(t);n("8cZI");var a=n("WSeP"),s=n.n(a);t.default=angular.module("deskworks.TaskListCtrl",[]).controller("TaskListCtrl",["$scope","$translate","state","helper","tasks",function(e,t,n,a,f){var l,r=this;n.setPageTitle(t.instant("TASKS.PAGE_TITLE")),r.tasks=[],r.tasksHidden=[],r.tasksHiddenCollapse=!0,r.roles=f.options.roles,s()(l=f.tasks).call(l,(function(e){var t;(e.position?r.tasks:r.tasksHidden).push(e);var n=[],a=[];s()(t=r.roles).call(t,(function(t){return"edit"===e.permissions[t.id]?a.push(t.name):"view"===e.permissions[t.id]?n.push(t.name):void 0})),e.viewRoles=n.join(", "),e.editRoles=a.join(", "),e.viewRoles&&e.editRoles&&!e.isGroup&&(e.viewRoles+=",")})),r.edit=function(e){return n.setPath("/tasks/"+e.id)},r.new=function(){return n.setPath("/tasks/new")}}])},gA3c:function(e,t){e.exports='<div class=owners-regions ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{md: \'0 0 50%\'}" class=ff-flex-start> <ff-panel-header><span translate=OWNERS_REGIONS.OWNERS.HEADER></span></ff-panel-header> <ff-header> <ff-row> <cell><req translate=OWNERS_REGIONS.OWNERS.NAME></req></cell> </ff-row> </ff-header> <form name=form ng-repeat="owner in $ctrl.owners" novalidate> <ff-row ff-dim=owner.$$spin> <ff-text ff-model=owner.name ff-required=true ff-validate-alert="{{\'OWNERS_REGIONS.OWNERS.NAME\' | translate}}" ff-change="$ctrl.saveOwner(owner, form, $index)"></ff-text> <ff-btn sense=remove size=xs flex=none class=buttons-row ff-click="$ctrl.deleteOwner(owner, $index)" title="{{\'GLOBAL.BTN_DELETE\' | translate}}"></ff-btn> </ff-row> </form> <ff-btn-group class=ff-section-buttons> <ff-btn sense=new size=sm ff-click=$ctrl.newOwner()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </ff-panel> <ff-panel flex="{md: \'0 0 50%\'}" class=ff-flex-start> <ff-panel-header><span translate=OWNERS_REGIONS.REGIONS.HEADER></span></ff-panel-header> <ff-header> <ff-row> <cell><req translate=OWNERS_REGIONS.REGIONS.NAME></req></cell> </ff-row> </ff-header> <form name=form ng-repeat="region in $ctrl.regions" novalidate> <ff-row ff-dim=region.$$spin> <ff-text ff-model=region.name ff-required=true ff-validate-alert="{{\'OWNERS_REGIONS.REGIONS.NAME\' | translate}}" ff-change="$ctrl.saveRegion(region, form, $index)"></ff-text> <ff-btn sense=remove size=xs flex=none class=buttons-row ff-click="$ctrl.deleteRegion(region, $index)" title="{{\'GLOBAL.BTN_DELETE\' | translate}}"></ff-btn> </ff-row> </form> <ff-btn-group class=ff-section-buttons> <ff-btn sense=new size=sm ff-click=$ctrl.newRegion()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </ff-panel> </div> </div> '},jPFR:function(e,t){e.exports='<div class=gutter-v ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <ff-panel style=max-width:600px> <ff-header> <ff-row> <cell flex="0 0 50%"><span translate=CENTERS.CENTER></span></cell> <cell> <span translate=GLOBAL.ADDRESS.CITY></span>, <span translate=GLOBAL.ADDRESS.STATE></span> </cell> <ff-btn flex=none sense=edit size=xs class="buttons-row zero-height"></ff-btn> </ff-row> </ff-header> <ff-row ng-repeat="center in vm.centers"> <ff-static flex="0 0 50%" ff-bind=::center.name ff-style="::center.color ? { color: center.color } : {}"></ff-static> <ff-static ff-bind="::center.city + \', \' + center.state"></ff-static> <ff-btn flex=none sense=edit size=xs class=buttons-row ff-click=vm.edit(center) title="{{\'GLOBAL.BTN_EDIT\' | translate}}"></ff-btn> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=new ff-click=vm.new()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </div> '},jRg5:function(e,t,n){"use strict";n.r(t);var a=n("xeXu"),s=n.n(a),f=n("0zKI"),l=n.n(f),r=n("nzBw"),i=n("bfRn"),o=n("Oio6");t.default=angular.module("deskworks.CenterEditCtrl",["deskworks.center.service","deskworks.optsTimezone","deskworks.Owner","deskworks.Region","deskworks.NetCheckInSettings","deskworks.setup.optsFreeAccessLength",r.a.name,i.a.name,o.a.name]).controller("CenterEditCtrl",["$scope","$translate","dwAlerts","state","helper","center","settings","Owner","Region","centerService","optsTimezone","optsFreeAccessLength","NetCheckInSettings",function(e,t,n,a,f,r,i,o,c,d,p,E,m){var u=this;a.setPageTitle(t.instant(r.id?"CENTERS.EDIT.PAGE_TITLE":"CENTERS.NEW.PAGE_TITLE")),u.center=r,u.banks=r.options.banks,u.optsTimezone=p,u.optsFreeAccessLength=E;var T=!u.center.id||"new"===u.center.id;i.isFranchise&&(u.ownerRegionReadOnly="master"!==a.getLoggedUser().role,o.query().catch((function(e){return n.error(e,"Failed to query owners.")})).then((function(e){u.owners=e,u.owners.unshift({id:null,name:t.instant("GLOBAL.NONE")})})),c.query().catch((function(e){return n.error(e,"Failed to query regions.")})).then((function(e){u.regions=e,u.regions.unshift({id:null,name:t.instant("GLOBAL.NONE")})}))),T?u.netCheckInSettings={freeAccessLength:120}:m.get(u.center.id).catch((function(e){return n.error(e,"Failed to get net check-in settings.")})).then((function(e){u.netCheckInSettings=e})),u.save=function(){if(!f.pointFirstInvalid("#centerEdit"))return d.save(u.center).catch((function(e){return n.error(e,"Failed to save center.")})).then((function(e){return m.save(u.center.id,u.netCheckInSettings).catch((function(e){n.error(e,"Failed to save net check-in settings.")})).then((function(){return e}))})).then((function(t){return e.$emit("CENTERS:REFRESH"),T?a.setPath("/centers/"+t.id):d.get(u.center.id).catch((function(e){return n.error(e,"Failed to get center.")})).then((function(e){u.center=e,u.form.$setPristine()}))}))},u.remove=function(){if(confirm(t.instant("CENTERS.CONFIRM_DELETE")))return d.deleteCenter(u.center.id).catch((function(e){return n.error(e,"Failed to delete center.")})).then((function(t){return e.$emit("CENTERS:REFRESH"),a.setPath("/centers")}))},u.back=function(){return a.setPath("/centers")},u.uploadPhoto=function(a,s){return s&&s.length>0?n.error(t.instant("CENTERS.PHOTO.INVALID_FORMAT")):a&&a.length>0?(u.spinUpload=!0,d.uploadThumbnail(u.center.id,a[0]).catch((function(e){return u.spinUpload=!1,n.error(e,"Failed to upload center thumbnail.")})).then((function(t){return u.spinUpload=!1,u.center.thumbnail=t.data.photo,e.$emit("CENTERS:REFRESH"),t.data}))):void 0},u.addTax=function(){var e={};u.center.taxRates.length||(e.name=t.instant("CENTERS.TAX.NAME.DEFAULT")),u.center.taxRates.push(e),u.form.$setDirty()},u.deleteTax=function(e){var t,n;l()(t=u.center.taxRates).call(t,s()(n=u.center.taxRates).call(n,e),1),u.form.$setDirty()}}])},jkQh:function(e,t){e.exports='<div> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <ff-panel style=max-width:815px ff-dim=!$ctrl.config class=ff-bmargin> <ff-header> <ff-row> <cell flex="0 0 36px" class=ff-center ff-dim=$ctrl.saving><ff-icon sense=checkMark></ff-icon></cell> <cell>Bundle</cell> </ff-row> </ff-header> <label class=ff-row ng-repeat="bundle in $ctrl.bundles"> <ff-static flex="0 0 36px" class=ff-center> <ff-checkbox name=enable ff-model=$ctrl.config[bundle.id] ff-change=$ctrl.save()></ff-checkbox> </ff-static> <ff-static>{{::bundle.name}}</ff-static> </label> </ff-panel> </div> '},jvv4:function(e,t){e.exports='<div class=system-email-list ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=gutter-v> <ff-panel style=max-width:815px> <span ng-if=!$ctrl.systemEmails.length translate=GLOBAL.NONE></span> <ff-header ng-if=$ctrl.systemEmails.length> <ff-row> <cell flex="0 0 30%"><span translate=SYSTEM_EMAILS.FUNCTION></span></cell> <cell><span translate=SYSTEM_EMAILS.EMAIL></span></cell> <ff-btn sense=edit size=xs flex=none class="buttons-row zero-height"></ff-btn> </ff-row> </ff-header> <ff-row ng-repeat="systemEmail in $ctrl.systemEmails"> <ff-static flex="0 0 30%" ff-bind=systemEmail.function.name></ff-static> <ff-static ff-bind=systemEmail.email></ff-static> <ff-btn sense=edit size=xs flex=none class=buttons-row ff-click=$ctrl.edit(systemEmail) title="{{\'GLOBAL.BTN_EDIT\' | translate}}"></ff-btn> </ff-row> </ff-panel> <ff-btn-group> <ff-btn sense=new ff-click=$ctrl.new()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </div> </div> '},mX0C:function(e,t){e.exports='<div class="ff-grid gutter-v"> <form name=vm.form id=centerEdit novalidate ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class="ff-grid gutter-h gutter-v"> <ff-panel flex="{ md: \'0 0 50%\' }"> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.NAME></req></ff-label> <ff-text name=name ff-model=vm.center.name ff-required=true placeholder="The Satellite Felton" ff-validate-alert="{{\'CENTERS.NAME\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.SHORT_NAME></req></ff-label> <ff-text name=shortName ff-model=vm.center.shortName ff-required=true placeholder=Felton ff-validate-alert="{{\'CENTERS.SHORT_NAME\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.PHONE></req></ff-label> <ff-text name=phone ff-model=vm.center.phone ff-required=true dw-phone ff-validate-alert="{ field: (\'CENTERS.PHONE\' | translate), pattern: (\'GLOBAL.VALIDATION.PHONE\' | translate) }"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.FAX></req></ff-label> <ff-text name=fax ff-model=vm.center.fax ff-required=true dw-phone ff-validate-alert="{ field: (\'CENTERS.FAX\' | translate), pattern: (\'GLOBAL.VALIDATION.PHONE\' | translate) }"> </ff-text> </label> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.EMAIL></req></ff-label> <ff-email name=email ff-model=vm.center.email ff-required=true placeholder=felton@thesatelliteinc.com ff-validate-alert="{{\'CENTERS.EMAIL\' | translate}}"></ff-email> </label> <label class=ff-row> <ff-label flex="0 0 100px"><span translate=CENTERS.COLOR></span></ff-label> <ff-text name=color ff-model=vm.center.color placeholder="red, blue, #fe00d3, #0f0" ff-validate-alert="{{\'CENTERS.COLOR\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.TIMEZONE></req></ff-label> <ff-select name=timezone ff-model=vm.center.timezone ff-required=true ff-options="tz.id as tz.name for tz in vm.optsTimezone" ff-validate-alert="{{\'CENTERS.TIMEZONE\' | translate}}"></ff-select> </label> <label class=ff-row ng-if=$resolve.settings.isFranchise> <ff-label flex="0 0 100px"><span translate=CENTERS.OWNER></span></ff-label> <ff-select name=owner ff-model=vm.center.ownerId ff-bulk-read-only=vm.ownerRegionReadOnly ff-options="owner.id as owner.name for owner in vm.owners" ff-validate-alert="{{\'CENTERS.OWNER\' | translate}}"></ff-select> </label> <label class=ff-row ng-if=$resolve.settings.isFranchise> <ff-label flex="0 0 100px"><span translate=CENTERS.REGION></span></ff-label> <ff-select name=region ff-model=vm.center.regionId ff-bulk-read-only=vm.ownerRegionReadOnly ff-options="region.id as region.name for region in vm.regions" ff-validate-alert="{{\'CENTERS.REGION\' | translate}}"></ff-select> </label> </ff-panel> <ff-panel flex="{ md: \'0 0 50%\' }"> <fieldset dw-address=vm.center second-street=true></fieldset> <label class=ff-row ng-if=vm.center.options.qboClasses> <ff-label flex="0 0 116px" class=ff-small><span translate=CENTERS.QBO_CLASS></span></ff-label> <ff-select name=qboAccount ff-model=vm.center.qboClassId> <option value="">-</option> <option ng-repeat="class in vm.center.options.qboClasses" value={{class.id}}>{{class.name}}</option> </ff-select> </label> </ff-panel> <ff-panel flex="{ md: \'0 0 50%\' }"> <label class=ff-row> <ff-label flex="0 0 100px"><req translate=CENTERS.BANK></req></ff-label> <ff-select name=bank ff-model=vm.center.bankId ff-required=true ff-validate-alert="{{\'CENTERS.BANK\' | translate}}" ff-options="bank.id as bank.name for bank in vm.banks"></ff-select> </label> <label class=ff-row> <ff-label flex="0 0 100px"> <span> <span translate=CENTERS.TAX.ID></span> <ff-hint><span translate=CENTERS.TAX.ID.HINT></span></ff-hint> </span> </ff-label> <ff-text name=taxId ff-model=vm.center.taxId></ff-text> </label> <ff-row ng-repeat="tax in vm.center.taxRates"> <label flex=auto> <ff-label flex="0 0 100px"> <span translate=CENTERS.TAX.INDEX translate-values="{ index: $index + 1 }"></span> </ff-label> <ff-text name=taxName ff-model=tax.name placeholder="{{\'CENTERS.TAX.NAME\' | translate}}" ff-required=true ff-unique="{ array: vm.center.taxRates, prop: \'name\' }" ff-model-options="{ allowInvalid: true }" ff-validate-alert="{{\'CENTERS.TAX.NAME\' | translate}}"></ff-text> </label> <ff-number name=taxRate ff-model=tax.rate flex="0 1 72px" placeholder="{{\'CENTERS.TAX.RATE\' | translate}}" ff-required=true ff-gt=0 ff-validate-alert="{{\'CENTERS.TAX.RATE\' | translate}}"></ff-number> <ff-btn flex=none class=buttons-row sense=delete size=xs ff-click=vm.deleteTax(tax) title="{{\'CENTERS.TAX.BTN_DELETE.HINT\' | translate}}"></ff-btn> </ff-row> <ff-btn-group class=ff-section-buttons> <ff-btn sense=add size=sm ff-click=vm.addTax()><span translate=CENTERS.TAX.BTN_ADD></span></ff-btn> </ff-btn-group> </ff-panel> <ff-panel flex="{ md: \'0 0 50%\' }"> <label class=ff-row> <ff-label flex="0 1 160px"> <span translate=CENTERS.FREE_ACCESS></span> &nbsp; <ff-hint><span translate=CENTERS.FREE_ACCESS.HINT></span></ff-hint> </ff-label> <ff-select name=freeAccessLength ff-model=vm.netCheckInSettings.freeAccessLength ff-options="opt.id as opt.name for opt in vm.optsFreeAccessLength" ff-disabled=!vm.netCheckInSettings></ff-select> </label> </ff-panel> <ff-panel flex="{ md: \'0 0 50%\' }"> <ff-label> <label> <ff-checkbox name=forInternalUse ff-model=vm.center.forInternalUse> <span translate=CENTERS.INTERNAL_USE></span> </ff-checkbox> </label> &nbsp; <ff-hint><span translate=CENTERS.INTERNAL_USE.HINT></span></ff-hint> </ff-label> <label class=ff-row> <ff-label flex="0 1 100px"> <span class=ff-flex-start style=padding-top:.5rem translate=CENTERS.DESCRIPTION></span> </ff-label> <ff-textarea name=description ff-model=vm.center.description></ff-textarea> </label> </ff-panel> <ff-panel flex="{ md: \'0 0 50%\' }"> <label class=ff-row> <ff-label flex="0 1 100px"><span translate=CENTERS.MAP></span></ff-label> <ff-text name=map ff-model=vm.center.map></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 100px"> <span class=ff-flex-start style=padding-top:.5rem translate=CENTERS.DIRECTIONS></span> </ff-label> <ff-textarea name=directions ff-model=vm.center.directions></ff-textarea> </label> </ff-panel> <ff-panel flex="{ md: \'0 0 50%\' }" ng-if="vm.center.id && vm.center.id !== \'new\'" ngf-drop="vm.uploadPhoto($files, $invalidFiles)" ngf-pattern="\'image/png,image/jpeg\'" ngf-drag-over-class=dragover> <ff-panel-header> <span translate=CENTERS.PHOTO.HEADER></span> <ff-hint><span translate=CENTERS.PHOTO.HINT></span></ff-hint> </ff-panel-header> <ff-col><ff-img class=ff-flex-start ff-src={{vm.center.thumbnail}}></ff-img></ff-col> <ff-btn-group class=ff-section-buttons> <ff-btn sense=upload size=sm ff-spin=vm.spinUpload ngf-select="vm.uploadPhoto($files, $invalidFiles)" ngf-pattern="\'image/png,image/jpeg\'" accept=image/png,image/jpeg> <span translate=CENTERS.PHOTO.BTN_UPLOAD></span> </ff-btn> </ff-btn-group> </ff-panel> <ff-btn-group> <ff-btn sense=save type=submit ff-click=vm.save() ff-disabled=vm.form.$pristine> <span translate=GLOBAL.BTN_SAVE></span> </ff-btn> <ff-btn sense=remove ff-click=vm.remove() ng-if="vm.center.id && vm.center.id !== \'new\'"> <span translate=GLOBAL.BTN_DELETE></span> </ff-btn> <ff-btn sense=back ff-click=vm.back()><span translate=GLOBAL.BTN_BACK></span></ff-btn> </ff-btn-group> </div> </form> <reservation-rules center-id=vm.center.id ng-if="vm.center.id !== \'new\'" ff-bulk-read-only></reservation-rules> </div> '},nnEW:function(e,t){e.exports='<div class=lead-source-list ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=gutter-v> <ff-panel style=max-width:815px> <ff-panel-header> <span translate=API_SETTINGS.ALLOWED_HOSTS.HEADER></span> <ff-hint><span translate=API_SETTINGS.ALLOWED_HOSTS.HINT></span></ff-hint> </ff-panel-header> <ff-header> <ff-row> <cell flex="0 0 60px" class=ff-center><span translate=API_SETTINGS.ALLOWED_HOSTS.ACTIVE></span></cell> <cell><req translate=API_SETTINGS.ALLOWED_HOSTS.URL></req></cell> </ff-row> </ff-header> <form name=form ng-repeat="host in $ctrl.allowedHosts" novalidate> <ff-row ff-dim=host.$$spin> <ff-checkbox flex="0 0 60px" ff-model=host.isActive class="ff-center ff-control" ff-change="$ctrl.save(host, form, $index)"></ff-checkbox> <ff-text ff-model=host.hostUrl ff-required=true placeholder=https://thesatellite.satellitedeskworks.com ff-validate-alert="{{\'API_SETTINGS.ALLOWED_HOSTS.URL\' | translate}}" ff-change="$ctrl.save(host, form, $index)"></ff-text> <ff-btn sense=remove size=xs flex=none class=buttons-row ff-click="$ctrl.delete(host, $index)" title="{{\'GLOBAL.BTN_DELETE\' | translate}}"></ff-btn> </ff-row> </form> <ff-btn-group class=ff-section-buttons> <ff-btn sense=new size=sm ff-click=$ctrl.new()><span translate=GLOBAL.BTN_NEW></span></ff-btn> </ff-btn-group> </ff-panel> </div> </div> '},obni:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.SetupBankEditCtrl",["deskworks.bank.service","deskworks.routeHelper","deskworks.optsTimezone"]).controller("SetupBankEditCtrl",["$scope","$window","$translate","dwAlerts","state","helper","bank","bankService","optsTimezone",function(e,t,n,a,s,f,l,r,i){var o=this;s.setPageTitle(n.instant("new"===l.id?"BANKS.NEW.PAGE_TITLE":"BANKS.EDIT.PAGE_TITLE")),o.bank=l,o.optsTimezone=i,o.save=function(){if(!f.pointFirstInvalid("#bankEdit"))return r.save(o.bank).catch((function(e){return a.error(e,"Failed to save bank")})).then((function(){return s.setPath("/banks")}))},o.delete=function(){if(t.confirm(n.instant("BANKS.CONFIRM_DELETE")))return r.delete(o.bank.id).catch((function(e){return a.error(e,"Failed to delete bank")})).then((function(){return s.setPath("/banks")}))},o.back=s.back}])},oyNP:function(e,t,n){"use strict";n.r(t);var a=n("nbuU"),s=n.n(a),f=n("hsT8"),l=n.n(f);t.default=angular.module("deskworks.CenterListCtrl",[]).controller("CenterListCtrl",["$scope","$translate","state","helper","centers","admin",function(e,t,n,a,f,r){n.setPageTitle(t.instant("CENTERS.PAGE_TITLE")),this.centers=l()(f).call(f,(function(e){return!r||!!(s()(a).call(a,r.centers,e.id)||{}).permission})),this.edit=function(e){return n.setPath("/centers/"+e.id)},this.new=function(){return n.setPath("/centers/new")}}])},uBTc:function(e,t){e.exports='<form name=$ctrl.form id=bankEdit novalidate ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=gutter-v> <ff-panel style=max-width:815px> <label class=ff-row> <ff-label flex="0 1 200px"><req translate=BANKS.NAME></req></ff-label> <ff-text flex="1 1 290px" name=name ff-model=$ctrl.bank.name ff-required=true ff-validate-alert="{{\'BANKS.NAME\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 200px"><req translate=BANKS.TIMEZONE></req></ff-label> <ff-select flex="1 1 290px" name=timezone ff-model=$ctrl.bank.timezone ff-options="tz.id as tz.name for tz in $ctrl.optsTimezone" ff-required=true ff-validate-alert="{{\'BANKS.TIMEZONE\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="0 1 200px"><req translate=BANKS.CC_CUT_OFF_TIME></req></ff-label> <ff-time flex="1 1 290px" name=creditCardCutOffTime ff-model=$ctrl.bank.creditCardCutOffTime ff-required=true ff-validate-alert="{{\'BANKS.CC_CUT_OFF_TIME\' | translate}}"></ff-time> </label> <label class=ff-row> <ff-label flex="0 1 200px"><span translate=BANKS.NOTES></span></ff-label> <ff-text flex="1 1 290px" name=notes ff-model=$ctrl.bank.notes></ff-text> </label> </ff-panel> <ff-btn-group> <ff-btn sense=save type=submit ff-click=$ctrl.save() ff-disabled=$ctrl.form.$pristine> <span translate=GLOBAL.BTN_SAVE></span> </ff-btn> <ff-btn sense=delete ff-click=$ctrl.delete() ng-if="$ctrl.bank.id !== \'new\'"> <span translate=GLOBAL.BTN_DELETE></span> </ff-btn> <ff-btn sense=back ff-click=$ctrl.back()><span translate=GLOBAL.BTN_BACK></span></ff-btn> </ff-btn-group> </div> </form> '},uiVx:function(e,t){e.exports='<div class=user-fields ff-bulk-read-only> <h4 class=page-title ng-bind=state.getPageTitle()></h4> <div class=fields-container> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{md: \'0 0 50%\'}" ng-if=true> <ff-panel-header> <span translate=USER_FIELDS.CUSTOM.HEADER></span> <ff-hint><span translate=USER_FIELDS.HINT></span></ff-hint> </ff-panel-header> <ng-include src="\'userFieldsTpl\'" ng-init="section = \'customFields\'"></ng-include> </ff-panel> <ff-panel flex="{md: \'0 0 50%\'}" ng-if=true> <ff-panel-header> <span translate=USER_FIELDS.SHAREABLE.HEADER></span> <ff-hint><span translate=USER_FIELDS.HINT></span></ff-hint> </ff-panel-header> <ng-include src="\'userFieldsTpl\'" ng-init="section = \'shareable\'"></ng-include> </ff-panel> </div> <fd-toolbar deleting=$ctrl.deleting></fd-toolbar> </div> </div> <script type=text/ng-template id=userFieldsTpl> <ff-header>\n    <ff-row>\n      <cell flex="0 0 36px"><span translate="USER_FIELDS.TYPE" style="letter-spacing: -1px;"></span></cell>\n      <cell><req translate="USER_FIELDS.NAME"></req></cell>\n    </ff-row>\n  </ff-header>\n\n  <div dnd-list dnd-drop="callback({ targetList: $ctrl.sections[section], targetIndex: index, targetSection: section })">\n    <form name="form" novalidate class="ff-row"\n          ng-repeat="field in $ctrl.sections[section]"\n          dnd-draggable="null" dnd-callback="$ctrl.onDrop($ctrl.sections[section], $index, targetList, targetIndex, form, targetSection)">\n      <ff-static flex="0 0 36px" ff-dim="field.$$spin" class="ff-center">\n        <i ng-class="$ctrl.types[field.type].icon"></i>\n      </ff-static>\n      <ff-text ff-model="field.name" ff-required="true" ff-validate-alert="{{\'USER_FIELDS.NAME\' | translate}}"\n               ff-change="$ctrl.saveField(field, form)" dnd-nodrag></ff-text>\n    </form>\n    <div ng-if="!$ctrl.sections[section].length" translate="USER_FIELDS.EMPTY" style="padding: 10px 0 0"></div>\n  </div> <\/script> '},wx3J:function(e,t,n){},zFln:function(e,t,n){"use strict";n.r(t),t.default=angular.module("deskworks.BarUploadSettingsCtrl",["deskworks.state","deskworks.setup.service"]).controller("BarUploadSettingsCtrl",["$scope","$translate","dwAlerts","state","helper","setupService","settings",function(e,t,n,a,s,f,l){var r=this;a.setPageTitle(t.instant("BAR_UPLOAD_SETTINGS.PAGE_TITLE")),r.settings=l,r.settings.centerId=a.getCurrentCenterId(),r.save=function(){if(!s.pointFirstInvalid("#setupBarUploadSettings"))return f.updateBarUploadSettings(r.settings).then((function(e){r.form.$setPristine()})).catch((function(e){return n.error(e,"Failed to save bar upload settings.")}))}}])}}]);