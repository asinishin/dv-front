(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+pG2":function(e,r){angular.module("deskworks.userProfile.optsBankAccountHolderType",[]).factory("optsBankAccountHolderType",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"personal",_name:"BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE.PERSONAL"},{id:"business",_name:"BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE.BUSINESS"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"/HWn":function(e,r){angular.module("deskworks.SplashPage",["ngResource","deskworks.config"]).factory("SplashPage",["$resource","deskworksConfig",function(e,r){"use strict";var n=e(r.getApiAbsUrl("/net-check-in/splash-page/:centerId"),{},{update:{method:"PUT"}});return{get:function(e){return n.get({centerId:e}).$promise},save:function(e,r){return n.update({centerId:e},r).$promise}}}])},"/a+4":function(e,r){angular.module("deskworks.userProfile.optsMailboxHandling",[]).factory("optsMailboxHandling",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"dropOff",_name:"USER_PROFILE.MAILBOXES.HANDLING.DROP_OFF"},{id:"mailbox",_name:"USER_PROFILE.MAILBOXES.HANDLING.MAILBOX"},{id:"forward",_name:"USER_PROFILE.MAILBOXES.HANDLING.FORWARD"},{id:"email",_name:"USER_PROFILE.MAILBOXES.HANDLING.EMAIL"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"0/9B":function(e,r){angular.module("deskworks.UserProfileFields",["ngResource","deskworks.helper"]).factory("UserProfileFields",["$resource","$q","$filter","deskworksConfig","helper",function(e,r,n,t,i){"use strict";var s=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/fields"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,function(e){return angular.forEach(e,function(e){"date"===e.type&&(e.value=n("toDate")(e.value))}),e}]},update:{method:"PUT",transformRequest:[function(e){return angular.forEach(e,function(e){"date"===e.type&&(e.value=n("date")(e.value,"yyyy-MM-dd"))}),e},angular.toJson]}});return{query:function(e,r){return s.query({centerId:e,userId:r}).$promise},save:function(e,r,n){return s.update({centerId:e,userId:r},n).$promise}}}])},"0fK3":function(e,r){angular.module("deskworks.Credentials",["ngResource","deskworks.config"]).factory("Credentials",["$resource","$timeout","deskworksConfig",function(e,r,n){"use strict";var t=e(n.getApiAbsUrl("/credentials/:login"));return{get:function(e){return t.get({login:e}).$promise.then(function(r){return r.login=e,r})}}}])},"0vKU":function(e,r,n){"use strict";n.r(r);n("it7j");angular.module("deskworks.setup.service",["ngResource","ngFileUpload","autoCacheFactory","deskworks.config","deskworks.helper","deskworks.setup.optsInvoiceDate","deskworks.setup.optsReservationCreditsUnit"]).factory("setupService",["$resource","$q","$filter","$http","$timeout","deskworksConfig","helper","Upload","optsInvoiceDate","centerService","userProfileService","autoCacheFactory",function(e,r,t,i,s,o,a,u,d,c,m,l){var p=l("settings",30),f=e(o.getApiAbsUrl("/setup/settings"),{},{get:{method:"GET",cache:p},update:{method:"PUT"}});return{resetCache:function(){p.removeAll()},getSetupSettings:function(){return f.get({}).$promise.then(function(e){return e.invoiceDate=d.find(function(r){return r.id===e.invoiceDate}),e})},updateSetupSettings:function(e){var r={locale:e.locale,timeFormat:e.timeFormat,sendNoticesFromLocalCenter:!!e.sendNoticesFromLocalCenter,enableEChecks:e.enableEChecks,skipPlanMemberSignUp:e.skipPlanMemberSignUp,creditCardTypes:e.creditCardTypes,creditCardAddressOptional:e.creditCardAddressOptional,enableEmailing:e.enableEmailing,dashboardIncome:e.dashboardIncome,enableAccessCodes:e.enableAccessCodes,isFranchise:e.isFranchise,sweepCharges:!!e.sweepCharges,emailSweptInvoices:!!e.emailSweptInvoices,invoiceDate:e.invoiceDate.id,prorateAtStart:e.prorateAtStart,prorateAtTermination:e.prorateAtTermination,enablePaymentProcessingCharges:!!e.enablePaymentProcessingCharges,paymentProcessingRates:{cc:e.paymentProcessingRates.cc?+e.paymentProcessingRates.cc:0,ach:e.paymentProcessingRates.ach?+e.paymentProcessingRates.ach:0},addCenterPrefixToCalendar:!!e.addCenterPrefixToCalendar,calendarOwners:e.calendarOwners.filter(function(e){return!!e.owner}).map(function(e){return{id:e.id,owner:angular.isNumber(e.owner)?e.owner:(e.owner||{}).id,mask:e.mask}}),sendReservationReminder:e.sendReservationReminder,hideReservationCostEstimate:e.hideReservationCostEstimate,reservationCreditsUnit:e.reservationCreditsUnit,minPassInPercent:e.minPassInPercent,publicReservationDetails:e.publicReservationDetails,gtmContainerId:e.gtmContainerId};return e.sweepCharges&&(r.advanceInvoicingDays=e.advanceInvoicingDays.id),p.removeAll(),f.save({},r).$promise},updateSetupSettingsRaw:function(e){return p.removeAll(),f.save({},e).$promise},queryLocales:function(){return r.when(window.dwLocales)},queryTimezones:function(){return n.e(40).then(n.t.bind(null,"43aQ",3)).then(function(e){return e.default})}}}])},"1vQf":function(e,r){angular.module("deskworks.CheckedInUsers",["ngResource","deskworks.config"]).factory("CheckedInUsers",["$resource","deskworksConfig",function(e,r){"use strict";var n=e(r.getApiAbsUrl("/centers/:centerId/checked-in-users"));return{query:function(e){return n.query({centerId:e}).$promise}}}])},"3CCV":function(e,r){angular.module("deskworks.optsTaskPermission",[]).factory("optsTaskPermission",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:null,_name:"TASKS.PERMISSION.NONE"},{id:"view",_name:"TASKS.PERMISSION.VIEW"},{id:"edit",_name:"TASKS.PERMISSION.EDIT"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"3fdG":function(e,r,n){"use strict";n.r(r);n("t91x");angular.module("deskworks.userRoles",[]).factory("userRoles",["$rootScope","$translate",function(e,r){var n={nonMember:{_name:"GLOBAL.ROLE.NON_MEMBER",color:"default",type:"user"},member:{_name:"GLOBAL.ROLE.MEMBER",color:"primary",type:"user"},accountant:{_name:"GLOBAL.ROLE.ACCOUNTANT",color:"info",type:"admin"},coordinator:{_name:"GLOBAL.ROLE.COORDINATOR",color:"info",type:"admin"},admin:{_name:"GLOBAL.ROLE.ADMIN",color:"info",type:"admin"},management:{_name:"GLOBAL.ROLE.MANAGEMENT",color:"info",type:"admin"},master:{_name:"GLOBAL.ROLE.MASTER",color:"info",type:"admin"}};function t(){Object.keys(n).forEach(function(e){n[e].name=r.instant(n[e]._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"4LWi":function(e,r){angular.module("deskworks.reservationRules.optsDaysInAdvance",[]).factory("optsDaysInAdvance",["$rootScope","$translate","$filter",function(e,r,n){"use strict";var t=[{id:0,_name:"RESERVATION_RULES.UNLIMITED"},{id:180},{id:120},{id:90},{id:60},{id:45},{id:30},{id:14},{id:7},{id:1}];function i(){t.forEach(function(e){e.name=e._name?r.instant(e._name):n("days")(e.id)})}return i(),e.$on("$setTranslationsSuccess",i),t}])},"5/NR":function(e,r){angular.module("deskworks.inventory.optsPassMin",[]).factory("optsPassMin",function(){"use strict";return[{id:"0.25",name:"¼"},{id:"0.5",name:"½"},{id:"1.0",name:"1"},{id:"2.0",name:"2"}]})},"6CRW":function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.NetCheckInSettings",["ngResource","deskworks.config"]).factory("NetCheckInSettings",["$resource","deskworksConfig",function(e,r){var n=e(r.getApiAbsUrl("/net-check-in/settings/:centerId"),{},{update:{method:"PUT"}});return{get:function(e){return n.get({centerId:e}).$promise},save:function(e,r){return n.update({centerId:e},r).$promise}}}])},"6Yyp":function(e,r){angular.module("deskworks.usageEntryService",["ngResource","deskworks.config","datesDeserializer"]).factory("usageEntryService",["$resource","$q","$filter","deskworksConfig","helper","datesDeserializer",function(e,r,n,t,i,s){"use strict";var o=n("date"),a=s(["usages.checkInTime","usages.checkOutTime"]),u=e(t.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/usage-entries/:usageId"),{},{query:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,a]},save:{method:"POST",transformRequest:[d,angular.toJson]},update:{method:"PUT",transformRequest:[d,angular.toJson]}});function d(e){return(e=angular.extend({},e)).checkInTime=o(e.checkInTime,"iso"),e.checkOutTime=o(e.checkOutTime,"iso"),e}return{query:function(e,r,n,t){return u.query({userId:r,centerId:e,page:n,pageSize:t}).$promise},get:function(e,n,t){return"new"===t?r.when({id:"new",checkInTime:moment(),checkOutTime:moment(),notes:""}):u.query({userId:n,centerId:e}).$promise.then(function(e){var n=i.findByKeyValue(e.usages,"id",t);return n||r.reject({data:{error:"Failed to find usage with id="+t}})})},save:function(e,r,n){return n.id&&"new"!==n.id?u.update({userId:r,centerId:e,usageId:n.id},n).$promise:u.save({userId:r,centerId:e},n).$promise},delete:function(e,r,n){return u.delete({userId:r,centerId:e,usageId:n}).$promise}}}])},"6gKm":function(e,r){angular.module("deskworks.userProfile.optsMembershipStatus",[]).factory("optsMembershipStatus",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"active",_name:"USER_PROFILE.MEMBERSHIP.STATUS.ACTIVE",import:"Active"},{id:"inactive",_name:"USER_PROFILE.MEMBERSHIP.STATUS.INACTIVE",import:"Inactive"},{id:"nonMember",_name:"USER_PROFILE.MEMBERSHIP.STATUS.NON_MEMBER",import:"Non-Member"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"75b4":function(e,r,n){"use strict";n.r(r);n("it7j");angular.module("deskworks.userProfile.service",["ngResource","ngFileUpload","deskworks.config","deskworks.userProfile.cache","deskworks.helper","deskworks.system.service","deskworks.userProfile.service.photo","deskworks.userProfile.service.address","deskworks.userProfile.service.phone","deskworks.userProfile.service.printerCode","deskworks.userProfile.service.document","deskworks.userProfile.service.coMember","deskworks.userProfile.service.mailbox","deskworks.userProfile.service.creditCard","deskworks.userProfile.service.eCheck","deskworks.UserProfileFields","deskworks.userProfile.optsMembershipStatus","deskworks.userProfile.optsBillingMethod","deskworks.userProfile.optsCCExpiryMonth","deskworks.userProfile.optsCCExpiryYear"]).factory("userProfileService",["$resource","$q","$timeout","$filter","dwAlerts","Upload","deskworksConfig","userProfileCache","helper","upPhotoService","upAddressService","upPhoneService","upPrinterCodeService","upDocumentService","upCoMemberService","upMailboxService","upCreditCardService","systemService","upECheckService","optsMembershipStatus","optsBillingMethod","optsCCExpiryMonth","optsCCExpiryYear","UserProfileFields",function(e,r,n,t,i,s,o,a,u,d,c,m,l,p,f,h,g,I,k,y,v,A,S,E){var T=e(o.getApiAbsUrl("/centers/:centerId/user-profiles/:userId"),{},{get:{method:"GET",cache:a},query:{method:"GET",isArray:!1}}),C=e(o.getApiAbsUrl("/centers/:centerId/members/:userId"),{},{get:{method:"GET",cache:a},update:{method:"PUT"}}),R=e(o.getApiAbsUrl("/centers/:centerId/non-members/:userId"),{},{get:{method:"GET",cache:a},update:{method:"PUT"}}),$=e(o.getApiAbsUrl("/restore-password"),{},{update:{method:"PUT"}});function b(e){return e&&e.membershipStatus&&("active"===e.membershipStatus.id||"inactive"===e.membershipStatus.id)?C:R}return{phone:m,address:c,printerCode:l,document:p,photo:d,creditCard:g,eCheck:k,coMember:f,mailbox:h,resetCache:function(){a.removeAll()},new:function(e,r,n){var t=this;return("member"===r?C:R).get({centerId:e.id||0,userId:"new",scenario:n}).$promise.then(function(i){return i.id=u.uid(),i.isNew=function(){return t.isNew(this)},t.resolve(i),i.addresses="nonMember"===r&&"register"===n?[]:[c.new(e.countryId,e.state)],i.phones=[m.new()],i.printerCodes=[],i.documents=[],i.coMembers=[],i.mailboxes=[],i.accessCards=[],"member"===r&&"register"===n&&(i.membershipStatus=u.find(y,"active"),i.membershipBillingMethod=u.find(v,"cc"),i.membershipStartDate=moment()),i})},isNew:function(e){return e&&u.isUid(e.id)},save:function(e,r,n){return a.removeAll(),u.isUid(r.id)||!r.id?b(r).save({centerId:e||0,registration:n},this.unresolve(r)).$promise.then(function(e){return r.id=e.id,e}):b(r).update({centerId:e||0,userId:r.id},this.unresolve(r)).$promise},updateRaw:function(e,r,n){return a.removeAll(),b(r).update({centerId:e||0,userId:r.id},n).$promise},get:function(e,r){var n=this;return T.get({centerId:e||0,userId:r}).$promise.then(function(e){return e.schema=e.schema||{},n.resolve(e)})},getForRegistration:function(e,r,n,t){var i=this;return("member"===n?C:R).get({centerId:e||0,userId:r,scenario:t}).$promise.then(function(e){return i.resolve(e)})},search:function(e,r){return r.joinDate=t("date")(r.joinDate,"yyyy-MM-dd"),(r=angular.extend({pageSize:100,sort:"lastName",order:1},r)).centerId=e||0,T.query(r).$promise.then(function(e){return e.users.forEach(function(e){e.fullName=e.fullName||u.join([e.firstName,e.lastName]," "),e.login=u.stripUid(e.login),e.email=u.stripUid(e.email),e.joinDate=t("toDate")(e.joinDate)}),e})},query:function(e,r){return r=angular.extend({pageSize:0},r),this.search(e,r).then(function(e){return e.users})},quickSearch:function(e,r){var n={centerId:e||0,quickSearch:r,pageSize:50,activeMembers:!0,nonMembers:!0};return this.search(e,n).then(function(e){return e.users})},restorePassword:function(e){return a.removeAll(),$.save({},e).$promise},delete:function(e,r){return T.delete({centerId:e||0,userId:r}).$promise},resolve:function(e){var r=this;return e.fullName=u.join([e.firstName,e.lastName]," "),e.login=u.stripUid(e.login),e.email=u.stripUid(e.email),e.joinDate=t("toDate")(e.joinDate),e.membershipStatus=u.findByKeyValue(y,"id",e.membershipStatus),e.membershipPriceList=u.findByKeyValue((e.options||{}).membershipPriceLists,"id",e.membershipPriceListId),e.membershipBillingMethod=u.findByKeyValue(v,"id",e.membershipBillingMethod),e.leadSource=u.findByKeyValue((e.options||{}).leadSources,"id",e.leadSourceId),(e.addresses||[]).forEach(function(r){c.resolve(r),r.type&&4===r.type.id&&!e.billingAddress&&(e.billingAddress=r)}),!e.billingAddress&&e.addresses&&e.addresses.length>0&&(e.billingAddress=e.addresses[0]),(e.phones||[]).forEach(function(e){m.resolve(e)}),(e.coMembers||[]).forEach(function(e){r.coMember.resolve(e)}),(e.mailboxes||[]).forEach(function(e){r.mailbox.resolve(e)}),(e.creditCards||[]).forEach(function(e){r.creditCard.resolve(e)}),(e.eChecks||[]).forEach(function(e){r.eCheck.resolve(e)}),e.isNew=function(){return r.isNew(this)},e},unresolve:function(e){return{login:e.login,password:e.password,passwordConfirmation:e.passwordConfirmation,email:e.email,firstName:e.firstName,lastName:e.lastName,middleName:e.middleName,occupation:e.occupation,company:e.company,leadSourceId:(e.leadSource||{}).id,comments:e.comments,membershipBillingMethod:(e.membershipBillingMethod||{}).id,membershipPriceListId:(e.membershipPriceList||{}).id,membershipStatus:(e.membershipStatus||{}).id,membershipStartDate:t("date")(e.membershipStartDate,"yyyy-MM-dd")}},bindTestUserGenerator:function(e,r,n){function t(t){if(t.altKey&&84===t.keyCode){var i="test"+moment().unix();r.firstName=i,r.lastName=i,r.email=i+"@z5ut48g83bf04bvg93f.com",(!n||n.member||n.selfRegistration)&&(r.login=i,r.password="Zx123456",r.passwordConfirmation="Zx123456"),r.addresses&&r.addresses.length&&(r.addresses[0].street="test123",r.addresses[0].city="test123",r.addresses[0].zip="test123"),r.phones&&r.phones.length&&(r.phones[0].number="1234567890"),n&&n.member&&!n.selfRegistration&&(r.membershipType=r.options.membershipTypes[0],r.membershipProduct=r.options.membershipTypes[0].membershipPackages[0],r.membershipPriceList=r.options.membershipPriceLists[0]),r.leadSource=r.options.leadSources[0],r.termsOfService=!0,e.$apply()}}document.addEventListener("keydown",t),e.$on("$destroy",function(){document.removeEventListener("keydown",t)})},bindTestBillingGenerator:function(e,r,n){var t=this;function i(n){n.altKey&&84===n.keyCode&&(r.creditCards.forEach(function(e){t.creditCard.isNew(e)&&(e.number="4111111111111111",e.ccv="123",e.expiryMonth=A[5],e.expiryYear=S[5])}),r.eChecks.forEach(function(e){t.eCheck.isNew(e)&&(e.bankName="Test Bank",e.bankRoutingNumber="021000021",e.bankAccountNumber="9876543210")}),e.$apply())}document.addEventListener("keydown",i),e.$on("$destroy",function(){document.removeEventListener("keydown",i)})},registerNewUser:function(e,n,t,s){var o=this;return o.save(e,n,t).catch(function(e){return i.error(e,"Failed to create user profile.")}).then(function(){var t=[];return t.push(o.photo.save(e,n).catch(function(e){return i.error(e,"Failed to upload photo.")})),n.addresses.forEach(function(r){t.push(o.address.save(e,n.id,r).catch(function(e){return i.error(e,"Failed to create address.")}))}),n.phones.forEach(function(r){t.push(o.phone.save(e,n.id,r).catch(function(e){return i.error(e,"Failed to create phone.")}))}),n.printerCodes.forEach(function(r){t.push(o.printerCode.save(e,n.id,r).catch(function(e){return i.error(e,"Failed to create printer code.")}))}),n.documents.forEach(function(r){t.push(o.document.save(e,n.id,r).catch(function(e){return i.error(e,"Failed to create document.")}))}),n.accessCards.forEach(function(r){r.userId=n.id,t.push(I.createAccessCard(e,r).catch(function(e){return i.error(e,"Failed to create access card.")}))}),s&&t.push(E.save(e,n.id,s).catch(function(e){return i.error(e,"Failed to save custom fields.")})),n.saveMessageBoardUserSettings&&t.push(n.saveMessageBoardUserSettings().catch(function(e){return i.error(e,"Failed to save message board user settings.")})),r.all(t)})},saveBillingProfile:function(e,t){var s=this,o=[];return t.creditCards.forEach(function(r){s.creditCard.isNew(r)&&o.push(s.creditCard.save(e,t.id,r).then(function(e){return n(function(){var r=document.querySelector("#upCreditCard-"+e.id);r&&(angular.element(r).scope().$broadcast("ffBlock::EditEnd"),angular.forEach(t.creditCards,function(r){r.defaultPaymentMethod=r.id===e.id}),angular.forEach(t.eChecks,function(e){e.defaultPaymentMethod=!1}))})}).catch(function(e){return i.error(e,"Failed to create credit card.")}))}),angular.forEach(t.eChecks,function(r){s.eCheck.isNew(r)&&o.push(s.eCheck.save(e,t.id,r).then(function(e){return n(function(){var r=document.querySelector("#upECheck-"+e.id);r&&(angular.element(r).scope().$broadcast("ffBlock::EditEnd"),angular.forEach(t.creditCards,function(e){e.defaultPaymentMethod=!1}),angular.forEach(t.eChecks,function(r){r.defaultPaymentMethod=r.id===e.id}))})}).catch(function(e){return i.error(e,"Failed to create eCheck.")}))}),r.all(o)}}}])},"7NmC":function(e,r,n){"use strict";n.r(r);n("t91x");angular.module("deskworks.inventory.product.service",["ngResource","deskworks.config","deskworks.inventory.optsProductType","deskworks.billing.optsBillingFrequency","deskworks.inventory.optsPassMin","deskworks.inventory.optsPassMax"]).factory("productService",["$resource","$q","$filter","deskworksConfig","helper","optsProductType","optsBillingFrequency","optsPassMin","optsPassMax",function(e,r,n,t,i,s,o,a,u){var d=e(t.getApiAbsUrl("/products/:productId"),{},{update:{method:"PUT"}}),c=e(t.getApiAbsUrl("/centers/:centerId/membership-products")),m=e(t.getApiAbsUrl("/products/:productId/price-list-products/:priceListRelId"),{},{update:{method:"PUT"}});return{new:function(){return this.resolve({})},getProducts:function(){return d.query().$promise},getMembershipProducts:function(e){return c.query({centerId:e}).$promise},getProduct:function(e){var r=this;return d.get({productId:e}).$promise.then(function(e){return r.resolve(e)})},createProduct:function(e){return d.save({},this.unresolve(e)).$promise},updateProduct:function(e){return d.update({productId:e.id},this.unresolve(e)).$promise},deleteProduct:function(e){return d.delete({productId:e}).$promise},save:function(e){return(e.id?d.update({productId:e.id},this.unresolve(e)).$promise:d.save({},this.unresolve(e)).$promise).then(function(r){return e.id=r.id,r})},createPriceList:function(e,r){return m.save({productId:e},r).$promise},updatePriceList:function(e,r,n){return m.update({productId:e,priceListRelId:r},n).$promise},deletePriceList:function(e,r){return m.delete({productId:e,priceListRelId:r}).$promise},savePriceItem:function(e,r){return(r.id?m.update({productId:e,priceListRelId:r.id},r).$promise:m.save({productId:e},r).$promise).then(function(e){return r.id=e.id,e})},resolve:function(e){return e.priceLists||(e.priceLists=[]),e.options||(e.options={}),e.options.productTypes=s,e.options.billingFrequencies=o,e.id?(e.type=i.findByKeyValue(s,"id",e.type),e.options.membershipTypes&&e.options.membershipTypes.length>0&&(e.membershipType=i.findByKeyValue(e.options.membershipTypes,"id",e.membershipTypeId)),e.options.priceLists&&e.options.priceLists.length>0&&e.priceLists.forEach(function(r){r.priceList=i.findByKeyValue(e.options.priceLists,"id",r.priceListId),r.price=n("price")(r.price),r.reservationCredit&&(r.reservationCredit=n("price")(r.reservationCredit)),null===r.passQty&&(r.passQty=0)}),e.billingFrequency=i.findByKeyValue(e.options.billingFrequencies,"id",e.billingFrequency),e.billingFrequency=e.billingFrequency||e.options.billingFrequencies[0],e.passMin=e.passMin||a[0].id,e.passMax=i.findByKeyValue(u,"id",e.passMax)||u[2],e.reservationTypeId=e.reservationTypeId&&e.reservationTypeId.toString()||e.reservationTypeId):(e.type=s[0],e.options.membershipTypes&&e.options.membershipTypes.length>0&&(e.membershipType=e.options.membershipTypes[0]),e.billingFrequency=e.options.billingFrequencies[0],e.passMin=a[0].id,e.passMax=u[2],e.taxable=!0,e.reserveWithNonMemberRules=!1,e.countCheckInsPer="company",e.hideInSelfRegistration=!0,e.hasRegistrationFee=!0),e},unresolve:function(e){var r={name:e.name,type:e.type?e.type.id:void 0,description:e.description,custom:!!e.custom,productCategoryId:e.productCategoryId,productNumber:+e.productNumber,taxable:e.taxable,hideInSelfRegistration:!!e.hideInSelfRegistration,hasRegistrationFee:!!e.hasRegistrationFee};return e.type&&"membership"===e.type.id&&(r.isCreditable=!!e.isCreditable,r.membershipTypeId=e.membershipType?e.membershipType.id:void 0,r.reserveWithNonMemberRules=!!e.reserveWithNonMemberRules,r.countCheckInsPer=e.countCheckInsPer,r.hasPasses=!!e.hasPasses,r.hasPasses&&e.passProduct&&(r.passProductId=e.passProduct.id),r.printerUsageFreeCopiesSettings=e.printerUsageFreeCopiesSettings),!e.type||"membership"!==e.type.id&&"services"!==e.type.id||(r.billingFrequency=e.billingFrequency.id),e.type&&"rental"===e.type.id&&(r.passSize=e.passSize,r.passMin=e.passMin,r.passMax=e.passMax.id,r.allowReservationCredits=!!e.allowReservationCredits,r.canBuyOnSplashPage=!!e.canBuyOnSplashPage,r.reservationTypeId=e.reservationTypeId),r}}}])},"83so":function(e,r){angular.module("deskworks.setup.optsInvoiceDate",[]).factory("optsInvoiceDate",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"invoiceDate",_name:"SETUP_SETTINGS.INVOICE_DATE.INVOICE_DATE"},{id:"chargeDate",_name:"SETUP_SETTINGS.INVOICE_DATE.CHARGE_DATE"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"8jEr":function(e,r){angular.module("deskworks.userProfile.service.coMember",["ngResource","deskworks.helper","deskworks.userProfile.cache"]).factory("upCoMemberService",["$resource","deskworksConfig","userProfileCache","helper",function(e,r,n,t){"use strict";var i=e(r.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/co-members/:coMemberId"),{},{update:{method:"PUT"}});return{new:function(){return{id:t.uid(),accessCards:[]}},isNew:function(e){return e&&t.isUid(e.id)},save:function(e,r,s){return n.removeAll(),t.isUid(s.id)?i.save({centerId:e||0,userId:r},this.unresolve(s)).$promise.then(function(e){return s.id=e.id,s.userId=e.userId,e}):i.update({centerId:e||0,userId:r,coMemberId:s.id},this.unresolve(s)).$promise},delete:function(e,r,t,s){return n.removeAll(),i.delete({centerId:e||0,userId:r,coMemberId:t.id,makeInactive:s}).$promise},resolve:function(e){return e.email=t.stripUid(e.email),e.login=t.stripUid(e.login),e},unresolve:function(e){return{userId:e.userId,existingUserId:e.existingUserId,fullName:e.fullName,email:e.email||t.uid()+"@"+t.uid()+".com",phone:e.phone,login:e.login||t.uid(),password:!t.isUid(e.id)||e.userId||e.existingUserId?e.password||void 0:e.password||t.uid(),notes:e.notes,canMakeReservations:!!e.canMakeReservations,canSeeAccountingInfo:!!e.canSeeAccountingInfo,getCenterNotices:!!e.getCenterNotices}},convertUserToCoMember:function(e){return{id:t.uid(),existingUserId:e.id,fullName:e.firstName+" "+e.lastName,email:e.email,phone:e.phones&&e.phones.length>0?e.phones[0].number:void 0,login:e.login,notes:e.comments,accessCards:e.accessCards}}}}])},"8prH":function(e,r){angular.module("deskworks.system.service",["ngResource","deskworks.config","deskworks.helper"]).factory("systemService",["$resource","$q","deskworksConfig","helper",function(e,r,n,t){"use strict";var i=e(n.getApiAbsUrl("/system-emails/:systemEmailId"),{},{update:{method:"PUT"}}),s=e(n.getApiAbsUrl("/centers/:centerId/access-cards/:accessCardId"),{},{update:{method:"PUT"}}),o=e(n.getApiAbsUrl("/lead-sources/:leadSourceId"),{},{update:{method:"PUT"}});return{getSystemEmails:function(){return i.query().$promise},getSystemEmail:function(e){return"new"===e?r.when({}):i.query({}).$promise.then(function(n){var i=t.findByKeyValue(n,"id",e);return i||r.reject({data:{error:"System Email not found."}})})},createSystemEmail:function(e){return i.save({},e).$promise},updateSystemEmail:function(e,r){return i.update({systemEmailId:e},r).$promise},removeSystemEmail:function(e){return i.delete({systemEmailId:e}).$promise},getAccessCard:function(e,n){return"new"===n?r.when({effectiveDate:moment()}):s.query({centerId:e}).$promise.then(function(e){var i=t.findByKeyValue(e,"id",n);return i||r.reject({data:{error:"Access Card not found."}})})},createAccessCard:function(e,r){return s.save({centerId:e},r).$promise},updateAccessCard:function(e,r,n){return s.update({centerId:e,accessCardId:r},n).$promise},removeAccessCard:function(e,r){return s.delete({centerId:e,accessCardId:r}).$promise},getLeadSources:function(){return o.query().$promise},getLeadSource:function(e){return o.get({leadSourceId:e}).$promise},createLeadSource:function(e){return o.save({},e).$promise},updateLeadSource:function(e,r){return o.update({leadSourceId:e},r).$promise},removeLeadSource:function(e){return o.delete({leadSourceId:e}).$promise}}}])},"9+bO":function(e,r){angular.module("deskworks.membership.service",["ngResource","deskworks.config"]).factory("membershipService",["$resource","deskworksConfig",function(e,r){"use strict";var n=e(r.getApiAbsUrl("/centers/:centerId/membership-types"));return{query:function(e){return n.query({centerId:e}).$promise}}}])},"9Ljv":function(e,r){angular.module("deskworks.reservationCategory.service",["ngResource","deskworks.config","ngFileUpload"]).factory("reservationCategoryService",["$resource","$q","Upload","deskworksConfig",function(e,r,n,t){"use strict";var i=e(t.getApiAbsUrl("/centers/:centerId/reservation-types/:reservationTypeId/:unavailableDates"),{},{update:{method:"PUT"}}),s=e(t.getApiAbsUrl("/centers/:centerId/reservation-types/:reservationTypeId/photos/:photoId"),{},{update:{method:"PUT"}});return{get:function(e,n){return"new"===n?r.when({id:"new",cancellationNonMemberNoticeHours:24,cancellationMemberNoticeHours:24}):i.get({centerId:e,reservationTypeId:n}).$promise},query:function(e){return i.query({centerId:e}).$promise},create:function(e,r){return i.save({centerId:e},r).$promise},update:function(e,r,n){return i.update({centerId:e,reservationTypeId:r},n).$promise},delete:function(e,r){return i.delete({centerId:e,reservationTypeId:r}).$promise},save:function(e,r){return r.id?i.update({centerId:e,reservationTypeId:r.id},r).$promise:i.save({centerId:e},r).$promise.then(function(e){return r.id=e.id,e})},getUnavailableDates:function(e,r){return i.query({centerId:e,reservationTypeId:r,unavailableDates:"unavailable-dates"}).$promise},createPhoto:function(e,r,i){return n.upload({url:t.getApiAbsUrl("/centers/"+e+"/reservation-types/"+r+"/photos"),method:"POST",withCredentials:!0,data:{photo:i}})},updatePhoto:function(e,r,i,s){return n.upload({url:t.getApiAbsUrl("/centers/"+e+"/reservation-types/"+r+"/photos/"+i),method:"PUT",withCredentials:!0,data:{photo:s}})},deletePhoto:function(e,r,n){return s.delete({centerId:e,reservationTypeId:r,photoId:n}).$promise}}}])},A5Bk:function(e,r){angular.module("deskworks.inventory.priceList.service",["ngResource","deskworks.config","datesDeserializer"]).factory("priceListService",["$resource","$q","datesDeserializer","deskworksConfig",function(e,r,n,t){"use strict";var i=n(["date"]),s=e(t.getApiAbsUrl("/centers/:centerId/price-lists/:priceListId"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,i]},get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,i]},update:{method:"PUT"}}),o=e(t.getApiAbsUrl("/centers/:centerId/price-lists/:priceListId/price-list-products/:productRelId"),{},{update:{method:"PUT"}});return{getPricelists:function(e){return s.query({centerId:e}).$promise},getPricelist:function(e,n){if("new"===n){return r.when({id:"new",name:"",visibleForVisitors:!0,useFor:"none",products:[],options:{products:[]}})}return s.get({centerId:e,priceListId:n}).$promise},createPricelist:function(e,r){return s.save({centerId:e},r).$promise},updatePricelist:function(e,r,n){return s.update({centerId:e,priceListId:r},n).$promise},deletePricelist:function(e,r){return s.delete({centerId:e,priceListId:r}).$promise},clonePricelist:function(e,r,n){return s.save({centerId:e,copy:r,destination:n},{}).$promise},save:function(e,r){return(r.id?s.update({centerId:e,priceListId:r.id},r).$promise:s.save({centerId:e},r).$promise).then(function(e){return r.id=e.id,e})},createProduct:function(e,r,n){return o.save({centerId:e,priceListId:r},n).$promise},updateProduct:function(e,r,n,t){return o.update({centerId:e,priceListId:r,productRelId:n},t).$promise},deleteProduct:function(e,r,n){return o.delete({centerId:e,priceListId:r,productRelId:n}).$promise}}}])},AlNL:function(e,r){angular.module("deskworks.notifications.service",["ngResource","deskworks.config","deskworks.helper"]).factory("Notifications",["$resource","$timeout","deskworksConfig","helper",function(e,r,n,t){"use strict";var i={update:{method:"PUT"}},s=e(n.getApiAbsUrl("/email-templates/:id"),{},i),o=e(n.getApiAbsUrl("/setup/bulk-invoices")),a=e(n.getApiAbsUrl("/setup/recurring-invoices")),u=e(n.getApiAbsUrl("/setup/expired-card-emails")),d=e(n.getApiAbsUrl("/setup/declined-card-emails")),c=e(n.getApiAbsUrl("/setup/welcome-letters")),m=e(n.getApiAbsUrl("/setup/welcome-letters/123/attachments/:attachmentId")),l=e(n.getApiAbsUrl("/setup/reservation-confirmations")),p=e(n.getApiAbsUrl("/setup/reservation-confirmations/123/attachments/:attachmentId")),f=e(n.getApiAbsUrl("/setup/reservation-reminders")),h=e(n.getApiAbsUrl("/setup/reservation-reminders/123/attachments/:attachmentId")),g=e(n.getApiAbsUrl("/setup/calendar-sync-error-emails")),I=e(n.getApiAbsUrl("/setup/passes-used-up-emails")),k=e(n.getApiAbsUrl("/setup/bucket-used-up-emails")),y=e(n.getApiAbsUrl("/dw-mail/message-board/templates/:templateId"),{},i);return{getEmailTemplate:function(e){return s.get({id:e}).$promise},saveEmailTemplate:function(e,r){return s.update({id:e},r).$promise},getBulkInvoices:function(){return o.get({}).$promise},saveBulkInvoices:function(e){return o.save({},e).$promise},getRecurringInvoices:function(){return a.get({}).$promise},saveRecurringInvoices:function(e){return a.save({},e).$promise},getExpiredCardEmail:function(){return u.get({}).$promise},saveExpiredCardEmail:function(e){return u.save({},e).$promise},getDeclinedCardEmail:function(){return d.get({}).$promise},saveDeclinedCardEmail:function(e){return d.save({},e).$promise},getWelcomeLetter:function(){return c.get({}).$promise},saveWelcomeLetter:function(e){return c.save({},e).$promise},attachWelcomeLetter:function(e){return m.save({},e).$promise},detachWelcomeLetter:function(e){return m.delete({attachmentId:e}).$promise},getCalSyncErrorEmail:function(){return g.get({}).$promise},saveCalSyncErrorEmail:function(e){return g.save({},e).$promise},getPassesUsedUpEmail:function(){return I.get({}).$promise},savePassesUsedUpEmail:function(e){return I.save({},e).$promise},getBucketUsedUpEmail:function(){return k.get({}).$promise},saveBucketUsedUpEmail:function(e){return k.save({},e).$promise},getReservationConfirmation:function(){return l.get({}).$promise},saveReservationConfirmation:function(e){return l.save({},e).$promise},attachReservationConfirmation:function(e){return p.save({},e).$promise},detachReservationConfirmation:function(e){return p.delete({attachmentId:e}).$promise},getReservationReminder:function(){return f.get({}).$promise},saveReservationReminder:function(e){return f.save({},e).$promise},attachReservationReminder:function(e){return h.save({},e).$promise},detachReservationReminder:function(e){return h.delete({attachmentId:e}).$promise},getMessageBoardEmailTemplate:function(e){return y.get({templateId:e}).$promise},saveMessageBoardEmailTemplate:function(e,r){return y.update({templateId:e},r).$promise}}}])},CCSC:function(e,r){angular.module("deskworks.userProfile.service.address",["ngResource","deskworks.helper","deskworks.userProfile.cache","deskworks.userProfile.optsAddressType","deskworks.userProfile.optsCountry","deskworks.userProfile.optsState"]).factory("upAddressService",["$resource","deskworksConfig","userProfileCache","helper","optsAddressType","optsCountry","optsState",function(e,r,n,t,i,s,o){"use strict";var a=e(r.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/addresses/:addressId"),{},{update:{method:"PUT"}});return{new:function(e,r){return{id:t.uid(),type:i[3],country:e&&t.findByKeyValue(s,"id",e.id||e)||t.findByKeyValue(s,"id","US"),state:t.findByKeyValue(o[e&&e.id||e||"US"],"id",r&&r.id||r||"CA")}},isNew:function(e){return e&&t.isUid(e.id)},save:function(e,r,i){return n.removeAll(),t.isUid(i.id)?a.save({centerId:e||0,userId:r},this.unresolve(i)).$promise.then(function(e){return i.id=e.id,e}):a.update({centerId:e||0,userId:r,addressId:i.id},this.unresolve(i)).$promise},delete:function(e,r,t){return n.removeAll(),a.delete({centerId:e||0,userId:r,addressId:t.id}).$promise},resolve:function(e){return e.type=t.findByKeyValue(i,"id",e.typeId),e.state=o[e.country]?t.findByKeyValue(o[e.country],"id",e.state):e.state,e.country=t.findByKeyValue(s,"id",e.country),e},unresolve:function(e){return{typeId:e.type&&e.type.id?e.type.id:e.type,street:e.street,city:e.city,country:e.country&&e.country.id?e.country.id:e.country,state:e.state&&e.state.id?e.state.id:e.state,zip:e.zip}}}}])},DWfd:function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.userProfile.optsBillingMethod",[]).factory("optsBillingMethod",["$rootScope","$translate",function(e,r){var n=[{id:"cc",_name:"USER_PROFILE.MEMBERSHIP.BILLING_METHOD.CC",import:"Credit/Debit Card"},{id:"ach",_name:"USER_PROFILE.MEMBERSHIP.BILLING_METHOD.ACH",import:"ACH/EFT/Direct Debit"},{id:"emailInvoice",_name:"USER_PROFILE.MEMBERSHIP.BILLING_METHOD.EMAIL_INVOICE",import:"Email Invoice"},{id:"paperInvoice",_name:"USER_PROFILE.MEMBERSHIP.BILLING_METHOD.PAPER_INVOICE",import:"Paper Invoice"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},FRv9:function(e,r){angular.module("deskworks.userProfile.optsPhoneType",[]).factory("optsPhoneType",function(){"use strict";return[{id:1,name:"USER_PROFILE.PHONES.TYPE.HOME"},{id:2,name:"USER_PROFILE.PHONES.TYPE.WORK"},{id:3,name:"USER_PROFILE.PHONES.TYPE.MOBILE"},{id:4,name:"USER_PROFILE.PHONES.TYPE.FAX"},{id:5,name:"USER_PROFILE.PHONES.TYPE.OTHER"}]})},FoaE:function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.WhiteLabelLinks",["ngResource","deskworks.config"]).factory("WhiteLabelLinks",["$resource","Upload","deskworksConfig",function(e,r,n){var t=e(n.getApiAbsUrl("/white-label/links"),{},{get:{method:"GET"},update:{method:"PUT"}});return{get:function(){return t.get().$promise},save:function(e){return t.update(e).$promise},uploadTermsOfService:function(e){return r.upload({url:n.getApiAbsUrl("/white-label/links"),method:"PUT",withCredentials:!0,data:{termsOfService:e}})},uploadReservationAgreement:function(e){return r.upload({url:n.getApiAbsUrl("/white-label/links"),method:"PUT",withCredentials:!0,data:{reservationAgreement:e}})}}}])},FyHS:function(e,r){angular.module("deskworks.emailSiteMembers.service",["ngResource","deskworks.config"]).factory("emailSiteMembers",["$resource","deskworksConfig",function(e,r){"use strict";var n=e(r.getApiAbsUrl("/centers/:centerId/email-site-members"),{},{update:{method:"PUT"}});return{send:function(e,r,t){return n.save({centerId:e,test:t||null},r).$promise},query:function(e,r,t){return r=r&&r.join(),n.query({centerId:e,membershipTypeIds:r,checkedInOnly:t}).$promise}}}])},"G/jL":function(e,r){angular.module("deskworks.setup.optsProrateAtTermination",[]).factory("optsProrateAtTermination",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:null,_name:"GLOBAL.NONE"},{id:"noticeDate",_name:"SETUP_SETTINGS.PRO_RATE_AT_TERMINATION.NOTICE_DATE"},{id:"terminationDate",_name:"SETUP_SETTINGS.PRO_RATE_AT_TERMINATION.TERMINATION_DATE"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},HcPi:function(e,r){angular.module("deskworks.reservationRules.optsWhoCanReserve",[]).factory("optsWhoCanReserve",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"anyone",_name:"RESERVATION_RULES.WHO_CAN_RESERVE.ANYONE"},{id:"nonMember",_name:"RESERVATION_RULES.WHO_CAN_RESERVE.NON_MEMBER"},{id:"member",_name:"RESERVATION_RULES.WHO_CAN_RESERVE.MEMBER"},{id:"staffOnly",_name:"RESERVATION_RULES.WHO_CAN_RESERVE.STAFF_ONLY"},{id:"notAvailable",_name:"RESERVATION_RULES.WHO_CAN_RESERVE.NOT_AVAILABLE"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},Hfad:function(e,r){angular.module("deskworks.optsOurMembersSort",[]).factory("optsOurMembersSort",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"name",_name:"OUR_MEMBERS.SORT.NAME"},{id:"occupation",_name:"OUR_MEMBERS.SORT.OCCUPATION"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},Hm9e:function(e,r){angular.module("sessionRefresher",["session"]).factory("sessionRefresher",["$q","$injector","$location",function(e,r,n){"use strict";return{responseError:function(t){if(419===t.status){var i=r.get("$http");return r.get("session").refresh().catch(function(r){return n.search("redirect",n.path()),n.path("/sign-in"),e.reject(r)}).then(function(){return i(t.config)})}return e.reject(t)}}}])},ITOr:function(e,r){angular.module("deskworks.setup.optsReservationCreditsUnit",[]).factory("optsReservationCreditsUnit",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"$",_name:"SETUP_SETTINGS.RESERVATION_CREDITS_UNIT.MONEY"},{id:"hours",_name:"SETUP_SETTINGS.RESERVATION_CREDITS_UNIT.HOURS"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},J6AD:function(e,r){angular.module("deskworks.userProfile.service.photo",["ngResource","ngFileUpload","deskworks.config","deskworks.helper","deskworks.userProfile.cache"]).factory("upPhotoService",["$resource","$q","deskworksConfig","userProfileCache","helper","Upload",function(e,r,n,t,i,s){"use strict";return{isNew:function(e){return e&&e.photoFile},save:function(e,i,o){return this.isNew(i)?(t.removeAll(),s.upload({url:n.getApiAbsUrl("/centers/"+(e||0)+"/"+(i&&i.membershipStatus&&("active"===i.membershipStatus.id||"inactive"===i.membershipStatus.id)?"members":"non-members")+"/"+i.id),method:"PUT",withCredentials:!0,data:{photo:i.photoFile}}).then(function(e){return i.photo=e.data.photo,delete i.photoFile,e.data})):r.when()}}}])},LCuo:function(e,r){angular.module("deskworks.taToolbarEmail",[]).factory("taToolbarEmail",function(){"use strict";return[["h1","h2","h3","h4","p","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight"],["html","insertImage","insertLink","wordcount","charcount"]]})},N59k:function(e,r){angular.module("deskworks.checkInLog.service",["ngResource","deskworks.config"]).factory("checkInLogService",["$resource","$filter","deskworksConfig","helper",function(e,r,n,t){"use strict";var i=r("toDate"),s=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/logs/:logId"),{},{update:{method:"PUT"}});return{getLog:function(e,r,n,t,o){return s.get({centerId:e,userId:r,page:n,pageSize:t,macAddress:o}).$promise.then(function(e){return e.checkInTime=i(e.checkInTime),e.log.forEach(function(e){e.time=i(e.time)}),e})},updateLog:function(e,r,n,t){return s.update({centerId:e,userId:r,logId:n},t).$promise},deleteLog:function(e,r,n){return s.delete({centerId:e,userId:r,logId:n}).$promise},checkInOut:function(e,n,t,i){return i=r("date")(i,"iso"),s.save({centerId:e,userId:n},{operation:t,time:i}).$promise}}}])},NFcB:function(e,r,n){"use strict";n.r(r);n("t91x");angular.module("deskworks.printerUsageTypeNames",[]).factory("printerUsageTypeNames",["$rootScope","$translate",function(e,r){var n={},t={printBlack:r.instant("PRINTER_USAGE_SETTINGS.TYPE.PRINT_BLACK"),printColor:r.instant("PRINTER_USAGE_SETTINGS.TYPE.PRINT_COLOR"),scan:r.instant("PRINTER_USAGE_SETTINGS.TYPE.SCAN"),fax:r.instant("PRINTER_USAGE_SETTINGS.TYPE.FAX")};function i(){Object.keys(t).forEach(function(e){n[e]=r.instant(t[e])})}return i(),e.$on("$setTranslationsSuccess",i),n}])},Ngbk:function(e,r){angular.module("deskworks.userProfile.service.document",["ngResource","ngFileUpload","deskworks.helper","deskworks.userProfile.cache"]).factory("upDocumentService",["$resource","Upload","deskworksConfig","userProfileCache","helper",function(e,r,n,t,i){"use strict";var s=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/documents/:documentId"),{},{update:{method:"PUT"}});return{new:function(e){return{id:i.uid(),file:e,name:e.name}},isNew:function(e){return e&&i.isUid(e.id)},save:function(e,o,a){return t.removeAll(),i.isUid(a.id)?r.upload({url:n.getApiAbsUrl("/centers/"+(e||0)+"/user-profiles/"+o+"/documents"),method:"POST",withCredentials:!0,data:{document:a.file,name:a.name}}).then(function(e){return a.id=e.data.id,a.document=e.data.document,delete a.file,e.data}):s.update({centerId:e||0,userId:o,documentId:a.id},this.unresolve(a)).$promise},delete:function(e,r,n){return t.removeAll(),s.delete({centerId:e||0,userId:r,documentId:n.id}).$promise},resolve:function(e){return e},unresolve:function(e){return{name:e.name}}}}])},Qosk:function(e,r){angular.module("deskworks.UserField",["ngResource","deskworks.config","deskworks.helper"]).factory("UserField",["$resource","$q","deskworksConfig","helper",function(e,r,n,t){"use strict";var i=e(n.getApiAbsUrl("/user-fields/:fieldId"),{},{update:{method:"PUT"}});return{query:function(){return i.query().$promise},save:function(e){return e.id?i.update({fieldId:e.id},e).$promise:i.save(e).$promise.then(function(r){e.id=r.id})},delete:function(e){return i.delete({fieldId:e}).$promise}}}])},Qppx:function(e,r){angular.module("deskworks.Task",["ngResource","deskworks.config","autoCacheFactory"]).factory("Task",["$resource","deskworksConfig","helper","autoCacheFactory",function(e,r,n,t){"use strict";var i=e(r.getApiAbsUrl("/tasks/:taskId"),{},{query:{method:"GET",isArray:!1},update:{method:"PUT"}});return{query:function(){return i.query().$promise},get:function(e){return i.get({taskId:e}).$promise},save:function(e){var r=n.purify(e,["options"]);return t.emptyAll(),e.id&&"new"!==e.id?i.update({taskId:e.id},r).$promise:i.save({},r).$promise.then(function(r){return e.id=r.id,e})},delete:function(e){return t.emptyAll(),i.delete({taskId:e}).$promise}}}])},QrxU:function(e,r){angular.module("deskworks.inventory.membershipCategory.service",["ngResource","deskworks.config"]).factory("membershipCategoryService",["$resource","$q","deskworksConfig",function(e,r,n){"use strict";var t=e(n.getApiAbsUrl("/membership-types/:membershipTypeId"),{},{update:{method:"PUT"}});return{query:function(){return t.query().$promise},get:function(e){return t.get({membershipTypeId:e}).$promise},create:function(e){return t.save({},e).$promise},update:function(e,r){return t.update({membershipTypeId:e},r).$promise},delete:function(e){return t.delete({membershipTypeId:e}).$promise},save:function(e){return(e.id?t.update({membershipTypeId:e.id},e).$promise:t.save({},e).$promise).then(function(r){return e.id=r.id,r})}}}])},RObh:function(e,r){angular.module("deskworks.setup.optsMinPassFractionUnit",[]).factory("optsMinPassFractionUnit",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:!0,_name:"SETUP_SETTINGS.MIN_PASS_UNIT.PASSES"},{id:!1,_name:"SETUP_SETTINGS.MIN_PASS_UNIT.HOURS"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},Rkz7:function(e,r){angular.module("deskworks.config",[]).provider("deskworksConfig",function(){"use strict";var e="/api/v1",r="",n="/dashboard",t=null,i=null,s="https://sites.satellitedeskworks.com/";return{setApiUrl:function(r){e=r},setApiPostfix:function(e){r=e},getDefaultRoute:function(){return n},setDefaultRoute:function(e){n=e},setWsUrl:function(e){t=e},setSiteId:function(e){i=e},setSitesUrl:function(e){s=e},$get:["$window",function(o){return{getApiDomain:function(){var r=e.match(/^(.*:)\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/i);return r&&r[2]?r[2]:o.location.hostname},getSiteId:function(){if(i)return i;var e=this.getApiDomain().split(".");if(!(e=e[e.length-3]))throw new Error("configuration issue: siteId is undefined");return e},getApiAbsUrl:function(n){return e+n+r},getDefaultRoute:function(){return n},getWsUrl:function(){return t},getSitesUrl:function(){return s}}}]}})},SHrv:function(e,r){angular.module("deskworks.allowedHost.service",["ngResource","deskworks.config","deskworks.helper"]).factory("allowedHostService",["$resource","$q","deskworksConfig","helper",function(e,r,n,t){"use strict";var i=e(n.getApiAbsUrl("/setup/allowed-hosts/:allowedHostId"),{},{update:{method:"PUT"}});return{query:function(){return i.query().$promise},save:function(e){return e.id?i.update({allowedHostId:e.id},e).$promise:i.save(e).$promise.then(function(r){e.id=r.id})},delete:function(e){return i.delete({allowedHostId:e}).$promise}}}])},Uaa3:function(e,r){angular.module("deskworks.userProfile.service.printerCode",["ngResource","deskworks.helper","deskworks.userProfile.cache"]).factory("upPrinterCodeService",["$resource","deskworksConfig","userProfileCache","helper",function(e,r,n,t){"use strict";var i=e(r.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/printer-codes/:printerCodeId"),{},{update:{method:"PUT"}});return{new:function(){return{id:t.uid()}},isNew:function(e){return e&&t.isUid(e.id)},save:function(e,r,s){return n.removeAll(),t.isUid(s.id)?i.save({centerId:e||0,userId:r},this.unresolve(s)).$promise.then(function(e){return s.id=e.id,e}):i.update({centerId:e||0,userId:r,printerCodeId:s.id},this.unresolve(s)).$promise},delete:function(e,r,t){return n.removeAll(),i.delete({centerId:e||0,userId:r,printerCodeId:t.id}).$promise},resolve:function(e){return e},unresolve:function(e){return{code:e.code}}}}])},VvUS:function(e,r){angular.module("deskworks.accessCard.service",["ngResource","deskworks.config"]).factory("AccessCard",["$resource","deskworksConfig",function(e,r){"use strict";return e(r.getApiAbsUrl("/centers/:centerId/access-cards/:accessCardId"),{centerId:"@centerId",accessCardId:"@accessCardId"},{update:{method:"PUT"}})}])},WZ6N:function(e,r){angular.module("deskworks.optsTimezone",[]).factory("optsTimezone",function(){"use strict";return[{id:"Hawaii",name:"Hawaii"},{id:"Alaska",name:"Alaska"},{id:"Pacific Time (US & Canada)",name:"Pacific Time (US & Canada)"},{id:"Mountain Time (US & Canada)",name:"Mountain Time (US & Canada)"},{id:"Central Time (US & Canada)",name:"Central Time (US & Canada)"},{id:"Eastern Time (US & Canada)",name:"Eastern Time (US & Canada)"},{id:"London",name:"London"},{id:"Amsterdam",name:"Amsterdam"},{id:"Helsinki",name:"Helsinki"},{id:"Jerusalem",name:"Gaza"},{id:"Singapore",name:"Singapore"},{id:"Sydney",name:"Sydney"}]})},WlxY:function(e,r){angular.module("deskworks.optsShareEmail",[]).factory("optsShareEmail",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"private",_name:"USER_PROFILE.SHAREABLE_INFO.EMAIL.PRIVATE"},{id:"members",_name:"USER_PROFILE.SHAREABLE_INFO.EMAIL.MEMBERS"},{id:"public",_name:"USER_PROFILE.SHAREABLE_INFO.EMAIL.PUBLIC"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},"Wuz+":function(e,r,n){"use strict";n.r(r);n("it7j");r.default=angular.module("deskworks.ReservationCost",["deskworks.ReservationPrice","deskworks.calendarService"]).factory("ReservationCost",["$q","$filter","dwAlerts","ReservationPrice","calendarService",function(e,r,n,t,i){return{calcSync:function(e,r,n,t){if(!n)return null;var i=n.find(function(e){return e.id===t}),o=(r-e)/6e4;return i?i.passes.map(function(e){return s(o,+e.passSize,+e.passMin,+e.passMax)*e.passPrice}).reduce(function(e,r){return r<e?r:e}):null},calcAsync:function(o,a,u,d,c){return d=r("toDate")(d),c=r("toDate")(c),e.all({prices:t.query(o,a).catch(function(e){return n.error(e,"Failed to query reservation prices.")}),cats:i.query(o,d,c).catch(function(e){return n.error(e,"Failed to query calendar data.")})}).then(function(e){var r=e.cats.find(function(e){return!!e.reservationUnits.find(function(e){return e.id===+u})});return r&&e.prices.find(function(e){return e.id===r.id})}).then(function(e){if(!e)return null;var r=(c-d)/6e4;return e.passes.map(function(e){return s(r,+e.passSize,+e.passMin,+e.passMax)*e.passPrice}).reduce(function(e,r){return r<e?r:e})})}};function s(e,r,n,t){var i=function(e,r,n){return function(e,r){var n=60*r,t=Math.floor(e/n);e-t*n>5&&(t+=1);return t*n/60}(60*e+r,n||.25)}(Math.floor(e/60),e%60,r*n),s=Math.max(+(i/(r||1)).toFixed(2),1);return t>0&&s>t&&(s=t),s}}])},XtRr:function(e,r){angular.module("deskworks.Region",["ngResource","deskworks.config"]).factory("Region",["$resource","$q","deskworksConfig",function(e,r,n){var t=e(n.getApiAbsUrl("/regions/:regionId"),{},{update:{method:"PUT"}});return{query:function(){return t.query().$promise},save:function(e){return e.id?t.update({regionId:e.id},e).$promise:t.save(e).$promise.then(function(r){e.id=r.id})},delete:function(e){return t.delete({regionId:e}).$promise}}}])},ZAEL:function(e,r){angular.module("deskworks.inventory.optsPassMax",[]).factory("optsPassMax",function(){"use strict";return[{id:"1",name:"1"},{id:"2",name:"2"},{id:"4",name:"4"},{id:"0",name:"∞"}]})},"ZI+h":function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.calendarService",["ngResource","deskworks.config","datesDeserializer"]).factory("calendarService",["$resource","$filter","deskworksConfig","helper","datesDeserializer",function(e,r,n,t,i){var s=i(["reservationUnits.reservations.from","reservationUnits.reservations.to","reservationUnits.availabilities.from","reservationUnits.availabilities.to"]),o=e(n.getApiAbsUrl("/centers/:centerId/reservations"),{centerId:"@centerId",from:"@from",to:"@to"},{query:{method:"GET",isArray:!0,transformResponse:s}});return{query:function(e,n,t,i){return o.query({centerId:e,from:r("date")(n,"yyyy-MM-dd"),to:r("date")(t,"yyyy-MM-dd"),role:i||void 0}).$promise}}}])},bRZF:function(e,r){angular.module("deskworks.reservationRules.optsReservationLimitMax",[]).factory("optsReservationLimitMax",["$rootScope","$translate","$filter",function(e,r,n){"use strict";var t=[{id:"0.0",_name:"RESERVATION_RULES.UNLIMITED"},{id:"12.0",value:12,unit:"hours"},{id:"10.0",value:10,unit:"hours"},{id:"9.0",value:9,unit:"hours"},{id:"8.0",value:8,unit:"hours"},{id:"7.0",value:7,unit:"hours"},{id:"6.0",value:6,unit:"hours"},{id:"5.0",value:5,unit:"hours"},{id:"4.0",value:4,unit:"hours"},{id:"3.0",value:3,unit:"hours"},{id:"2.0",value:2,unit:"hours"},{id:"1.0",value:1,unit:"hours"},{id:"0.5",value:30,unit:"minutes"}];function i(){t.forEach(function(e){e._name&&(e.name=r.instant(e._name)),e.unit&&(e.name=n(e.unit)(e.value)+"/"+n("days")(1,!0))})}return i(),e.$on("$setTranslationsSuccess",i),t}])},bqVI:function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.OurMembers",["ngResource","deskworks.config"]).factory("OurMembers",["$resource","deskworksConfig",function(e,r){var n=e(r.getApiAbsUrl("/our-members"));return{query:function(e){var r={centerId:e.centerId||null,sort:e.sort||null,q:e.q||null,limit:e.limit||null,offset:e.offset||null};return n.query(r).$promise}}}])},cy23:function(e,r){angular.module("deskworks.ProductCategory",["ngResource","deskworks.config","deskworks.helper"]).factory("ProductCategory",["$resource","$q","deskworksConfig","helper",function(e,r,n,t){"use strict";var i=e(n.getApiAbsUrl("/product-categories/:productCategoryId"),{},{update:{method:"PUT"}});return{query:function(){return i.query().$promise},save:function(e){return e.id?i.update({productCategoryId:e.id},e).$promise:i.save(e).$promise.then(function(r){e.id=r.id})},delete:function(e){return i.delete({productCategoryId:e}).$promise}}}])},dE7R:function(e,r){angular.module("deskworks.userProfile.service.creditCard",["ngResource","deskworks.helper","deskworks.userProfile.cache","deskworks.userProfile.optsCCExpiryMonth","deskworks.userProfile.optsCCExpiryYear","deskworks.userProfile.optsCountry","deskworks.userProfile.optsState"]).factory("upCreditCardService",["$resource","$filter","deskworksConfig","userProfileCache","helper","optsCCExpiryMonth","optsCCExpiryYear","optsCountry","optsState",function(e,r,n,t,i,s,o,a,u){"use strict";var d=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/credit-cards/:creditCardId"),{},{update:{method:"PUT"}});return{new:function(e){var r={id:i.uid(),country:i.findByKeyValue(a,"id","US"),state:i.findByKeyValue(u.US,"id","CA")};return e&&(r.firstName=e.firstName,r.lastName=e.lastName,r.company=e.company,e.billingAddress&&(r.street=e.billingAddress.street,r.city=e.billingAddress.city,r.country=e.billingAddress.country,r.state=e.billingAddress.state,r.zip=e.billingAddress.zip)),r},isNew:function(e){return e&&i.isUid(e.id)},save:function(e,r,n){return t.removeAll(),i.isUid(n.id)?d.save({centerId:e||0,userId:r},this.unresolve(n)).$promise.then(function(e){return n.id=e.id,n.ccv="***",e}):d.update({centerId:e||0,userId:r,creditCardId:n.id},{defaultPaymentMethod:!0}).$promise},delete:function(e,r,n){return t.removeAll(),d.delete({centerId:e||0,userId:r,creditCardId:n.id}).$promise},resolve:function(e){var n=r("toDate")(e.expiry),t=n.month()+1;return e.expiryMonth=i.findByKeyValue(s,"id",r("zpad")(t,2)),e.expiryYear=i.findByKeyValue(o,"id",n.year()),e.expiryYear=i.findByKeyValue(o,"id",n.year()),e.ccv="***",e.state=u[e.country]?i.findByKeyValue(u[e.country],"id",e.state):e.state,e.country=i.findByKeyValue(a,"id",e.country),e},unresolve:function(e){return{type:e.type&&e.type.id,number:e.number,verification:e.ccv,city:e.city,company:e.company,country:e.country.id,expiry:e.expiryYear.id+"-"+e.expiryMonth.id+"-01",firstName:e.firstName,lastName:e.lastName,state:e.state.id||e.state,street:e.street,zip:e.zip,defaultPaymentMethod:!0}}}}])},"el4+":function(e,r){angular.module("sessionInjector",["session"]).factory("sessionInjector",["$injector",function(e){"use strict";return{request:function(r){if(!r.url.match(/\/api\//i))return r;var n=e.get("session");n.isAnonymous()||(r.headers.Authorization="Bearer "+n.accessToken);return r}}}])},"f4/R":function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.setup.optsFreeAccessLength",[]).factory("optsFreeAccessLength",["$rootScope","$translate",function(e,r){var n=[{id:0,_name:"CENTERS.FREE_ACCESS.DISABLED"},{id:30,hours:.5},{id:60,hours:1},{id:90,hours:1.5},{id:120,hours:2},{id:180,hours:3}];function t(){n.forEach(function(e){e._name?e.name=r.instant(e._name):e.name=r.instant("GLOBAL.HOURS_FILTER",{hoursCount:e.hours},"messageformat")})}return t(),e.$on("$setTranslationsSuccess",t),n}])},fcSC:function(e,r){angular.module("deskworks.userProfile.optsAddressType",[]).factory("optsAddressType",function(){"use strict";return[{id:1,name:"GLOBAL.ADDRESS.TYPE.HOME"},{id:2,name:"GLOBAL.ADDRESS.TYPE.BUSINESS"},{id:3,name:"GLOBAL.ADDRESS.TYPE.MAILING"},{id:4,name:"GLOBAL.ADDRESS.TYPE.BILLING"}]})},h30Z:function(e,r){angular.module("deskworks.userProfile.service.mailbox",["ngResource","deskworks.helper","deskworks.userProfile.cache","deskworks.userProfile.optsMailboxHandling"]).factory("upMailboxService",["$resource","deskworksConfig","userProfileCache","helper","optsMailboxHandling",function(e,r,n,t,i){"use strict";var s=e(r.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/mailboxes/:mailboxId"),{},{update:{method:"PUT"}});return{new:function(){return{id:t.uid(),handling:i[0]}},isNew:function(e){return e&&t.isUid(e.id)},save:function(e,r,i){return n.removeAll(),t.isUid(i.id)?s.save({centerId:e||0,userId:r},this.unresolve(i)).$promise.then(function(e){return i.id=e.id,e}):s.update({centerId:e||0,userId:r,mailboxId:i.id},this.unresolve(i)).$promise},delete:function(e,r,t){return n.removeAll(),s.delete({centerId:e||0,userId:r,mailboxId:t.id}).$promise},resolve:function(e){return e.handling=t.findByKeyValue(i,"id",e.handling),e},unresolve:function(e){return{number:e.number,key:e.key,names:e.names,handling:e.handling?e.handling.id:e.handling}}}}])},hAEH:function(e,r){angular.module("deskworks.inventory.optsCountCheckInsPer",[]).factory("optsCountCheckInsPer",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"coMember",_name:"PRODUCTS.COUNT_CHECK_INS_PER.CO_MEMBER"},{id:"company",_name:"PRODUCTS.COUNT_CHECK_INS_PER.COMPANY"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},hzAx:function(e,r){angular.module("deskworks.optsAdminPermission",[]).factory("optsAdminPermission",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:null,_name:"ADMINISTRATORS.PERMISSION.NONE"},{id:"all",_name:"ADMINISTRATORS.PERMISSION.ALL"},{id:"viewProfileAndCalendar",_name:"ADMINISTRATORS.PERMISSION.VIEW_PROFILE_AND_CALENDAR"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},iKe0:function(e,r){angular.module("deskworks.inventory.optsProductType",[]).factory("optsProductType",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"membership",_name:"PRODUCTS.PRODUCT_TYPE.MEMBERSHIP",import:"Membership"},{id:"registration",_name:"PRODUCTS.PRODUCT_TYPE.REGISTRATION",import:"Registration"},{id:"rental",_name:"PRODUCTS.PRODUCT_TYPE.RENTAL_HOURS",import:"Rental Hours"},{id:"print",_name:"PRODUCTS.PRODUCT_TYPE.PRINT",import:"Print"},{id:"services",_name:"PRODUCTS.PRODUCT_TYPE.SERVICES",import:"Services"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},iRDv:function(e,r){angular.module("deskworks.userProfile.cache",["autoCacheFactory"]).factory("userProfileCache",["autoCacheFactory",function(e){"use strict";return e("userProfile",60)}])},iynW:function(e,r){angular.module("deskworks.setup.optsProrateAtStart",[]).factory("optsProrateAtStart",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:null,_name:"GLOBAL.NONE"},{id:"firstCharge",_name:"SETUP_SETTINGS.PRO_RATE_AT_START.FIRST_MONTH"},{id:"secondCharge",_name:"SETUP_SETTINGS.PRO_RATE_AT_START.SECOND_MONTH"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},jJTb:function(e,r){angular.module("deskworks.CheckedInMembers",["ngResource","deskworks.config"]).factory("CheckedInMembers",["$resource","$timeout","$filter","deskworksConfig","helper",function(e,r,n,t,i){"use strict";var s=e(t.getApiAbsUrl("/centers/:centerId/checked-in-members"),{},{});return{query:function(e){return s.query({centerId:e}).$promise}}}])},lbZl:function(e,r){angular.module("deskworks.MessageBoard",["ngResource","deskworks.config","datesDeserializer"]).factory("MessageBoard",["$resource","$timeout","deskworksConfig","datesDeserializer","helper",function(e,r,n,t,i){"use strict";var s=t(["createdAt"]),o=e(n.getApiAbsUrl("/message-board/messages/:messageId"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,a]},update:{method:"PUT"}});return{query:function(e){return o.query(e).$promise},save:function(e){return e.id?o.update({messageId:e.id},e).$promise:o.save({},e).$promise.then(function(r){return e.id=r.id,r})},delete:function(e){return o.delete({messageId:e}).$promise},deserialize:a};function a(e){return e=s(e),angular.forEach(angular.isArray(e)?e:[e],function(e){e&&e.author&&(e.author.fullName=i.join([e.author.firstName,e.author.lastName]," "))}),e}}])},mjiN:function(e,r){angular.module("deskworks.center.service",["ngResource","deskworks.config","autoCacheFactory","ngFileUpload","deskworks.helper","deskworks.userProfile.optsCountry","deskworks.userProfile.optsState"]).factory("centerService",["$resource","$filter","Upload","deskworksConfig","autoCacheFactory","helper","optsCountry","optsState",function(e,r,n,t,i,s,o,a){"use strict";var u=i("center",60),d=e(t.getApiAbsUrl("/centers/:centerId"),{},{get:{method:"GET",cache:u},query:{method:"GET",cache:u,isArray:!0},update:{method:"PUT"}});return{resetCache:function(){u.removeAll()},getCenter:function(e){return d.get({centerId:e}).$promise},getCenters:function(){return d.query().$promise},createCenter:function(e){return u.removeAll(),d.save({},e).$promise},updateCenter:function(e,r){return u.removeAll(),d.update({centerId:e},r).$promise},deleteCenter:function(e){return u.removeAll(),d.delete({centerId:e}).$promise},uploadThumbnail:function(e,r){return u.removeAll(),n.upload({url:t.getApiAbsUrl("/centers/"+e),method:"PUT",withCredentials:!0,data:{photo:r}})},get:function(e){var r=this;return d.get({centerId:e}).$promise.then(function(e){return r.resolve(e)})},save:function(e){return u.removeAll(),"new"===e.id?d.save({},this.unresolve(e)).$promise.then(function(r){return e.id=r.id,r}):d.update({centerId:e.id||0},this.unresolve(e)).$promise},resolve:function(e){return e.id&&"new"!==e.id?(e.street=e.address,e.country=s.findByKeyValue(o,"id",e.countryId),e.country&&a[e.country.id]&&(e.state=s.findByKeyValue(a[e.country.id],"id",e.state))):(e.id="new",e.country=s.findByKeyValue(o,"id","US"),e.state=s.findByKeyValue(a.US,"id","CA"),e.bankId=e.options.banks[0]&&e.options.banks[0].id,e.taxRates=[],e.ownerId=null,e.regionId=null),e},unresolve:function(e){var r={name:e.name,shortName:e.shortName,street1:e.street1,street2:e.street2,city:e.city,state:e.state.id?e.state.id:e.state,countryId:e.country.id,zip:e.zip,phone:e.phone,fax:e.fax,email:e.email,bankId:e.bankId,forInternalUse:!!e.forInternalUse,description:e.description,map:e.map,directions:e.directions,color:e.color,timezone:e.timezone,ownerId:e.ownerId,regionId:e.regionId,taxId:e.taxId,taxRates:e.taxRates.map(function(e){return e.rate=+e.rate,e})};return e.options.qboClasses&&(r.qboClassId=e.qboClassId),r}}}])},mvTK:function(e,r){angular.module("deskworks.reservationService",["ngResource","deskworks.config","datesDeserializer"]).factory("reservationService",["$resource","$filter","deskworksConfig","helper","datesDeserializer",function(e,r,n,t,i){"use strict";var s=r("date"),o=i(["from","to","updatedAt"]),a=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/reservations/:reservationId"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,o]},save:{method:"POST",transformRequest:u},update:{method:"PUT",transformRequest:u}});return{query:function(e){return(e=angular.extend({},e)).from=e.from&&s(e.from,"iso"),e.to=e.to&&s(e.to,"iso"),a.query(e).$promise},save:function(e,r,n){return n.id?a.update({centerId:e,userId:r,reservationId:n.id},n).$promise:a.save({centerId:e,userId:r},n).$promise.then(function(e){return n.id=e.id,n.accessCode=e.accessCode,n})},delete:function(e,r,n,t,i,s){return a.delete({centerId:e,userId:r,reservationId:n,emailConfirmation:t,repeatFrequency:i,repeatDuration:s}).$promise}};function u(e){return(e=angular.extend({},e)).from=s(e.from,"iso"),e.to=s(e.to,"iso"),angular.toJson(e)}}])},n1eT:function(e,r){angular.module("deskworks.userProfile.optsBankAccountType",[]).factory("optsBankAccountType",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"checking",_name:"BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE.CHECKING"},{id:"savings",_name:"BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE.SAVINGS"}];return e.$on("$setTranslationsSuccess",function(){n.forEach(function(e){e.name=r.instant(e._name)})}),n}])},nBBl:function(e,r){angular.module("deskworks.userProfile.optsCCExpiryYear",[]).factory("optsCCExpiryYear",["$filter",function(e){"use strict";var r=[],n=new Date,t=new Date;n.setDate(1),t.setDate(1);for(var i=0;i<11;i++)n.setFullYear(t.getFullYear()+i),r.push({id:String(n.getFullYear()),name:e("date")(n,"yyyy")});return r}])},ngiX:function(e,r){angular.module("deskworks.userProfile.optsState",[]).factory("optsState",function(){"use strict";return{US:[{id:"AL",name:"AL"},{id:"AK",name:"AK"},{id:"AZ",name:"AZ"},{id:"AR",name:"AR"},{id:"CA",name:"CA"},{id:"CO",name:"CO"},{id:"CT",name:"CT"},{id:"DE",name:"DE"},{id:"DC",name:"DC"},{id:"FL",name:"FL"},{id:"GA",name:"GA"},{id:"HI",name:"HI"},{id:"ID",name:"ID"},{id:"IL",name:"IL"},{id:"IN",name:"IN"},{id:"IA",name:"IA"},{id:"KS",name:"KS"},{id:"KY",name:"KY"},{id:"LA",name:"LA"},{id:"ME",name:"ME"},{id:"MD",name:"MD"},{id:"MA",name:"MA"},{id:"MI",name:"MI"},{id:"MN",name:"MN"},{id:"MS",name:"MS"},{id:"MO",name:"MO"},{id:"MT",name:"MT"},{id:"NE",name:"NE"},{id:"NV",name:"NV"},{id:"NH",name:"NH"},{id:"NJ",name:"NJ"},{id:"NM",name:"NM"},{id:"NY",name:"NY"},{id:"NC",name:"NC"},{id:"ND",name:"ND"},{id:"OH",name:"OH"},{id:"OK",name:"OK"},{id:"ON",name:"ON"},{id:"OR",name:"OR"},{id:"PA",name:"PA"},{id:"RI",name:"RI"},{id:"SC",name:"SC"},{id:"SD",name:"SD"},{id:"TN",name:"TN"},{id:"TX",name:"TX"},{id:"UT",name:"UT"},{id:"VT",name:"VT"},{id:"VA",name:"VA"},{id:"WA",name:"WA"},{id:"WV",name:"WV"},{id:"WI",name:"WI"},{id:"WY",name:"WY"}]}})},oQKN:function(e,r){angular.module("deskworks.emailAllMembers.service",["ngResource","deskworks.config"]).factory("emailAllMembers",["$resource","deskworksConfig",function(e,r){"use strict";var n=e(r.getApiAbsUrl("/email-all-members"),{},{update:{method:"PUT"}});return{send:function(e,r){return n.save({test:r||null},e).$promise},query:function(e){return n.query({includeNonMembers:e}).$promise}}}])},qMzQ:function(e,r){angular.module("deskworks.reservationRules.optsReservationLimitMin",[]).factory("optsReservationLimitMin",["$rootScope","$translate","$filter",function(e,r,n){"use strict";var t=[{id:"0.25",value:15,unit:"minutes",name:"15 min"},{id:"0.5",value:30,unit:"minutes",name:"30 min"},{id:"1.0",value:1,unit:"hours",name:"1 hr"},{id:"2.0",value:2,unit:"hours",name:"2 hr"},{id:"4.0",value:4,unit:"hours",name:"4 hr"},{id:"24.0",value:1,unit:"days",name:"1 day"},{id:"72.0",value:3,unit:"days",name:"3 day"},{id:"168.0",value:1,unit:"weeks",name:"1 week"}];function i(){t.forEach(function(e){e.name=n(e.unit)(e.value)})}return i(),e.$on("$setTranslationsSuccess",i),t}])},qYhU:function(e,r){angular.module("deskworks.PassProduct.service",["ngResource","deskworks.config"]).factory("PassProduct",["$resource","$q","deskworksConfig",function(e,r,n){"use strict";var t=e(n.getApiAbsUrl("/centers/:centerId/pass-products"));return{query:function(e){return t.query({centerId:e}).$promise}}}])},qrcK:function(e,r){angular.module("deskworks.userProfile.service.phone",["ngResource","deskworks.helper","deskworks.userProfile.cache","deskworks.userProfile.optsPhoneType"]).factory("upPhoneService",["$resource","deskworksConfig","userProfileCache","helper","optsPhoneType",function(e,r,n,t,i){"use strict";var s=e(r.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/phones/:phoneId"),{},{update:{method:"PUT"}});return{new:function(){return{id:t.uid(),type:i[2]}},isNew:function(e){return e&&t.isUid(e.id)},save:function(e,r,i){return n.removeAll(),t.isUid(i.id)?s.save({centerId:e||0,userId:r},this.unresolve(i)).$promise.then(function(e){return i.id=e.id,e}):s.update({centerId:e||0,userId:r,phoneId:i.id},this.unresolve(i)).$promise},delete:function(e,r,t){return n.removeAll(),s.delete({centerId:e||0,userId:r,phoneId:t.id}).$promise},resolve:function(e){return e.type=t.findByKeyValue(i,"id",e.typeId),e},unresolve:function(e){return{typeId:e.type&&e.type.id?e.type.id:e.type,number:e.number,ext:e.ext}}}}])},rlu9:function(e,r){angular.module("deskworks.dashboard.service",["ngResource","deskworks.config","deskworks.helper","datesDeserializer"]).service("dashboardService",["$resource","deskworksConfig","helper","datesDeserializer",function(e,r,n,t){"use strict";var i=t(["reservationsToday.startTime","reservationsToday.endTime","reservationsToday.updatedAt","reservationsTomorrow.startTime","reservationsTomorrow.endTime","reservationsTomorrow.updatedAt","reservationsConflicts.startTime","reservationsConflicts.endTime"]),s=e(r.getApiAbsUrl("/dashboard/user-stats"),{},{update:{method:"PUT"}}),o=e(r.getApiAbsUrl("/dashboard/center-stats"),{},{get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,i]},update:{method:"PUT"}}),a=e(r.getApiAbsUrl("/dashboard/reservations-conflicts/:conflictId"),{},{update:{method:"PUT"}});this.getUserStats=function(e,r){return s.get({centerId:e,userId:r}).$promise},this.getCenterStats=function(e){return o.get({centerId:e}).$promise},this.resetReservationConflict=function(e){return a.delete({conflictId:e}).$promise}}])},rngN:function(e,r){angular.module("deskworks.userProfile.service.eCheck",["ngResource","deskworks.helper","deskworks.userProfile.cache","deskworks.userProfile.optsBankAccountHolderType","deskworks.userProfile.optsBankAccountType"]).factory("upECheckService",["$resource","$filter","deskworksConfig","userProfileCache","helper","optsBankAccountHolderType","optsBankAccountType",function(e,r,n,t,i,s,o){"use strict";var a=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/e-checks/:eCheckId"),{},{update:{method:"PUT"}});return{new:function(){return{id:i.uid(),bankAccountHolderType:s[0],bankAccountType:o[0]}},isNew:function(e){return e&&i.isUid(e.id)},save:function(e,r,n){return t.removeAll(),i.isUid(n.id)?a.save({centerId:e||0,userId:r},this.unresolve(n)).$promise.then(function(e){return n.id=e.id,e}):a.update({centerId:e||0,userId:r,eCheckId:n.id},{defaultPaymentMethod:!0}).$promise},delete:function(e,r,n){return t.removeAll(),a.delete({centerId:e||0,userId:r,eCheckId:n.id}).$promise},resolve:function(e){return e.bankAccountHolderType=i.findByKeyValue(s,"id",e.bankAccountHolderType),e.bankAccountType=i.findByKeyValue(o,"id",e.bankAccountType),e},unresolve:function(e){return{bankAccountHolderType:e.bankAccountHolderType.id,bankAccountType:e.bankAccountType.id,bankName:e.bankName,bankRoutingNumber:e.bankRoutingNumber,bankAccountNumber:e.bankAccountNumber,fullName:e.fullName,defaultPaymentMethod:!0}}}}])},sS9G:function(e,r){angular.module("deskworks.bank.service",["ngResource","deskworks.config","datesDeserializer"]).factory("bankService",["$resource","$q","$filter","deskworksConfig","helper","datesDeserializer",function(e,r,n,t,i,s){"use strict";var o=s(["creditCardCutOffTime"]),a=e(t.getApiAbsUrl("/banks/:bankId"),{},{query:{method:"GET",isArray:!0,transformResponse:o},get:{method:"GET",transformResponse:o},update:{method:"PUT"}});return{query:function(){return a.query().$promise},get:function(e){return"new"===e?r.when({id:e}):a.get({bankId:e}).$promise},save:function(e){var r=angular.copy(e);return r.creditCardCutOffTime=n("date")(e.creditCardCutOffTime,"HH:mm"),e.id&&"new"!==e.id?a.update({bankId:e.id},r).$promise:a.save({},r).$promise.then(function(r){return e.id=r.id,r})},delete:function(e){return a.delete({bankId:e}).$promise}}}])},tdlC:function(e,r){angular.module("deskworks.userProfile.optsCCExpiryMonth",[]).factory("optsCCExpiryMonth",["$filter","$rootScope",function(e,r){"use strict";var n=[],t=new Date,i=new Date;t.setDate(1),i.setDate(1);for(var s=0;s<12;s++)t.setMonth(s),n.push({id:s+1<10?"0"+(s+1):""+(s+1),name:e("date")(t,"MM - LLLL")});return r.$on("$setLocaleSuccess",function(){n.forEach(function(r,n){t.setMonth(n),r.name=e("date")(t,"MM - LLLL")})}),n}])},tped:function(e,r){angular.module("deskworks.memberUsageService",["ngResource","deskworks.config","datesDeserializer"]).factory("memberUsageService",["$resource","$filter","deskworksConfig","helper","datesDeserializer",function(e,r,n,t,i){"use strict";var s=i(["usages.date","usages.reservationLog.startTime","usages.reservationLog.endTime","usages.checkInLog.startTime","usages.checkInLog.endTime"]),o=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-usages/:memberUsageId"),{},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,s]},get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,s]},update:{method:"PUT"}}),a=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-usages/:memberUsageId/usages/:usageId"),{},{});return{query:function(e,r,n,t){return o.query({centerId:e||0,userId:r,page:n||1,pageSize:t||10}).$promise},get:function(e,r,n,t,i){return o.get({centerId:e,userId:r,memberUsageId:n,page:t||1,pageSize:i||10}).$promise},deletePassRefill:function(e,r,n,t){return a.delete({centerId:e,userId:r,memberUsageId:n,usageId:t}).$promise}}}])},uJ6t:function(e,r){angular.module("deskworks.UserTasks.service",["ngResource","autoCacheFactory","deskworks.config","deskworks.state","deskworks.sidebarTasks.service"]).factory("UserTasks",["$resource","autoCacheFactory","deskworksConfig","state","sidebarTasks",function(e,r,n,t,i){"use strict";var s=r("user-tasks",120),o=e(n.getApiAbsUrl("/centers/:centerId/user-tasks"),{},{query:{method:"GET",cache:s,isArray:!0}});return{query:function(e,r){return o.query({centerId:e,userId:r||void 0}).$promise.then(function(e){return function(e){return e?(e.forEach(function(e){e.open=!1,e.tasks.forEach(function(e){if(e.url&&e.url.match(/^https?:\/\//i))return e.url.indexOf("{{target:self}}")>=0?e.target="_self":(e.target="_blank",e.rel="noopener"),e.url=e.url.replace("{{target:self}}",""),void(e.directUrl=a(e.url));e.url=i.indexOf(e.url)>=0?"/"+e.url:null})}),e):e}(e)})},interpolateTaskUrl:a,tasks:[]};function a(e){var r=[],n=e.split("?");return(n=n[n.length-1])?(n.split("&").forEach(function(e){var n;"{{center}}"===(e=e.split("="))[1]&&t.getCurrentCenterId()?n=t.getCurrentCenterId():"{{user}}"===e[1]&&t.isLoggedAdmin()&&t.getCurrentUserId()!==t.getLoggedUserId()&&(n=t.getCurrentUserId()),n&&r.push(e[0]+"="+encodeURIComponent(n))}),r.length?(r=r.join("&"),(n=e.split("?"))[n.length-1]=r,n.join("?")):e):e}}])},vJ5q:function(e,r,n){"use strict";n.r(r),r.default=angular.module("deskworks.ReservationPrice",["ngResource","deskworks.config"]).factory("ReservationPrice",["$resource","$q","deskworksConfig",function(e,r,n){var t=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/reservation-prices"),{centerId:"@centerId",userId:"@userId"},{query:{method:"GET",isArray:!0}});return{query:function(e,r){return t.query({centerId:e,userId:r}).$promise}}}])},ws3g:function(e,r){angular.module("deskworks.Owner",["ngResource","deskworks.config"]).factory("Owner",["$resource","$q","deskworksConfig",function(e,r,n){var t=e(n.getApiAbsUrl("/owners/:ownerId"),{},{update:{method:"PUT"}});return{query:function(){return t.query().$promise},save:function(e){return e.id?t.update({ownerId:e.id},e).$promise:t.save(e).$promise.then(function(r){e.id=r.id})},delete:function(e){return t.delete({ownerId:e}).$promise}}}])},wv5Z:function(e,r){angular.module("deskworks.reservationUnit.optsRepeatFrequency",[]).factory("optsRepeatFrequency",["$rootScope","$filter","$translate",function(e,r,n){"use strict";var t=[{_name:"RESERVATIONS.REPEAT_FREQUENCY.NONE"},{id:"1.day",_name:"RESERVATIONS.REPEAT_FREQUENCY.DAILY",repeatDurationFilter:r("days"),repeatDurationOptions:[1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{id:"1.week",_name:"RESERVATIONS.REPEAT_FREQUENCY.WEEKLY",repeatDurationFilter:r("weeks"),repeatDurationOptions:[1,2,3,4,5,6,7,8,9,10,11,12]},{id:"1.month",_name:"RESERVATIONS.REPEAT_FREQUENCY.MONTHLY",repeatDurationFilter:r("months"),repeatDurationOptions:[1,2,3,4,5,6,7,8,9,10,11,12]},{id:"4.weeks",_name:"RESERVATIONS.REPEAT_FREQUENCY.MONTHLY_WEEKLY",repeatDurationFilter:r("months"),repeatDurationOptions:[1,2,3,4,5,6,7,8,9,10,11,12]}];function i(){t.forEach(function(e){e.name=n.instant(e._name)})}return i(),e.$on("$setTranslationsSuccess",i),t}])},xSiC:function(e,r){angular.module("deskworks.userProfile.optsCountry",[]).factory("optsCountry",function(){"use strict";return[{id:"AF",name:"Afghanistan"},{id:"AL",name:"Albania"},{id:"DZ",name:"Algeria"},{id:"AS",name:"American Samoa"},{id:"AD",name:"Andorra"},{id:"AO",name:"Angola"},{id:"AI",name:"Anguilla"},{id:"AG",name:"Antigua and Barbuda"},{id:"AR",name:"Argentina"},{id:"AM",name:"Armenia"},{id:"AW",name:"Aruba"},{id:"AU",name:"Australia"},{id:"AT",name:"Austria"},{id:"AZ",name:"Azerbaijan"},{id:"BS",name:"Bahamas"},{id:"BH",name:"Bahrain"},{id:"BD",name:"Bangladesh"},{id:"BB",name:"Barbados"},{id:"BY",name:"Belarus"},{id:"BE",name:"Belgium"},{id:"BZ",name:"Belize"},{id:"BJ",name:"Benin"},{id:"BM",name:"Bermuda"},{id:"BT",name:"Bhutan"},{id:"BO",name:"Bolivia"},{id:"BA",name:"Bosnia and Herzegovina"},{id:"BW",name:"Botswana"},{id:"BV",name:"Bouvet Island"},{id:"BR",name:"Brazil"},{id:"IO",name:"British Indian Ocean Territory"},{id:"BN",name:"Brunei Darussalam"},{id:"BG",name:"Bulgaria"},{id:"BF",name:"Burkina Faso"},{id:"BI",name:"Burundi"},{id:"KH",name:"Cambodia"},{id:"CM",name:"Cameroon"},{id:"CA",name:"Canada"},{id:"CV",name:"Cape Verde"},{id:"KY",name:"Cayman Islands"},{id:"CF",name:"Central African Republic"},{id:"TD",name:"Chad"},{id:"CL",name:"Chile"},{id:"CN",name:"China"},{id:"CX",name:"Christmas Island"},{id:"CC",name:"Cocos (Keeling) Islands"},{id:"CO",name:"Colombia"},{id:"KM",name:"Comoros"},{id:"CG",name:"Congo"},{id:"CD",name:"Congo, the Democratic Republic of the"},{id:"CK",name:"Cook Islands"},{id:"CR",name:"Costa Rica"},{id:"CI",name:"Cote D'Ivoire"},{id:"HR",name:"Croatia"},{id:"CU",name:"Cuba"},{id:"CY",name:"Cyprus"},{id:"CZ",name:"Czech Republic"},{id:"DK",name:"Denmark"},{id:"DJ",name:"Djibouti"},{id:"DM",name:"Dominica"},{id:"DO",name:"Dominican Republic"},{id:"EC",name:"Ecuador"},{id:"EG",name:"Egypt"},{id:"SV",name:"El Salvador"},{id:"GQ",name:"Equatorial Guinea"},{id:"ER",name:"Eritrea"},{id:"EE",name:"Estonia"},{id:"ET",name:"Ethiopia"},{id:"FK",name:"Falkland Islands (Malvinas)"},{id:"FO",name:"Faroe Islands"},{id:"FJ",name:"Fiji"},{id:"FI",name:"Finland"},{id:"FR",name:"France"},{id:"GF",name:"French Guiana"},{id:"PF",name:"French Polynesia"},{id:"TF",name:"French Southern Territories"},{id:"GA",name:"Gabon"},{id:"GM",name:"Gambia"},{id:"GE",name:"Georgia"},{id:"DE",name:"Germany"},{id:"GH",name:"Ghana"},{id:"GI",name:"Gibraltar"},{id:"GR",name:"Greece"},{id:"GL",name:"Greenland"},{id:"GD",name:"Grenada"},{id:"GP",name:"Guadeloupe"},{id:"GU",name:"Guam"},{id:"GT",name:"Guatemala"},{id:"GG",name:"Guernsey"},{id:"GN",name:"Guinea"},{id:"GW",name:"Guinea-Bissau"},{id:"GY",name:"Guyana"},{id:"HT",name:"Haiti"},{id:"HM",name:"Heard Island And Mcdonald Islands"},{id:"VA",name:"Holy See (Vatican City State)"},{id:"HN",name:"Honduras"},{id:"HK",name:"Hong Kong"},{id:"HU",name:"Hungary"},{id:"IS",name:"Iceland"},{id:"IN",name:"India"},{id:"ID",name:"Indonesia"},{id:"IR",name:"Iran, Islamic Republic of"},{id:"IQ",name:"Iraq"},{id:"IE",name:"Ireland"},{id:"IM",name:"Isle Of Man"},{id:"IL",name:"Israel"},{id:"IT",name:"Italy"},{id:"JM",name:"Jamaica"},{id:"JP",name:"Japan"},{id:"JE",name:"Jersey"},{id:"JO",name:"Jordan"},{id:"KZ",name:"Kazakhstan"},{id:"KE",name:"Kenya"},{id:"KI",name:"Kiribati"},{id:"KP",name:"Korea, Democratic People's Republic of"},{id:"KR",name:"Korea, Republic of"},{id:"KW",name:"Kuwait"},{id:"KG",name:"Kyrgyzstan"},{id:"LA",name:"Lao People's Democratic Republic"},{id:"LV",name:"Latvia"},{id:"LB",name:"Lebanon"},{id:"LS",name:"Lesotho"},{id:"LR",name:"Liberia"},{id:"LY",name:"Libyan Arab Jamahiriya"},{id:"LI",name:"Liechtenstein"},{id:"LT",name:"Lithuania"},{id:"LU",name:"Luxembourg"},{id:"MO",name:"Macao"},{id:"MK",name:"Macedonia, the Former Yugoslav Republic of"},{id:"MG",name:"Madagascar"},{id:"MW",name:"Malawi"},{id:"MY",name:"Malaysia"},{id:"MV",name:"Maldives"},{id:"ML",name:"Mali"},{id:"MT",name:"Malta"},{id:"MH",name:"Marshall Islands"},{id:"MQ",name:"Martinique"},{id:"MR",name:"Mauritania"},{id:"MU",name:"Mauritius"},{id:"YT",name:"Mayotte"},{id:"MX",name:"Mexico"},{id:"FM",name:"Micronesia, Federated States of"},{id:"MD",name:"Moldova, Republic of"},{id:"MC",name:"Monaco"},{id:"MN",name:"Mongolia"},{id:"ME",name:"Montenegro"},{id:"MS",name:"Montserrat"},{id:"MA",name:"Morocco"},{id:"MZ",name:"Mozambique"},{id:"MM",name:"Myanmar"},{id:"NA",name:"Namibia"},{id:"NR",name:"Nauru"},{id:"NP",name:"Nepal"},{id:"NL",name:"Netherlands"},{id:"AN",name:"Netherlands Antilles"},{id:"NC",name:"New Caledonia"},{id:"NZ",name:"New Zealand"},{id:"NI",name:"Nicaragua"},{id:"NE",name:"Niger"},{id:"NG",name:"Nigeria"},{id:"NU",name:"Niue"},{id:"NF",name:"Norfolk Island"},{id:"MP",name:"Northern Mariana Islands"},{id:"NO",name:"Norway"},{id:"OM",name:"Oman"},{id:"PK",name:"Pakistan"},{id:"PW",name:"Palau"},{id:"PS",name:"Palestinian Territory, Occupied"},{id:"PA",name:"Panama"},{id:"PG",name:"Papua New Guinea"},{id:"PY",name:"Paraguay"},{id:"PE",name:"Peru"},{id:"PH",name:"Philippines"},{id:"PN",name:"Pitcairn"},{id:"PL",name:"Poland"},{id:"PT",name:"Portugal"},{id:"PR",name:"Puerto Rico"},{id:"QA",name:"Qatar"},{id:"RE",name:"Reunion"},{id:"RO",name:"Romania"},{id:"RU",name:"Russian Federation"},{id:"RW",name:"Rwanda"},{id:"BL",name:"Saint Barthélemy"},{id:"SH",name:"Saint Helena"},{id:"KN",name:"Saint Kitts and Nevis"},{id:"LC",name:"Saint Lucia"},{id:"MF",name:"Saint Martin (French part)"},{id:"PM",name:"Saint Pierre and Miquelon"},{id:"VC",name:"Saint Vincent and the Grenadines"},{id:"WS",name:"Samoa"},{id:"SM",name:"San Marino"},{id:"ST",name:"Sao Tome and Principe"},{id:"SA",name:"Saudi Arabia"},{id:"SN",name:"Senegal"},{id:"RS",name:"Serbia"},{id:"SC",name:"Seychelles"},{id:"SL",name:"Sierra Leone"},{id:"SG",name:"Singapore"},{id:"SK",name:"Slovakia"},{id:"SI",name:"Slovenia"},{id:"SB",name:"Solomon Islands"},{id:"SO",name:"Somalia"},{id:"ZA",name:"South Africa"},{id:"GS",name:"South Georgia and the South Sandwich Islands"},{id:"ES",name:"Spain"},{id:"LK",name:"Sri Lanka"},{id:"SD",name:"Sudan"},{id:"SR",name:"Suriname"},{id:"SJ",name:"Svalbard and Jan Mayen"},{id:"SZ",name:"Swaziland"},{id:"SE",name:"Sweden"},{id:"CH",name:"Switzerland"},{id:"SY",name:"Syrian Arab Republic"},{id:"TW",name:"Taiwan, Province of China"},{id:"TJ",name:"Tajikistan"},{id:"TZ",name:"Tanzania, United Republic of"},{id:"TH",name:"Thailand"},{id:"TL",name:"Timor Leste"},{id:"TG",name:"Togo"},{id:"TK",name:"Tokelau"},{id:"TO",name:"Tonga"},{id:"TT",name:"Trinidad and Tobago"},{id:"TN",name:"Tunisia"},{id:"TR",name:"Turkey"},{id:"TM",name:"Turkmenistan"},{id:"TC",name:"Turks and Caicos Islands"},{id:"TV",name:"Tuvalu"},{id:"UG",name:"Uganda"},{id:"UA",name:"Ukraine"},{id:"AE",name:"United Arab Emirates"},{id:"GB",name:"United Kingdom"},{id:"US",name:"United States",import:"USA"},{id:"UM",name:"United States Minor Outlying Islands"},{id:"UY",name:"Uruguay"},{id:"UZ",name:"Uzbekistan"},{id:"VU",name:"Vanuatu"},{id:"VE",name:"Venezuela"},{id:"VN",name:"Viet Nam"},{id:"VG",name:"Virgin Islands, British"},{id:"VI",name:"Virgin Islands, U.S."},{id:"WF",name:"Wallis and Futuna"},{id:"EH",name:"Western Sahara"},{id:"YE",name:"Yemen"},{id:"ZM",name:"Zambia"},{id:"ZW",name:"Zimbabwe"},{id:"AX",name:"Åland Islands"}]})},yLkI:function(e,r,n){"use strict";n.r(r);n("DbwS"),n("t91x");angular.module("session",["deskworks.config","deskworks.userRoles"]).factory("session",["$q","$http","deskworksConfig","userRoles",function(e,r,n,t){var i=n.getApiAbsUrl("/auth"),s={wait:function(){return e.when(o)},refresh:u,login:function(n,t,s){return e.when(o).finally(function(){return o=r.post(i,{username:n,password:t,remember:s}).then(d).finally(function(){o=null})})},logout:function(){return e.when(o).finally(function(){return r.delete(i).finally(a)})},isAnonymous:function(){return!s.user},isAdmin:function(){return s.user&&t[s.user.role]&&"admin"===t[s.user.role].type||!1},isRole:function(e){angular.isArray(e)||(e=[e]);return s.user&&e.some(function(e){return e===s.user.role})||!1},loginSilent:function(e,n){return r.post(i,{username:e,password:n}).then(function(e){return s.accessToken=e.data.accessToken,e})}};a();var o=u().finally(function(){o=null});return s;function a(){s.accessToken=null,s.user=null,s.expireAt=null}function u(){return o||(o=r.get(i).then(d).catch(function(e){if(401!==e.status)throw e}).finally(function(){o=null}))}function d(e){return s.accessToken=e.data.accessToken,s.user=e.data.user,e}}])},yhnS:function(e,r){angular.module("deskworks.optsSystemEmailFunction",[]).factory("optsSystemEmailFunction",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:0,_name:"SYSTEM_EMAILS.FUNCTION.FROM"},{id:1,_name:"SYSTEM_EMAILS.FUNCTION.SIGN_UP"},{id:2,_name:"SYSTEM_EMAILS.FUNCTION.LOST_ACCESS_CARD"},{id:3,_name:"SYSTEM_EMAILS.FUNCTION.NEW_ORDER"},{id:4,_name:"SYSTEM_EMAILS.FUNCTION.EXISTING_ORDER"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},zBDg:function(e,r){angular.module("deskworks.Admin",["ngResource","deskworks.config","deskworks.helper"]).factory("Admin",["$resource","$q","deskworksConfig","helper",function(e,r,n,t){"use strict";var i=e(n.getApiAbsUrl("/administrators/:adminId"),{},{update:{method:"PUT"}});return{query:function(){return i.query().$promise},get:function(e){return i.get({adminId:e}).$promise.then(function(r){return"new"===e?(r.role=r.options.roles[0],r.receiveUrgentReservationNotices=!0,r.receiveWelcomeEmailCopies=!1,r.receiveReservationConfirmationCopies=!1,r.seeDashboardRevenue=!0,r.centers.forEach(function(e){e.emailing=!0,e.permission="all"})):r.role=t.findByKeyValue(r.options.roles,"id",r.role),r.centers=r.centers||{},r})},save:function(e){var r=t.purify(e,["options","printerCode"]);return r.role=r.role&&r.role.id?r.role.id:r.role,e.id&&"new"!==e.id?i.update({adminId:e.id},r).$promise:i.save({},r).$promise.then(function(r){return e.id=r.id,e})},delete:function(e){return i.delete({adminId:e}).$promise}}}])},zFMG:function(e,r){angular.module("deskworks.optsDashboardIncome",[]).factory("optsDashboardIncome",["$rootScope","$translate",function(e,r){"use strict";var n=[{id:"cash",_name:"SETUP_SETTINGS.DASHBOARD_INCOME.CASH"},{id:"accrual",_name:"SETUP_SETTINGS.DASHBOARD_INCOME.ACCRUAL"}];function t(){n.forEach(function(e){e.name=r.instant(e._name)})}return t(),e.$on("$setTranslationsSuccess",t),n}])},zqmC:function(e,r,n){"use strict";n.r(r);n("5hJT");angular.module("deskworks.reservationRules.service",["ngResource","deskworks.config"]).factory("ReservationRules",["$resource","$timeout","$filter","$rootScope","$translate","$locale","helper","deskworksConfig",function(e,r,n,t,i,s,o,a){var u=a.getApiAbsUrl("/centers/:centerId/reservation-rules/:ruleId"),d=a.getApiAbsUrl("/centers/:centerId/reservation-units/:reservationUnitId/reservation-rules/:ruleId"),c=e(u,{centerId:"@centerId",ruleId:"@ruleId"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,f]},save:{method:"POST",transformRequest:[h,angular.toJson],transformResponse:[angular.fromJson,f]},update:{method:"PUT",transformRequest:[h,angular.toJson],transformResponse:[angular.fromJson,f]},delete:{method:"DELETE"}}),m=e(d,{centerId:"@centerId",reservationUnitId:"@reservationUnitId",ruleId:"@ruleId"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,f]},save:{method:"POST",transformRequest:[h,angular.toJson],transformResponse:[angular.fromJson,f]},update:{method:"PUT",transformRequest:[h,angular.toJson],transformResponse:[angular.fromJson,f]}}),l=[{id:"member",_name:"RESERVATION_RULES.MEMBER",$isVisible:function(e){return"staffOnly"!==e&&"notAvailable"!==e&&"nonMember"!==e}},{id:"nonMember",_name:"RESERVATION_RULES.NON_MEMBER",$isVisible:function(e){return"anyone"===e||"nonMember"===e}}];function p(){l.forEach(function(e){e.name=i.instant(e._name)})}return p(),t.$on("$setTranslationsSuccess",p),{roles:l,query:function(e){return e.reservationUnitId?m.query(e).$promise:c.query(e).$promise},save:function(e,r){return e=Object.assign({ruleId:r.id},e),(r.id?e.reservationUnitId?m.update(e,r).$promise:c.update(e,r).$promise:e.reservationUnitId?m.save(e,r).$promise:c.save(e,r).$promise).then(function(e){return r.id=e.id,l.forEach(function(n){e[n.id]&&e[n.id].intervals&&(r[n.id].intervals=e[n.id].intervals)}),r})},delete:function(e){return c.delete(e).$promise}};function f(e){return(angular.isArray(e)?e:[e]).forEach(function(e){switch(e.uid){case"whoCanReserve":case"fullTimeProduct":e.type="value";break;case"attachedUser":e.type="static";break;case"limitMin":case"limitMax":case"daysInAdvance":e.type="roles";break;case"sun":e.name=s.DATETIME_FORMATS.SHORTDAY[0],e.type="weekday";break;case"mon":e.name=s.DATETIME_FORMATS.SHORTDAY[1],e.type="weekday";break;case"tue":e.name=s.DATETIME_FORMATS.SHORTDAY[2],e.type="weekday";break;case"wed":e.name=s.DATETIME_FORMATS.SHORTDAY[3],e.type="weekday";break;case"thu":e.name=s.DATETIME_FORMATS.SHORTDAY[4],e.type="weekday";break;case"fri":e.name=s.DATETIME_FORMATS.SHORTDAY[5],e.type="weekday";break;case"sat":e.name=s.DATETIME_FORMATS.SHORTDAY[6],e.type="weekday";break;default:e.type="date"}"weekday"!==e.type&&"date"!==e.type||l.forEach(function(r){e[r.id].intervals.forEach(function(e){e.from=n("toDate")(e.from),e.to=n("toDate")(e.to)})}),"date"===e.type&&(e.date=n("toDate")(e.date))}),e}function h(e){var r=e.type;return e=angular.copy(o.purify(e,["type"])),"weekday"!==r&&"date"!==r||l.forEach(function(r){e[r.id]=o.purify(e[r.id]),angular.forEach(e[r.id].intervals,function(e){e.from=n("date")(e.from,"HH:mm"),e.to=n("date")(e.to,"HH:mm"),"00:00"===e.to&&(e.to="24:00")})}),"date"===r&&(e.date=n("date")(e.date,"yyyy-MM-dd")),e}}])}},[["QfWi",35,52,48,54,57,44,47,50,49,55,42,51,43,53,46,56,58,45,22,21,26,19,24,25,18,20]]]);