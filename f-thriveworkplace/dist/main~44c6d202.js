(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Dj2":function(e,r,t){"use strict";t.r(r);var n=t("kYjL"),o=t("qPfh");r.default=angular.module("deskworks.buyPass",[n.a.name,o.a.name,"deskworks.PassProduct.service","deskworks.setup.service"]).config(["$routeProvider",function(e){var r="/buy-pass/user";e.when("/buy-pass",{template:"<forbid-staff><div><ng-include src=\"'steps/01-select-pass.tpl.html'\"></ng-include></div></forbid-staff>",controller:"BuyPassSelectPassCtrl as $ctrl",routeBranch:"buy-pass",hideSidebar:!0,userTasksPolicy:!1,reloadOnSearch:!1,translations:["buy-pass"],resolve:{reg:function(){return{}},passes:["state","dwAlerts","PassProduct",function(e,r,t){return e.getCurrentCenterId()?t.query(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to query pass products.")})):r.error(null,"Center is not selected.")}],center:["state","dwAlerts","centerService",function(e,r,t){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}],lazy:"lazyLoadBuyPass"}}),e.when("/buy-pass/user",{template:'<forbid-staff><div><dw-sign-in id="signIn" show-sign-up="true"></dw-sign-in></div></forbid-staff>',controller:"BuyPassSignInCtrl as vm",routeBranch:"buy-pass",hideSidebar:!0,userTasksPolicy:!1,translations:["sign-in"],resolve:{redirect:["$q","state",function(e,r){if(r.getLoggedUserId())return r.setPath(r.getPath()+"/"+r.getLoggedUserId(),!0),e.reject()}],lazy:"lazyLoadBuyPass"}}),e.when("/buy-pass/user/:userId",{template:"<forbid-staff><div><ng-include src=\"'templates/new-user-profile.tpl.html'\"></ng-include></div></forbid-staff>",controller:"BuyPassUserProfileCtrl as vm",routeBranch:"buy-pass",hideSidebar:!0,userTasksPolicy:!1,translations:["user-profile"],resolve:{reg:["$route",function(e){return{member:!1,selfRegistration:!0,new:"new"===e.current.params.userId}}],userProfile:["$q","$route","helper","state","routeHelper","dwAlerts","userProfileService","centerService","resolveTimezone",function(e,t,n,o,a,i,s,l,u){return"new"===t.current.params.userId?l.get(o.getCurrentCenterId()).then((function(e){return s.new(e,"nonMember","signUp").catch((function(e){return i.error(e,"Failed to get new user profile template.")}))})):e.all([a.auth(r),u()]).then((function(){return s.getForRegistration(o.getCurrentCenterId(),t.current.params.userId,"nonMember","signUp").catch((function(e){return i.error(e,"Failed to get user profile.")}))}))}],center:["state","dwAlerts","centerService",function(e,r,t){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}],lazy:"lazyLoadBuyPass"}}),e.when("/buy-pass/user/:userId/purchase/:purchaseId",{template:"<forbid-staff><div><ng-include src=\"'steps/04-purchase.tpl.html'\"></ng-include></div></forbid-staff>",controller:"BuyPassPurchaseCtrl",controllerAs:"$ctrl",routeBranch:"buy-pass",hideSidebar:!0,userTasksPolicy:!1,translations:["buy-pass","purchase","billing-profile","user-profile","simple-reservation"],resolve:{reg:function(){return{member:!1,selfRegistration:!0}},center:["state","dwAlerts","centerService",function(e,r,t){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}],purchase:["$q","$route","dwAlerts","state","routeHelper","purchaseService","resolveTimezone",function(e,t,n,o,a,i,s){return e.all([a.auth(r),s()]).then((function(){return i.get(o.getCurrentCenterId(),t.current.params.userId,t.current.params.purchaseId).catch((function(e){return n.error(e,"Failed to get purchase.")}))}))}],user:["$q","$route","dwAlerts","state","routeHelper","userProfileService","resolveTimezone",function(e,t,n,o,a,i,s){return e.all([a.auth(r),s()]).then((function(){return i.get(o.getCurrentCenterId(),t.current.params.userId).catch((function(e){return n.error(e,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadBuyPass"}}),e.when("/buy-pass/user/:userId/purchase/:purchaseId/staff-help",{template:"<forbid-staff><div><ng-include src=\"'staff-help/staff-help.tpl.html'\"></ng-include></div></forbid-staff>",controller:"BuyPassStaffHelpCtrl as vm",routeBranch:"buy-pass",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{auth:["routeHelper",function(e){return e.auth(r)}],lazy:"lazyLoadBuyPass"}}),e.when("/buy-pass/user/:userId/purchase/:purchaseId/complete",{template:"<forbid-staff><div><ng-include src=\"'steps/06-complete.tpl.html'\"></ng-include></div></forbid-staff>",controller:"BuyPassCompleteCtrl as $ctrl",routeBranch:"buy-pass",hideSidebar:!0,userTasksPolicy:!1,translations:["buy-pass"],resolve:{auth:["routeHelper",function(e){return e.auth(r)}],lazy:"lazyLoadBuyPass"}})}])},"+Pfa":function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.reports",["oc.lazyLoad","deskworks.setup.service","deskworks.center.service","deskworks.userProfile.service","deskworks.purchase.service","deskworks.bank.service","deskworks.UserField","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/invoice/:orderId",{template:"<div ng-include=\"'invoice/invoice.tpl.html'\"></div>",controller:"InvoiceCtrl as vm",label:"Invoice",routeBranch:"invoice",reloadOnSearch:!1,hideSidebar:!0,userTasksPolicy:!1,translations:["reports","invoice"],resolve:{user:["dwAlerts","routeHelper","state","userProfileService","resolveTimezone",function(e,r,t,n,o){return r.selectUser().then((function(){return o()})).then((function(){return n.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],center:["dwAlerts","state","centerService",function(e,r,t){return t.get(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],orderId:["$route",function(e){return e.current.params.orderId}],lazy:"lazyLoadReports"}}),e.when("/purchases/:purchaseId/view",{template:"<div ng-include=\"'invoice/invoice.tpl.html'\"></div>",controller:"InvoiceCtrl as vm",label:"Invoice",routeBranch:"purchases",reloadOnSearch:!1,translations:["reports","invoice"],resolve:{user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],center:["dwAlerts","state","centerService",function(e,r,t){return t.get(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],orderId:["$route",function(e){return e.current.params.purchaseId}],back:["state",function(e){return function(){return e.resetParams(),e.setPath("/purchases")}}],preventOrderUserMismatch:["$route","$q","dwAlerts","routeHelper","state","helper","purchaseService",function(e,r,t,n,o,a,i){return n.auth().then((function(){return n.selectUser().then((function(){return i.query(o.getCurrentCenterId(),o.getCurrentUserId()).catch((function(e){return t.error(e,"Failed to query purchases.")})).then((function(t){if(!a.findByKeyValue(t,"id",e.current.params.purchaseId))return o.resetParams(),o.setPath("/purchases"),r.reject()}))}))}))}],lazy:"lazyLoadReports"}}),e.when("/generate-invoice",{template:"<div ng-include=\"'invoice/invoice.tpl.html'\"></div>",controller:"InvoiceCtrl as vm",label:"Generate Invoice",routeBranch:"generate-invoice",reloadOnSearch:!1,translations:["reports","invoice"],resolve:{user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],center:["dwAlerts","state","centerService",function(e,r,t){return t.get(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],orderId:function(){},lazy:"lazyLoadReports"}}),e.when("/member-statement",{template:"<div ng-include=\"'member-statement/member-statement.tpl.html'\"></div>",controller:"MemberStatementCtrl as vm",label:"Member Statement",routeBranch:"member-statement",reloadOnSearch:!1,translations:["reports","member-statement"],resolve:{user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],lazy:"lazyLoadReports"}}),e.when("/mailbox-report",{template:"<div ng-include=\"'mailbox-report/mailbox-report.tpl.html'\"></div>",controller:"MailboxReportCtrl as vm",label:"Mailbox Report",routeBranch:"mailbox-report",reloadOnSearch:!1,translations:["reports","mailbox-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/membership-report",{template:"<div ng-include=\"'membership-report/membership-report.tpl.html'\"></div>",controller:"MembershipReportCtrl as vm",label:"Membership Report",routeBranch:"membership-report",reloadOnSearch:!1,translations:["reports","membership-report","user-search"],resolve:{auth:["routeHelper",function(e){return e.auth()}],fields:["dwAlerts","UserField",function(e,r){return r.query().catch((function(r){return e.error(r,"Failed to query user fields.")}))}],lazy:"lazyLoadReports"}}),e.when("/deposit-transaction-report",{template:"<div ng-include=\"'deposit-transaction-report/deposit-transaction-report.tpl.html'\"></div>",controller:"DepositTransactionReportCtrl as vm",label:"Deposit Transaction Report",routeBranch:"deposit-transaction-report",reloadOnSearch:!1,translations:["reports","deposit-transaction-report"],resolve:{banks:["routeHelper","dwAlerts","bankService",function(e,r,t){return e.auth().then((function(){return t.query().catch((function(e){return r.error(e,"Failed to query banks.")}))}))}],centers:["routeHelper","dwAlerts","centerService",function(e,r,t){return e.auth().then((function(){return t.getCenters().catch((function(e){return r.error(e,"Failed to query centers.")}))}))}],lazy:"lazyLoadReports"}}),e.when("/deposit-and-tax-report",{template:"<div ng-include=\"'deposit-and-tax-report/deposit-and-tax-report.tpl.html'\"></div>",controller:"DepositAndTaxReportCtrl as $ctrl",routeBranch:"deposit-and-tax-report",reloadOnSearch:!1,translations:["reports","deposit-and-tax-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/income-by-item-report",{template:"<div ng-include=\"'income-by-item-report/income-by-item-report.tpl.html'\"></div>",controller:"IncomeByItemReportCtrl as vm",label:"Income By Item Report",routeBranch:"income-by-item-report",reloadOnSearch:!1,translations:["reports","income-by-item-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/income-report",{template:"<div ng-include=\"'income-report/income-report.tpl.html'\"></div>",controller:"IncomeReportCtrl as vm",label:"Income Report",routeBranch:"income-report",reloadOnSearch:!1,translations:["reports","income-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/accounts-receivable-report",{template:"<div ng-include=\"'accounts-receivable-report/accounts-receivable-report.tpl.html'\"></div>",controller:"AccountsReceivableReportCtrl as vm",label:"Accounts Receivable Report",routeBranch:"accounts-receivable-report",reloadOnSearch:!1,translations:["reports","accounts-receivable-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/credit-balance-report",{template:"<div ng-include=\"'credit-balance-report/credit-balance-report.tpl.html'\"></div>",controller:"CreditBalanceReportCtrl as vm",label:"Credit Balance Report",routeBranch:"credit-balance-report",reloadOnSearch:!1,translations:["reports","credit-balance-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/recurring-billing-report",{template:"<div ng-include=\"'recurring-billing-report/recurring-billing-report.tpl.html'\"></div>",controller:"RecurringBillingReportCtrl as vm",label:"Recurring Billings Report",routeBranch:"recurring-billing-report",reloadOnSearch:!1,translations:["reports","recurring-billings-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/reservation-report",{template:"<div ng-include=\"'reservation-report/reservation-report.tpl.html'\"></div>",controller:"ReservationReportCtrl as vm",label:"Reservation Report",routeBranch:"reservation-report",reloadOnSearch:!1,translations:["reports","reservation-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/security-deposit-report",{template:"<div ng-include=\"'security-deposit-report/security-deposit-report.tpl.html'\"></div>",controller:"SecurityDepositReportCtrl as vm",label:"Security Deposit Report",routeBranch:"security-deposit-report",reloadOnSearch:!1,translations:["reports","security-deposit-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/availability-report",{template:"<div ng-include=\"'availability-report/availability-report.tpl.html'\"></div>",controller:"AvailabilityReportCtrl as vm",label:"Availability Report",routeBranch:"availability-report",reloadOnSearch:!1,translations:["reports","availability-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/member-usage-report",{template:"<div ng-include=\"'member-usage-report/member-usage-report.tpl.html'\"></div>",controller:"MemberUsageReportCtrl as vm",label:"Member Usage Report",routeBranch:"member-usage-report",reloadOnSearch:!1,translations:["reports","member-usage-report"],resolve:{auth:["routeHelper",function(e){return e.auth().then((function(){return e.selectUser()}))}],lazy:"lazyLoadReports"}}),e.when("/check-in-report",{template:"<div ng-include=\"'check-in-report/check-in-report.tpl.html'\"></div>",controller:"CheckInReportCtrl as $ctrl",routeBranch:"check-in-report",reloadOnSearch:!1,translations:["reports","check-in-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/reservation-utilization-report",{template:"<div ng-include=\"'reservation-utilization-report/reservation-utilization-report.tpl.html'\"></div>",controller:"ReservationUtilizationReportCtrl as $ctrl",routeBranch:"reservation-utilization-report",reloadOnSearch:!1,translations:["reports","reservation-units","reservation-utilization-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/write-off-report",{template:"<div ng-include=\"'write-off-report/write-off-report.tpl.html'\"></div>",controller:"WriteOffReportCtrl as $ctrl",routeBranch:"write-off-report",reloadOnSearch:!1,translations:["reports","write-off-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/reservation-usage-report",{template:"<div ng-include=\"'reservation-usage-report/reservation-usage-report.tpl.html'\"></div>",controller:"ReservationUsageReportCtrl as $ctrl",routeBranch:"reservation-usage-report",reloadOnSearch:!1,translations:["reports","reservation-units","reservation-usage-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}}),e.when("/rent-roll-report",{template:"<div ng-include=\"'rent-roll-report/rent-roll-report.tpl.html'\"></div>",controller:"RentRollReportCtrl as $ctrl",routeBranch:"rent-roll-report",reloadOnSearch:!1,translations:["reports","rent-roll-report"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadReports"}})}])},"0+r9":function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.whiteLabel",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/white-label-settings",{template:"<div ng-include=\"'settings/white-label-settings.tpl.html'\"></div>",controller:"WhiteLabelSettingsCtrl as $ctrl",routeBranch:"white-label-settings",translations:["white-label-settings"],resolve:{lazy:"lazyLoadWhiteLabel"}})}])},"1tnR":function(e,r,t){"use strict";t.r(r);t("kYjL"),t("tcE9");r.default=angular.module("deskworks.import",["deskworks.routeHelper","deskworks.dwAlerts","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/setup/import",{template:"<div ng-include=\"'wizard/import.tpl.html'\"></div>",controller:"SetupImportCtrl as $ctrl",label:"Setup Import",routeBranch:"setup/import",translations:["reservation-rules","user-profile","billing-profile","products"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadImport"}})}])},"6IZz":function(e,r,t){"use strict";t.r(r);var n=t("nbuU"),o=t.n(n),a=t("hsT8"),i=t.n(a),s=(t("kYjL"),t("2/1H"));r.default=angular.module("deskworks.simpleReservation",["ngRoute","deskworks.center.service","deskworks.reservationCategory.service","deskworks.calendarService","deskworks.userProfile.service","deskworks.purchase.service","deskworks.setup.service","deskworks.lazyLoaders",s.a.name]).config(["$routeProvider",function(e){function r(e,r,t){return t.auth(r.interpolateRoute("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users",e.current.params))}e.when("/simple-reservation",{template:"<div ng-include=\"'01-centers/centers.tpl.html'\"></div>",controller:"SimpleReservationCentersCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{centers:["$q","dwAlerts","centerService",function(e,r,t){return t.getCenters().catch((function(e){return r.error(e,"Failed to query centers.")})).then((function(e){return(e=i()(e).call(e,(function(e){return e.reservationUnitsCount>0}))).length?e:r.error("<b>No public centers.</b> At least one center needs <b>Center for Internal Use</b> setting <b>turned off.</b>")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types",{template:"<div ng-include=\"'02-reservation-categories/reservation-categories.tpl.html'\"></div>",controller:"SimpleReservationCategoriesCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation","reservations"],resolve:{reservationCategories:["$route","state","helper","dwAlerts","calendarService","resolveTimezone",function(e,r,t,n,o,a){return a().then((function(){return o.query(e.current.params.centerId,moment(),moment()).catch((function(e){return n.error(e,"Failed to query reservation categories.")}))}))}],center:["$route","dwAlerts","centerService",function(e,r,t){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId",{template:"<div ng-include=\"'03-reservation-category/reservation-category.tpl.html'\"></div>",controller:"SimpleReservationCategoryCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{reservationCategory:["$q","$route","dwAlerts","reservationCategoryService",function(e,r,t,n){return n.get(r.current.params.centerId,r.current.params.reservationTypeId).catch((function(e){return t.error(e,"Failed to get reservation category.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates",{template:"<div ng-include=\"'04-date/date.tpl.html'\"></div>",controller:"SimpleReservationDateCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{unavailableDates:["$route","dwAlerts","reservationCategoryService",function(e,r,t){return t.getUnavailableDates(e.current.params.centerId,e.current.params.reservationTypeId).catch((function(e){return r.error(e,"Failed to query unavailable dates.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units",{template:"<div ng-include=\"'05-reservation-units/reservation-units.tpl.html'\"></div>",controller:"SimpleReservationUnitsCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation","reservations"],resolve:{resUnits:["$route","$filter","state","helper","dwAlerts","calendarService","resolveTimezone",function(e,r,t,n,a,i,s){return s().then((function(){var t=r("toDate")(e.current.params.date);return t=moment.isMoment(t)?t:moment(),i.query(e.current.params.centerId,t,t).catch((function(e){return a.error(e,"Failed to fetch calendar data.")})).then((function(r){return(o()(n).call(n,r,e.current.params.reservationTypeId)||{}).reservationUnits||[]}))}))}],center:["$route","dwAlerts","centerService",function(e,r,t){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId",{template:"<div ng-include=\"'06-time/simple-reservation-time.tpl.html'\"></div>",controller:"SimpleReservationTimeCtrl as $ctrl",reloadOnSearch:!1,routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation","reservations"],resolve:{center:["$route","dwAlerts","centerService",function(e,r,t){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}],calData:["$route","$filter","state","helper","dwAlerts","calendarService","resolveTimezone",function(e,r,t,n,o,a,i){return i().then((function(){var n=r("toDate")(e.current.params.date||t.getParam("date"));return n=moment.isMoment(n)?n:moment(),a.query(e.current.params.centerId,n,n,t.getParam("role")).catch((function(e){return o.error(e,"Failed to fetch calendar data.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users",{template:"<div ng-include=\"'other/simple-reservation-sign-in.tpl.html'\"></div>",controller:"SimpleReservationSignInCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["sign-in"],resolve:{redirect:["$q","state",function(e,r){return r.isLoggedNonMember()?(r.setPath(r.getPath()+"/"+r.getLoggedUserId(),!0),e.reject()):r.getLoggedUserId()?(r.setPath(r.getPath()+"/"+r.getLoggedUserId()+"/confirm",!0),e.reject()):void 0}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users/:userId",{template:"<div ng-include=\"'templates/new-user-profile.tpl.html'\"></div>",controller:"SimpleReservationUserProfileCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["user-profile"],resolve:{reg:["$route",function(e){return{member:!1,selfRegistration:!0,new:"new"===e.current.params.userId}}],userProfile:["dwAlerts","$route","helper","state","routeHelper","userProfileService","centerService",function(e,t,n,o,a,i,s){return"new"===t.current.params.userId?s.get(t.current.params.centerId).then((function(r){return i.new(r,"nonMember","signUp").catch((function(r){return e.error(r,"Failed to get new member profile template.")}))})):r(t,n,a).then((function(){return i.getForRegistration(t.current.params.centerId,t.current.params.userId,"nonMember","signUp").catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users/:userId/confirm",{template:"<div ng-include=\"'other/confirm.tpl.html'\"></div>",controller:"SimpleReservationConfirmCtrl",controllerAs:"vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation","reservations"],resolve:{center:["$route","dwAlerts","centerService",function(e,r,t){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}],reservationUnit:["$route","dwAlerts","helper","routeHelper","ReservationUnit",function(e,t,n,o,a){return r(e,n,o).then((function(){return a.get(e.current.params.centerId,e.current.params.reservationUnitId).catch((function(e){return t.error(e,"Failed to get reservation unit.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users/:userId/purchases/:purchaseId",{template:"<div ng-include=\"'08-purchase/purchase.tpl.html'\"></div>",controller:"SimpleReservationPurchaseCtrl",controllerAs:"vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation","reservations","purchase","billing-profile"],resolve:{reg:function(){return{member:!1,selfRegistration:!0}},center:["$route","dwAlerts","centerService",function(e,r,t){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}],purchase:["$route","dwAlerts","helper","routeHelper","purchaseService","resolveTimezone",function(e,t,n,o,a,i){return r(e,n,o).then((function(){return i()})).then((function(){return a.get(e.current.params.centerId,e.current.params.userId,e.current.params.purchaseId).catch((function(e){return t.error(e,"Failed to get purchase.")}))}))}],reservationUnit:["$route","dwAlerts","ReservationUnit",function(e,r,t){return t.get(e.current.params.centerId,e.current.params.reservationUnitId).catch((function(e){return r.error(e,"Failed to get reservation unit.")}))}],userProfile:["$q","$route","dwAlerts","helper","state","routeHelper","userProfileService","resolveTimezone",function(e,t,n,o,a,i,s,l){return r(t,o,i).then((function(){return l()})).then((function(){return s.get(t.current.params.centerId,t.current.params.userId).catch((function(e){return n.error(e,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users/:userId/purchases/:purchaseId/staff-help",{template:"<div ng-include=\"'staff-help/staff-help.tpl.html'\"></div>",controller:"StaffHelpCtrl",controllerAs:"vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{user:["$route","helper","routeHelper",function(e,t,n){return r(e,t,n)}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/centers/:centerId/types/:reservationTypeId/dates/:date/units/:reservationUnitId/users/:userId/purchases/:purchaseId/complete",{template:"<div ng-include=\"'other/complete.tpl.html'\"></div>",controller:"SimpleReservationCompleteCtrl",routeBranch:"new-reservation",controllerAs:"vm",hideSidebar:!0,translations:["simple-reservation","purchase"],userTasksPolicy:!1,resolve:{reg:function(){return{member:!1,selfRegistration:!0}},purchase:["$route","dwAlerts","state","helper","routeHelper","purchaseService","resolveTimezone",function(e,t,n,o,a,i,s){return r(e,o,a).then((function(){return s()})).then((function(){return i.get(e.current.params.centerId,e.current.params.userId,e.current.params.purchaseId).catch((function(e){return t.error(e,"Failed to get purchase.")}))}))}],center:["$route","dwAlerts","centerService",function(e,r,t){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadSimpleReservation"}}),e.when("/simple-reservation/complete",{template:"<div ng-include=\"'other/complete.tpl.html'\"></div>",controller:"SimpleReservationCompleteCtrl as vm",routeBranch:"new-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{purchase:function(){},center:function(){},auth:["$route","helper","routeHelper",function(e,t,n){return r(e,t,n)}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadSimpleReservation"}})}])},"7gVQ":function(e,r,t){"use strict";t("JBxO"),t("FdtR");var n=t("hsT8"),o=t.n(n),a=t("YtL8"),i=t.n(a);angular.module("deskworks.bundlesConfig",["ngResource"]).provider("bundlesConfig",(function(){var e=[{id:"dashboard",enabled:!0,required:!0,name:"Dashboard"},{id:"reservations",enabled:!0,required:!0,name:"Reservations"},{id:"usage",enabled:!0,required:!0,name:"Usage"},{id:"notifications",enabled:!0,required:!0,name:"Notifications"},{id:"communications",enabled:!0,required:!0,name:"Communications"},{id:"accounting",enabled:!0,required:!0,name:"Accounting"},{id:"inventory",enabled:!0,required:!0,name:"Inventory"},{id:"system",enabled:!0,required:!0,name:"System"},{id:"reports",enabled:!0,required:!0},{id:"setup",enabled:!0,required:!0,name:"Setup"},{id:"reports",enabled:!0,required:!0,name:"Reports"},{id:"white-label",enabled:!0,required:!0,name:"White-Label"},{id:"import",enabled:!0,required:!1,name:"Import"},{id:"printer-usage",enabled:!0,required:!1,name:"Printer Usage"},{id:"floor-plans",enabled:!0,required:!1,name:"Floor Plans"},{id:"check-in-form",enabled:!0,required:!1,name:"Check In Form"},{id:"termination-request",enabled:!1,required:!1,name:"Termination Request"},{id:"simple-reservation",enabled:!0,required:!1,name:"Simple Reservation wizard"},{id:"bundle-reservation",enabled:!1,required:!1,name:"Bundle Reservation wizard"},{id:"buy-pass",enabled:!0,required:!1,name:"Buy A Pass wizard"},{id:"member-sign-up",enabled:!0,required:!1,name:"Member Sign Up wizard"},{id:"reservation-tablet",enabled:!0,required:!1,name:"Reservation Tablet wizard"},{id:"book-it-now",enabled:!0,required:!1,name:"Book It Now wizard"},{id:"appointment-plus",enabled:!1,required:!1,name:"AppointmentPlus integration"},{id:"quick-books",enabled:!1,required:!1,name:"QuickBooks integration"},{id:"teamgo",enabled:!1,required:!1,name:"Teamgo integration"},{id:"kisi",enabled:!1,required:!1,name:"Kisi integration"},{id:"ezeep",enabled:!1,required:!1,name:"Ezeep integration"},{id:"greetly",enabled:!1,required:!1,name:"Greetly integration"}],r=i()(e).call(e,(function(e,r){return e[r.id]=r.enabled,e}),{});return{enable:function(e){r[e]=!0},disable:function(e){r[e]=!1},$get:["$resource","autoCacheFactory","deskworksConfig",function(t,n,a){var i=n("bundles-config",120),s=t(a.getApiAbsUrl("/white-label/bundles"),{},{get:{method:"GET",cache:i},update:{method:"PUT"}});return{enable:function(e){r[e]=!0},disable:function(e){r[e]=!1},getOptionalBundles:function(){return o()(e).call(e,(function(e){return!e.required}))},get:function(){return s.get().$promise.then((function(e){return angular.extend({},r,e)}))},save:function(e){return s.update({},e).$promise.finally((function(){return i.removeAll()}))}}}]}}))},"8ASL":function(e,r,t){"use strict";t.r(r);t("kYjL");var n=t("2/1H");r.default=angular.module("deskworks.inventory",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.center.service","deskworks.inventory.membershipCategory.service","deskworks.reservationCategory.service","deskworks.inventory.priceList.service","deskworks.inventory.product.service","deskworks.ProductCategory","deskworks.lazyLoaders",n.a.name]).config(["$routeProvider",function(e){e.when("/membership-types",{template:"<div ng-include=\"'membership-category/membership-category-list.tpl.html'\"></div>",controller:"MembershipCategoryListCtrl as vm",label:"Membership Categories",routeBranch:"membership-types",translations:["membership-categories"],resolve:{membershipCategories:["dwAlerts","membershipCategoryService","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query membership categories.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/membership-types/:membershipCategoryId",{template:"<div ng-include=\"'membership-category/membership-category-edit.tpl.html'\"></div>",controller:"MembershipCategoryEditCtrl as vm",label:"Edit",routeBranch:"membership-types",translations:["membership-categories"],resolve:{membershipCategories:["dwAlerts","membershipCategoryService","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query membership categories.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/pricelists",{template:"<div ng-include=\"'price-list/price-list-list.tpl.html'\"></div>",controller:"PriceListListCtrl as vm",label:"Price Lists",routeBranch:"pricelists",reloadOnSearch:!1,translations:["price-lists","reports"],resolve:{priceLists:["dwAlerts","priceListService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getPricelists(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query price lists.")}))}))}],centers:["dwAlerts","centerService",function(e,r){return r.getCenters().catch((function(r){return e.error(r,"Failed to query centers.")}))}],lazy:"lazyLoadInventory"}}),e.when("/pricelists/:priceListId",{template:"<div ng-include=\"'price-list/price-list-edit.tpl.html'\"></div>",controller:"PriceListEditCtrl as vm",label:"Edit",routeBranch:"pricelists",translations:["price-lists","products"],resolve:{priceList:["$route","dwAlerts","priceListService","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.getPricelist(n.getCurrentCenterId(),e.current.params.priceListId).catch((function(e){return r.error(e,"Failed to get price list.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/products",{template:"<div ng-include=\"'product/product-list.tpl.html'\"></div>",controller:"ProductListCtrl as vm",label:"Products",routeBranch:"products",translations:["products"],resolve:{products:["dwAlerts","productService","routeHelper",function(e,r,t){return t.auth().then((function(){return r.getProducts().catch((function(r){return e.error(r,"Failed to query products.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/products/:productId",{template:"<div ng-include=\"'product/product-edit.tpl.html'\"></div>",controller:"ProductEditCtrl as vm",label:"Edit",routeBranch:"products",translations:["products","recurring-billing","printer-usage-settings"],resolve:{product:["$route","dwAlerts","productService","routeHelper",function(e,r,t,n){return n.auth().then((function(){return t.getProduct(e.current.params.productId).catch((function(e){return r.error(e,"Failed to get product.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],productCategories:["dwAlerts","ProductCategory","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query product categories.")}))}))}],lazy1:"lazyLoadInventory",lazy2:"lazyLoadQuickBooks"}}),e.when("/reservation-types",{template:"<div ng-include=\"'reservation-category/reservation-category-list.tpl.html'\"></div>",controller:"InventoryReservationCategoriesCtrl as vm",label:"Reservation Categories",routeBranch:"reservation-types",translations:["reservation-categories"],resolve:{reservationCategories:["dwAlerts","reservationCategoryService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query reservation categories.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/reservation-types/:reservationTypeId",{template:"<div ng-include=\"'reservation-category/reservation-category-edit.tpl.html'\"></div>",controller:"InventoryReservationCategoryEditCtrl as vm",label:"Edit",routeBranch:"reservation-types",translations:["reservation-categories"],resolve:{reservationCategory:["$route","dwAlerts","reservationCategoryService","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.get(n.getCurrentCenterId(),e.current.params.reservationTypeId).catch((function(e){return r.error(e,"Failed to get reservation category.")}))}))}],reservationCategories:["dwAlerts","reservationCategoryService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query reservation categories.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/reservation-units",{template:"<div ng-include=\"'reservation-unit/reservation-unit-list.tpl.html'\"></div>",controller:"InventoryReservationUnitListCtrl as vm",label:"Reservation Units",routeBranch:"reservation-units",translations:["reservation-units","reservation-rules"],resolve:{reservationUnits:["dwAlerts","ReservationUnit","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query reservation units.")}))}))}],lazy:"lazyLoadInventory"}}),e.when("/reservation-units/:reservationUnitId",{template:"<div ng-include=\"'reservation-unit/reservation-unit-edit.tpl.html'\"></div>",controller:"InventoryReservationUnitEditCtrl as $ctrl",label:"Edit",routeBranch:"reservation-units",translations:["reservation-units","reservation-rules"],resolve:{unit:["$route","dwAlerts","ReservationUnit","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.get(n.getCurrentCenterId(),e.current.params.reservationUnitId).catch((function(e){return r.error(e,"Failed to get reservation unit.")}))}))}],categories:["dwAlerts","reservationCategoryService","state",function(e,r,t){return r.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query reservation categories.")}))}],lazy:"lazyLoadInventory"}}),e.when("/product-categories",{template:"<div ng-include=\"'product-categories/product-categories.tpl.html'\"></div>",controller:"ProductCategoriesCtrl as $ctrl",label:"Product Categories",routeBranch:"product-categories",translations:["product-categories"],resolve:{categories:["dwAlerts","ProductCategory","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query product categories.")}))}))}],lazy:"lazyLoadInventory"}})}])},"9tHT":function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.reservationTablet",["ngStorage","ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.calendarService","deskworks.center.service","deskworks.userProfile.service","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/reservation-tablet-setup",{template:"<div ng-include=\"'reservation-tablet-setup/setup.tpl.html'\"></div>",controller:"ReservationTabletSetupCtrl as $ctrl",routeBranch:"reservation-tablet-setup",translations:["reservation-tablet"],resolve:{categories:["dwAlerts","state","routeHelper","calendarService",function(e,r,t,n){return t.auth().then((function(){return n.query(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get calendar data.")}))}))}],lazy:"lazyReservationTablet"}});var r="/reservation-tablet-wizard/sign-in";e.when("/reservation-tablet-wizard",{template:"<div ng-include=\"'reservation-tablet-wizard/01-schedule.tpl.html'\"></div>",controller:"ReservationTabletScheduleCtrl as $ctrl",routeBranch:"reservation-tablet-wizard",hideSidebar:!0,userTasksPolicy:!1,translations:["reservation-tablet"],resolve:{lazy:"lazyReservationTablet",validate:["validateReservationTablet",function(e){return e()}]}}),e.when("/reservation-tablet-wizard/sign-in",{template:"<div ng-include=\"'reservation-tablet-wizard/02-sign-in.tpl.html'\"></div>",controller:"ReservationTabletSignInCtrl as $ctrl",routeBranch:"reservation-tablet-wizard",hideSidebar:!0,userTasksPolicy:!1,reloadOnSearch:!1,translations:["sign-in"],resolve:{lazy:"lazyReservationTablet",validate:["validateReservationTablet",function(e){return e()}]}}),e.when("/reservation-tablet-wizard/reserve",{template:"<div ng-include=\"'reservation-tablet-wizard/03-reserve.tpl.html'\"></div>",controller:"ReservationTabletReserveCtrl as $ctrl",routeBranch:"reservation-tablet-wizard",hideSidebar:!0,reloadOnSearch:!1,userTasksPolicy:!1,translations:["reservations"],resolve:{user:["$q","userProfileService","state","dwAlerts","routeHelper","resolveTimezone",function(e,t,n,o,a,i){return e.all([a.auth(r),i()]).then((function(){return t.get(n.getCurrentCenterId(),n.getCurrentUserId()).catch((function(e){return o.error(e,"Failed to get user profile.")}))}))}],center:["state","dwAlerts","centerService","routeHelper",function(e,t,n,o){return o.auth(r).then((function(){return n.get(e.getCurrentCenterId()).catch((function(e){return t.error(e,"Failed to get center.")}))}))}],calData:["$q","$filter","state","helper","dwAlerts","calendarService","routeHelper","resolveTimezone",function(e,t,n,o,a,i,s,l){return e.all([s.auth(r),l()]).then((function(){var e=t("toDate")(n.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),i.query(n.getCurrentCenterId(),e,e,n.getParam("role")).catch((function(e){return a.error(e,"Failed to fetch calendar data.")}))}))}],lazy:"lazyReservationTablet",validate:["validateReservationTablet",function(e){return e()}]}}),e.when("/reservation-tablet-wizard/complete",{template:"<div ng-include=\"'reservation-tablet-wizard/04-complete.tpl.html'\"></div>",controller:"ReservationTabletCompleteCtrl as $ctrl",routeBranch:"reservation-tablet-wizard",hideSidebar:!0,reloadOnSearch:!1,userTasksPolicy:!1,translations:["reservation-tablet"],resolve:{lazy:"lazyReservationTablet",validate:["validateReservationTablet",function(e){return e()}]}})}]).factory("validateReservationTablet",["$localStorage","$route","dwAlerts","state",function(e,r,t,n){return function(){e.reservationTablet=e.reservationTablet||{};var o=e.reservationTablet,a="Missing $localStorage.reservationTablet";if(!o.centerId)return t.error("".concat(a,".centerId"));if(!o.login)return t.error("".concat(a,".login"));if(!o.password)return t.error("".concat(a,".password"));if(!o.unitId)return t.error("".concat(a,".unitId"));if(o.unitId!==+n.getParam("unit"))throw n.setParam("unit",o.unitId),r.reload(),!1;return!0}}])},DN77:function(e,r,t){"use strict";t.r(r);var n=t("kYjL");r.default=angular.module("deskworks.ezeep",["ngRoute","deskworks.routeHelper",n.a.name]).config(["$routeProvider",function(e){e.when("/ezeep-errors",{template:"<div ng-include=\"'errors/ezeep-errors.tpl.html'\"></div>",controller:"EzeepErrorsCtrl as $ctrl",routeBranch:"ezeep-errors",translations:["ezeep-errors"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadEzeep"}})}])},Hn7Y:function(e,r,t){"use strict";t.r(r);t("kYjL");var n=t("2/1H");r.default=angular.module("deskworks.reservations",["deskworks.state","deskworks.routeHelper","deskworks.setup.service","deskworks.userProfile.service","deskworks.center.service","deskworks.calendarService","deskworks.ReservationPrice","deskworks.lazyLoaders",n.a.name]).config(["$routeProvider",function(e){e.when("/reservations",{template:"<div ng-include=\"'user-reservations/user-reservations.tpl.html'\"></div>",controller:"UserReservationsCtrl as $ctrl",label:"Reservations",routeBranch:"reservations",translations:["user-reservations"],resolve:{reservationUnits:["dwAlerts","routeHelper","state","ReservationUnit",function(e,r,t,n){return r.auth().then((function(){return n.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query reservation units.")}))}))}],user:["dwAlerts","userProfileService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return n.selectUser().then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadReservations"}}),e.when("/reservation-calendar",{template:'<rc-calendar cal-data="$resolve.calData" settings="$resolve.settings" ff-bulk-read-only></rc-calendar>',label:"Reservation Calendar",routeBranch:"reservation-calendar",reloadOnSearch:!1,hideBanner:!0,translations:["reservations"],resolve:{calData:["$q","$filter","state","helper","routeHelper","dwAlerts","calendarService","rcHelper","resolveTimezone",function(e,r,t,n,o,a,i,s,l){return e.all([o.auth(),l()]).then((function(){var e=r("toDate")(t.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),i.query(t.getCurrentCenterId(),s.weekStart(e),s.weekEnd(e),t.getParam("role")).catch((function(e){return a.error(e,"Failed to fetch calendar data.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadReservations"}}),e.when("/new-reservation",{template:'<res-reservation center="$resolve.center" user="$resolve.user" cal-data="$resolve.calData" hide-reservation-cost-estimate="$resolve.settings.hideReservationCostEstimate" hide-recurring-reservations="$resolve.settings.hideRecurringReservations" reservation-prices="$resolve.reservationPrices" ff-bulk-read-only></res-reservation>',label:"New Reservation",routeBranch:"new-reservation",hideBanner:!0,reloadOnSearch:!1,translations:["reservations"],resolve:{user:["$q","userProfileService","state","dwAlerts","routeHelper","resolveTimezone",function(e,r,t,n,o,a){return e.all([o.auth(),a()]).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(e){return n.error(e,"Failed to get user profile.")}))}))}],center:["state","dwAlerts","centerService","routeHelper",function(e,r,t,n){return n.auth().then((function(){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}))}],calData:["$q","$filter","state","helper","dwAlerts","calendarService","routeHelper","resolveTimezone",function(e,r,t,n,o,a,i,s){return e.all([i.auth(),s()]).then((function(){var e=r("toDate")(t.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),a.query(t.getCurrentCenterId(),e,e,t.getParam("role")).catch((function(e){return o.error(e,"Failed to fetch calendar data.")}))}))}],reservationPrices:["state","dwAlerts","ReservationPrice","routeHelper",function(e,r,t,n){return n.auth().then((function(){return t.query(e.getCurrentCenterId(),e.getCurrentUserId()).catch((function(e){return r.error(e,"Failed to query reservation prices.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadReservations"}}),e.when("/edit-reservation/:reservationId",{template:'<res-reservation center="$resolve.center" user="$resolve.user" cal-data="$resolve.calData" hide-reservation-cost-estimate="$resolve.settings.hideReservationCostEstimate" reservation-prices="$resolve.reservationPrices" ff-bulk-read-only></res-reservation>',label:"Edit Reservation",routeBranch:"reservation-calendar",reloadOnSearch:!1,hideBanner:!0,translations:["reservations"],resolve:{user:["$q","userProfileService","state","dwAlerts","routeHelper","resolveTimezone",function(e,r,t,n,o,a){return e.all([o.auth(),a()]).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(e){return n.error(e,"Failed to get user profile.")}))}))}],center:["state","dwAlerts","centerService","routeHelper",function(e,r,t,n){return n.auth().then((function(){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}))}],calData:["$q","$filter","state","helper","dwAlerts","calendarService","routeHelper","resolveTimezone",function(e,r,t,n,o,a,i,s){return e.all([i.auth(),s()]).then((function(){var e=r("toDate")(t.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),a.query(t.getCurrentCenterId(),e,e,t.getParam("role")).catch((function(e){return o.error(e,"Failed to fetch calendar data.")}))}))}],reservationPrices:["state","dwAlerts","ReservationPrice","routeHelper",function(e,r,t,n){return n.auth().then((function(){return t.query(e.getCurrentCenterId(),e.getCurrentUserId()).catch((function(e){return r.error(e,"Failed to query reservation prices.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadReservations"}})}])},JHbx:function(e,r,t){var n={"./accounting/accounting.module.js":"PlDw","./book-it-now/book-it-now.module.js":"NPIa","./bundle-reservation/bundle-reservation.module.js":"xXVS","./buy-pass/buy-pass.module.js":"+Dj2","./check-in-form/check-in-form.module.js":"uA9C","./communications/communications.module.js":"gGEU","./dashboard/dashboard.module.js":"dQMu","./ezeep/ezeep.module.js":"DN77","./floor-plans/floor-plans.module.js":"xc/y","./import/import.module.js":"1tnR","./inventory/inventory.module.js":"8ASL","./member-sign-up/member-sign-up.module.js":"Ogbq","./notifications/notifications.module.js":"cBkv","./printer-usage/printer-usage.module.js":"TUFL","./quick-books/quick-books.module.js":"QwjY","./reports/reports.module.js":"+Pfa","./reservation-tablet/reservation-tablet.module.js":"9tHT","./reservations/reservations.module.js":"Hn7Y","./setup/setup.module.js":"LzLv","./simple-reservation/simple-reservation.module.js":"6IZz","./system/system.module.js":"beEi","./termination-request/termination-request.module.js":"LRO4","./usage/usage.module.js":"oYBI","./white-label/white-label.module.js":"0+r9"};function o(e){var r=a(e);return t(r)}function a(e){if(!t.o(n,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="JHbx"},LRO4:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.terminationRequest",["ngRoute","deskworks.routeHelper","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/termination-request",{template:"<div ng-include=\"'termination-request/termination-request.tpl.html'\"></div>",controller:"TerminationRequestCtrl as $ctrl",routeBranch:"termination-request",translations:["termination-request"],resolve:{recurringCharges:["dwAlerts","recurringChargeService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return n.selectUser()})).then((function(){return r.query(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to query recurring charges.")}))}))}],lazy:"lazyLoadTerminationRequest"}})}])},LzLv:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.setup",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.setup.service","deskworks.bank.service","deskworks.center.service","deskworks.allowedHost.service","deskworks.Task","deskworks.Admin","deskworks.Owner","deskworks.Region","deskworks.UserField","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/setup/settings",{template:"<div ng-include=\"'settings/settings.tpl.html'\"></div>",controller:"SetupSettingsCtrl as vm",label:"Setup Settings",routeBranch:"setup/settings",translations:["setup-settings"],resolve:{settings:["dwAlerts","setupService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}))}],locales:["dwAlerts","setupService",function(e,r){return r.queryLocales().catch((function(r){return e.error(r,"Failed to query locales.")}))}],lazy:"lazyLoadSetup"}}),e.when("/setup/bar-upload-settings",{template:"<div ng-include=\"'bar-upload-settings/bar-upload-settings.tpl.html'\"></div>",controller:"BarUploadSettingsCtrl as vm",label:"Bar Upload Settings",routeBranch:"setup/bar-upload-settings",translations:["bar-upload-settings"],resolve:{settings:["dwAlerts","setupService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getBarUploadSettings(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get bar upload settings.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/banks",{template:"<div ng-include=\"'banks/banks.tpl.html'\"></div>",controller:"SetupBanksCtrl as $ctrl",label:"Banks",routeBranch:"banks",translations:["banks"],resolve:{banks:["dwAlerts","bankService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query banks.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/banks/:bankId",{template:"<div ng-include=\"'banks/bank-edit.tpl.html'\"></div>",controller:"SetupBankEditCtrl as $ctrl",label:"Bank Edit",routeBranch:"banks",translations:["banks"],resolve:{bank:["$route","dwAlerts","bankService","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.get(e.current.params.bankId).catch((function(e){return r.error(e,"Failed to get bank.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/centers",{template:"<div ng-include=\"'center/center-list.tpl.html'\"></div>",controller:"CenterListCtrl as vm",label:"Centers",routeBranch:"centers",translations:["centers"],resolve:{centers:["dwAlerts","centerService","routeHelper",function(e,r,t){return t.auth().then((function(){return r.getCenters().catch((function(r){return e.error(r,"Failed to query centers.")}))}))}],admin:["dwAlerts","Admin","routeHelper","state",function(e,r,t,n){return t.auth().then((function(){if(n.isLoggedAdmin())return r.get(n.getLoggedUserId()).catch((function(r){return e.error(r,"Failed to get admin.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/centers/:centerId",{template:"<div ng-include=\"'center/center-edit.tpl.html'\"></div>",controller:"CenterEditCtrl as vm",label:"Edit",routeBranch:"centers",translations:["centers","reservation-rules"],resolve:{center:["$route","dwAlerts","centerService","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.get(e.current.params.centerId).catch((function(e){return r.error(e,"Failed to get center.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadSetup"}}),e.when("/system-emails",{template:"<div ng-include=\"'system-email/system-email-list.tpl.html'\"></div>",controller:"SystemEmailListCtrl as $ctrl",label:"System Emails",routeBranch:"system-emails",translations:["system-emails"],resolve:{systemEmails:["dwAlerts","systemService","routeHelper",function(e,r,t){return t.auth().then((function(){return r.getSystemEmails().catch((function(r){return e.error(r,"Failed to query system emails.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/system-emails/:systemEmailId",{template:"<div ng-include=\"'system-email/system-email-edit.tpl.html'\"></div>",controller:"SystemEmailEditCtrl as $ctrl",label:"Edit",routeBranch:"system-emails",translations:["system-emails"],resolve:{systemEmail:["$route","dwAlerts","systemService","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.getSystemEmail(e.current.params.systemEmailId).catch((function(e){return r.error(e,"Failed to get system email.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/tasks",{template:"<div ng-include=\"'task/task-list.tpl.html'\"></div>",controller:"TaskListCtrl as $ctrl",label:"Tasks",routeBranch:"tasks",translations:["tasks"],resolve:{tasks:["dwAlerts","Task","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query tasks.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/tasks/:taskId",{template:"<div ng-include=\"'task/task-edit.tpl.html'\"></div>",controller:"TaskEditCtrl as $ctrl",label:"Edit",routeBranch:"tasks",translations:["tasks"],resolve:{task:["$route","dwAlerts","Task","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return t.get(e.current.params.taskId).catch((function(e){return r.error(e,"Failed to get task.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/setup/api-settings",{template:"<div ng-include=\"'api-settings/api-settings.tpl.html'\"></div>",controller:"ApiSettingsCtrl as $ctrl",label:"API Settings",routeBranch:"setup/api-settings",translations:["api-settings"],resolve:{allowedHosts:["dwAlerts","allowedHostService","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query allowed hosts.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/owners-regions",{template:"<div ng-include=\"'owners-regions/owners-regions.tpl.html'\"></div>",controller:"OwnersRegionsCtrl as $ctrl",label:"Owners & Regions",routeBranch:"owners-regions",translations:["owners-regions"],resolve:{owners:["dwAlerts","Owner","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query owners.")}))}))}],regions:["dwAlerts","Region","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query regions.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/user-fields",{template:"<div ng-include=\"'user-fields/user-fields.tpl.html'\"></div>",controller:"UserFieldsCtrl as $ctrl",label:"User Profile Fields",routeBranch:"user-fields",translations:["user-fields"],resolve:{userFields:["dwAlerts","UserField","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query user fields.")}))}))}],lazy:"lazyLoadSetup"}}),e.when("/integrations-setup",{template:"<div ng-include=\"'integrations-setup/integrations-setup.tpl.html'\"></div>",controller:"IntegrationsSetupCtrl as $ctrl",label:"Integrations Setup",routeBranch:"integrations-setup",translations:["integrations-setup"],resolve:{lazy1:"lazyLoadSetup",lazy2:"lazyLoadAppointmentPlus",lazy3:"lazyLoadQuickBooks",lazy4:"lazyLoadTeamgo",lazy5:"lazyLoadKisi",lazy6:"lazyLoadEzeep",lazy7:"lazyLoadGreetly"}}),e.when("/bundles",{template:"<div ng-include=\"'bundles/bundles.tpl.html'\"></div>",controller:"BundlesCtrl as $ctrl",routeBranch:"bundles",userTasksPolicy:!1,resolve:{auth:["routeHelper","session","dwAlerts",function(e,r,t){return e.auth().then((function(){if(!r.isAdmin())return t.error("Insufficient permissions.")}))}],lazy:"lazyLoadSetup"}})}])},NPIa:function(e,r,t){"use strict";t.r(r);var n=t("nbuU"),o=t.n(n),a=t("YtL8"),i=t.n(a),s=t("kYjL");r.default=angular.module("deskworks.bookItNow",["ngRoute","session","deskworks.rcHelper","deskworks.center.service","deskworks.calendarService","deskworks.userProfile.service","deskworks.purchase.service","deskworks.setup.service",s.a.name]).config(["$routeProvider",function(e){var r="/book-it-now/sign-in";e.when("/book-it-now",{template:'<rc-calendar cal-data="$resolve.calData" settings="$resolve.settings" next="$ctrl.next()" show-tooltip="true"></rc-calendar>',controller:"BookItNowCalendarCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,hideBanner:!0,userTasksPolicy:!1,translations:["reservations","book-it-now"],resolve:{calData:["$q","$filter","state","helper","dwAlerts","calendarService","rcHelper","resolveTimezone","session","centerService",function(e,r,t,n,o,a,i,s,l,u){var c=u.getCenters().catch((function(e){return o.error(e,"Failed to query centers.")}));return e.all([c,l.wait().catch(angular.noop),s()]).then((function(e){var n=r("toDate")(t.getParam("date"),"Z");return n=moment.isMoment(n)?n:moment(),e[0].length?(t.getCurrentCenterId()||t.setCurrentCenterId(e[0][0].id),a.query(t.getCurrentCenterId(),i.weekStart(n),i.weekEnd(n)).catch((function(e){return o.error(e,"Failed to fetch calendar data.")}))):o.error("No centers available")}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyBookItNow"}}),e.when("/book-it-now/reservation",{template:'<res-reservation center="$resolve.center" cal-data="$resolve.calData" hide-reservation-cost-estimate="$resolve.settings.hideReservationCostEstimate" hide-recurring-reservations="$resolve.settings.hideRecurringReservations" hide-calendar-btn="true" back="$ctrl.back()" next="$ctrl.next()"></res-reservation>',controller:"BookItNowReservationCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,hideBanner:!0,userTasksPolicy:!1,reloadOnSearch:!1,translations:["reservations","book-it-now"],resolve:{calData:["$q","$filter","state","dwAlerts","calendarService","resolveTimezone","session",function(e,r,t,n,o,a,i){return e.all([i.wait().catch(angular.noop),a()]).then((function(){var e=r("toDate")(t.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),o.query(t.getCurrentCenterId(),e,e).catch((function(e){return n.error(e,"Failed to fetch calendar data.")}))}))}],center:["state","dwAlerts","centerService","session",function(e,r,t,n){return n.wait().catch(angular.noop).then((function(){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyBookItNow"}}),e.when("/book-it-now/sign-in",{template:'<dw-sign-in id="signIn" show-sign-up="true"></dw-sign-in>',controller:"BookItNowSignInCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,userTasksPolicy:!1,translations:["sign-in"],resolve:{lazy:"lazyBookItNow"}}),e.when("/book-it-now/confirm",{template:"<div ng-include=\"'04-confirm/confirm.tpl.html'\"></div>",controller:"BookItNowConfirmCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,userTasksPolicy:!1,reloadOnSearch:!1,translations:["reservations"],resolve:{center:["state","dwAlerts","centerService","routeHelper",function(e,t,n,o){return o.auth(r).then((function(){return n.get(e.getCurrentCenterId()).catch((function(e){return t.error(e,"Failed to get center.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],reservationUnit:["$q","$filter","state","helper","routeHelper","dwAlerts","calendarService","resolveTimezone",function(e,t,n,a,s,l,u,c){return e.all([s.auth(r),c()]).then((function(){var e=t("toDate")(n.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),u.query(n.getCurrentCenterId(),e,e).catch((function(e){return l.error(e,"Failed to fetch calendar data.")})).then((function(e){return i()(e).call(e,(function(e,r){var t;return e||o()(t=r.reservationUnits).call(t,(function(e){return e.id===+n.getParam("unit")}))}),null)}))}))}],lazy:"lazyBookItNow"}}),e.when("/book-it-now/complete",{template:"<div ng-include=\"'05-complete/complete.tpl.html'\"></div>",controller:"BookItNowCompleteCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,userTasksPolicy:!1,translations:["reservations","book-it-now"],resolve:{settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyBookItNow"}}),e.when("/book-it-now/purchase",{template:"<div ng-include=\"'06-purchase/purchase.tpl.html'\"></div>",controller:"BookItNowPurchaseCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,userTasksPolicy:!1,reloadOnSearch:!1,translations:["simple-reservation","reservations","purchase","billing-profile","book-it-now"],resolve:{center:["state","dwAlerts","centerService",function(e,r,t){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}],purchase:["$q","dwAlerts","state","routeHelper","purchaseService","resolveTimezone",function(e,t,n,o,a,i){return e.all([o.auth(r),i()]).then((function(){return a.get(n.getCurrentCenterId(),n.getCurrentUserId(),+n.getParam("purchaseId")).catch((function(e){return t.error(e,"Failed to get purchase.")}))}))}],reservationUnit:["$q","$filter","state","helper","routeHelper","dwAlerts","calendarService","resolveTimezone",function(e,t,n,a,s,l,u,c){return e.all([s.auth(r),c()]).then((function(){var e=t("toDate")(n.getParam("date"),"Z");return e=moment.isMoment(e)?e:moment(),u.query(n.getCurrentCenterId(),e,e).catch((function(e){return l.error(e,"Failed to fetch calendar data.")})).then((function(e){return i()(e).call(e,(function(e,r){var t;return e||o()(t=r.reservationUnits).call(t,(function(e){return e.id===+n.getParam("unit")}))}),null)}))}))}],user:["$q","dwAlerts","state","routeHelper","userProfileService","resolveTimezone",function(e,t,n,o,a,i){return e.all([o.auth(r),i()]).then((function(){return a.get(n.getCurrentCenterId(),n.getCurrentUserId()).catch((function(e){return t.error(e,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyBookItNow"}}),e.when("/book-it-now/sign-up",{template:"<div ng-include=\"'07-sign-up/sign-up.tpl.html'\"></div>",controller:"BookItNowSignUpCtrl as $ctrl",routeBranch:"book-it-now",hideSidebar:!0,userTasksPolicy:!1,translations:["user-profile"],resolve:{reg:["$route","state",function(e,r){return{member:!1,selfRegistration:!0,new:!r.getCurrentUserId()}}],user:["dwAlerts","$route","helper","state","session","userProfileService","centerService",function(e,r,t,n,o,a,i){return n.getCurrentUserId()?o.wait().catch(angular.noop).then((function(){return a.getForRegistration(n.getCurrentCenterId(),n.getCurrentUserId(),"nonMember","signUp").catch((function(r){return e.error(r,"Failed to get user profile.")}))})):i.get(n.getCurrentCenterId()).then((function(r){return a.new(r,"nonMember","signUp").catch((function(r){return e.error(r,"Failed to get new member profile template.")}))}))}],center:["state","dwAlerts","centerService",function(e,r,t){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}],lazy:"lazyBookItNow"}}),e.when("/book-it-now/staff-help",{template:"<staff-help></staff-help>",routeBranch:"book-it-now",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{auth:["routeHelper",function(e){return e.auth(r)}],lazy:"lazyBookItNow"}})}])},Ogbq:function(e,r,t){"use strict";t.r(r);var n=t("hsT8"),o=t.n(n),a=t("nbuU"),i=t.n(a),s=t("D4RU"),l=t.n(s),u=(t("kYjL"),t("qPfh"));r.default=angular.module("deskworks.memberSignUp",[u.a.name,"deskworks.lazyLoaders","deskworks.membership.service"]).config(["$routeProvider",function(e){e.when("/member-sign-up",{template:"<forbid-staff><div><ng-include src=\"'steps/01-membership.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpMembershipCtrl as vm",label:"New Membership",routeBranch:"member-sign-up",hideSidebar:!0,userTasksPolicy:!1,translations:["member-sign-up"],resolve:{reg:function(){return{member:!0,selfRegistration:!0,step:1,stepCount:4}},data:["$q","dwAlerts","centerService","setupService","state","filterNonEmptyCenters","filterHiddenCenters",function(e,r,t,n,o,a,i){return e.all({centers:t.getCenters().catch((function(e){return r.error(e,"Failed to query centers.")})).then(a).then(i),settings:n.getSetupSettings().catch((function(e){return r.error(e,"Failed to get setup settings.")}))}).then((function(e){return e.centers.length?e.settings.skipPlanMemberSignUp&&1===e.centers.length?(o.setCurrentCenterId(e.centers[0].id),o.setPath(o.getPath()+"/"+(o.getCurrentUserId()||"new"))):e:r.error("<b>No public centers.</b> At least one center needs <b>Center for Internal Use</b> setting <b>turned off.</b>")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up-landing",{template:"<forbid-staff><div><ng-include src=\"'steps/01-landing.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpLandingCtrl as $ctrl",label:"New Membership",routeBranch:"member-sign-up",hideSidebar:!0,userTasksPolicy:!1,translations:["member-sign-up"],resolve:{center:["dwAlerts","centerService","state",function(e,r,t){return r.get(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get a center.")}))}],product:["dwAlerts","membershipService","state",function(e,r,t){return r.query(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query membership categories.")})).then((function(r){var n,o=+t.getParam("productId");return l()(r).call(r,(function(e){var r;return l()(r=e.products).call(r,(function(e){if(e.id===o)return n=e,!0}))})),n||e.error("No product with id="+t.getParam("productId")+" found in membership categories.")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/new",{template:"<forbid-staff><div><ng-include src=\"'templates/new-user-profile.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpProfileCtrl",controllerAs:"vm",label:"Member Sign Up",routeBranch:"member-sign-up",hideSidebar:!0,userTasksPolicy:!1,translations:["user-profile"],resolve:{reg:["$q","helper","state","dwAlerts","centerService","setupService","filterNonEmptyCenters",function(e,r,t,n,o,a,s){return e.all({centers:o.getCenters().catch((function(e){return n.error(e,"Failed to query centers.")})).then(s),settings:a.getSetupSettings().catch((function(e){return n.error(e,"Failed to get setup settings.")}))}).then((function(e){return e.centers.length?e.settings.skipPlanMemberSignUp&&1===e.centers.length?{member:!0,selfRegistration:!0,step:1,stepCount:3,new:!0,phone:(i()(r).call(r,e.centers,t.getCurrentCenterId())||{}).phone}:{member:!0,selfRegistration:!0,step:2,stepCount:4,new:!0,phone:(i()(r).call(r,e.centers,t.getCurrentCenterId())||{}).phone}:n.error("<b>No public centers.</b> At least one center needs <b>Center for Internal Use</b> setting <b>turned off.</b>")}))}],userProfile:["dwAlerts","userProfileService","helper","state","centerService",function(e,r,t,n,o){return o.getCenter(n.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")})).then((function(t){return r.new(t,"member","signUp").catch((function(r){return e.error(r,"Failed to get new member profile template.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/:userId",{template:"<forbid-staff><div><ng-include src=\"'templates/new-user-profile.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpProfileCtrl",controllerAs:"vm",label:"Member Sign Up",routeBranch:"member-sign-up",hideSidebar:!0,userTasksPolicy:!1,translations:["user-profile"],resolve:{reg:["$q","helper","state","dwAlerts","centerService","setupService","filterNonEmptyCenters",function(e,r,t,n,o,a,s){return e.all({centers:o.getCenters().catch((function(e){return n.error(e,"Failed to query centers.")})).then(s),settings:a.getSetupSettings().catch((function(e){return n.error(e,"Failed to get setup settings.")}))}).then((function(e){return e.centers.length?e.settings.skipPlanMemberSignUp&&1===e.centers.length?{member:!0,selfRegistration:!0,step:1,stepCount:3,phone:(i()(r).call(r,e.centers,t.getCurrentCenterId())||{}).phone}:{member:!0,selfRegistration:!0,step:2,stepCount:4,phone:(i()(r).call(r,e.centers,t.getCurrentCenterId())||{}).phone}:n.error("<b>No public centers.</b> At least one center needs <b>Center for Internal Use</b> setting <b>turned off.</b>")}))}],userProfile:["dwAlerts","$route","routeHelper","userProfileService","resolveTimezone",function(e,r,t,n,o){return t.auth().then((function(){return o()})).then((function(){return n.getForRegistration(0,r.current.params.userId,"member","signUp").catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/:userId/purchases/:purchaseId",{template:"<forbid-staff><div><ng-include src=\"'steps/03-purchase.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpPurchaseCtrl",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["member-sign-up","purchase","billing-profile","simple-reservation"],resolve:{reg:function(){return{member:!0,selfRegistration:!0,step:3,stepCount:4}},center:["dwAlerts","state","centerService",function(e,r,t){return t.get(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],purchase:["$route","dwAlerts","state","routeHelper","purchaseService","resolveTimezone",function(e,r,t,n,o,a){return n.auth().then((function(){return a()})).then((function(){return o.get(t.getCurrentCenterId(),e.current.params.userId,e.current.params.purchaseId,t.getParam("productId")).catch((function(e){return r.error(e,"Failed to get purchase.")}))}))}],userProfile:["$q","$route","dwAlerts","state","routeHelper","userProfileService","resolveTimezone",function(e,r,t,n,o,a,i){return o.auth().then((function(){return i()})).then((function(){return a.get(n.getCurrentCenterId(),r.current.params.userId).catch((function(e){return t.error(e,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/:userId/purchases/:purchaseId/staff-help",{template:"<forbid-staff><div><ng-include src=\"'staff-help/staff-help.tpl.html'\"></ng-include></div></forbid-staff>",controller:"StaffHelpCtrl",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/:userId/purchases/:purchaseId/complete",{template:"<forbid-staff><div><ng-include src=\"'steps/04-complete.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpCompleteCtrl",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["member-sign-up","purchase","simple-reservation"],resolve:{reg:function(){return{member:!0,selfRegistration:!0}},purchase:["$route","dwAlerts","routeHelper","state","purchaseService","resolveTimezone",function(e,r,t,n,o,a){return t.auth().then((function(){return a()})).then((function(){return o.get(n.getCurrentCenterId(),e.current.params.userId,e.current.params.purchaseId).catch((function(e){return r.error(e,"Failed to get purchase.")}))}))}],center:["state","dwAlerts","centerService",function(e,r,t){return t.get(e.getCurrentCenterId()).catch((function(e){return r.error(e,"Failed to get center.")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/:userId/billing",{template:"<forbid-staff><div><ng-include src=\"'templates/new-billing-profile.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpNoPlanBillingCtrl",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["member-sign-up","billing-profile","user-profile"],resolve:{reg:["$q","helper","state","dwAlerts","centerService","setupService","filterNonEmptyCenters",function(e,r,t,n,o,a,s){return e.all({centers:o.getCenters().catch((function(e){return n.error(e,"Failed to query centers.")})).then(s),settings:a.getSetupSettings().catch((function(e){return n.error(e,"Failed to get setup settings.")}))}).then((function(e){return e.centers.length?e.settings.skipPlanMemberSignUp&&1===e.centers.length?{member:!0,selfRegistration:!0,step:2,stepCount:2,phone:(i()(r).call(r,e.centers,t.getCurrentCenterId())||{}).phone}:{member:!0,selfRegistration:!0,step:3,stepCount:3,phone:(i()(r).call(r,e.centers,t.getCurrentCenterId())||{}).phone}:n.error("<b>No public centers.</b> At least one center needs <b>Center for Internal Use</b> setting <b>turned off.</b>")}))}],userProfile:["$route","state","dwAlerts","routeHelper","userProfileService","resolveTimezone",function(e,r,t,n,o,a){return n.selectUser().then((function(){return a()})).then((function(){return o.get(r.getCurrentCenterId(),e.current.params.userId).catch((function(e){return t.error(e,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyMemberSignUp"}}),e.when("/member-sign-up/:userId/billing/complete",{template:"<forbid-staff><div><ng-include src=\"'steps/04-complete.tpl.html'\"></ng-include></div></forbid-staff>",controller:"MemberSignUpNoPlanCompleteCtrl",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["member-sign-up"],resolve:{reg:function(){return{member:!0,selfRegistration:!0}},lazy:"lazyMemberSignUp"}})}]).factory("filterNonEmptyCenters",(function(){return function(e){return o()(e).call(e,(function(e){return e.reservationUnitsCount>0}))}})).factory("filterHiddenCenters",(function(){return function(e){return o()(e).call(e,(function(e){return!e.hideInMemberSignUp}))}}))},PlDw:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.accounting",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.accounting.bulkInvoicing.service","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/bulk-charges",{template:"<div ng-include=\"'bulk-charges/bulk-charges.tpl.html'\"></div>",controller:"AccountingBulkChargesCtrl as vm",label:"Bulk Charges",routeBranch:"bulk-charges",translations:["purchase","bulk-charges"],resolve:{invoices:["dwAlerts","bulkInvoicingService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getPurchases(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query orders.")}))}))}],lazy:"lazyLoadAccounting"}}),e.when("/bulk-invoicing",{template:"<div ng-include=\"'bulk-invoicing/bulk-invoicing.tpl.html'\"></div>",controller:"AccountingBulkInvoicingCtrl as vm",label:"Bulk Invoicing",routeBranch:"bulk-invoicing",translations:["purchase","bulk-invoicing"],resolve:{invoices:["dwAlerts","bulkInvoicingService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getInvoices(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to query invoices.")}))}))}],lazy:"lazyLoadAccounting"}})}])},TUFL:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.printerUsage",["ngRoute","deskworks.routeHelper","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/setup/printer-usage-settings",{template:"<div ng-include=\"'settings/printer-usage-settings.tpl.html'\"></div>",controller:"PrinterUsageSettingsCtrl as $ctrl",routeBranch:"setup/printer-usage-settings",translations:["printer-usage-settings"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadPrinterUsage"}}),e.when("/printer-usage",{template:"<div ng-include=\"'printer-usage/printer-usage-list.tpl.html'\"></div>",controller:"PrinterUsageListCtrl as $ctrl",routeBranch:"printer-usage",translations:["printer-usage"],resolve:{auth:["routeHelper",function(e){return e.auth()}],tz:["resolveTimezone",function(e){return e()}],lazy:"lazyLoadPrinterUsage"}}),e.when("/printer-usage/:printerUsageId",{template:"<div ng-include=\"'printer-usage/printer-usage-edit.tpl.html'\"></div>",controller:"PrinterUsageEditCtrl as $ctrl",routeBranch:"printer-usage",translations:["printer-usage"],resolve:{auth:["routeHelper",function(e){return e.auth()}],tz:["resolveTimezone",function(e){return e()}],lazy:"lazyLoadPrinterUsage"}})}])},beEi:function(e,r,t){"use strict";t.r(r);var n=t("nbuU"),o=t.n(n);t("kYjL");r.default=angular.module("deskworks.system",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.accessCard.service","deskworks.system.service","deskworks.Admin","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/access-cards",{template:"<div ng-include=\"'access-card/access-card-list.tpl.html'\"></div>",controller:"AccessCardListCtrl as vm",label:"Access Cards",routeBranch:"access-cards",translations:["access-cards"],resolve:{accessCards:["dwAlerts","AccessCard","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query({centerId:t.getCurrentCenterId()}).$promise.catch((function(r){return e.error(r,"Failed to query access cards.")}))}))}],lazy:"lazyLoadSystem"}}),e.when("/access-cards/:accessCardId",{template:"<div ng-include=\"'access-card/access-card-edit.tpl.html'\"></div>",controller:"AccessCardEditCtrl as vm",label:"Edit",routeBranch:"access-cards",translations:["access-cards"],resolve:{accessCard:["$route","dwAlerts","AccessCard","state","helper","routeHelper",function(e,r,t,n,a,i){return i.auth().then((function(){return t.query({centerId:n.getCurrentCenterId()}).$promise.catch((function(e){return r.error(e,"Failed to query access cards.")})).then((function(r){return o()(a).call(a,r,e.current.params.accessCardId)}))}))}],user:["dwAlerts","state","userProfileService",function(e,r,t){return t.get(r.getCurrentCenterId(),r.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}],lazy:"lazyLoadSystem"}}),e.when("/administrators",{template:"<div ng-include=\"'administrator/administrator-list.tpl.html'\"></div>",controller:"AdministratorListCtrl as $ctrl",label:"Administrators",routeBranch:"administrators",translations:["administrators"],resolve:{admins:["dwAlerts","Admin","routeHelper",function(e,r,t){return t.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query administrators.")}))}))}],lazy:"lazyLoadSystem"}}),e.when("/administrators/:adminId",{template:"<div ng-include=\"'administrator/administrator-edit.tpl.html'\"></div>",controller:"AdminEditCtrl as $ctrl",label:"Edit",routeBranch:"administrators",translations:["administrators","user-profile"],resolve:{admin:["$route","dwAlerts","Admin","routeHelper",function(e,r,t,n){return n.auth().then((function(){return t.get(e.current.params.adminId).catch((function(e){return r.error(e,"Failed to get administrator.")}))}))}],userProfile:["$route","state","dwAlerts","userProfileService","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return n.get(r.getCurrentCenterId(),e.current.params.adminId).catch((function(e){return t.error(e,"Failed to get administrator user profile.")}))}))}],lazy:"lazyLoadSystem"}}),e.when("/lead-sources",{template:"<div ng-include=\"'lead-source/lead-source-list.tpl.html'\"></div>",controller:"LeadSourceListCtrl as vm",label:"Lead Sources",routeBranch:"lead-sources",translations:["lead-sources"],resolve:{leadSources:["dwAlerts","systemService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getLeadSources().catch((function(r){return e.error(r,"Failed to query lead sources.")}))}))}],lazy:"lazyLoadSystem"}})}])},cBkv:function(e,r,t){"use strict";t.r(r);var n=t("yCd9"),o=t.n(n);t("kYjL");r.default=angular.module("deskworks.notifications",["deskworks.routeHelper","deskworks.notifications.service","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/setup/bulk-invoices",{template:"<div ng-include=\"'bulk-invoices/bulk-invoices.tpl.html'\"></div>",controller:"BulkInvoicesTplCtrl as $ctrl",label:"Bulk Invoices Setup",routeBranch:"setup/bulk-invoices",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getBulkInvoices().catch((function(r){return e.error(r,"Failed to load bulk invoices template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/recurring-invoices",{template:"<div ng-include=\"'recurring-invoices/recurring-invoices.tpl.html'\"></div>",controller:"RecurringInvoicesEmailCtrl as $ctrl",label:"Recurring Invoices Setup",routeBranch:"setup/recurring-invoices",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getRecurringInvoices().catch((function(r){return e.error(r,"Failed to load recurring invoices template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/expired-card-email",{template:"<div ng-include=\"'expired-card-email/expired-card-email.tpl.html'\"></div>",controller:"ExpiredCardEmailCtrl as $ctrl",label:"Expired Card Email Setup",routeBranch:"setup/expired-card-email",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getExpiredCardEmail().catch((function(r){return e.error(r,"Failed to load expired card email template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/declined-card-email",{template:"<div ng-include=\"'declined-card-email/declined-card-email.tpl.html'\"></div>",controller:"DeclinedCardEmailCtrl as $ctrl",label:"Declined Card Email Setup",routeBranch:"setup/declined-card-email",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getDeclinedCardEmail().catch((function(r){return e.error(r,"Failed to load declined card email template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/welcome-letter",{template:"<div ng-include=\"'welcome-letter/welcome-letter.tpl.html'\"></div>",controller:"WelcomeLetterCtrl as $ctrl",label:"Welcome Letter Setup",routeBranch:"setup/welcome-letter",translations:["notifications","short-codes","attachments"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getWelcomeLetter().catch((function(r){return e.error(r,"Failed to load welcome letter template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/reservation-confirmation",{template:"<div ng-include=\"'reservation-confirmation/reservation-confirmation.tpl.html'\"></div>",controller:"ReservationConfirmationEmailCtrl as $ctrl",label:"Reservation Confirmation Setup",routeBranch:"setup/reservation-confirmation",translations:["notifications","short-codes","attachments"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getReservationConfirmation().catch((function(r){return e.error(r,"Failed to load reservation confirmation template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/reservation-reminder",{template:"<div ng-include=\"'reservation-reminder/reservation-reminder.tpl.html'\"></div>",controller:"ReservationReminderEmailCtrl as $ctrl",label:"Reservation Reminder",routeBranch:"setup/reservation-reminder",translations:["notifications","short-codes","attachments"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getReservationReminder().catch((function(r){return e.error(r,"Failed to get reservation reminder template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/cal-sync-error-email",{template:"<div ng-include=\"'cal-sync-error-email/cal-sync-error-email.tpl.html'\"></div>",controller:"CalSyncErrorEmailCtrl as $ctrl",label:"Cal Sync Error",routeBranch:"setup/cal-sync-error-email",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getCalSyncErrorEmail().catch((function(r){return e.error(r,"Failed to get calendar sync error email template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/passes-used-up-email",{template:"<div ng-include=\"'passes-used-up-email/passes-used-up-email.tpl.html'\"></div>",controller:"PassesUsedUpEmailCtrl as $ctrl",label:"Passes Used Up Email",routeBranch:"setup/passes-used-up-email",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getPassesUsedUpEmail().catch((function(r){return e.error(r,"Failed to get passes used up email template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/plan-passes-used-up-notice",{template:"<div ng-include=\"'plan-passes-used-up-notice/plan-passes-used-up-notice.tpl.html'\"></div>",controller:"PlanPassesUsedUpNoticeCtrl as $ctrl",label:"Plan Passes Used Up Notice",routeBranch:"setup/plan-passes-used-up-notice",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getEmailTemplate("plan-passes-used-up").catch((function(r){return e.error(r,"Failed to get plan passes used up notice template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/bucket-used-up-email",{template:"<div ng-include=\"'bucket-used-up-email/bucket-used-up-email.tpl.html'\"></div>",controller:"BucketUsedUpEmailCtrl as $ctrl",label:"Bucket Used Up Email",routeBranch:"setup/bucket-used-up-email",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getBucketUsedUpEmail().catch((function(r){return e.error(r,"Failed to get bucket used up email template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/setup/renewal-notice-email",{template:"<div ng-include=\"'renewal-notice-email/renewal-notice-email.tpl.html'\"></div>",controller:"RenewalNoticeEmailCtrl as $ctrl",label:"Renewal Notice Email",routeBranch:"setup/renewal-notice-email",translations:["notifications","short-codes"],resolve:{tpl:["dwAlerts","Notifications","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.getEmailTemplate("renewal-notice").catch((function(r){return e.error(r,"Failed to get renewal notice email template.")}))}))}],lazy:"lazyLoadNotifications"}}),e.when("/notifications/receipt-email",{template:"<div ng-include=\"'receipt-email/receipt-email.tpl.html'\"></div>",controller:"ReceiptEmailTplCtrl as $ctrl",label:"Receipt Email",routeBranch:"notifications/receipt-email",translations:["notifications","short-codes"],resolve:{tpls:["$q","dwAlerts","Notifications","state","routeHelper",function(e,r,t,n,a){return a.auth().then((function(){var n;return e.all(o()(n=[{$$id:"receipt",$$name:"NOTIFICATIONS.RECEIPT.GENERAL"},{$$id:"reservation-receipt",$$name:"NOTIFICATIONS.RECEIPT.RESERVATION"},{$$id:"pass-receipt",$$name:"NOTIFICATIONS.RECEIPT.PASS"}]).call(n,(function(e){return t.getEmailTemplate(e.$$id).catch((function(e){return r.error(e,"Failed to get receipt email template.")})).then((function(r){return angular.extend(r,e)}))})))}))}],lazy:"lazyLoadNotifications"}}),e.when("/notifications/message-board-notices",{template:"<div ng-include=\"'message-board-notices/message-board-notices.tpl.html'\"></div>",controller:"MessageBoardNoticesTplCtrl as $ctrl",label:"Message Board Notices Email",routeBranch:"notifications/message-board-notices",newDesign:!0,translations:["notifications","short-codes"],resolve:{tpls:["$q","dwAlerts","Notifications","state","routeHelper",function(e,r,t,n,a){return a.auth().then((function(){var n;return e.all(o()(n=[{$$id:"immediately",$$name:"NOTIFICATIONS.MESSAGE_BOARD.IMMEDIATELY"},{$$id:"daily",$$name:"NOTIFICATIONS.MESSAGE_BOARD.DAILY"},{$$id:"weekly",$$name:"NOTIFICATIONS.MESSAGE_BOARD.WEEKLY"}]).call(n,(function(e){return t.getMessageBoardEmailTemplate(e.$$id).catch((function(e){return r.error(e,"Failed to get receipt email template.")})).then((function(r){return angular.extend(r,e)}))})))}))}],lazy:"lazyLoadNotifications"}})}])},dQMu:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.dashboard",["ngRoute","deskworks.routeHelper","deskworks.state","deskworks.dwAlerts.service","deskworks.Admin","deskworks.userProfile.service","deskworks.setup.service","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/dashboard",{template:"<div ng-include=\"'dashboard-user/dashboard-user.tpl.html'\"></div>",controller:"DashboardUserCtrl",controllerAs:"vm",label:"Dashboard",routeBranch:"dashboard",translations:["dashboard"],resolve:{user:["$q","dwAlerts","routeHelper","state","userProfileService","resolveTimezone",function(e,r,t,n,o,a){return t.auth().then((function(){return n.isLoggedAdmin()?(n.setPath("/dashboard-admin",!0),e.reject()):a().then((function(){return o.get(n.getCurrentCenterId(),n.getCurrentUserId()).catch((function(e){return r.error(e,"Failed to get user profile.")}))}))}))}],userLogged:["dwAlerts","state","routeHelper","userProfileService","resolveTimezone",function(e,r,t,n,o){return t.auth().then((function(){return o()})).then((function(){return n.get(r.getCurrentCenterId(),r.getLoggedUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadDashboard"}})}]).config(["$routeProvider",function(e){e.when("/dashboard-admin",{template:"<div ng-include=\"'dashboard-admin/dashboard-admin.tpl.html'\"></div>",controller:"DashboardAdminCtrl as vm",label:"Dashboard",routeBranch:"dashboard",translations:["dashboard"],resolve:{admin:["$q","dwAlerts","routeHelper","state","userProfileService","Admin","resolveTimezone",function(e,r,t,n,o,a,i){return t.auth().then((function(){return i()})).then((function(){return e.all([o.get(n.getCurrentCenterId(),n.getLoggedUserId()).catch((function(e){return r.error(e,"Failed to get admin profile.")})),a.get(n.getLoggedUserId()).catch((function(e){return r.error(e,"Failed to get admin.")}))]).then((function(e){return angular.extend(e[1],e[2])}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],lazy:"lazyLoadDashboard"}})}])},gGEU:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.communications",["deskworks.routeHelper","deskworks.dwAlerts","deskworks.center.service","deskworks.inventory.membershipCategory.service","deskworks.SplashPage","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/email-all-members",{template:"<div ng-include=\"'email-all-members/email-all-members.tpl.html'\"></div>",controller:"EmailAllMembersCtrl as $ctrl",label:"Email All Members",routeBranch:"email-all-members",translations:["email-members","short-codes","attachments"],resolve:{auth:["routeHelper",function(e){return e.auth()}],lazy:"lazyLoadCommunications"}}),e.when("/email-site-members",{template:"<div ng-include=\"'email-site-members/email-site-members.tpl.html'\"></div>",controller:"EmailSiteMembersCtrl as $ctrl",label:"Email Site Members",routeBranch:"email-site-members",translations:["email-members","short-codes","attachments"],resolve:{membershipCategories:["dwAlerts","membershipCategoryService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.query().catch((function(r){return e.error(r,"Failed to query membership categories.")}))}))}],center:["dwAlerts","state","centerService",function(e,r,t){return t.getCenter(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],lazy:"lazyLoadCommunications"}}),e.when("/message-board",{template:"<div ng-include=\"'message-board/message-board.tpl.html'\"></div>",controller:"MessageBoardCtrl as $ctrl",label:"Message Board",routeBranch:"message-board",translations:["message-board"],resolve:{lazy:"lazyLoadCommunications"}}),e.when("/splash-page",{template:"<div ng-include=\"'splash-page/splash-page.tpl.html'\"></div>",controller:"SplashPageCtrl as $ctrl",label:"Splash Page",routeBranch:"splash-page",translations:["splash-page"],resolve:{auth:["routeHelper",function(e){return e.auth()}],center:["dwAlerts","state","centerService",function(e,r,t){return t.getCenter(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],splashPage:["dwAlerts","SplashPage","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return r.get(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get splash page settings.")}))}))}],lazy:"lazyLoadCommunications"}})}])},kYjL:function(e,r,t){"use strict";t("JBxO"),t("FdtR"),t("7gVQ");r.a=angular.module("deskworks.lazyLoaders",["deskworks.dwAlerts","deskworks.bundlesConfig"]).factory("checkBundleConfig",["$injector","bundlesConfig","dwAlerts",function(e,r,t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.get().catch((function(e){return t.error(e,"Failed to load bundles config.")})).then((function(r){if(!r[e]&&n)throw null;return!!r[e]||t.error("".concat(e," bundle is disabled."))}))}}]).factory("lazyLoadAccounting",["$injector",function(e){return t.e(6).then(t.bind(null,"fjnr")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadCommunications",["$injector",function(e){return Promise.all([t.e(2),t.e(1),t.e(12)]).then(t.bind(null,"CZgw")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadDashboard",["$injector",function(e){return t.e(13).then(t.bind(null,"UEiN")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadImport",["$injector","checkBundleConfig",function(e,r){return r("import").then((function(){return Promise.all([t.e(68),t.e(67),t.e(65),t.e(66),t.e(64),t.e(17)]).then(t.bind(null,"RAZO"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadInventory",["$injector",function(e){return Promise.all([t.e(2),t.e(1),t.e(3),t.e(5),t.e(18)]).then(t.bind(null,"W5jD")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadNotifications",["$injector",function(e){return Promise.all([t.e(2),t.e(1),t.e(30)]).then(t.bind(null,"I/f7")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadReports",["$injector",function(e){return Promise.all([t.e(70),t.e(71),t.e(69),t.e(33),t.e(34)]).then(t.bind(null,"Tbc7")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadReservations",["$injector",function(e){return Promise.all([t.e(0),t.e(4),t.e(36)]).then(t.bind(null,"roXK")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadSetup",["$injector",function(e){return Promise.all([t.e(3),t.e(5),t.e(38)]).then(t.bind(null,"47Sf")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadSystem",["$injector",function(e){return t.e(40).then(t.bind(null,"tNSu")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadUsage",["$injector",function(e){return t.e(44).then(t.bind(null,"4pnD")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadWhiteLabel",["$injector",function(e){return Promise.all([t.e(73),t.e(74)]).then(t.bind(null,"iSQY")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadPrinterUsage",["$injector",function(e){return t.e(31).then(t.bind(null,"LaoV")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadFloorPlans",["$injector",function(e){return Promise.all([t.e(3),t.e(15)]).then(t.bind(null,"eL8s")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadCheckInForm",["$injector",function(e){return t.e(11).then(t.bind(null,"lhYf")).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadTerminationRequest",["$injector","checkBundleConfig",function(e,r){return r("termination-request").then((function(){return t.e(42).then(t.bind(null,"Lk2g"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadBundleReservation",["$injector","checkBundleConfig",function(e,r){return r("bundle-reservation").then((function(){return t.e(9).then(t.bind(null,"TQqA"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadBuyPass",["$injector","checkBundleConfig",function(e,r){return r("buy-pass").then((function(){return t.e(10).then(t.bind(null,"1scS"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyMemberSignUp",["$injector","checkBundleConfig",function(e,r){return r("member-sign-up").then((function(){return t.e(29).then(t.bind(null,"HKBC"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadSimpleReservation",["$injector","checkBundleConfig",function(e,r){return r("simple-reservation").then((function(){return Promise.all([t.e(72),t.e(0),t.e(39)]).then(t.bind(null,"mAfg"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyReservationTablet",["$injector","checkBundleConfig",function(e,r){return r("reservation-tablet").then((function(){return Promise.all([t.e(0),t.e(35)]).then(t.bind(null,"day0"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyBookItNow",["$injector","checkBundleConfig",function(e,r){return r("book-it-now").then((function(){return Promise.all([t.e(0),t.e(4),t.e(8)]).then(t.bind(null,"Wk/G"))})).then((function(r){return e.invoke(r.default)}))}]).factory("lazyLoadAppointmentPlus",["$injector","checkBundleConfig",function(e,r){return r("appointment-plus",!0).then((function(){return t.e(7).then(t.bind(null,"tRtM"))})).then((function(r){return e.invoke(r.default)})).catch(angular.noop)}]).factory("lazyLoadQuickBooks",["$injector","checkBundleConfig",function(e,r){return r("quick-books",!0).then((function(){return t.e(32).then(t.bind(null,"abkP"))})).then((function(r){return e.invoke(r.default)})).catch(angular.noop)}]).factory("lazyLoadTeamgo",["$injector","checkBundleConfig",function(e,r){return r("teamgo",!0).then((function(){return t.e(41).then(t.bind(null,"OKZS"))})).then((function(r){return e.invoke(r.default)})).catch(angular.noop)}]).factory("lazyLoadKisi",["$injector","checkBundleConfig",function(e,r){return r("kisi",!0).then((function(){return t.e(19).then(t.bind(null,"BAIu"))})).then((function(r){return e.invoke(r.default)})).catch(angular.noop)}]).factory("lazyLoadEzeep",["$injector","checkBundleConfig",function(e,r){return r("ezeep",!0).then((function(){return t.e(14).then(t.bind(null,"oBRD"))})).then((function(r){return e.invoke(r.default)})).catch(angular.noop)}]).factory("lazyLoadGreetly",["$injector","checkBundleConfig",function(e,r){return r("greetly",!0).then((function(){return t.e(16).then(t.bind(null,"/kd0"))})).then((function(r){return e.invoke(r.default)})).catch(angular.noop)}])},oYBI:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.usage",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.usageEntryService","deskworks.memberUsageService","deskworks.checkInLog.service","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/usage-entry",{template:"<div ng-include=\"'usage-entry/usage-entry-list.tpl.html'\"></div>",controller:"UsageEntryListCtrl as $ctrl",label:"Usage Entry",routeBranch:"usage-entry",translations:["usage-entry"],resolve:{usageList:["dwAlerts","usageEntryService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return n.selectUser()})).then((function(){return r.query(t.getCurrentCenterId(),t.getCurrentUserId(),1,15).catch((function(r){return e.error(r,"Failed to query usage entry.")}))}))}],user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],lazy:"lazyLoadUsage"}}),e.when("/usage-entry/:usageId",{template:"<div ng-include=\"'usage-entry/usage-entry-edit.tpl.html'\"></div>",controller:"UsageEntryEditCtrl as $ctrl",label:"Edit",routeBranch:"usage-entry",translations:["usage-entry"],resolve:{usage:["$route","dwAlerts","usageEntryService","state","routeHelper",function(e,r,t,n,o){return o.auth().then((function(){return o.selectUser()})).then((function(){return t.get(n.getCurrentCenterId(),n.getCurrentUserId(),e.current.params.usageId).catch((function(e){return r.error(e,"Failed to get usage entry.")}))}))}],user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],lazy:"lazyLoadUsage"}}),e.when("/member-usage",{template:"<div ng-include=\"'view-usage/view-usage.tpl.html'\"></div>",controller:"ViewUsageCtrl as $ctrl",label:"View Usage",routeBranch:"member-usage",translations:["view-usage"],resolve:{memberUsageList:["dwAlerts","memberUsageService","state","routeHelper",function(e,r,t,n){return n.auth().then((function(){return n.selectUser()})).then((function(){return r.query(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to query member usages.")}))}))}],user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],lazy:"lazyLoadUsage"}}),e.when("/member-log",{template:"<div ng-include=\"'check-in-log/check-in-log.tpl.html'\"></div>",controller:"CheckInLogCtrl as $ctrl",label:"Check In Log",routeBranch:"member-log",translations:["check-in-log"],resolve:{user:["dwAlerts","userProfileService","state","routeHelper","resolveTimezone",function(e,r,t,n,o){return n.auth().then((function(){return n.selectUser()})).then((function(){return o()})).then((function(){return r.get(t.getCurrentCenterId(),t.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],lazy:"lazyLoadUsage"}})}])},tcE9:function(e,r,t){},uA9C:function(e,r,t){"use strict";t.r(r);var n=t("nbuU"),o=t.n(n),a=t("kYjL");r.default=angular.module("deskworks.checkInForm",[a.a.name]).config(["$routeProvider",function(e){e.when("/check-in",{template:"<div ng-include=\"'check-in/check-in.tpl.html'\"></div>",controller:"CheckInFormCtrl as vm",hideSidebar:!0,userTasksPolicy:!1,landing:!0,resolve:{center:["state","helper","dwAlerts","centerService",function(e,r,t,n){return n.getCenters().catch((function(e){return t.error(e,"Failed to query centers.")})).then((function(t){return o()(r).call(r,t,e.getCurrentCenterId())||t[0]||{}}))}],lazy:"lazyLoadCheckInForm"}})}])},xXVS:function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.bundleReservation",["ngRoute","deskworks.routeHelper","deskworks.dwAlerts","deskworks.setup.service","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){function r(e,r,t){return t.auth(r.interpolateRoute("/bundle-reservation/:reservationBundleId",e.current.params))}r.$inject=["$route","helper","routeHelper"],e.when("/bundle-reservation/:reservationBundleId",{template:'<dw-sign-in id="signIn" show-sign-up="true"></dw-sign-in>',controller:"BundleReservationSignInCtrl",controllerAs:"vm",routeBranch:"bundle-reservation",translations:["sign-in"],hideSidebar:!0,userTasksPolicy:!1,resolve:{redirect:["$q","state","routeHelper","dwAlerts","userProfileService",function(e,r,t,n,o){return t.auth(null).then((function(){return o.get(r.getCurrentCenterId(),r.getCurrentUserId()).catch((function(e){return n.error(e,"Failed to load user profile.")})).then((function(t){return"nonMember"===t.role?r.setPath(r.getPath()+"/user-profile",!0):r.setPath(r.getPath()+"/confirm",!0),e.reject()}))}),(function(){}))}],lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/user-profile",{template:"<div ng-include=\"'templates/new-user-profile.tpl.html'\"></div>",controller:"BundleReservationUserProfileCtrl",controllerAs:"vm",label:"Profile",routeBranch:"bundle-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["user-profile"],resolve:{reg:function(){return{member:!1,selfRegistration:!0}},userProfile:["state","$q","dwAlerts","helper","routeHelper","userProfileService",function(e,r,t,n,o,a){return o.auth(null).then((function(){return e.getCurrentCenterId()?a.getForRegistration(e.getCurrentCenterId(),e.getCurrentUserId(),"nonMember","signUp").catch((function(e){return t.error(e,"Failed to get user profile.")})):r.reject()}),(function(){return a.new({},"nonMember","signUp").catch((function(e){return t.error(e,"Failed to get new member profile template.")}))}))}],centers:["dwAlerts","centerService",function(e,r){return r.resetCache(),r.getCenters().catch((function(r){return e.error(r,"Failed to get center.")}))}],lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/user-profile/purchase/:purchaseId",{template:"<div ng-include=\"'steps/bundle-reservation-purchase.tpl.html'\"></div>",controller:"BundleReservationPurchaseCtrl",controllerAs:"$ctrl",label:"Purchase",routeBranch:"bundle-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["purchase","simple-reservation"],resolve:{reg:function(){return{member:!1,selfRegistration:!0}},center:["dwAlerts","state","centerService",function(e,r,t){return t.get(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center data.")}))}],purchase:["$route","dwAlerts","state","helper","routeHelper","purchaseService",function(e,t,n,o,a,i){return r(e,o,a).then((function(){return i.get(n.getCurrentCenterId(),n.getCurrentUserId(),e.current.params.purchaseId).catch((function(e){return t.error(e,"Failed to get purchase.")}))}))}],lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/user-profile/purchase/:purchaseId/staff-help",{template:"<div ng-include=\"'staff-help/staff-help.tpl.html'\"></div>",controller:"BundleReservationStaffHelpCtrl",controllerAs:"vm",label:"Staff Help",routeBranch:"bundle-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{auth:r,lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/user-profile/purchase/:purchaseId/billing",{template:"<div ng-include=\"'templates/new-billing-profile.tpl.html'\"></div>",controller:"BundleReservationBillingCtrl",controllerAs:"vm",label:"Billing",routeBranch:"bundle-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["billing-profile","user-profile","simple-reservation"],resolve:{reg:function(){return{member:!1,selfRegistration:!0}},userProfile:["dwAlerts","$route","helper","state","routeHelper","userProfileService",function(e,t,n,o,a,i){return r(t,n,a).then((function(){return i.get(o.getCurrentCenterId(),o.getCurrentUserId()).catch((function(r){return e.error(r,"Failed to get user profile.")}))}))}],settings:["dwAlerts","setupService",function(e,r){return r.getSetupSettings().catch((function(r){return e.error(r,"Failed to get setup settings.")}))}],center:["dwAlerts","state","centerService",function(e,r,t){return t.get(r.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center data.")}))}],lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/user-profile/purchase/:purchaseId/billing/complete",{template:"<div ng-include=\"'steps/bundle-reservation-complete.tpl.html'\"></div>",controller:"BundleReservationCompleteCtrl",label:"Complete",routeBranch:"bundle-reservation",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["purchase","simple-reservation"],resolve:{reg:function(){return{member:!1,selfRegistration:!0}},purchase:["dwAlerts","$route","state","helper","routeHelper","purchaseService",function(e,t,n,o,a,i){return r(t,o,a).then((function(){return i.get(n.getCurrentCenterId(),n.getCurrentUserId(),t.current.params.purchaseId).catch((function(r){return e.error(r,"Failed to get purchase.")}))}))}],center:["dwAlerts","$route","state","centerService",function(e,r,t,n){return n.get(t.getCurrentCenterId()).catch((function(r){return e.error(r,"Failed to get center.")}))}],lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/confirm",{template:"<div ng-include=\"'steps/bundle-reservation-confirm.tpl.html'\"></div>",controller:"BundleReservationConfirmCtrl",controllerAs:"vm",routeBranch:"bundle-reservation",hideSidebar:!0,userTasksPolicy:!1,translations:["reservations"],resolve:{auth:r,lazy:"lazyLoadBundleReservation"}}),e.when("/bundle-reservation/:reservationBundleId/complete",{template:"<div ng-include=\"'steps/bundle-reservation-complete-member.tpl.html'\"></div>",controller:"BundleReservationCompleteCtrl",label:"Complete",routeBranch:"bundle-reservation",controllerAs:"vm",hideSidebar:!0,userTasksPolicy:!1,translations:["simple-reservation"],resolve:{purchase:function(){return null},center:function(){return null},lazy:"lazyLoadBundleReservation"}})}])},"xc/y":function(e,r,t){"use strict";t.r(r);t("kYjL");r.default=angular.module("deskworks.floorPlans",["ngRoute","deskworks.routeHelper","deskworks.lazyLoaders"]).config(["$routeProvider",function(e){e.when("/floor-plans",{template:"<div ng-include=\"'floor-plans/floor-plans.tpl.html'\"></div>",controller:"FloorPlansCtrl as $ctrl",routeBranch:"floor-plans",translations:["floor-plans","reservations"],resolve:{auth:["$q","routeHelper","resolveTimezone",function(e,r,t){return e.all([r.auth(),t()])}],lazy:"lazyLoadFloorPlans"}}),e.when("/floor-plans-community",{template:"<div ng-include=\"'floor-plans/floor-plans.tpl.html'\"></div>",controller:"FloorPlansCtrl as $ctrl",routeBranch:"floor-plans-community",translations:["floor-plans","reservations"],resolve:{auth:["$q","routeHelper","resolveTimezone",function(e,r,t){return e.all([r.auth(),t()])}],communityOnly:function(){return!0},lazy:"lazyLoadFloorPlans"}})}])}}]);