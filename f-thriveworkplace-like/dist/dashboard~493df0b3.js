(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"+iS3":function(e,t,s){"use strict";s.r(t),t.default=angular.module("deskworks.dashboard.dashAdminSelfRegistrations",[]).directive("dashAdminSelfRegistrations",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-admin/dash-admin-self-registrations.tpl.html",controller:"DashAdminSelfRegistrationsCtrl as $ctrl",bindToController:{users:"<"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashAdminSelfRegistrationsCtrl",["$scope","state","helper",function(e,t,s){e.helper=s,this.navigate=function(e){return t.setCurrentUserId(e.id),t.setPath("/profile")}}])},"0Zo7":function(e,t,s){"use strict";s.r(t);var n=s("nbuU"),r=s.n(n),a=(s("3dw1"),s("BGir"));t.default=angular.module("deskworks.dashboard.dashGeneral",["deskworks.dashboard.service","deskworks.setup.service","deskworks.inventory.product.service",a.a.name]).directive("dashGeneral",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-user/dash-general.tpl.html",controller:"DashGeneralCtrl as $ctrl",bindToController:{settings:"<"},link:function(t,s,n,r,a){var i=this;a((function(){e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashGeneralCtrl",["$scope","$q","$filter","state","helper","dwAlerts","userProfileService","dashboardService","UsageTracking","productService",function(e,t,s,n,a,i,c,l,o,f){var d=this;d.$onInit=function(){c.get(n.getCurrentCenterId(),n.getCurrentUserId()).catch((function(e){return i.error(e,"Failed to load user profile.")})).then((function(e){d.user=e,angular.forEach(d.user.creditCards,(function(e){if(e.id===d.user.paymentMethodId){d.defaultPaymentMethod=e;var t=s("toDate")(d.defaultPaymentMethod.expiry);t-moment()<2592e6&&(t-moment()>=0?d.showExpireWarning=!0:d.showExpiredWarning=!0,e.expiry=s("date")(t,"mediumDate"))}}))}));var e=o.query({centerId:n.getCurrentCenterId(),userId:n.getCurrentUserId(),page:1,pageSize:1}).catch((function(e){return i.error(e,"Failed to query usage tracking.")})),a=f.getProducts().catch((function(e){return i.error(e,"Failed to query products.")}));t.all({usages:e,products:a}).then((function(e){var t=e.usages,n=e.products;d.closingBalance=t.days.length&&t.days[0].closingBalance||[],d.closingBalance.forEach((function(e){e.productName=(r()(n).call(n,(function(t){return t.id===e.productId}))||{}).name,e.amount=angular.isDefined(e.hours)?s("hours")(e.hours):s("ncurrency")(e.amount)}))}))}}])},"24Ie":function(e,t){e.exports='<ff-panel> <ff-panel-header> <ff-icon sense="list"></ff-icon> <span translate="DASHBOARD.USER.GENERAL_INFO.HEADER"></span> </ff-panel-header> <div ff-dim="!$ctrl.user || !$ctrl.closingBalance"> <span translate="GLOBAL.NONE" ng-if="!$ctrl.closingBalance.length && !$ctrl.showExpireWarning && !$ctrl.showExpiredWarning"></span> <ff-row ng-repeat="rec in $ctrl.closingBalance" class="animate-collapse"> <ff-static><span> <ff-icon sense="info"></ff-icon> <span ng-if="rec.typeId !== \'reservation\'" translate="DASHBOARD.USER.GENERAL_INFO.PASS_BALANCE" translate-values="{{rec}}"></span> <span ng-if="rec.typeId === \'reservation\'" translate="DASHBOARD.USER.GENERAL_INFO.CREDIT_BALANCE" translate-values="{{rec}}"></span> </span></ff-static> </ff-row> <ff-row ng-if="$ctrl.showExpireWarning" class="animate-collapse"> <ff-static><span> <ff-icon sense="warning" class="text-danger"></ff-icon> <span translate="DASHBOARD.USER.GENERAL_INFO.CC_DUE_TO_EXPIRE" translate-values="{ date: $ctrl.defaultPaymentMethod.expiry }"></span> </span></ff-static> </ff-row> <ff-row ng-if="$ctrl.showExpiredWarning" class="animate-collapse"> <ff-static><span> <ff-icon sense="warning" class="text-danger"></ff-icon> <span translate="DASHBOARD.USER.GENERAL_INFO.CC_HAS_EXPIRED" translate-values="{ date: $ctrl.defaultPaymentMethod.expiry }"></span> </span></ff-static> </ff-row> </div> </ff-panel> '},"3EYM":function(e,t){e.exports='<ff-panel> <ff-panel-header> <ff-icon sense="user"></ff-icon> <span translate="DASHBOARD.ADMIN.SIGN_UPS.HEADER"></span> </ff-panel-header> <div> <ff-row ng-repeat-start="user in ::$ctrl.users" class="ff-clickable animate-collapse" ng-click="$ctrl.navigate(user)" ff-dim title="{{\'DASHBOARD.ADMIN.SIGN_UPS.NAV_TITLE\' | translate}}"> <ff-static flex="0 0 50%" ff-bind="::user.fullNameCompany"></ff-static> <ff-static flex="0 0 50%" ff-style="{\'padding-right\': 0}"> <a href="mailto:{{::user.email}}" ng-bind="::user.email" ng-click="$event.stopPropagation()" title=""></a> </ff-static> </ff-row> <ff-row ng-repeat-end ng-if="::[\'staffHelp\', \'abandoned\', \'banned\'].indexOf(user.status) >= 0" class="animate-collapse"> <ff-static> <span> <ff-icon sense="warning" class="ff-flex-start"></ff-icon> <span ng-if="::user.status === \'staffHelp\'" translate="DASHBOARD.ADMIN.SIGN_UPS.STAFF_HELP"></span> <span ng-if="::user.status === \'abandoned\'" translate="DASHBOARD.ADMIN.SIGN_UPS.ABANDONED"></span> <span ng-if="::user.status === \'banned\'" translate="DASHBOARD.ADMIN.SIGN_UPS.BANNED"></span> </span> </ff-static> </ff-row> <div ng-if="$ctrl.users && !$ctrl.users.length" class="animate-collapse"> <span translate="DASHBOARD.ADMIN.SIGN_UPS.EMPTY"></span> </div> </div> </ff-panel> '},"49Lf":function(e,t,s){"use strict";s.r(t),t.default=angular.module("deskworks.DashboardUserCtrl",["NATS","deskworks.routeHelper","flexForms","deskworks.dashboard.upcomingReservations","deskworks.dashboard.dashGeneral","deskworks.dashboard.recurringCharges","deskworks.dashboard.dashOutstandingCharges","deskworks.dashboard.dashMembersCheckedIn","deskworks.dashboard.dashMessageBoard"]).controller("DashboardUserCtrl",["$scope","$translate","state","helper","user","userLogged","settings","NATS",function(e,t,s,n,r,a,i,c){var l=this;l.user=r,l.userLogged=a,l.settings=i;var o=s.isMasterProfile()&&l.user.company?l.user.company:l.user.firstName+" "+l.user.lastName,f=t.instant("DASHBOARD.USER.PAGE_TITLE",{userName:o});s.setPageTitle(f),l.nats=c.connect(),l.nats.on("error",(function(e){console.warn("NATS error:",e)})),e.$on("$destroy",(function(){l.nats.close()})),l.canSeeAccountingInfo=function(){return!s.isMasterProfile()||(n.findByKeyValue(l.userLogged.masterMembers,"id",l.user.id)||{}).canSeeAccountingInfo}}])},"4N3F":function(e,t,s){"use strict";s.r(t);s("JBxO"),s("FdtR"),s("Muwe"),s("y89P"),s("a+RS");t.default=angular.module("deskworks.AccessCodeOfTheDayCtrl",["deskworks.routeHelper","deskworks.notifications.service"]).controller("AccessCodeOfTheDayCtrl",["$scope","$translate","$interval","$q","state","dwAlerts","routeHelper","dashboardService","Notifications",function(e,t,s,n,r,a,i,c,l){var o=this;r.setPageTitle(t.instant("DASHBOARD.ADMIN.ACCESS_CODE.HEADER"));o.fetch=function(){return s.cancel(o.timer),o.fetching=!0,i.auth().then((function(){return n.all({stats:c.getCenterStats(r.getCurrentCenterId()).catch((function(e){return a.error(e,"Failed to get center stats.")})),tpl:l.getDeskTabletTemplate(r.getCurrentCenterId()).catch((function(e){return a.error(e,"Failed to get desk tablet template.")}))})})).then((function(e){o.accessCode=e.stats.accessCode,o.tpl=e.tpl,o.tpl.body=o.tpl.body||'<h1 style="text-align: center;"><b>WiFi Access</b></h1><br><br><h2 style="text-align: center;">Access Code: <b>{{access-code}}</b></h2><br>',o.tpl.body=o.tpl.body.replace(/{{access-code}}/g,o.accessCode)})).finally((function(){o.fetching=!1,s.cancel(o.timer),o.timer=s(o.fetch,3e5)}))},o.fetch(),o.$onDestroy=function(){s.cancel(o.timer)},o.toDashboard=function(){return r.setPath("/dashboard")}}])},"4sA8":function(e,t,s){"use strict";s.r(t);var n=s("nbuU"),r=s.n(n),a=s("NOor"),i=s.n(a),c=s("0zKI"),l=s.n(c),o=(s("w+ol"),s("iAzO"));t.default=angular.module("deskworks.dashboard.dashMembersCheckedIn",["deskworks.CheckedInMembers","deskworks.OurMemberModalCtrl",o.a.name]).directive("dashMembersCheckedIn",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-user/dash-members-checked-in.tpl.html",controller:"DashMembersCheckedInCtrl as $ctrl",bindToController:{nats:"<"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashMembersCheckedInCtrl",["$scope","$timeout","state","helper","dwAlerts","dwModal","CheckedInMembers",function(e,t,s,n,a,c,o){var f=this;e.helper=n;var d=[];function u(e){if(f.users){var t=r()(n).call(n,f.users,e.id);if(t)return angular.extend(t,e);f.users.push(e)}}function p(e){var t;if(f.users){var s=i()(n).call(n,f.users,e.id);s>=0&&l()(t=f.users).call(t,s,1)}}f.$onInit=function(){o.query(s.getCurrentCenterId()).catch((function(e){return a.error(e,"Failed to query checked-in members.")})).then((function(e){f.users=e,d.push(f.nats.subscribe("API.:siteId.centers.:centerId.checked-in-members.create",u)),d.push(f.nats.subscribe("API.:siteId.centers.:centerId.checked-in-members.delete",p))}))},f.$onDestroy=function(){d.forEach((function(e){return f.nats.unsubscribe(e)}))},f.view=function(t){c.show({scope:e,templateUrl:"members/our-members/our-member-modal.tpl.html",controller:"OurMemberModalCtrl",inputs:{member:t}})}}])},"7v6b":function(e,t,s){e.exports=s("M381")},"9tvY":function(e,t,s){"use strict";s.r(t);var n=s("hsT8"),r=s.n(n);t.default=angular.module("deskworks.dashboard.recurringCharges",["deskworks.recurringCharge.service"]).directive("dashRecurringCharges",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-user/dash-recurring-charges.tpl.html",controller:"DashRecurringChargesCtrl as $ctrl",link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashRecurringChargesCtrl",["$scope","dwAlerts","state","helper","recurringChargeService",function(e,t,s,n,a){var i=this;i.$onInit=function(){a.query(s.getCurrentCenterId(),s.getCurrentUserId()).catch((function(e){return t.error(e,"Failed to query recurring charges.")})).then((function(e){i.charges=r()(e).call(e,(function(e){return"active"===e.status.id}))}))}}])},BGir:function(e,t,s){"use strict";var n=s("03wM"),r=s.n(n),a=s("Ekwr"),i=s.n(a),c=s("hsT8"),l=s.n(c),o=s("lvz6"),f=s.n(o),d=s("yKah"),u=s.n(d),p=s("fzuT"),h=s.n(p),m=s("nbuU"),g=s.n(m),v=(s("3dw1"),angular.module("deskworks.optsUsageSource",[]).factory("optsUsageSource",["$rootScope","$translate",function(e,t){var s=[{id:"reservation",_name:"USAGE_TRACKING.SOURCE.RESERVATION"},{id:"network",_name:"USAGE_TRACKING.SOURCE.NETWORK"},{id:"manual",_name:"USAGE_TRACKING.SOURCE.MANUAL"}];function n(){s.forEach((function(e){e.name=t.instant(e._name)}))}return n(),e.$on("$setTranslationsSuccess",n),s}])),A=angular.module("deskworks.optsCreditType",[]).factory("optsCreditType",["$rootScope","$translate",function(e,t){var s=[{id:"reservation",_name:"USAGE_TRACKING.CREDIT_TYPE.RESERVATION"},{id:"pass",_name:"USAGE_TRACKING.CREDIT_TYPE.PASS"},{id:"bucket",_name:"USAGE_TRACKING.CREDIT_TYPE.BUCKET"}];function n(){s.forEach((function(e){e.name=t.instant(e._name)}))}return n(),e.$on("$setTranslationsSuccess",n),s}]);function b(e,t){var s=r()(e);if(i.a){var n=i()(e);t&&(n=l()(n).call(n,(function(t){return f()(e,t).enumerable}))),s.push.apply(s,n)}return s}t.a=angular.module("deskworks.UsageTracking",["ngResource","deskworks.config","datesDeserializer",v.name,A.name]).factory("UsageTracking",["$resource","$filter","$timeout","deskworksConfig","helper","datesDeserializer","optsUsageSource","optsCreditType",function(e,t,s,n,r,a,i,c){var l=a(["days.date","days.usages.from","days.usages.to"]),o=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/usage-tracking/:usageId"),{},{query:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,l]}});return{query:function(e){return o.query(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){h()(e,t,s[t])})):u.a?Object.defineProperties(e,u()(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,f()(s,t))}))}return e}({page:1,pageSize:20},e)).$promise.then((function(e){return angular.forEach(e.days,(function(e){e.usages.forEach((function(e){e.sourceName=(g()(i).call(i,(function(t){return t.id===e.sourceId}))||{}).name||e.sourceId})),e.usageAmount=r.round(e.usageTotals.reduce((function(e,t){return+t.amount+e}),0)),e.appliedAmount=r.round(e.creditsApplied.reduce((function(e,t){return+t.amount+e}),0)),d(e.openingBalance),d(e.creditsApplied),d(e.closingBalance)})),e}))},delete:function(e){return o.delete(e).$promise}};function d(e){e.forEach((function(e){angular.isDefined(e.passes)?e.typeId="pass":angular.isDefined(e.bucketPasses)?(e.typeId="bucket",e.passes=e.bucketPasses,delete e.bucketPasses):e.typeId="reservation",e.typeName=(g()(c).call(c,(function(t){return t.id===e.typeId}))||{}).name}))}}])},CSwg:function(e,t,s){"use strict";s.r(t),t.default=angular.module("deskworks.dashboard.admin",["NATS","flexForms","deskworks.dashboard.dashAdminReservations","deskworks.dashboard.dashAdminAccessCode","deskworks.dashboard.dashAdminBilling","deskworks.dashboard.dashAdminUsersCheckedIn","deskworks.dashboard.dashAdminReservationConflicts","deskworks.dashboard.dashAdminSelfRegistrations","deskworks.dashboard.service","deskworks.Admin"]).controller("DashboardAdminCtrl",["$scope","$filter","$timeout","$translate","state","helper","admin","dwAlerts","settings","dashboardService","userProfileService","NATS",function(e,t,s,n,r,a,i,c,l,o,f,d){var u=this;u.settings=l,u.nats=d.connect(),u.nats.on("error",(function(e){console.warn("NATS error:",e)})),e.$on("$destroy",(function(){return u.nats.close()}));var p=n.instant("DASHBOARD.ADMIN.PAGE_TITLE",{userName:i.fullName});r.setPageTitle(p),r.isUserSelected()&&f.get(r.getCurrentCenterId(),r.getCurrentUserId()).catch((function(e){return c.error(e,"Failed to get user profile.")})).then((function(e){u.user=e})),u.hideAll="all"!==(a.findByKeyValue(i.centers,"id",r.getCurrentCenterId())||{}).permission,u.hideAll||o.getCenterStats(r.getCurrentCenterId()).catch((function(e){return c.error(e,"Failed to get center stats.")})).then((function(e){u.centerStats=e}))}])},Cx3O:function(e,t,s){var n={"./access-code-of-the-day/access-code-of-the-day.controller.js":"4N3F","./dashboard-admin/dashboard-admin.controller.js":"CSwg","./dashboard-user/dashboard-user.controller.js":"49Lf","./widgets-admin/dash-admin-access-code.directive.js":"SRwX","./widgets-admin/dash-admin-billing.directive.js":"JVpn","./widgets-admin/dash-admin-reservation-conflicts.directive.js":"a0px","./widgets-admin/dash-admin-reservations.directive.js":"fsnK","./widgets-admin/dash-admin-self-registrations.directive.js":"+iS3","./widgets-admin/dash-admin-users-checked-in.directive.js":"sjTq","./widgets-user/dash-general.directive.js":"0Zo7","./widgets-user/dash-members-checked-in.directive.js":"4sA8","./widgets-user/dash-message-board.directive.js":"Oifl","./widgets-user/dash-outstanding-charges.directive.js":"V5+H","./widgets-user/dash-recurring-charges.directive.js":"9tvY","./widgets-user/dash-upcoming-reservations.directive.js":"zKnN"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="Cx3O"},DDl7:function(e,t,s){s("h2hn");var n=s("/ZBe").Object,r=e.exports=function(e,t,s){return n.defineProperty(e,t,s)};n.defineProperty.sham&&(r.sham=!0)},Ekwr:function(e,t,s){e.exports=s("MK67")},HGI2:function(e,t,s){s("BZMQ");var n=s("/ZBe");e.exports=n.Object.getOwnPropertySymbols},I8wp:function(e,t){e.exports='<ff-panel class="dash-widget-admin-users-checked-in"> <ff-panel-header> <ff-icon sense="user"></ff-icon> <span translate="DASHBOARD.ADMIN.USERS_CHECKED_IN.HEADER"></span> </ff-panel-header> <div> <span ng-if="!$ctrl.users.length" class="animate-collapse" translate="DASHBOARD.ADMIN.USERS_CHECKED_IN.EMPTY"></span> <ff-row ng-repeat="user in $ctrl.users" class="ff-clickable animate-collapse" ng-click="$ctrl.toUserProfile(user)" ff-dim title="{{\'DASHBOARD.ADMIN.USERS_CHECKED_IN.NAVIGATE_TITLE\' | translate}}"> <ff-static class="dash-avatar"> <ff-img ff-src="{{::user.photo}}" ng-if="::user.photo" ff-alt="{{::user.name}}"></ff-img> <i class="fa fa-user" ng-if="::!user.photo"></i> </ff-static> <ff-static flex="0 0 30px" class="ff-center" style="z-index:2"> <span class="badge" ng-class="::userRoles[user.role].color" ng-click="$event.stopPropagation()" title=""> {{user.devices}} <ff-tip class="text-nowrap" ng-class="::userRoles[user.role].color" style="min-width:60px"> <div> <span class="hint-label">{{\'GLOBAL.ROLE\' | translate}}:</span> {{::userRoles[user.role].name}} </div> <div> <span class="hint-label">{{\'DASHBOARD.ADMIN.USERS_CHECKED_IN.DEVICES\' | translate}}:</span> {{user.devices}} </div> </ff-tip> </span> </ff-static> <ff-static ff-bind="::helper.join([user.company, user.name], \', \')"></ff-static> <ff-static> <a href="mailto:{{::user.email}}" ng-bind="::user.email" ng-click="$event.stopPropagation()" title=""></a> </ff-static> </ff-row> </div> </ff-panel> '},JVpn:function(e,t,s){"use strict";s.r(t),t.default=angular.module("deskworks.dashboard.dashAdminBilling",[]).directive("dashAdminBilling",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-admin/dash-admin-billing.tpl.html",controller:"DashAdminBillingCtrl as $ctrl",bindToController:{stats:"<",settings:"<"},link:function(t,s,n,r,a){var i=this;a((function(){e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashAdminBillingCtrl",["$scope","state","helper",function(e,t,s){var n=this;e.helper=s,n.toBillingProfile=function(e){return t.setCurrentUserId(e.userId),t.setPath("/billing-profiles")},n.toIncomeReport=function(){return t.setPath(n.settings&&"accrual"===n.settings.dashboardIncome?"/income-by-item-report":"/income-report")},n.toAccountsReceivableReport=function(){return t.setPath("/accounts-receivable-report")}}])},L6E7:function(e,t){e.exports='<ff-panel> <ff-panel-header><ff-icon sense="reservation"></ff-icon> <span translate="{{::$ctrl.label}}"></span></ff-panel-header> <div ff-dim="!$ctrl.reservations"> <div ng-repeat-start="reservation in ::$ctrl.reservations" class="ff-grid ff-clickable ff-relative animate-collapse" ng-click="$ctrl.navigate(reservation)" ff-dim title="{{\'DASHBOARD.ADMIN.RESERVATIONS.NAVIGATE_TITLE\' | translate}}"> <ff-row flex="{sm: \'0 0 50%\'}"> <ff-static flex="0 1 210px"> <span><span nice-time="::reservation.startTime"></span> - <span nice-time="::reservation.endTime"></span></span> </ff-static> <ff-static flex="1 1 210px" ff-bind="::reservation.reservationUnitName"></ff-static> </ff-row> <ff-row flex="{sm: \'0 0 50%\'}"> <ff-static flex="1 1 210px" ff-bind="::helper.join([reservation.userCompany, reservation.userName], \', \')"></ff-static> <ff-static flex="0 1 90px" ff-bind="::reservation.accessCode" ng-click="$event.stopPropagation()" ff-style="{ cursor: \'auto\' }" ng-if="$ctrl.settings.enableAccessCodes" title=""></ff-static> </ff-row> </div> <ff-row ng-repeat-end ng-if="::reservation.reservationNote" class="animate-collapse"> <ff-label> <em> <ff-icon sense="info" class="ff-flex-start"></ff-icon> {{::reservation.reservationNote}} </em> </ff-label> </ff-row> <div ng-if="$ctrl.reservations && !$ctrl.reservations.length" class="animate-collapse"> <span translate="GLOBAL.NONE"></span> </div> </div> </ff-panel> '},LPPa:function(e,t,s){s("YpQb");var n=s("/ZBe");e.exports=n.Object.getOwnPropertyDescriptors},M381:function(e,t,s){var n=s("DDl7");e.exports=n},MK67:function(e,t,s){var n=s("HGI2");e.exports=n},Oifl:function(e,t,s){"use strict";s.r(t);var n=s("yCd9"),r=s.n(n),a=s("nbuU"),i=s.n(a),c=s("0zKI"),l=s.n(c),o=s("NOor"),f=s.n(o),d=s("+l1P");t.default=angular.module("deskworks.dashboard.dashMessageBoard",["deskworks.MessageBoard",d.a.name]).directive("dashMessageBoard",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-user/dash-message-board.tpl.html",controller:"DashMessageBoardCtrl as $ctrl",bindToController:{nats:"<"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashMessageBoardCtrl",["$scope","$timeout","dwAlerts","state","helper","MessageBoard",function(e,t,s,n,a,c){var o=this,d=[];function u(e){return e.text.length>140&&(e.text=e.text.substr(0,140),e.crop=!0),e}function p(e){var t;u(e=c.deserialize(e));var s=i()(a).call(a,o.messages,e.id);if(s)return angular.extend(s,e);o.messages.unshift(e),o.messages.length>10&&l()(t=o.messages).call(t,10,o.messages.length-10)}function h(e){u(e);var t=i()(a).call(a,o.messages,e.id);if(t)return angular.extend(t,e)}function m(e){var t,s=f()(a).call(a,o.messages,e.id);s>=0&&l()(t=o.messages).call(t,s,1)}o.$onInit=function(){c.query({centerId:n.getCurrentCenterId(),limit:10}).catch((function(e){return s.error(e,"Failed to query messages.")})).then((function(e){o.messages=r()(e).call(e,u),d.length||(d.push(o.nats.subscribe("API.:siteId.centers.:centerId.message-board.messages.create",p)),d.push(o.nats.subscribe("API.:siteId.centers.:centerId.message-board.messages.update",h)),d.push(o.nats.subscribe("API.:siteId.centers.:centerId.message-board.messages.delete",m)))})).catch((function(){return o.messages=[]}))},o.toMsg=function(e){return n.setPath("/message-board")}}])},PbmZ:function(e,t){e.exports='<ff-panel ng-if="$ctrl.stats.accessCode" class="animate-collapse ff-no-frame"> <ff-panel-header> <ff-icon sense="accessCode"></ff-icon> <span translate="DASHBOARD.ADMIN.ACCESS_CODE.HEADER"></span> </ff-panel-header> <ff-row> <ff-static>{{$ctrl.stats.accessCode}}</ff-static> <ff-btn-group flex="none" class="buttons-row"> <ff-btn sense="expand" size="xs" ng-if="$ctrl.stats.accessCode" ff-style="{ \'font-size\': \'16px\' }" ff-click="$ctrl.toAccessCode()" title="Desk Tablet"></ff-btn> </ff-btn-group> </ff-row> </ff-panel> '},QPzo:function(e,t,s){var n=s("qqp4");e.exports=n},SMZY:function(e,t){e.exports='<div id="dashboardUser" class="dashboard"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{md: \'0 0 50%\'}"> <dash-upcoming-reservations id="dashUpcomingReservations" settings="vm.settings"></dash-upcoming-reservations> </div> <div flex="{md: \'0 0 50%\'}"> <dash-general id="dashGeneral" settings="vm.settings"></dash-general> </div> <dash-recurring-charges id="dashRecurringCharges" ng-if="vm.user.role !== \'nonMember\' && vm.canSeeAccountingInfo()"></dash-recurring-charges> <dash-outstanding-charges id="dashOutstandingCharges" ng-if="vm.canSeeAccountingInfo()"></dash-outstanding-charges> <div flex="{md: \'0 0 50%\'}" ng-if="vm.user.role !== \'nonMember\'"> <dash-members-checked-in id="dashMembersCheckedIn" nats="vm.nats"></dash-members-checked-in> </div> <div flex="{md: \'0 0 50%\'}" ng-if="vm.user.role !== \'nonMember\'"> <dash-message-board id="dashMessageBoard" nats="vm.nats"></dash-message-board> </div> </div> </div> '},SRwX:function(e,t,s){"use strict";s.r(t),t.default=angular.module("deskworks.dashboard.dashAdminAccessCode",[]).directive("dashAdminAccessCode",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-admin/dash-admin-access-code.tpl.html",controller:"DashAdminAccessCodeCtrl as $ctrl",bindToController:{stats:"<"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashAdminAccessCodeCtrl",["state",function(e){this.toAccessCode=function(){return e.setPath("/access-code-of-the-day")}}])},UEiN:function(e,t,s){"use strict";s.r(t);s("3dw1"),s("Muwe"),s("y89P");var n=s("yCd9"),r=s.n(n),a=s("lRNC"),i=s.n(a),c=["$injector",function(e){var t,n,a=(t=s("Cx3O"),r()(n=i()(t).call(t)).call(n,t));e.loadNewModules(r()(a).call(a,(function(e){return e.default.name}))),e.invoke(["$templateCache",function(e){var t=s("lc1n");i()(t).call(t).forEach((function(s){return e.put(s.replace(/^\.\//,""),t(s))}))}])}];t.default=c},"V5+H":function(e,t,s){"use strict";s.r(t);var n=s("yCd9"),r=s.n(n),a=s("6RpP"),i=s.n(a);t.default=angular.module("deskworks.dashboard.dashOutstandingCharges",["deskworks.purchase.service"]).directive("dashOutstandingCharges",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-user/dash-outstanding-charges.tpl.html",controller:"DashOutstandingChargesCtrl as $ctrl",link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashOutstandingChargesCtrl",["$scope","$q","$timeout","dwAlerts","state","helper","purchaseService",function(e,t,s,n,a,c,l){var o=this;o.$onInit=function(){l.getPurchases(a.getCurrentCenterId(),a.getCurrentUserId()).catch((function(e){return n.error(e,"Failed to query non-recurring charges.")})).then((function(e){var s,c;return t.all(r()(s=i()(c=e.open).call(c,e.credit)).call(s,(function(e){return l.get(a.getCurrentCenterId(),a.getCurrentUserId(),e.id).catch((function(t){return n.error(t,"Failed to get purchase for order #"+e.id+".")})).then((function(e){var t;o.charges=i()(t=o.charges||[]).call(t,e.items)}))}))).then((function(){return o.charges=o.charges||[]}))}))}}])},YpQb:function(e,t,s){var n=s("iddO"),r=s("loUa"),a=s("cJ2G"),i=s("Btbx"),c=s("3tq3"),l=s("i13M");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,s,n=i(e),r=c.f,o=a(n),f={},d=0;o.length>d;)void 0!==(s=r(n,t=o[d++]))&&l(f,t,s);return f}})},"a+RS":function(e,t,s){},a0px:function(e,t,s){"use strict";s.r(t);var n=s("0zKI"),r=s.n(n),a=s("+l1P");t.default=angular.module("deskworks.dashboard.dashAdminReservationConflicts",["deskworks.dashboard.service",a.a.name]).directive("dashAdminReservationConflicts",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-admin/dash-admin-reservation-conflicts.tpl.html",controller:"DashAdminReservationConflictsCtrl as $ctrl",bindToController:{reservations:"<",label:"@"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashAdminReservationConflictsCtrl",["$scope","$filter","state","helper","dwAlerts","dashboardService",function(e,t,s,n,a,i){var c=this;e.helper=n,c.navigate=function(e){return s.setParam("date",t("date")(e.startTime,"yyyy-MM-dd")),s.setPath("/reservation-calendar")},c.reset=function(e){return i.resetReservationConflict(e.id).catch((function(e){return a.error(e,"Failed to reset reservation conflict.")})).then((function(){var t;return r()(t=c.reservations).call(t,c.reservations.indexOf(e),1)}))}}])},a7Fd:function(e,t){e.exports='<ff-panel> <ff-panel-header> <ff-icon sense="billing"></ff-icon> <span translate="DASHBOARD.USER.RECURRING_CHARGES.HEADER"></span> </ff-panel-header> <div ff-dim="!$ctrl.charges"> <ff-header class="animate-collapse" ng-if="$ctrl.charges.length"> <ff-row class="ff-small"> <span flex="0 0 40px" class="ff-center show-xs" translate="DASHBOARD.USER.RECURRING_CHARGES.QUANTITY"></span> <span flex="0 1 280px" translate="DASHBOARD.USER.RECURRING_CHARGES.NAME"></span> <span flex="1 1 400px" class="show-sm" translate="DASHBOARD.USER.RECURRING_CHARGES.DESCRIPTION"></span> <span flex="1 1 130px" class="ff-right" translate="DASHBOARD.USER.RECURRING_CHARGES.CHARGE_DATE"></span> <span flex="1 0 70px" class="ff-right" translate="DASHBOARD.USER.RECURRING_CHARGES.TOTAL"></span> </ff-row> </ff-header> <ff-row ng-repeat="charge in $ctrl.charges" class="animate-collapse"> <ff-static flex="0 0 40px" ff-bind="charge.quantity" class="ff-center show-xs"></ff-static> <ff-static flex="0 1 280px" ff-bind="charge.productName"></ff-static> <ff-static flex="1 1 400px" class="show-sm" ff-bind="charge.description"></ff-static> <ff-static flex="1 1 130px" ff-bind="charge.nextBilled | date:\'mediumDate\'" class="ff-right"></ff-static> <ff-static flex="1 0 70px" ff-bind="charge.total | ncurrency" class="ff-right"></ff-static> </ff-row> <div ng-if="$ctrl.charges && !$ctrl.charges.length" class="animate-collapse ff-no-frame"> <span translate="GLOBAL.NONE"></span> </div> </div> </ff-panel> '},bDmU:function(e,t){e.exports='<ff-panel> <ff-panel-header> <ff-icon sense="billing"></ff-icon> <span translate="DASHBOARD.USER.OUTSTANDING_CHARGES.HEADER"></span> </ff-panel-header> <div ff-dim="!$ctrl.charges"> <ff-header class="animate-collapse" ng-if="$ctrl.charges.length"> <ff-row class="ff-small"> <span flex="0 0 40px" class="ff-center show-xs" translate="DASHBOARD.USER.OUTSTANDING_CHARGES.QUANTITY"></span> <span flex="0 1 280px" translate="DASHBOARD.USER.OUTSTANDING_CHARGES.NAME"></span> <span flex="1 1 450px" class="show-sm" translate="DASHBOARD.USER.OUTSTANDING_CHARGES.DESCRIPTION"></span> <span flex="0 0 75px" class="ff-right show-xs" translate="DASHBOARD.USER.OUTSTANDING_CHARGES.PRICE"></span> <span flex="0 0 75px" class="ff-right" translate="DASHBOARD.USER.OUTSTANDING_CHARGES.TOTAL"></span> </ff-row> </ff-header> <ff-row ng-repeat="charge in $ctrl.charges" class="animate-collapse"> <ff-static flex="0 0 40px" ff-bind="charge.quantity" class="ff-center show-xs"></ff-static> <ff-static flex="0 1 280px" ff-bind="charge.name"></ff-static> <ff-static flex="1 1 450px" class="show-sm" ff-bind="charge.description"></ff-static> <ff-static flex="0 0 75px" ff-bind="charge.price | ncurrency" class="ff-right show-xs"></ff-static> <ff-static flex="0 0 75px" ff-bind="charge.amount | ncurrency" class="ff-right"></ff-static> </ff-row> <div ng-if="$ctrl.charges && !$ctrl.charges.length" class="animate-collapse ff-no-frame"> <span translate="GLOBAL.NONE"></span> </div> </div> </ff-panel> '},cJ2G:function(e,t,s){var n=s("UkRz"),r=s("FkQy"),a=s("/ADo"),i=s("CvrR");e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(i(e)),s=a.f;return s?t.concat(s(e)):t}},cPZt:function(e,t,s){},fsnK:function(e,t,s){"use strict";s.r(t);var n=s("+l1P");t.default=angular.module("deskworks.dashboard.dashAdminReservations",[n.a.name]).directive("dashAdminReservations",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-admin/dash-admin-reservations.tpl.html",controller:"DashAdminReservationsCtrl as $ctrl",bindToController:{reservations:"<",label:"@",settings:"<"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashAdminReservationsCtrl",["$scope","$filter","state","helper",function(e,t,s,n){e.helper=n,this.navigate=function(e){return s.setParam("date",t("date")(e.startTime,"yyyy-MM-ddTHH:mm:ss")),s.setPath("/reservation-calendar")}}])},fzuT:function(e,t,s){var n=s("7v6b");e.exports=function(e,t,s){return t in e?n(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},e.exports.default=e.exports,e.exports.__esModule=!0},gaa1:function(e,t){e.exports='<ff-panel> <ff-panel-header> <div class="ff-grid gutter-v-half gutter-h-half"> <span flex="auto"><ff-icon sense="message"></ff-icon> <span translate="DASHBOARD.USER.MESSAGE_BOARD.HEADER"></span></span> <ff-btn flex="none" sense="edit" size="xs" ff-click="$ctrl.toMsg()" style="margin:-.6rem 0 .4rem 0" title="{{\'DASHBOARD.USER.MESSAGE_BOARD.BTN_POST\' | translate}}"></ff-btn> </div> </ff-panel-header> <div class="message-board" ff-dim="!$ctrl.messages"> <ff-row ng-repeat="msg in $ctrl.messages" class="msg-container animate-collapse ff-clickable" ng-click="$ctrl.toMsg(msg)"> <div class="msg-ava"> <ff-img ff-src="{{::msg.author.photo}}" ng-if="::msg.author.photo" ff-alt="{{::msg.author.fullName || \'anonymous\'}}"></ff-img> <i class="fa fa-user" ng-if="::!msg.author.photo"></i> </div> <div> <div> <div class="msg-meta"> <span class="msg-name">{{::msg.author.fullName || \'anonymous\'}}</span> <span class="msg-time" nice-time="::msg.createdAt"></span> <span class="msg-date">{{::msg.createdAt | date: \'mediumDate\'}}</span> </div> <div class="msg-body"> {{msg.text}} <more ng-if="msg.crop" translate="DASHBOARD.USER.MESSAGE_BOARD.MORE"></more> </div> </div> </div> </ff-row> </div> <div ng-if="$ctrl.messages && !$ctrl.messages.length"><span translate="GLOBAL.NONE"></span></div> </ff-panel> '},h2hn:function(e,t,s){var n=s("iddO"),r=s("loUa");n({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:s("UkIg").f})},iDDw:function(e,t,s){var n=s("LPPa");e.exports=n},lc1n:function(e,t,s){var n={"./access-code-of-the-day/access-code-of-the-day.tpl.html":"r3yX","./dashboard-admin/dashboard-admin.tpl.html":"nfPb","./dashboard-user/dashboard-user.tpl.html":"SMZY","./widgets-admin/dash-admin-access-code.tpl.html":"PbmZ","./widgets-admin/dash-admin-billing.tpl.html":"vqcV","./widgets-admin/dash-admin-reservation-conflicts.tpl.html":"xttt","./widgets-admin/dash-admin-reservations.tpl.html":"L6E7","./widgets-admin/dash-admin-self-registrations.tpl.html":"3EYM","./widgets-admin/dash-admin-users-checked-in.tpl.html":"I8wp","./widgets-user/dash-general.tpl.html":"24Ie","./widgets-user/dash-members-checked-in.tpl.html":"xcnm","./widgets-user/dash-message-board.tpl.html":"gaa1","./widgets-user/dash-outstanding-charges.tpl.html":"bDmU","./widgets-user/dash-recurring-charges.tpl.html":"a7Fd","./widgets-user/dash-upcoming-reservations.tpl.html":"u32j"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="lc1n"},lvz6:function(e,t,s){e.exports=s("QPzo")},nfPb:function(e,t){e.exports='<div id="dashboardAdmin" class="dashboard"> <h1 class="page-title" style="margin-top:2rem;margin-bottom:2rem" ng-bind="state.getPageTitle()"></h1> <ff-panel ng-if="vm.hideAll"> <span translate="DASHBOARD.ADMIN.NO_PERMISSION"></span> </ff-panel> <div class="ff-grid gutter-v gutter-h" ng-if="!vm.hideAll"> <div flex="{lg: \'0 0 50%\'}"> <div class="gutter-v"> <dash-admin-reservations id="dashAdminReservationsToday" reservations="vm.centerStats.reservationsToday" label="DASHBOARD.ADMIN.RESERVATIONS.TODAY.HEADER" settings="vm.settings"></dash-admin-reservations> <dash-admin-reservations id="dashAdminReservationsTomorrow" reservations="vm.centerStats.reservationsTomorrow" label="DASHBOARD.ADMIN.RESERVATIONS.TOMORROW.HEADER" settings="vm.settings"></dash-admin-reservations> <dash-admin-users-checked-in id="dashAdminUsersCheckedIn" nats="vm.nats"></dash-admin-users-checked-in> </div> </div> <div flex="{lg: \'0 0 50%\'}"> <div class="gutter-v"> <dash-admin-access-code id="dashAdminAccessCode" ng-if="vm.settings.enableAccessCodes" stats="vm.centerStats" class="animate-collapse"></dash-admin-access-code> <dash-admin-billing id="dashAdminBilling" stats="vm.centerStats" settings="vm.settings"></dash-admin-billing> <dash-admin-self-registrations id="dashAdminSelfRegistrations" users="vm.centerStats.selfRegistrations"></dash-admin-self-registrations> </div> </div> <dash-admin-reservation-conflicts id="dashAdminReservationsConflicts" ng-if="vm.centerStats.reservationsConflicts.length" reservations="vm.centerStats.reservationsConflicts" class="animate-collapse"> </dash-admin-reservation-conflicts> </div> </div> <div id="dashboardUser" class="dashboard" ng-if="vm.user"> <h1 class="page-title" translate="DASHBOARD.ADMIN.USER_DASHBOARD_TITLE" style="margin-top:2rem;margin-bottom:2rem" translate-values="{ userName: [vm.user.firstName, vm.user.lastName].join(\' \') }"></h1> <ff-panel ng-if="vm.hideAll"> <span translate="DASHBOARD.USER.NO_PERMISSION"></span> </ff-panel> <div class="ff-grid gutter-v gutter-h" ng-if="!vm.hideAll"> <div flex="{lg: \'0 0 50%\'}"> <dash-upcoming-reservations id="dashUpcomingReservations" settings="vm.settings"></dash-upcoming-reservations> </div> <div flex="{lg: \'0 0 50%\'}"> <dash-general id="dashGeneral" settings="vm.settings"></dash-general> </div> <dash-recurring-charges id="dashRecurringCharges" ng-if="vm.user.role !== \'nonMember\'"></dash-recurring-charges> <dash-outstanding-charges id="dashOutstandingCharges"></dash-outstanding-charges> <div flex="{md: \'0 0 50%\'}" ng-if="vm.user.role !== \'nonMember\'"> <dash-members-checked-in id="dashMembersCheckedIn" nats="vm.nats"></dash-members-checked-in> </div> <div flex="{md: \'0 0 50%\'}" ng-if="vm.user.role !== \'nonMember\'"> <dash-message-board id="dashMessageBoard" nats="vm.nats"></dash-message-board> </div> </div> </div> '},qqp4:function(e,t,s){s("zzoj");var n=s("/ZBe").Object,r=e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)};n.getOwnPropertyDescriptor.sham&&(r.sham=!0)},r3yX:function(e,t){e.exports='<div id="accessCodeOfTheDay"> <ff-spin class="ff-spin-placeholder" ng-if="$ctrl.fetching && !$ctrl.accessCode"></ff-spin> <span ng-bind-html="$ctrl.tpl.body"></span> </div> <ff-btn-group class="buttons-bottom" style="margin-top:100vh"> <ff-btn sense="back" ff-click="$ctrl.toDashboard()"> <span translate="SIDEBAR.DASHBOARD"></span> </ff-btn> </ff-btn-group> '},sjTq:function(e,t,s){"use strict";s.r(t);var n=s("NOor"),r=s.n(n),a=s("0zKI"),i=s.n(a);s("cPZt");t.default=angular.module("deskworks.dashboard.dashAdminUsersCheckedIn",["deskworks.userRoles","deskworks.CheckedInUsers"]).directive("dashAdminUsersCheckedIn",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-admin/dash-admin-users-checked-in.tpl.html",controller:"DashAdminUsersCheckedInCtrl as $ctrl",bindToController:{nats:"<"},link:function(t,s,n,r,a){var i=this;a((function(){return e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashAdminUsersCheckedInCtrl",["$scope","$timeout","dwAlerts","state","helper","userRoles","CheckedInUsers",function(e,t,s,n,a,c,l){var o=this;e.helper=a,e.userRoles=c;var f=[];function d(e){var t;if(o.users){var s=r()(a).call(a,o.users,e.id);return e.devices<=0&&s>=0?i()(t=o.users).call(t,s,1):e.devices>0&&s>=0?angular.extend(o.users[s],e):e.devices>0&&s<0?o.users.push(e):void 0}}o.$onInit=function(){l.query(n.getCurrentCenterId()).catch((function(e){return s.error(e,"Failed to query checked-in users.")})).then((function(s){o.users=s,f.push(o.nats.subscribe("API.:siteId.centers.:centerId.checked-in-users.*",d)),t((function(){return e.$broadcast("dwWidget:SpinStop")}))}))},o.$onDestroy=function(){f.forEach((function(e){return o.nats.unsubscribe(e)}))},o.toUserProfile=function(e){return n.setCurrentUserId(e.id),n.setPath("/profile")}}])},u32j:function(e,t){e.exports='<ff-panel> <ff-panel-header> <ff-icon sense="reservation"></ff-icon> <span translate="DASHBOARD.USER.UPCOMING_RESERVATIONS.HEADER"></span> </ff-panel-header> <div ff-dim="!$ctrl.reservations"> <ff-header class="animate-collapse" ng-if="$ctrl.reservations.length"> <ff-row class="ff-small"> <span flex="0 1 120px" class="ff-right" translate="DASHBOARD.USER.UPCOMING_RESERVATIONS.DATE"></span> <span flex="0 1 160px" class="ff-center" translate="DASHBOARD.USER.UPCOMING_RESERVATIONS.TIME"></span> <span flex="1 1 230px" translate="DASHBOARD.USER.UPCOMING_RESERVATIONS.SPACE"></span> <span flex="0 1 100px" class="ff-center" translate="DASHBOARD.USER.UPCOMING_RESERVATIONS.ACCESS_CODE" ng-if="$ctrl.settings.enableAccessCodes"></span> </ff-row> </ff-header> <ff-row ng-repeat="reservation in $ctrl.reservations" class="animate-collapse"> <ff-static flex="0 1 120px" class="ff-right" ff-bind="reservation.from | date:\'mediumDate\'"></ff-static> <ff-static flex="0 1 160px" class="ff-center"> <span><span nice-time="reservation.from"></span> - <span nice-time="reservation.to"></span></span> </ff-static> <ff-static flex="1 1 230px" ff-bind="reservation.reservationUnitName"></ff-static> <ff-static flex="0 1 100px" class="ff-center" ff-bind="reservation.accessCode" ng-if="$ctrl.settings.enableAccessCodes"></ff-static> </ff-row> <div ng-if="$ctrl.reservations && !$ctrl.reservations.length" class="animate-collapse ff-no-frame"> <span translate="GLOBAL.NONE"></span> </div> </div> </ff-panel> '},vqcV:function(e,t){e.exports='<ff-panel ng-if="$ctrl.stats.incomeThisMonth !== undefined || $ctrl.stats.totalAccountsReceivable !== undefined || $ctrl.stats.currentAccountsReceivable !== undefined || $ctrl.stats.creditCardsToExpire.length" class="animate-collapse"> <ff-panel-header> <ff-icon sense="billing"></ff-icon> <span translate="DASHBOARD.ADMIN.BILLING_INFO.HEADER"></span> </ff-panel-header> <div class="gutter-v-half"> <div> <ff-row class="ff-clickable" ng-click="$ctrl.toIncomeReport()" ff-dim ng-if="$ctrl.stats.incomeThisMonth !== undefined" title="{{\'DASHBOARD.ADMIN.BILLING_INFO.INCOME.NAV_TITLE\' | translate}}"> <ff-static> <span class="em"> <span translate="DASHBOARD.ADMIN.BILLING_INFO.INCOME"></span>: {{$ctrl.stats.incomeThisMonth | ncurrency}} </span> </ff-static> </ff-row> <ff-row class="ff-clickable" ng-click="$ctrl.toAccountsReceivableReport()" ff-dim ng-if="$ctrl.stats.currentAccountsReceivable !== undefined" title="{{\'DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.NAV_TITLE\' | translate}}"> <ff-static> <span class="em"> <span translate="DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.CURRENT"></span>: {{$ctrl.stats.currentAccountsReceivable | ncurrency}} </span> </ff-static> </ff-row> <ff-row class="ff-clickable" ng-click="$ctrl.toAccountsReceivableReport()" ff-dim ng-if="$ctrl.stats.totalAccountsReceivable !== undefined" title="{{\'DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.NAV_TITLE\' | translate}}"> <ff-static> <span class="em"> <span translate="DASHBOARD.ADMIN.BILLING_INFO.ACCOUNTS_RECEIVABLE.TOTAL"></span>: {{$ctrl.stats.totalAccountsReceivable | ncurrency}} </span> </ff-static> </ff-row> </div> <div ng-if="$ctrl.stats.creditCardsToExpire.length > 0"> <ff-header><span translate="DASHBOARD.ADMIN.BILLING_INFO.CC_EXPIRE"></span></ff-header> <ff-row ng-repeat="cc in ::$ctrl.stats.creditCardsToExpire" class="ff-clickable" ng-click="$ctrl.toBillingProfile(cc)" ff-dim title="{{\'DASHBOARD.ADMIN.BILLING_INFO.CC_EXPIRE.NAV_TITLE\' | translate}}"> <ff-static flex="0 1 180px" class="ff-center" ff-style="{ \'padding-left\': \'15px\' }"> <ff-hint hint-type="danger" style="position:absolute;left:5px;top:50%;transform:translateY(-50%)" ng-if="cc.defaultPaymentMethod" ng-click="$event.stopPropagation()" title=""> <span translate="DASHBOARD.ADMIN.BILLING_INFO.CC_EXPIRE.DEFAULT_PAYMENT_METHOD"></span> </ff-hint> {{::cc.number}} </ff-static> <ff-static flex="1 1 410px" ff-bind="::helper.join([cc.userCompany, cc.userName], \', \')"></ff-static> </ff-row> </div> </div> </ff-panel> '},"w+ol":function(e,t,s){},xcnm:function(e,t){e.exports='<ff-panel class="dash-widget-members-checked-in ff-no-frame"> <ff-panel-header> <ff-icon sense="user"></ff-icon> <span translate="DASHBOARD.ADMIN.USERS_CHECKED_IN.HEADER"></span> </ff-panel-header> <div ff-dim="!$ctrl.users"> <div class="ff-grid"> <ff-row class="ff-clickable animate-collapse" ff-dim flex="{sm: \'0 0 50%\'}" ng-repeat="user in $ctrl.users" ng-click="$ctrl.view(user)"> <ff-static class="dash-avatar"> <ff-img ff-src="{{::user.photo}}" ng-if="::user.photo" ff-alt="{{::user.name}}"></ff-img> <i class="fa fa-user" ng-if="::!user.photo"></i> </ff-static> <ff-static> <div> <div><strong>{{::user.name}}</strong></div> <small>{{::user.company}}</small> </div> </ff-static> </ff-row> </div> <div ng-if="$ctrl.users && !$ctrl.users.length" class="animate-collapse ff-no-frame"> <span translate="DASHBOARD.ADMIN.USERS_CHECKED_IN.EMPTY"></span> </div> </div> </ff-panel> '},xttt:function(e,t){e.exports='<ff-panel> <ff-panel-header> <ff-icon sense="warning"></ff-icon> <span translate="DASHBOARD.ADMIN.RESERVATION_CONFLICTS.HEADER"></span> </ff-panel-header> <div> <div ng-if="!$ctrl.reservations.length" class="animate-collapse"> <span translate="DASHBOARD.ADMIN.RESERVATION_CONFLICTS.EMPTY"></span> </div> <div style="display:flex" ng-repeat-start="reservation in $ctrl.reservations" class="animate-collapse"> <ff-row flex="1 1 auto" class="ff-clickable" ng-click="$ctrl.navigate(reservation)" ff-dim title="{{\'DASHBOARD.ADMIN.RESERVATION_CONFLICTS.NAV_TITLE\' | translate}}"> <ff-static flex="0 1 260px" class="ff-center"> <span> <span ng-bind="::reservation.startTime | date:\'mediumDate\'"></span>&nbsp;&nbsp; <span nice-time="::reservation.startTime"></span> - <span nice-time="::reservation.endTime"></span> </span> </ff-static> <ff-static flex="0 1 200px" ff-bind="::reservation.reservationUnitName"></ff-static> <ff-static flex="1 1 400px" ff-bind="::reservation.errorMessage"></ff-static> </ff-row> <ff-btn-group style="align-self:center;margin-top:-2px"> <ff-btn sense="reset" size="xs" flex="0 0 auto" ff-click="$ctrl.reset(reservation)" title="{{\'DASHBOARD.ADMIN.RESERVATION_CONFLICTS.RESET_BTN_TITLE\' | translate}}">Reset</ff-btn> </ff-btn-group> </div> <ff-row ng-repeat-end ng-if="::reservation.reservationNote" class="animate-collapse"> <ff-label> <span> <ff-icon sense="info" class="ff-flex-start"></ff-icon> {{::reservation.reservationNote}} </span> </ff-label> </ff-row> </div> </ff-panel> '},yKah:function(e,t,s){e.exports=s("iDDw")},zKnN:function(e,t,s){"use strict";s.r(t);var n=s("+l1P");t.default=angular.module("deskworks.dashboard.upcomingReservations",["deskworks.reservationService",n.a.name]).directive("dashUpcomingReservations",["helper",function(e){return{restrict:"EAC",scope:!0,transclude:"element",templateUrl:"widgets-user/dash-upcoming-reservations.tpl.html",controller:"DashUpcomingReservationsCtrl as $ctrl",bindToController:{settings:"<"},link:function(t,s,n,r,a){var i=this;a((function(){e.transcludeElement(t,s,n,i.templateUrl,i.bindToController)}))}}}]).controller("DashUpcomingReservationsCtrl",["$scope","dwAlerts","state","helper","reservationService",function(e,t,s,n,r){var a=this;a.$onInit=function(){var e={centerId:s.getCurrentCenterId(),userId:s.getCurrentUserId(),from:moment()};r.query(e).catch((function(e){return t.error(e,"Failed to query reservations.")})).then((function(e){return a.reservations=e}))}}])},zzoj:function(e,t,s){var n=s("iddO"),r=s("wkvk"),a=s("Btbx"),i=s("3tq3").f,c=s("loUa"),l=r((function(){i(1)}));n({target:"Object",stat:!0,forced:!c||l,sham:!c},{getOwnPropertyDescriptor:function(e,t){return i(a(e),t)}})}}]);