(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+Ie/":function(e,t,r){"use strict";var n=r("y1jH"),a=r.n(n);t.a=angular.module("deskworks.dwCreditCard",["flexForms","deskworks.helper","deskworks.userProfile.optsCCExpiryMonth","deskworks.userProfile.optsCCExpiryYear"]).directive("dwCreditCard",(function(){return{template:a.a,restrict:"A",scope:!0,controller:"dwCreditCardCtrl as $ctrl",bindToController:{cc:"<dwCreditCard",ccTypes:"<dwCreditCardTypes"}}})).controller("dwCreditCardCtrl",["$scope","optsCCExpiryMonth","optsCCExpiryYear",function(e,t,r){var n=this;n.optsCCExpiryMonth=t,n.optsCCExpiryYear=r,e.$watch("$ctrl.ccType",(function(){n.cc.type=n.ccType||n.cc.type}))}])},"+l1P":function(e,t,r){"use strict";t.a=angular.module("niceTimeDirective",[]).directive("niceTime",["$compile","$locale",function(e,t){return{restrict:"A",compile:function(r,n){return function(r,a,l){var s;s=24===t.timeFormat?'<span ng-bind="'+n.niceTime+" | date: 'HH:mm'\"></span>":'<span ng-bind="'+n.niceTime+" | date: 'hh:mm'\"></span><sup ng-bind=\""+n.niceTime+" | date: 'a'\"></sup>",a.empty().append(e(s)(r))}}}}])},"/csh":function(e,t,r){},"1qkW":function(e,t,r){},"2/1H":function(e,t,r){"use strict";var n=r("6RpP"),a=r.n(n);t.a=angular.module("deskworks.ReservationUnit",["ngResource","ngFileUpload","deskworks.config"]).factory("ReservationUnit",["$resource","$q","Upload","deskworksConfig",function(e,t,r,n){var l=e(n.getApiAbsUrl("/centers/:centerId/reservation-units/:id"),{},{update:{method:"PUT"}});return{query:function(e){return l.query({centerId:e}).$promise},get:function(e,r){return"new"===r?t.when({id:"new",expectedUsePerMonth:240}):l.get({centerId:e,id:r}).$promise},save:function(e,t){return t.id&&"new"!==t.id?l.update({centerId:e,id:t.id},t).$promise:l.save({centerId:e},t).$promise.then((function(e){return t.id=e.id,e}))},delete:function(e,t){return l.delete({centerId:e,id:t}).$promise},uploadPhoto:function(e,t,l){var s;return r.upload({url:n.getApiAbsUrl(a()(s="/centers/".concat(e,"/reservation-units/")).call(s,t)),method:"PUT",withCredentials:!0,data:{photo:l}})}}}])},"2PBz":function(e,t,r){"use strict";var n=r("WSeP"),a=r.n(n),l=(r("/csh"),r("Ijon")),s=r.n(l),i=r("T/jV"),f=r.n(i),o=angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,r,n){e.closeable=!!t.close;var a=angular.isDefined(t.dismissOnTimeout)?r(t.dismissOnTimeout)(e.$parent):null;a&&n((function(){e.close()}),f()(a,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",template:'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert"><button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})"><span aria-hidden="true">&times;</span></button><div ng-transclude></div></div>',transclude:!0,replace:!0,scope:{type:"@",close:"&"}}})),c=r("0zKI"),d=r.n(c),u=r("xeXu"),p=r.n(u),m=r("7pN8"),h=r.n(m),g=angular.module("deskworks.dwAlerts.service",[]).factory("dwAlerts",["$rootScope","$timeout","$q",function(e,t,r){var n={$alerts:[],error:function(e,t){t||(t=e,e=null),e&&e.data&&(e.data.error||e.data.message)&&(t=e.data.error||e.data.message);var n={id:h()(),type:"danger",message:t||"Sorry, error occurred. Please try again a bit later.",timeout:1e4};return this.showAlert(n),r.reject(e||t)},info:function(e){var t={id:h()(),type:"info",message:e,timeout:6e3};this.showAlert(t)},close:function(e){var t,r,n=p()(t=this.$alerts).call(t,e);n>=0&&d()(r=this.$alerts).call(r,n,1)},showAlert:function(e){var r=this;r.$alerts.unshift(e),e.timeout&&t((function(){r.close(e)}),e.timeout)}};return e.showError=function(e,t){return n.error(e,t)},e.closeError=function(e){var t;d()(t=n.$alerts).call(t,e,1)},e.closeAllErrors=function(){var e;d()(e=n.$alerts).call(e,0,n.$alerts.length)},n}]);t.a=angular.module("deskworks.dwAlerts",["ngAnimate",o.name,g.name]).component("dwAlerts",{template:s.a,controller:"dwAlertsController"}).controller("dwAlertsController",["$scope","$timeout","dwAlerts",function(e,t,r){var n=this;n.alerts=r.$alerts,n.close=function(e){r.close(e)},e.$watchCollection("$ctrl.alerts",(function(){var e;a()(e=n.alerts).call(e,(function(e){e.timeout&&!e.start&&t((function(){e.start=!0}))}))}))}])},"4dW8":function(e,t,r){"use strict";var n=r("nbuU"),a=r.n(n),l=r("WSeP"),s=r.n(l);t.a=angular.module("deskworks.dwSelectProfile",["ngRoute","deskworks.state","flexForms","deskworks.helper","deskworks.userProfile.service"]).directive("dwSelectProfile",["$route","state","helper","userProfileService","resolveTimezone",function(e,t,r,n,l){return{restrict:"AC",scope:!0,template:'<span>Current Profile</span><ff-select name="currentProfile" ff-model="currentProfile" ff-options="profile.name for profile in profiles" ff-change="selectProfile(currentProfile)"></ff-select>',compile:function(i,f){return i.css("display","none"),function(i,f,o){i.profiles=[],i.$watch((function(){return t.getLoggedUserId()}),(function(e){t.isLoggedAdmin()?f.css("display","none"):e?l().then((function(){return n.get(t.getCurrentCenterId(),t.getLoggedUserId())})).then((function(n){var l;i.profiles=[{id:n.id,name:n.firstName+" "+n.lastName}],s()(l=n.masterMembers).call(l,(function(r){r.id!==e&&(i.profiles.push({id:r.id,name:r.company||r.fullName}),t.setCurrentUserId(r.id))})),i.currentProfile=a()(r).call(r,i.profiles,t.getCurrentUserId())||i.profiles[0],i.profiles.length>1&&f.css("display","")})):(i.profiles=[],i.currentProfile=null,f.css("display","none"))})),i.$watch((function(){return t.getCurrentUserId()}),(function(e){i.currentProfile=a()(r).call(r,i.profiles,e)||i.profiles[0]})),i.selectProfile=function(r){t.setCurrentUserId(r.id===t.getLoggedUserId()?null:r.id),e.current&&e.current.$$route&&!e.current.$$route.reloadOnSearch&&e.reload()}}}}}])},"5Lq6":function(e,t,r){"use strict";var n=r("pZrh"),a=r.n(n);t.a=angular.module("deskworks.dwECheck",["flexForms","deskworks.helper","deskworks.userProfile.optsBankAccountHolderType","deskworks.userProfile.optsBankAccountType"]).directive("dwECheck",["$compile","$timeout","helper","optsBankAccountHolderType","optsBankAccountType",function(e,t,r,n,l){return{template:a.a,restrict:"A",scope:!0,controllerAs:"dwEC",controller:["$scope","$element","$attrs",function(e,t,r){this.optsBankAccountHolderType=n,this.optsBankAccountType=l,this.check=e.$eval(r.dwECheck)}]}}])},"9HME":function(e,t,r){"use strict";var n=r("hsT8"),a=r.n(n),l=r("nbuU"),s=r.n(l);t.a=angular.module("deskworks.dwSelectCenter",["deskworks.state","flexForms","deskworks.helper","deskworks.center.service","deskworks.Admin"]).directive("dwSelectCenter",["$q","$rootScope","$timeout","$compile","dwAlerts","ffHelper","state","helper","centerService","Admin",function(e,t,r,n,l,i,f,o,c,d){return{restrict:"E",scope:!0,controller:function(){},controllerAs:"dwSelectCenter",compile:function(r,n){var i=angular.element('<ff-select name="center" flex="auto"></ff-select>'),u=angular.element('<option ng-repeat="center in dwSelectCenter.centers" ng-value="center.id" label="{{center.name}}">{{center.name}}</option>');return u.attr("ng-style","center.color ? { color: center.color } : {}"),i.attr("ff-style","dwSelectCenter.curCenter.color ? {color: dwSelectCenter.curCenter.color} : {}"),i.attr("ff-model",n.ffModel||"dwSelectCenter.curCenterId"),i.attr("ff-change","dwSelectCenter.onCenterChange()"),i.append(u),r.append(i),function(r,i,u,p){function m(){var t={centers:c.getCenters().catch((function(e){return l.error(e,"dwSelectCenter: failed to query centers.")}))};return f.isLoggedAdmin()&&(t.admin=d.get(f.getLoggedUserId()).catch((function(e){return l.error(e,"dwSelectCenter: failed to get admin.")}))),e.all(t).then((function(e){var t;if(p.centers=a()(t=e.centers).call(t,(function(t){return!e.admin||!!(s()(o).call(o,e.admin.centers,t.id)||{}).permission})),u.ffOptionAll&&"false"!==u.ffOptionAll&&p.centers.length>1&&p.centers.unshift({id:0,name:"All Centers"}),n.ffModel){var l=r.$eval(n.ffModel);angular.isUndefined(l)?(p.curCenterId=p.centers[0].id,r.$eval(n.ffModel+" = dwSelectCenter.curCenterId")):p.curCenterId=l}else p.curCenterId=f.getCurrentCenterId()||p.centers[0]&&p.centers[0].id;p.curCenter=s()(o).call(o,p.centers,p.curCenterId)}))}n.ffModel||r.$watch((function(){return f.getCurrentCenterId()}),(function(e){p.curCenterId=e,p.curCenter=s()(o).call(o,p.centers,p.curCenterId)})),p.onCenterChange=function(){p.curCenter=s()(o).call(o,p.centers,p.curCenterId),n.ffModel?p.curCenter=s()(o).call(o,p.centers,r.$eval(n.ffModel)):(p.curCenter=s()(o).call(o,p.centers,p.curCenterId),f.setCurrentCenterId(p.curCenterId))},t.$on("CENTERS:REFRESH",(function(){m()})),m()}}}}])},Bz93:function(e,t){e.exports='<label class=ff-row ff-dim=!$ctrl.settings> <ff-label flex="0 1 132px"> <span translate=USER_PROFILE.MESSAGE_BOARD_NOTICES></span> </ff-label> <ff-select flex="1 1 1%" name=messageBoardNotices ff-model=$ctrl.settings.notification ff-options="opt.id as opt.name for opt in $ctrl.optsMessageBoardNotices"></ff-select> </label> '},DVTZ:function(e,t,r){"use strict";t.a=angular.module("dwEmailDirective",[]).directive("dwEmail",["$compile",function(e){return{restrict:"AC",priority:30,terminal:!0,compile:function(t,r){var n=this;return r.$set("maxlength",r.maxlength||256),r.$set("ffPattern",r.ffPattern||/^[\w\.%\+\-]+@(?:[A-Z0-9\-]+\.)+(?:[A-Z]+)$/i),r.$set("ffValidateAlert",r.ffValidateAlert||"{field: 'Email', pattern: 'Email should be valid'}"),r.$set("placeholder",r.placeholder||"example@mail.com"),function(t,r,a){e(r,null,n.priority)(t)}}}}])},GJsN:function(e,t,r){"use strict";var n=r("DVTZ"),a=r("Oio6"),l=angular.module("deskworks.formDesign.fdFieldTemplates",[n.a.name,a.a.name]).factory("fdFieldTemplates",(function(){var e='ff-attr-id="fd-{{field.id}}" name="fd-{{field.id}}" ff-model="field.value"',t='<label class="ff-row"><ff-label flex="0 1 160px">{{field.name}}</ff-label>',r="</label>";return{text:t+"<ff-text "+e+' ff-validate-alert="{{field.name}}"></ff-text>'+r,textarea:t+"<ff-textarea "+e+"></ff-textarea>"+r,date:t+"<ff-date "+e+' ff-validate-alert="{{field.name}}"></ff-date>'+r,url:t+"<ff-url "+e+' ff-validate-alert="{{field.name}}"></ff-url>'+r,email:t+"<ff-text "+e+" dw-email></ff-text>"+r,phone:t+"<ff-text "+e+" dw-phone></ff-text>"+r,number:t+"<ff-number "+e+' ff-validate-alert="{{field.name}}"></ff-number>'+r}}));t.a=angular.module("deskworks.formDesign.fdField",[l.name]).directive("fdField",["$compile","fdFieldTemplates",function(e,t){return{scope:!0,require:"^^?form",link:function(r,n,a,l){r.field=r.$eval(a.field);var s=angular.element(t[r.field.type]);n.append(s),e(s)(r)}}}])},GLV5:function(e,t,r){"use strict";r("1qkW");var n=r("px9Z"),a=r.n(n);t.a=angular.module("deskworks.dwCheckInWidget",["flexForms","deskworks.helper","deskworks.checkInLog.service","resolveTimezone"]).directive("dwCheckInWidget",(function(){return{template:a.a,restrict:"E",scope:!0,controller:"dwCheckInWidgetCtrl as $ctrl",compile:function(e,t){return e.addClass("sidebar-item").css("display","none"),function(e,t,r,n){}}}})).controller("dwCheckInWidgetCtrl",["$scope","$element","$interval","state","dwAlerts","checkInLogService","resolveTimezone",function(e,t,r,n,a,l,s){var i=this;i.checkInOut=function(e){return r.cancel(i.updateTimer),l.checkInOut(n.getCurrentCenterId(),n.getCurrentUserId(),e).then((function(){i.log.checkInTime="checkIn"===e?moment():void 0,r.cancel(i.updateTimer),i.updateTimer=r(i.updateMemberLog,6e3),ga("send","event","merged",e)})).catch((function(t){return a.error(t,"Failed to "+e)}))},i.updateMemberLog=function(){if(r.cancel(i.updateTimer),(!n.isLoggedAdmin()||n.isUserSelected())&&n.getCurrentCenterId())return s().then((function(){return l.getLog(n.getCurrentCenterId(),n.getCurrentUserId(),0,0)})).then((function(e){t.css("display",e.allowCheckIn?null:"none"),i.log=e,e.allowCheckIn&&(r.cancel(i.updateTimer),i.updateTimer=r(i.updateMemberLog,6e4))})).catch((function(e){return a.error(e,"Failed to update check-in widget")}));t.css("display","none")},e.$watchGroup([n.getCurrentUserId,n.getCurrentCenterId],i.updateMemberLog)}])},Ijon:function(e,t){e.exports="<uib-alert ng-repeat=\"alert in $ctrl.alerts\" type={{alert.type}} class=dw-alert close=$ctrl.close(alert)> <span ng-bind-html=alert.message></span> <span class=dw-alert-progress ng-if=alert.timeout ng-class=\"{ start: alert.start }\" ng-style=\"{ transition: 'all ' + alert.timeout / 1000 + 's linear', '-webkit-transition': 'all ' + alert.timeout / 1000 + 's linear' }\"></span> </uib-alert> "},JxTE:function(e,t){e.exports="<div class=forbid-staff> <h4 class=page-title translate=GLOBAL.FORBID_STAFF.HEADER></h4> <ff-panel class=ff-center> <span translate=GLOBAL.FORBID_STAFF.TEXT></span> </ff-panel> <ff-btn-group class=buttons-bottom> <ff-btn sense=signOut ff-click=$forbidStaff.signOut()><span translate=GLOBAL.BTN_SIGN_OUT></span></ff-btn> <ff-btn sense=home ff-click=$forbidStaff.home()><span translate=GLOBAL.BTN_HOME></span></ff-btn> </ff-btn-group> </div> "},KB0Y:function(e,t){e.exports='<label class=ff-row ng-if=dwAddress.hasType> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.TYPE></span> </ff-label> <ff-select name=type ff-model=dwAddress.address.type ff-options="type.name for type in dwAddress.types" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.TYPE\' | translate}}"></ff-select> </label> <label class=ff-row ng-if=!dwAddress.secondStreet> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.STREET></span> </ff-label> <ff-text name=street ff-model=dwAddress.address.street placeholder="6265 Highway 9" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.STREET\' | translate}}"></ff-text> </label> <label class=ff-row ng-if=dwAddress.secondStreet> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.STREET></span>&nbsp;1 </ff-label> <ff-text name=street1 ff-model=dwAddress.address.street1 placeholder="6265 Highway 9" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.STREET\' | translate}} 1"> </ff-text> </label> <label class=ff-row ng-if=dwAddress.secondStreet> <ff-label flex="0 1 116px"><span translate=GLOBAL.ADDRESS.STREET></span>&nbsp;2</ff-label> <ff-text name=street2 ff-model=dwAddress.address.street2></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.CITY></span> </ff-label> <ff-text name=city ff-model=dwAddress.address.city placeholder=Felton ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.CITY\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.COUNTRY></span> </ff-label> <ff-select name=country ff-model=dwAddress.address.country ff-options="country.name for country in dwAddress.countries" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.COUNTRY\' | translate}}" ff-change=dwAddress.onChangeCountry()></ff-select> </label> <label class=ff-row> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.STATE></span> </ff-label> <ff-select name=state ff-model=dwAddress.address.state ng-if=dwAddress.states[dwAddress.address.country.id] ff-options="state.name for state in dwAddress.states[dwAddress.address.country.id]" ff-required=!dwAddress.notRequired ff-validate-alert=State/Province></ff-select> <ff-text name=state ff-model=dwAddress.address.state ng-if=!dwAddress.states[dwAddress.address.country.id] ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.STATE\' | translate}}" placeholder=Ontario></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 116px" ff-required={{!dwAddress.notRequired}}> <span translate=GLOBAL.ADDRESS.ZIP></span> </ff-label> <ff-text name=zip ff-model=dwAddress.address.zip placeholder=95018 ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.ZIP\' | translate}}"></ff-text> </label> '},Njxs:function(e,t,r){"use strict";var n=r("YtL8"),a=r.n(n),l=r("hsT8"),s=r.n(l),i=r("uQX1"),f=r.n(i),o=r("WSeP"),c=r.n(o),d=r("nbuU"),u=r.n(d),p=(r("ygJC"),r("oplH")),m=r.n(p),h=r("acNQ");t.a=angular.module("deskworks.membershipFilter",["flexForms","deskworks.state","deskworks.helper",h.a.name]).directive("membershipFilter",(function(){return{template:m.a,restrict:"E",scope:!0,controller:"MembershipFilterCtrl as $ctrl",bindToController:{ffModel:"=?",filterData:"=?",layout:"@?"}}})).controller("MembershipFilterCtrl",["$scope","$element","$attrs","state","helper","optsMembershipFilter",function(e,t,r,n,l,i){var o=this;function d(){var e,t;o.ffModel=a()(e=s()(t=o.filterData).call(t,(function(e){return"all"!==e.id}))).call(e,(function(e,t){return t.value&&(e[t.id]=t.value),e}),{})}o.$onInit=function(){o.filterData=o.filterData||angular.copy(i),d()},o.onChange=function(e){if("all"===e.id){var t,r=u()(l).call(l,o.filterData,"all").value;c()(t=o.filterData).call(t,(function(e){"all"!==e.id&&(e.value=r)})),r||(u()(l).call(l,o.filterData,"activeMembers").value=!0)}else{var n,a;u()(l).call(l,o.filterData,"all").value=f()(n=s()(a=o.filterData).call(a,(function(e){return"all"!==e.id}))).call(n,(function(e){return e.value}))}d()}}])},Oio6:function(e,t,r){"use strict";t.a=angular.module("dwPhoneDirective",[]).directive("dwPhone",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(r,n){var a=this;n.$set("maxlength",n.maxlength||64),n.$set("ffPattern",n.ffPattern||/^(?:\+\d[-. ]?)?(?:\(?\d\)?[-. ]?){5,13}\d$/),n.$set("placeholder",n.placeholder||"888-379-2865");var l=t.instant("USER_PROFILE.PHONES.NUMBER"),s=t.instant("GLOBAL.VALIDATION.PHONE");return n.$set("ffValidateAlert",n.ffValidateAlert||"{ field: '"+l+"', pattern: '"+s+"' }"),function(t,r,n){e(r,null,a.priority)(t)}}}}])},P6hd:function(e,t,r){"use strict";var n=r("+E9Z"),a=r.n(n);r("pMUn");t.a=angular.module("scrollPointerEventsNone",[]).directive("scrollPointerEventsNone",(function(){return{restrict:"AC",link:function(e,t){var r;function n(){clearTimeout(r),t.addClass("pointer-events-none"),r=a()((function(){return t.removeClass("pointer-events-none")}),100)}t.on("scroll",n),e.$on("$destroy",(function(){return t.off("scroll",n)}))}}}))},SGGL:function(e,t,r){"use strict";t.a=angular.module("dwLastNameDirective",[]).directive("dwLastName",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(r,n){var a=this;n.$set("maxlength",n.maxlength||256),n.$set("ffPattern",n.ffPattern||/^[^\\<>\/&]*$/),n.$set("placeholder",n.placeholder||"Doe");var l=t.instant("USER_PROFILE.PERSONAL_INFO.LAST_NAME"),s=t.instant("USER_PROFILE.PERSONAL_INFO.LAST_NAME_INVALID_CHARS");return n.$set("ffValidateAlert",n.ffValidateAlert||"{ field: '"+l+"', pattern: '"+s+"' }"),function(t,r,n){e(r,null,a.priority)(t)}}}}])},Tjft:function(e,t,r){"use strict";r("8cZI"),r("aZFp");var n=r("hsT8"),a=r.n(n),l=r("KK/u"),s=r.n(l),i=r("xeXu"),f=r.n(i),o=r("WSeP"),c=r.n(o);t.a=angular.module("dwSearchUserDirective",[]).directive("dwSearchUser",["$compile","$q","$filter","ffHelper","state","userProfileService","dwAlerts",function(e,t,r,n,l,i,o){return{restrict:"A",priority:30,terminal:!0,template:'<ff-search-options><div><h6><span ng-bind-html="$search.highlighted.fullName"></span>{{$search.highlighted.company ? \',\' : \'\'}} <span ng-bind-html="$search.highlighted.company"></span> &lt;<span ng-bind-html="$search.highlighted.email"></span>&gt;</h6><small><span ng-repeat="match in $search.matches" class="match">{{match.name}}: <span ng-bind-html="(match.value || \'-\') + ($last ? \'\' : \', \')"></span></span></small></div></ff-search-options><ff-search-match ng-if="dwSearchUser.options !== \'activeNameOnly\'"><h6><span ng-bind="ffSearch.ngModel.$modelValue.fullName"></span>{{ffSearch.ngModel.$modelValue.company ? \',\' : \'\'}} <span ng-bind="ffSearch.ngModel.$modelValue.company"></span> &lt;<span ng-bind="ffSearch.ngModel.$modelValue.email"></span>&gt;</h6></ff-search-match><ff-search-match ng-if="dwSearchUser.options === \'activeNameOnly\'"><h6><span ng-bind="ffSearch.ngModel.$modelValue.fullName"></span></h6></ff-search-match>',controllerAs:"dwSearchUser",bindToController:{options:"@dwSearchUser"},controller:function(){this.filterUsers=function(e,t){var n;return e=e||[],c()(e).call(e,(function(e){for(var n in e.weight=0,e.matches=[{name:"login",value:r("highlight")(e.login,t)}],e.highlighted={fullName:r("highlight")(e.fullName,t),company:r("highlight")(e.company,t),email:r("highlight")(e.email,t)},e){var a;if(e.hasOwnProperty(n)&&angular.isString(e[n])&&0!==f()(n).call(n,"$$"))if(f()(a=e[n].toLowerCase()).call(a,t.toLowerCase())>=0&&(e.weight++,"fullName"!==n&&"company"!==n&&"email"!==n&&"login"!==n)){var l=n.split(/(?=[A-Z])/).join(" ").toLowerCase();e.matches.push({name:l,value:r("highlight")(e[n],t)})}}})),s()(n=a()(e).call(e,(function(e){return e.weight>0}))).call(n,(function(e,t){return e.weight<t.weight?1:e.weight>t.weight?-1:0}))},this.searchUser=function(e){return i.quickSearch(l.getCurrentCenterId(),e).catch((function(e){return o.error(e,"Failed to quick search users.")}))}},compile:function(t,r){var n=this;return r.$set("ffSearch","dwSearchUser.searchUser($search)"),r.$set("ffSearchFilter","dwSearchUser.filterUsers($results, $search)"),r.$set("placeholder","start typing to search users"),function(t,r,a){e(r,null,n.priority)(t)}}}}])},Vtxe:function(e,t,r){"use strict";var n=r("b2yS"),a=r.n(n);t.a=angular.module("deskworks.dwInvoice",["flexForms","deskworks.state","deskworks.helper"]).directive("dwInvoice",(function(){return{template:a.a,restrict:"E",scope:!0,controller:"dwInvoiceCtrl as dwInvoice",bindToController:{center:"=*?",invoice:"=*",allowRemove:"@",updateInvoice:"&"},compile:function(e,t){return e.addClass("dw-invoice"),function(){}}}})).controller("dwInvoiceCtrl",["$scope","$element","$attrs","dwAlerts","state","purchaseService",function(e,t,r,n,a,l){var s=this;s.removeItem=function(e){return l.deletePurchaseItem(a.getCurrentCenterId(),a.getCurrentUserId(),s.invoice.id,e.id).catch((function(e){return n.error(e,"Failed to remove purchase item.")})).then((function(e){return s.updateInvoice()}))}}])},XRrO:function(e,t,r){"use strict";t.a=angular.module("dwPasswordDirective",[]).directive("dwPassword",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(r,n){var a,l=this;n.$set("minlength",n.minlength||n.ffMinlength||8),n.$set("maxlength",n.maxlength||n.ffMaxlength||20),n.$set("ffPattern",n.ffPattern||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)\S{8,}$/),n.$set("placeholder","password");var s=t.instant("GLOBAL.PASSWORD.INVALID_CHARS");try{a=angular.fromJson(n.ffValidateAlert)}catch(e){a={}}return a=angular.extend({field:t.instant("GLOBAL.PASSWORD"),pattern:s,minlength:s},a),n.$set("ffValidateAlert",angular.toJson(a)),function(t,r,n){e(r,null,l.priority)(t)}}}}])},acNQ:function(e,t,r){"use strict";var n=r("WSeP"),a=r.n(n);t.a=angular.module("deskworks.optsMembershipFilter",[]).factory("optsMembershipFilter",["$rootScope","$translate",function(e,t){var r=[{id:"all",_name:"USER_SEARCH.FILTERS.ALL",value:!1,type:"all"},{id:"activeMembers",_name:"USER_SEARCH.FILTERS.ACTIVE_MEMBERS",value:!0,type:"role"},{id:"inactiveMembers",_name:"USER_SEARCH.FILTERS.INACTIVE_MEMBERS",value:!1,type:"role"},{id:"activeCoMembers",_name:"USER_SEARCH.FILTERS.ACTIVE_CO_MEMBERS",value:!1,type:"role"},{id:"inactiveCoMembers",_name:"USER_SEARCH.FILTERS.INACTIVE_CO_MEMBERS",value:!1,type:"role"},{id:"nonMembers",_name:"USER_SEARCH.FILTERS.NON_MEMBERS",value:!1,type:"role"}];function n(){a()(r).call(r,(function(e){e.name=t.instant(e._name)}))}return n(),e.$on("$setTranslationsSuccess",n),r}])},b2yS:function(e,t){e.exports='<ff-header> <ff-row> <cell flex="4 0 40px" class="invoice-date ff-center"><span translate=PURCHASE.INVOICE.DATE></span></cell> <cell flex="4 1 40px" class="invoice-date-created ff-center show-lg"><span translate=PURCHASE.INVOICE.DATE_CREATED></span></cell> <cell flex="4 1 40px" class="invoice-added-by ff-center show-lg"><span translate=PURCHASE.INVOICE.ADDED_BY></span></cell> <cell flex="4 0 70px" class=invoice-product><span translate=PURCHASE.INVOICE.PRODUCT></span></cell> <cell flex="10 1 100px" class="invoice-description show-md"><span translate=PURCHASE.INVOICE.DESCRIPTION></span></cell> <cell flex="0 0 46px" class="invoice-quantity ff-center show-sm"><span translate=PURCHASE.INVOICE.QUANTITY></span></cell> <cell flex="0 0 80px" class="invoice-price ff-right show-sm"><span translate=PURCHASE.INVOICE.PRICE></span></cell> <cell flex="0 0 80px" class="invoice-amount ff-right"><span translate=PURCHASE.INVOICE.AMOUNT></span></cell> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> </ff-header> <ff-row ng-repeat="item in dwInvoice.invoice.items"> <ff-static flex="4 0 40px" class="invoice-date ff-center" ff-bind="::item.billedAt | date:\'mediumDate\'"></ff-static> <ff-static flex="4 1 40px" class="invoice-date-created ff-center show-lg" ff-bind="::item.createdAt | date:\'mediumDate\'"></ff-static> <ff-static flex="4 1 40px" class="invoice-added-by ff-center show-lg" ff-bind=::item.addedBy></ff-static> <ff-static flex="4 0 70px" class=invoice-product ff-bind=::item.name></ff-static> <ff-static flex="10 1 100px" class="invoice-description show-md" ff-bind=::item.description></ff-static> <ff-static flex="0 0 46px" class="invoice-quantity ff-center show-sm" ff-bind="::item.quantity | round"></ff-static> <ff-static flex="0 0 80px" class="invoice-price ff-right show-sm" ff-bind="::item.price | ncurrency"></ff-static> <ff-static flex="0 0 80px" class="invoice-amount ff-right" ff-bind="::item.amount | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class=buttons-row> <ff-col> <ff-btn sense=remove size=xs title="{{\'GLOBAL.BTN_DELETE\' | translate}}" ng-if="dwInvoice.invoice.accessRights.items[$index].canDelete || !dwInvoice.invoice.accessRights.items[$index].canVoid" ng-class="{ \'zero-height\': !dwInvoice.invoice.accessRights.items[$index].canDelete }" ff-click=dwInvoice.removeItem(item)></ff-btn> <ff-btn sense=remove size=xs title="{{\'PURCHASE.INVOICE.BTN_VOID\' | translate}}" ng-if="dwInvoice.invoice.accessRights.items[$index].canVoid || !dwInvoice.invoice.accessRights.items[$index].canDelete" ng-class="{ \'zero-height\': !dwInvoice.invoice.accessRights.items[$index].canVoid }" ff-click=dwInvoice.removeItem(item)></ff-btn> </ff-col> </ff-btn-group> </ff-row> <ff-row class=invoice-charges> <ff-label><span translate=PURCHASE.INVOICE.CHARGES></span></ff-label> <ff-static flex="0 0 80px" class=ff-right ff-bind="dwInvoice.invoice.chargesTotal | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> <ff-row class=invoice-tax ng-repeat="tax in dwInvoice.invoice.taxes"> <ff-label>{{tax.taxName}}</ff-label> <ff-static flex="0 0 80px" class=ff-right ff-bind="tax.taxAmount | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> <ff-row class=invoice-payment> <ff-label><span translate=PURCHASE.INVOICE.PAYMENT></span></ff-label> <ff-static flex="0 0 80px" class=ff-right ff-bind="dwInvoice.invoice.paymentTotal | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> <ff-row class=invoice-balance> <ff-label><span translate=PURCHASE.INVOICE.BALANCE></span></ff-label> <ff-static flex="0 0 80px" class=ff-right ff-bind="dwInvoice.invoice.balance | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> '},bfRn:function(e,t,r){"use strict";var n=r("nbuU"),a=r.n(n),l=r("yCd9"),s=r.n(l),i=r("KB0Y"),f=r.n(i);t.a=angular.module("deskworks.dwAddress",["flexForms","deskworks.helper"]).directive("dwAddress",["$compile","$templateCache","$timeout","$translate","helper","optsAddressType","optsCountry","optsState",function(e,t,r,n,l,i,o,c){return{template:f.a,restrict:"A",scope:!0,controllerAs:"dwAddress",bindToController:{secondStreet:"<",notRequired:"<"},controller:["$scope","$element","$attrs",function(e,t,f){var d=this;d.types=s()(i).call(i,(function(e){return angular.extend(e,{name:n.instant(e.name)})})),d.countries=o,d.states=c,d.address=e.$eval(f.dwAddress),d.hasType=e.$eval(f.dwAddressType),d.onChangeCountry=function(){r((function(){"US"===d.address.country.id?d.address.state=a()(l).call(l,c.US,"CA"):angular.isObject(d.address.state)&&delete d.address.state}))}}]}}])},iAzO:function(e,t,r){"use strict";r("zyqg");t.a=angular.module("dwModal",["angularModalService"]).factory("dwModal",["ModalService",function(e){return{show:function(t){var r={bodyClass:"dw-modal-open",appendElement:angular.element(document.querySelector(".snap-content"))};return e.showModal(angular.extend({},r,t)).then((function(e){var t=e.element[0].querySelector(".dw-modal-cross");return t&&t.focus(),e}))}}}])},oSeY:function(e,t,r){"use strict";r("wg5g");t.a=angular.module("deskworks.dwSelectUser",["deskworks.state","flexForms","deskworks.helper"]).directive("dwSelectUser",["$route","state","helper",function(e,t,r){return{restrict:"E",scope:!0,compile:function(e,t){var r=angular.element('<ff-static snap-close ng-click="searchUser()" ng-class="{ ava: state.isUserSelected() && state.getCurrentUser().photo.indexOf(\'missing.png\') < 0 }"></ff-static>'),n=angular.element('<span class="placeholder" ng-hide="state.isUserSelected()" translate="SIDEBAR.CURRENT_USER.LABEL"></span>'),a=angular.element('<span class="company" ng-show="state.isUserSelected() && state.getCurrentUser().company" ng-bind="state.getCurrentUser().company"></span>'),l=angular.element('<span class="member" ng-show="state.isUserSelected()" ng-bind="state.getCurrentUser().firstName + \' \' + state.getCurrentUser().lastName"></span>'),s=angular.element('<img class="avatar" ng-src="{{state.getCurrentUser().photo}}" ng-if="state.isUserSelected() && state.getCurrentUser().photo.indexOf(\'missing.png\') < 0">');return r.append(n).append(a).append(l).append(s),e.append(r).append(s),this.link},link:function(n,a,l,s,i){n.state=t,n.helper=r,n.searchUser=function(){t.setParam("redirect",e.current&&e.current.scope&&e.current.scope.backPath?e.current.scope.backPath:t.getPath()),t.setPath("/user-search")}}}}])},oplH:function(e,t){e.exports='<label ng-if=$ctrl.layout class=ff-grid flex="1 0 180px" ng-repeat="filter in $ctrl.filterData" ng-class="\'mf-\' + filter.type"> <ff-label> <ff-checkbox name=role ff-model=filter.value ff-change=$ctrl.onChange(filter)>{{filter.name}}</ff-checkbox> </ff-label> </label> <label ng-if=!$ctrl.layout ng-repeat="filter in $ctrl.filterData" ng-class="\'mf-\' + filter.type"> <ff-checkbox name=role ff-model=filter.value ff-change=$ctrl.onChange(filter)>{{filter.name}}</ff-checkbox> </label> '},pMUn:function(e,t,r){},pZrh:function(e,t){e.exports='<label class=ff-row> <ff-label flex="0 0 132px"> <req translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE></req> </ff-label> <ff-select name=bankAccountHolderType ff-model=dwEC.check.bankAccountHolderType ff-options="type.name for type in dwEC.optsBankAccountHolderType" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <req translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE></req> </ff-label> <ff-select name=bankAccountType ff-model=dwEC.check.bankAccountType ff-options="type.name for type in dwEC.optsBankAccountType" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <req translate=BILLING_PROFILE.E_CHECKS.BANK_NAME></req> </ff-label> <ff-text name=bankName ff-model=dwEC.check.bankName placeholder="Bank of America" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.BANK_NAME\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <req translate=BILLING_PROFILE.E_CHECKS.ROUTING_NUMBER></req> </ff-label> <ff-text name=bankRoutingNumber ff-model=dwEC.check.bankRoutingNumber ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ROUTING_NUMBER\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <req translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_NUMBER></req> </ff-label> <ff-text name=bankAccountNumber ff-model=dwEC.check.bankAccountNumber ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_NUMBER\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <req translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_NAME></req> </ff-label> <ff-text name=fullName ff-model=dwEC.check.fullName placeholder="John Doe" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_NAME\' | translate}}"></ff-text> </label> '},px9Z:function(e,t){e.exports="<span>Check In / Out</span> <ff-btn-group> <ff-btn sense=checkIn size=sm ng-hide=$ctrl.log.checkInTime ff-click=\"$ctrl.checkInOut('checkIn')\">Check In</ff-btn> <ff-btn sense=checkOut size=sm ng-show=$ctrl.log.checkInTime ff-click=\"$ctrl.checkInOut('checkOut')\">Check Out</ff-btn> </ff-btn-group> "},qPfh:function(e,t,r){"use strict";r("JBxO"),r("FdtR");var n=r("JxTE"),a=r.n(n);t.a=angular.module("forbidStaff",[]).directive("forbidStaff",["$compile","session","state",function(e,t,r){return{restrict:"EA",scope:!0,controller:"forbidStaffCtrl as $forbidStaff",link:function(n,l){var s=l.children().css({display:"none"});t.wait().finally((function(){if(!r.isLoggedAdmin())return s.css({display:null});l.append(e(a.a)(n))}))}}}]).controller("forbidStaffCtrl",["$scope","$route","$timeout","state",function(e,t,r,n){this.signOut=function(){return n.logout({skipResetParams:!0}).finally((function(){return t.reload(),r(2e3)}))},this.home=function(){return n.resetParams(),n.setPath("/")}}])},wg5g:function(e,t,r){},y1jH:function(e,t){e.exports='<label class=ff-row> <ff-label flex="0 0 116px"><req translate=BILLING_PROFILE.CREDIT_CARDS.NUMBER></req></ff-label> <ff-cc-number name=number ff-model=$ctrl.cc.number placeholder="4111 1111 1111 1111" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.NUMBER\' | translate}}" cc-type=$ctrl.ccType cc-types=$ctrl.ccTypes></ff-cc-number> </label> <ff-row> <label flex="0 0 60%"> <ff-label flex="0 0 116px"><req translate=BILLING_PROFILE.CREDIT_CARDS.EXPIRY></req></ff-label> <ff-select flex="1 1 1%" name=expiryMonth ff-model=$ctrl.cc.expiryMonth ff-options="opt.name for opt in $ctrl.optsCCExpiryMonth" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.EXPIRY.MONTH\' | translate}}"></ff-select> </label> <label flex="1 1 auto"> <ff-select flex="1 1 1%" name=expiryYear ff-model=$ctrl.cc.expiryYear ff-options="opt.name for opt in $ctrl.optsCCExpiryYear" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.EXPIRY.YEAR\' | translate}}"></ff-select> </label> <label flex="0 0 76px" title="Security Code"> <ff-label flex="0 1 40px"><req translate=BILLING_PROFILE.CREDIT_CARDS.CVV></req></ff-label> <ff-text flex="1 1 1%" name=cvv ff-model=$ctrl.cc.ccv placeholder=123 ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.CVV\' | translate}}"></ff-text> </label> </ff-row> <ff-row> <label flex="0 0 60%"> <ff-label flex="0 0 116px"><req translate=BILLING_PROFILE.CREDIT_CARDS.NAME_ON_CARD></req></ff-label> <ff-text flex="1 1 1%" name=firstName ff-model=$ctrl.cc.firstName placeholder=John ff-required=true ff-validate-alert="{{\'USER_PROFILE.PERSONAL_INFO.FIRST_NAME\' | translate}}"></ff-text> </label> <label flex="1 1 auto"> <ff-text flex="1 1 1%" name=lastName ff-model=$ctrl.cc.lastName placeholder=Doe ff-required=true ff-validate-alert="{{\'USER_PROFILE.PERSONAL_INFO.LAST_NAME\' | translate}}"></ff-text> </label> </ff-row> '},ygJC:function(e,t,r){},yrhy:function(e,t,r){"use strict";t.a=angular.module("dwLoginDirective",[]).directive("dwLogin",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(r,n){var a=this;n.$set("minlength",n.minlength||4),n.$set("maxlength",n.maxlength||256),n.$set("ffPattern",n.ffPattern||/^\w[\w\.\-_@]+$/),n.$set("placeholder",n.placeholder||"jdoe");var l=t.instant("GLOBAL.LOGIN"),s=t.instant("GLOBAL.LOGIN.INVALID_CHARS");return n.$set("ffValidateAlert",n.ffValidateAlert||"{ field: '"+l+"', pattern: '"+s+"' }"),function(t,r,n){e(r,null,a.priority)(t)}}}}])},zTcH:function(e,t,r){"use strict";angular.module("deskworks.MessageBoardUserSettings",["ngResource","deskworks.config"]).factory("MessageBoardUserSettings",["$resource","$q","deskworksConfig","helper",function(e,t,r,n){var a=e(r.getApiAbsUrl("/dw-mail/message-board/users/:userId"),{},{update:{method:"PUT"}});return{get:function(e){return!e||n.isUid(e)?t.when({notification:"immediately"}):a.get({userId:e}).$promise},save:function(e,t){return a.update({userId:e},t).$promise}}}]);var n=r("WSeP"),a=r.n(n),l=(angular.module("deskworks.optsMessageBoardNotices",[]).factory("optsMessageBoardNotices",["$rootScope","$translate",function(e,t){var r=[{id:"immediately",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.IMMEDIATELY"},{id:"daily",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.DAILY"},{id:"weekly",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.WEEKLY"},{id:"never",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.NEVER"}];function n(){a()(r).call(r,(function(e){e.name=t.instant(e._name)}))}return n(),e.$on("$setTranslationsSuccess",n),r}]),r("Bz93")),s=r.n(l);t.a=angular.module("deskworks.messageBoardUserSettings",["deskworks.MessageBoardUserSettings","deskworks.optsMessageBoardNotices"]).directive("messageBoardUserSettings",(function(){return{template:s.a,restrict:"EAC",scope:!0,controller:"MessageBoardUserSettingsCtrl as $ctrl",bindToController:{userId:"<",save:"="}}})).controller("MessageBoardUserSettingsCtrl",["$scope","$timeout","state","helper","dwAlerts","MessageBoardUserSettings","optsMessageBoardNotices",function(e,t,r,n,a,l,s){var i=this;function f(){return t((function(){return l.save(i.userId,i.settings).catch((function(e){return a.error(e,"Failed to save message board user settings.")}))}))}i.optsMessageBoardNotices=s,i.$onInit=function(){i.save=f,l.get(i.userId).catch((function(e){return a.error(e,"Failed to get message board user settings.")})).then((function(e){i.settings=e}))}}])},zyqg:function(e,t,r){}},[["QfWi",37,55,52,56,54,47,50,53,51,57,45,58,60,46,61,49,59,62,48,23,28,21,24,27,26,22]]]);