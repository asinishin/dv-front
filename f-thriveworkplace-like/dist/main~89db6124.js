(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"+Ie/":function(e,t,n){"use strict";var r=n("y1jH"),a=n.n(r);t.a=angular.module("deskworks.dwCreditCard",["flexForms","deskworks.helper","deskworks.userProfile.optsCCExpiryMonth","deskworks.userProfile.optsCCExpiryYear"]).directive("dwCreditCard",(function(){return{template:a.a,restrict:"A",scope:!0,controller:"dwCreditCardCtrl as $ctrl",bindToController:{cc:"<dwCreditCard",ccTypes:"<dwCreditCardTypes"}}})).controller("dwCreditCardCtrl",["$scope","optsCCExpiryMonth","optsCCExpiryYear",function(e,t,n){var r=this;r.optsCCExpiryMonth=t,r.optsCCExpiryYear=n,e.$watch("$ctrl.ccType",(function(){r.cc.type=r.ccType||r.cc.type}))}])},"+l1P":function(e,t,n){"use strict";t.a=angular.module("niceTimeDirective",[]).directive("niceTime",["$compile","$locale",function(e,t){return{restrict:"A",compile:function(n,r){return function(n,a,l){var s;s=24===t.timeFormat?'<span ng-bind="'+r.niceTime+" | date: 'HH:mm'\"></span>":'<span ng-bind="'+r.niceTime+" | date: 'hh:mm'\"></span><sup ng-bind=\""+r.niceTime+" | date: 'a'\"></sup>",a.empty().append(e(s)(n))}}}}])},"/csh":function(e,t,n){},"1qkW":function(e,t,n){},"2/1H":function(e,t,n){"use strict";var r=n("6RpP"),a=n.n(r);t.a=angular.module("deskworks.ReservationUnit",["ngResource","ngFileUpload","deskworks.config"]).factory("ReservationUnit",["$resource","$q","Upload","deskworksConfig",function(e,t,n,r){var l=e(r.getApiAbsUrl("/centers/:centerId/reservation-units/:id"),{},{update:{method:"PUT"}});return{query:function(e){return l.query({centerId:e}).$promise},get:function(e,n){return"new"===n?t.when({id:"new",expectedUsePerMonth:240}):l.get({centerId:e,id:n}).$promise},save:function(e,t){return t.id&&"new"!==t.id?l.update({centerId:e,id:t.id},t).$promise:l.save({centerId:e},t).$promise.then((function(e){return t.id=e.id,e}))},delete:function(e,t){return l.delete({centerId:e,id:t}).$promise},uploadPhoto:function(e,t,l){var s;return n.upload({url:r.getApiAbsUrl(a()(s="/centers/".concat(e,"/reservation-units/")).call(s,t)),method:"PUT",withCredentials:!0,data:{photo:l}})}}}])},"2PBz":function(e,t,n){"use strict";var r=n("WSeP"),a=n.n(r),l=(n("/csh"),n("Ijon")),s=n.n(l),f=n("T/jV"),i=n.n(f),o=angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,r){e.closeable=!!t.close;var a=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;a&&r((function(){e.close()}),i()(a,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",template:'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert"><button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})"><span aria-hidden="true">&times;</span></button><div ng-transclude></div></div>',transclude:!0,replace:!0,scope:{type:"@",close:"&"}}})),c=n("0zKI"),d=n.n(c),u=n("xeXu"),p=n.n(u),m=n("7pN8"),g=n.n(m),h=angular.module("deskworks.dwAlerts.service",[]).factory("dwAlerts",["$rootScope","$timeout","$q",function(e,t,n){var r={$alerts:[],error:function(e,t){t||(t=e,e=null),e&&e.data&&(e.data.error||e.data.message)&&(t=e.data.error||e.data.message);var r={id:g()(),type:"danger",message:t||"Sorry, error occurred. Please try again a bit later.",timeout:1e4};return this.showAlert(r),n.reject(e||t)},info:function(e){var t={id:g()(),type:"info",message:e,timeout:6e3};this.showAlert(t)},close:function(e){var t,n,r=p()(t=this.$alerts).call(t,e);r>=0&&d()(n=this.$alerts).call(n,r,1)},showAlert:function(e){var n=this;n.$alerts.unshift(e),e.timeout&&t((function(){n.close(e)}),e.timeout)}};return e.showError=function(e,t){return r.error(e,t)},e.closeError=function(e){var t;d()(t=r.$alerts).call(t,e,1)},e.closeAllErrors=function(){var e;d()(e=r.$alerts).call(e,0,r.$alerts.length)},r}]);t.a=angular.module("deskworks.dwAlerts",["ngAnimate",o.name,h.name]).component("dwAlerts",{template:s.a,controller:"dwAlertsController"}).controller("dwAlertsController",["$scope","$timeout","dwAlerts",function(e,t,n){var r=this;r.alerts=n.$alerts,r.close=function(e){n.close(e)},e.$watchCollection("$ctrl.alerts",(function(){var e;a()(e=r.alerts).call(e,(function(e){e.timeout&&!e.start&&t((function(){e.start=!0}))}))}))}])},"4dW8":function(e,t,n){"use strict";var r=n("nbuU"),a=n.n(r),l=n("WSeP"),s=n.n(l);t.a=angular.module("deskworks.dwSelectProfile",["ngRoute","deskworks.state","flexForms","deskworks.helper","deskworks.userProfile.service"]).directive("dwSelectProfile",["$route","state","helper","userProfileService","resolveTimezone",function(e,t,n,r,l){return{restrict:"AC",scope:!0,template:'<span>Current Profile</span><ff-select name="currentProfile" ff-model="currentProfile" ff-options="profile.name for profile in profiles" ff-change="selectProfile(currentProfile)"></ff-select>',compile:function(f,i){return f.css("display","none"),function(f,i,o){f.profiles=[],f.$watch((function(){return t.getLoggedUserId()}),(function(e){t.isLoggedAdmin()?i.css("display","none"):e?l().then((function(){return r.get(t.getCurrentCenterId(),t.getLoggedUserId())})).then((function(r){var l;f.profiles=[{id:r.id,name:r.firstName+" "+r.lastName}],s()(l=r.masterMembers).call(l,(function(n){n.id!==e&&(f.profiles.push({id:n.id,name:n.company||n.fullName}),t.setCurrentUserId(n.id))})),f.currentProfile=a()(n).call(n,f.profiles,t.getCurrentUserId())||f.profiles[0],f.profiles.length>1&&i.css("display","")})):(f.profiles=[],f.currentProfile=null,i.css("display","none"))})),f.$watch((function(){return t.getCurrentUserId()}),(function(e){f.currentProfile=a()(n).call(n,f.profiles,e)||f.profiles[0]})),f.selectProfile=function(n){t.setCurrentUserId(n.id===t.getLoggedUserId()?null:n.id),e.current&&e.current.$$route&&!e.current.$$route.reloadOnSearch&&e.reload()}}}}}])},"5Lq6":function(e,t,n){"use strict";var r=n("pZrh"),a=n.n(r);t.a=angular.module("deskworks.dwECheck",["flexForms","deskworks.helper","deskworks.userProfile.optsBankAccountHolderType","deskworks.userProfile.optsBankAccountType"]).directive("dwECheck",["$compile","$timeout","helper","optsBankAccountHolderType","optsBankAccountType",function(e,t,n,r,l){return{template:a.a,restrict:"A",scope:!0,controllerAs:"dwEC",controller:["$scope","$element","$attrs",function(e,t,n){this.optsBankAccountHolderType=r,this.optsBankAccountType=l,this.check=e.$eval(n.dwECheck)}]}}])},"5vv4":function(e,t,n){"use strict";var r=n("WSeP"),a=n.n(r);t.a=angular.module("deskworks.ManualCheckIn",["ngResource","deskworks.config"]).factory("ManualCheckIn",["$resource","$filter","$timeout","deskworksConfig",function(e,t,n,r){var l=e(r.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/manual-check-ins/:recurringId"),{},{update:{method:"PUT"}});return{query:function(e){var t=e.centerId,n=e.userId;return l.query({centerId:t,userId:n}).$promise.then((function(e){return a()(e).call(e,(function(e){e.$$count=e.$$count||e.checkInCount||1})),e}))},save:function(e){var t=e.centerId,n=e.userId,r=e.recurringId,a=e.checkInCount;return l.update({centerId:t,userId:n,recurringId:r},{checkInCount:a}).$promise}}}])},"9HME":function(e,t,n){"use strict";var r=n("hsT8"),a=n.n(r),l=n("nbuU"),s=n.n(l);t.a=angular.module("deskworks.dwSelectCenter",["deskworks.state","flexForms","deskworks.helper","deskworks.center.service","deskworks.Admin"]).directive("dwSelectCenter",["$q","$rootScope","$timeout","$compile","dwAlerts","ffHelper","state","helper","centerService","Admin",function(e,t,n,r,l,f,i,o,c,d){return{restrict:"E",scope:!0,controller:function(){},controllerAs:"dwSelectCenter",compile:function(n,r){var f=angular.element('<ff-select name="center" flex="auto"></ff-select>'),u=angular.element('<option ng-repeat="center in dwSelectCenter.centers" ng-value="center.id" label="{{center.name}}">{{center.name}}</option>');return u.attr("ng-style","center.color ? { color: center.color } : {}"),f.attr("ff-style","dwSelectCenter.curCenter.color ? {color: dwSelectCenter.curCenter.color} : {}"),f.attr("ff-model",r.ffModel||"dwSelectCenter.curCenterId"),f.attr("ff-change","dwSelectCenter.onCenterChange()"),f.append(u),n.append(f),function(n,f,u,p){function m(){var t={centers:c.getCenters().catch((function(e){return l.error(e,"dwSelectCenter: failed to query centers.")}))};return i.isLoggedAdmin()&&(t.admin=d.get(i.getLoggedUserId()).catch((function(e){return l.error(e,"dwSelectCenter: failed to get admin.")}))),e.all(t).then((function(e){var t;if(p.centers=a()(t=e.centers).call(t,(function(t){return!e.admin||!!(s()(o).call(o,e.admin.centers,t.id)||{}).permission})),u.ffOptionAll&&"false"!==u.ffOptionAll&&p.centers.length>1&&p.centers.unshift({id:0,name:"All Centers"}),r.ffModel){var l=n.$eval(r.ffModel);angular.isUndefined(l)?(p.curCenterId=p.centers[0].id,n.$eval(r.ffModel+" = dwSelectCenter.curCenterId")):p.curCenterId=l}else p.curCenterId=i.getCurrentCenterId()||p.centers[0]&&p.centers[0].id;p.curCenter=s()(o).call(o,p.centers,p.curCenterId)}))}r.ffModel||n.$watch((function(){return i.getCurrentCenterId()}),(function(e){p.curCenterId=e,p.curCenter=s()(o).call(o,p.centers,p.curCenterId)})),p.onCenterChange=function(){p.curCenter=s()(o).call(o,p.centers,p.curCenterId),r.ffModel?p.curCenter=s()(o).call(o,p.centers,n.$eval(r.ffModel)):(p.curCenter=s()(o).call(o,p.centers,p.curCenterId),i.setCurrentCenterId(p.curCenterId))},t.$on("CENTERS:REFRESH",(function(){m()})),m()}}}}])},"9dcR":function(e,t,n){"use strict";t.a=angular.module("cuid",[]).factory("cuid",(function(){var e=0;return function(){return++e}}))},"A+Xk":function(e,t,n){"use strict";n("1qkW");var r=n("IODk"),a=n.n(r),l=n("5vv4");t.a=angular.module("deskworks.dwManualCheckInWidget",[l.a.name]).directive("dwManualCheckInWidget",(function(){return{template:a.a,restrict:"E",scope:!0,controller:"dwManualCheckInWidgetCtrl as $ctrl",compile:function(e){return e.addClass("sidebar-item keep-sm-btn-size").css("display","none"),function(){}}}})).controller("dwManualCheckInWidgetCtrl",["$scope","$element","state","dwAlerts","ManualCheckIn",function(e,t,n,r,a){var l=this;l.check=function(e,t,l){t=+t,l&&(l.preventDefault(),l.stopPropagation());var s=t>0?"checkIn":"checkOut";return a.save({centerId:n.getCurrentCenterId(),userId:n.getCurrentUserId(),recurringId:e.id,checkInCount:e.checkInCount+t}).catch((function(e){return r.error(e,"Failed to "+s)})).then((function(){e.checkInCount+=t,ga("send","event","merged",s)}))},l.fetchData=function(){if(n.isUserSelected()&&n.getCurrentCenterId())return a.query({centerId:n.getCurrentCenterId(),userId:n.getCurrentUserId()}).catch((function(e){return r.error(e,"Failed to query manual check-in widget")})).then((function(e){t.css("display",e.length?null:"none"),l.rbs=e}));t.css("display","none")},e.$watchGroup([n.getCurrentUserId,n.getCurrentCenterId],l.fetchData)}])},Bz93:function(e,t){e.exports='<label class=ff-row ff-dim=!$ctrl.settings> <ff-label flex="0 1 132px"> <span translate=USER_PROFILE.MESSAGE_BOARD_NOTICES></span> </ff-label> <ff-select flex="1 1 1%" name=messageBoardNotices ff-model=$ctrl.settings.notification ff-options="opt.id as opt.name for opt in $ctrl.optsMessageBoardNotices"></ff-select> </label> '},DVTZ:function(e,t,n){"use strict";t.a=angular.module("dwEmailDirective",[]).directive("dwEmail",["$compile",function(e){return{restrict:"AC",priority:30,terminal:!0,compile:function(t,n){var r=this;return n.$set("maxlength",n.maxlength||256),n.$set("ffPattern",n.ffPattern||/^[\w\.%\+\-]+@(?:[A-Z0-9\-]+\.)+(?:[A-Z]+)$/i),n.$set("ffValidateAlert",n.ffValidateAlert||"{field: 'Email', pattern: 'Email should be valid'}"),n.$set("placeholder",n.placeholder||"example@mail.com"),function(t,n,a){e(n,null,r.priority)(t)}}}}])},GJsN:function(e,t,n){"use strict";var r=n("DVTZ"),a=n("Oio6"),l=angular.module("deskworks.formDesign.fdFieldTemplates",[r.a.name,a.a.name]).factory("fdFieldTemplates",(function(){var e='ff-attr-id="fd-{{field.id}}" name="fd-{{field.id}}" ff-model="field.value" ff-required="field.required"',t='<label class="ff-row"><ff-label flex="1 1 160px"><span>{{field.name}}<req ng-if="field.required"></req></span></ff-label>',n="</label>";return{text:t+'<ff-text flex="0 1 110px" '+e+' ff-validate-alert="{{field.name}}"></ff-text>'+n,textarea:t+'<ff-textarea flex="0 1 110px" '+e+"></ff-textarea>"+n,date:t+'<ff-date flex="0 1 110px" '+e+' ff-validate-alert="{{field.name}}"></ff-date>'+n,url:t+'<ff-url flex="0 1 110px" '+e+' ff-validate-alert="{{field.name}}"></ff-url>'+n,email:t+'<ff-text flex="0 1 110px" '+e+" dw-email></ff-text>"+n,phone:t+'<ff-text flex="0 1 110px" '+e+" dw-phone></ff-text>"+n,number:t+'<ff-number flex="0 1 110px" '+e+' ff-validate-alert="{{field.name}}"></ff-number>'+n,customPrice:t+'<ff-price flex="0 1 110px" '+e+' ff-validate-alert="{{field.name}}"></ff-price>'+n,extraPrice:t+'<ff-price flex="0 1 110px" '+e+' ff-validate-alert="{{field.name}}"></ff-price>'+n,dropdown:t+'<ff-select flex="0 1 110px" '+e+' ff-options="opt.id as opt.name for opt in field.options" ff-validate-alert="{{field.name}}"></ff-select>'+n,checkbox:t+'<ff-static flex="0 0 36px" class="ff-center"><ff-checkbox '+e+' ff-validate-alert="{{field.name}}"></ff-checkbox></ff-static>'+n}}));t.a=angular.module("deskworks.formDesign.fdField",[l.name]).directive("fdField",["$compile","fdFieldTemplates",function(e,t){return{scope:!0,require:"^^?form",link:function(n,r,a,l){n.field=n.$eval(a.field);var s=angular.element(t[n.field.type]);r.append(s),e(s)(n)}}}])},GLV5:function(e,t,n){"use strict";n("1qkW");var r=n("px9Z"),a=n.n(r);t.a=angular.module("deskworks.dwCheckInWidget",["flexForms","deskworks.helper","deskworks.checkInLog.service","resolveTimezone"]).directive("dwCheckInWidget",(function(){return{template:a.a,restrict:"E",scope:!0,controller:"dwCheckInWidgetCtrl as $ctrl",compile:function(e,t){return e.addClass("sidebar-item").css("display","none"),function(e,t,n,r){}}}})).controller("dwCheckInWidgetCtrl",["$scope","$element","$interval","state","dwAlerts","checkInLogService","resolveTimezone",function(e,t,n,r,a,l,s){var f=this;f.checkInOut=function(e){return n.cancel(f.updateTimer),l.checkInOut(r.getCurrentCenterId(),r.getCurrentUserId(),e).then((function(){f.log.checkInTime="checkIn"===e?moment():void 0,n.cancel(f.updateTimer),f.updateTimer=n(f.updateMemberLog,6e3),ga("send","event","merged",e)})).catch((function(t){return a.error(t,"Failed to "+e)}))},f.updateMemberLog=function(){if(n.cancel(f.updateTimer),(!r.isLoggedAdmin()||r.isUserSelected())&&r.getCurrentCenterId())return s().then((function(){return l.getLog(r.getCurrentCenterId(),r.getCurrentUserId(),0,0)})).then((function(e){t.css("display",e.allowCheckIn?null:"none"),f.log=e,e.allowCheckIn&&(n.cancel(f.updateTimer),f.updateTimer=n(f.updateMemberLog,6e4))})).catch((function(e){return a.error(e,"Failed to update check-in widget")}));t.css("display","none")},e.$watchGroup([r.getCurrentUserId,r.getCurrentCenterId],f.updateMemberLog)}])},IODk:function(e,t){e.exports='<ff-row ng-repeat-start="rb in $ctrl.rbs" class=sidebar-item ng-click="rb.$$unfold = !rb.$$unfold"> <span>{{rb.name}}</span> <div flex="0 0 22px" class=check-in-count ng-if=rb.checkInCount>{{rb.checkInCount}}</div> <ff-btn flex=none sense=collapse size=xs style=margin-left:auto ng-class="{ collapsed: !rb.$$unfold }"></ff-btn> <ff-btn-group flex=none> <ff-btn sense=checkIn size=sm ng-hide="rb.checkInCount > 0" ff-click="$ctrl.check(rb, 1, $event)" ff-disabled=rb.$$unfold>Check In</ff-btn> <ff-btn sense=checkOut size=sm ng-show="rb.checkInCount > 0" ff-click="$ctrl.check(rb, -1, $event)" ff-disabled=rb.$$unfold>Check Out</ff-btn> </ff-btn-group> </ff-row> <ff-row ng-repeat-end class="animate-collapse ff-no-frame" ng-if=rb.$$unfold> <ff-static flex="0 0 30px" class=ff-center> <ff-btn sense=minus size=xs class=ff-btn-icon flex=auto style=align-self:stretch ff-disabled="rb.$$count <= 1" ff-click="rb.$$count = +rb.$$count - 1"></ff-btn> </ff-static> <ff-number flex="0 0 36px" ff-model=rb.$$count class=ff-center ff-required=true ff-gt=0 ff-validate-alert=Count></ff-number> <ff-static flex="0 0 30px" class=ff-center> <ff-btn sense=plus size=xs class=ff-btn-icon flex=auto style=align-self:stretch ff-click="rb.$$count = +rb.$$count + 1"></ff-btn> </ff-static> <ff-btn-group flex=none> <ff-btn sense=checkIn size=sm ff-click="$ctrl.check(rb, rb.$$count)">Check In</ff-btn> <ff-btn sense=checkOut size=sm ff-click="$ctrl.check(rb, -rb.$$count)" ff-disabled="!rb.checkInCount || rb.$$count > rb.checkInCount">Check Out</ff-btn> </ff-btn-group> </ff-row> '},Ijon:function(e,t){e.exports="<uib-alert ng-repeat=\"alert in $ctrl.alerts\" type={{alert.type}} class=dw-alert close=$ctrl.close(alert)> <span ng-bind-html=alert.message></span> <span class=dw-alert-progress ng-if=alert.timeout ng-class=\"{ start: alert.start }\" ng-style=\"{ transition: 'all ' + alert.timeout / 1000 + 's linear', '-webkit-transition': 'all ' + alert.timeout / 1000 + 's linear' }\"></span> </uib-alert> "},JxTE:function(e,t){e.exports="<div class=forbid-staff> <h1 class=page-title translate=GLOBAL.FORBID_STAFF.HEADER></h1> <ff-panel class=ff-center> <span translate=GLOBAL.FORBID_STAFF.TEXT></span> </ff-panel> <ff-btn-group class=buttons-bottom> <ff-btn sense=signOut ff-click=$forbidStaff.signOut()><span translate=GLOBAL.BTN_SIGN_OUT></span></ff-btn> <ff-btn sense=home ff-click=$forbidStaff.home()><span translate=GLOBAL.BTN_HOME></span></ff-btn> </ff-btn-group> </div> "},KB0Y:function(e,t){e.exports='<label class=ff-row ng-if=dwAddress.hasType> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.TYPE ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span> </ff-label> <ff-select name=type ff-model=dwAddress.address.type ff-options="type.name for type in dwAddress.types" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.TYPE\' | translate}}"></ff-select> </label> <label class=ff-row ng-if=!dwAddress.secondStreet> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.STREET ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span> </ff-label> <ff-text name=street ff-model=dwAddress.address.street placeholder="6265 Highway 9" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.STREET\' | translate}}"></ff-text> </label> <label class=ff-row ng-if=dwAddress.secondStreet> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.STREET ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span>&nbsp;1 </ff-label> <ff-text name=street1 ff-model=dwAddress.address.street1 placeholder="6265 Highway 9" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.STREET\' | translate}} 1"> </ff-text> </label> <label class=ff-row ng-if=dwAddress.secondStreet> <ff-label flex="0 1 116px"><span translate=GLOBAL.ADDRESS.STREET></span>&nbsp;2</ff-label> <ff-text name=street2 ff-model=dwAddress.address.street2></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.CITY ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span> </ff-label> <ff-text name=city ff-model=dwAddress.address.city placeholder=Felton ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.CITY\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.COUNTRY ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span> </ff-label> <ff-select name=country ff-model=dwAddress.address.country ff-options="country.name for country in dwAddress.countries" ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.COUNTRY\' | translate}}" ff-change=dwAddress.onChangeCountry()></ff-select> </label> <label class=ff-row> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.STATE ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span> </ff-label> <ff-select name=state ff-model=dwAddress.address.state ng-if=dwAddress.states[dwAddress.address.country.id] ff-options="state.name for state in dwAddress.states[dwAddress.address.country.id]" ff-required=!dwAddress.notRequired ff-validate-alert=State/Province></ff-select> <ff-text name=state ff-model=dwAddress.address.state ng-if=!dwAddress.states[dwAddress.address.country.id] ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.STATE\' | translate}}" placeholder=Ontario></ff-text> </label> <label class=ff-row> <ff-label flex="0 1 116px"> <span translate=GLOBAL.ADDRESS.ZIP ng-class="{ req: !dwAddress.notRequired && (!ffBlock || ffBlock.editMode) }"></span> </ff-label> <ff-text name=zip ff-model=dwAddress.address.zip placeholder=95018 ff-required=!dwAddress.notRequired ff-validate-alert="{{\'GLOBAL.ADDRESS.ZIP\' | translate}}"></ff-text> </label> '},Njxs:function(e,t,n){"use strict";var r=n("YtL8"),a=n.n(r),l=n("hsT8"),s=n.n(l),f=n("uQX1"),i=n.n(f),o=n("WSeP"),c=n.n(o),d=n("nbuU"),u=n.n(d),p=(n("ygJC"),n("oplH")),m=n.n(p),g=n("acNQ");t.a=angular.module("deskworks.membershipFilter",["flexForms","deskworks.state","deskworks.helper",g.a.name]).directive("membershipFilter",(function(){return{template:m.a,restrict:"E",scope:!0,controller:"MembershipFilterCtrl as $ctrl",bindToController:{ffModel:"=?",filterData:"=?",layout:"@?"}}})).controller("MembershipFilterCtrl",["$scope","$element","$attrs","state","helper","optsMembershipFilter",function(e,t,n,r,l,f){var o=this;function d(){var e,t;o.ffModel=a()(e=s()(t=o.filterData).call(t,(function(e){return"all"!==e.id}))).call(e,(function(e,t){return t.value&&(e[t.id]=t.value),e}),{})}o.$onInit=function(){o.filterData=o.filterData||angular.copy(f),d()},o.onChange=function(e){if("all"===e.id){var t,n=u()(l).call(l,o.filterData,"all").value;c()(t=o.filterData).call(t,(function(e){"all"!==e.id&&(e.value=n)})),n||(u()(l).call(l,o.filterData,"activeMembers").value=!0)}else{var r,a;u()(l).call(l,o.filterData,"all").value=i()(r=s()(a=o.filterData).call(a,(function(e){return"all"!==e.id}))).call(r,(function(e){return e.value}))}d()}}])},Oio6:function(e,t,n){"use strict";t.a=angular.module("dwPhoneDirective",[]).directive("dwPhone",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(n,r){var a=this;r.$set("maxlength",r.maxlength||64),r.$set("ffPattern",r.ffPattern||/^(?:\+\d[-. ]?)?(?:\(?\d\)?[-. ]?){5,13}\d$/),r.$set("placeholder",r.placeholder||"888-379-2865");var l=t.instant("USER_PROFILE.PHONES.NUMBER"),s=t.instant("GLOBAL.VALIDATION.PHONE");return r.$set("ffValidateAlert",r.ffValidateAlert||"{ field: '"+l+"', pattern: '"+s+"' }"),function(t,n,r){e(n,null,a.priority)(t)}}}}])},P6hd:function(e,t,n){"use strict";var r=n("+E9Z"),a=n.n(r);n("pMUn");t.a=angular.module("scrollPointerEventsNone",[]).directive("scrollPointerEventsNone",(function(){return{restrict:"AC",link:function(e,t){var n;function r(){clearTimeout(n),t.addClass("pointer-events-none"),n=a()((function(){return t.removeClass("pointer-events-none")}),100)}t.on("scroll",r),e.$on("$destroy",(function(){return t.off("scroll",r)}))}}}))},SGGL:function(e,t,n){"use strict";t.a=angular.module("dwLastNameDirective",[]).directive("dwLastName",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(n,r){var a=this;r.$set("maxlength",r.maxlength||256),r.$set("ffPattern",r.ffPattern||/^[^\\<>\/&]*$/),r.$set("placeholder",r.placeholder||"Doe");var l=t.instant("USER_PROFILE.PERSONAL_INFO.LAST_NAME"),s=t.instant("USER_PROFILE.PERSONAL_INFO.LAST_NAME_INVALID_CHARS");return r.$set("ffValidateAlert",r.ffValidateAlert||"{ field: '"+l+"', pattern: '"+s+"' }"),function(t,n,r){e(n,null,a.priority)(t)}}}}])},Tjft:function(e,t,n){"use strict";n("8cZI"),n("Muwe"),n("aZFp");var r=n("hsT8"),a=n.n(r),l=n("KK/u"),s=n.n(l),f=n("xeXu"),i=n.n(f),o=n("WSeP"),c=n.n(o);t.a=angular.module("dwSearchUserDirective",[]).directive("dwSearchUser",["$compile","$q","$filter","ffHelper","state","userProfileService","dwAlerts",function(e,t,n,r,l,f,o){return{restrict:"A",priority:30,terminal:!0,template:'<ff-search-options><div><h6><span ng-bind-html="$search.highlighted.fullName"></span>{{$search.highlighted.company ? \',\' : \'\'}} <span ng-bind-html="$search.highlighted.company"></span> &lt;<span ng-bind-html="$search.highlighted.email"></span>&gt;</h6><small><span ng-repeat="match in $search.matches" class="match">{{match.name}}: <span ng-bind-html="(match.value || \'-\') + ($last ? \'\' : \', \')"></span></span></small></div></ff-search-options><ff-search-match ng-if="dwSearchUser.options !== \'activeNameOnly\'"><h6><span ng-bind="ffSearch.ngModel.$modelValue.fullName"></span>{{ffSearch.ngModel.$modelValue.company ? \',\' : \'\'}} <span ng-bind="ffSearch.ngModel.$modelValue.company"></span> &lt;<span ng-bind="ffSearch.ngModel.$modelValue.email"></span>&gt;</h6></ff-search-match><ff-search-match ng-if="dwSearchUser.options === \'activeNameOnly\'"><h6><span ng-bind="ffSearch.ngModel.$modelValue.fullName"></span></h6></ff-search-match>',controllerAs:"dwSearchUser",bindToController:{options:"@dwSearchUser"},controller:function(){this.filterUsers=function(e,t){var r;return e=e||[],c()(e).call(e,(function(e){for(var r in e.weight=0,e.matches=[{name:"login",value:n("highlight")(e.login,t)}],e.highlighted={fullName:n("highlight")(e.fullName,t),company:n("highlight")(e.company,t),email:n("highlight")(e.email,t)},e){var a;if(e.hasOwnProperty(r)&&angular.isString(e[r])&&0!==i()(r).call(r,"$$"))if(i()(a=e[r].toLowerCase()).call(a,t.toLowerCase())>=0&&(e.weight++,"fullName"!==r&&"company"!==r&&"email"!==r&&"login"!==r)){var l=r.split(/(?=[A-Z])/).join(" ").toLowerCase();e.matches.push({name:l,value:n("highlight")(e[r],t)})}}})),s()(r=a()(e).call(e,(function(e){return e.weight>0}))).call(r,(function(e,t){return e.weight<t.weight?1:e.weight>t.weight?-1:0}))},this.searchUser=function(e){return f.quickSearch(l.getCurrentCenterId(),e).catch((function(e){return o.error(e,"Failed to quick search users.")}))}},compile:function(t,n){var r=this;return n.$set("ffSearch","dwSearchUser.searchUser($search)"),n.$set("ffSearchFilter","dwSearchUser.filterUsers($results, $search)"),n.$set("placeholder","start typing to search users"),function(t,n,a){e(n,null,r.priority)(t)}}}}])},Vtxe:function(e,t,n){"use strict";var r=n("b2yS"),a=n.n(r);t.a=angular.module("deskworks.dwInvoice",["flexForms","deskworks.state","deskworks.helper"]).directive("dwInvoice",(function(){return{template:a.a,restrict:"E",scope:!0,controller:"dwInvoiceCtrl as dwInvoice",bindToController:{center:"=*?",invoice:"=*",allowRemove:"@",updateInvoice:"&"},compile:function(e,t){return e.addClass("dw-invoice"),function(){}}}})).controller("dwInvoiceCtrl",["$scope","$element","$attrs","dwAlerts","state","purchaseService",function(e,t,n,r,a,l){var s=this;s.removeItem=function(e){return l.deletePurchaseItem(a.getCurrentCenterId(),a.getCurrentUserId(),s.invoice.id,e.id).catch((function(e){return r.error(e,"Failed to remove purchase item.")})).then((function(e){return s.updateInvoice()}))}}])},XRrO:function(e,t,n){"use strict";t.a=angular.module("dwPasswordDirective",[]).directive("dwPassword",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(n,r){var a,l=this;r.$set("minlength",r.minlength||r.ffMinlength||8),r.$set("maxlength",r.maxlength||r.ffMaxlength||20),r.$set("ffPattern",r.ffPattern||/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)\S{8,}$/),r.$set("placeholder","password");var s=t.instant("GLOBAL.PASSWORD.INVALID_CHARS");try{a=angular.fromJson(r.ffValidateAlert)}catch(e){a={}}return a=angular.extend({field:t.instant("GLOBAL.PASSWORD"),pattern:s,minlength:s},a),r.$set("ffValidateAlert",angular.toJson(a)),function(t,n,r){e(n,null,l.priority)(t)}}}}])},acNQ:function(e,t,n){"use strict";var r=n("WSeP"),a=n.n(r);t.a=angular.module("deskworks.optsMembershipFilter",[]).factory("optsMembershipFilter",["$rootScope","$translate",function(e,t){var n=[{id:"all",_name:"USER_SEARCH.FILTERS.ALL",value:!1,type:"all"},{id:"activeMembers",_name:"USER_SEARCH.FILTERS.ACTIVE_MEMBERS",value:!0,type:"role"},{id:"inactiveMembers",_name:"USER_SEARCH.FILTERS.INACTIVE_MEMBERS",value:!1,type:"role"},{id:"activeCoMembers",_name:"USER_SEARCH.FILTERS.ACTIVE_CO_MEMBERS",value:!1,type:"role"},{id:"inactiveCoMembers",_name:"USER_SEARCH.FILTERS.INACTIVE_CO_MEMBERS",value:!1,type:"role"},{id:"nonMembers",_name:"USER_SEARCH.FILTERS.NON_MEMBERS",value:!1,type:"role"}];function r(){a()(n).call(n,(function(e){e.name=t.instant(e._name)}))}return r(),e.$on("$setTranslationsSuccess",r),n}])},b2yS:function(e,t){e.exports='<ff-header> <ff-row> <cell flex="4 0 40px" class="invoice-date ff-center"><span translate=PURCHASE.INVOICE.DATE></span></cell> <cell flex="4 1 40px" class="invoice-date-created ff-center show-lg"><span translate=PURCHASE.INVOICE.DATE_CREATED></span></cell> <cell flex="4 1 40px" class="invoice-added-by ff-center show-lg"><span translate=PURCHASE.INVOICE.ADDED_BY></span></cell> <cell flex="4 0 70px" class=invoice-product><span translate=PURCHASE.INVOICE.PRODUCT></span></cell> <cell flex="10 1 100px" class="invoice-description show-md"><span translate=PURCHASE.INVOICE.DESCRIPTION></span></cell> <cell flex="0 0 46px" class="invoice-quantity ff-center show-sm"><span translate=PURCHASE.INVOICE.QUANTITY></span></cell> <cell flex="0 0 90px" class="invoice-price ff-right show-sm"><span translate=PURCHASE.INVOICE.PRICE></span></cell> <cell flex="0 0 90px" class="invoice-amount ff-right"><span translate=PURCHASE.INVOICE.AMOUNT></span></cell> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> </ff-header> <ff-row ng-repeat="item in dwInvoice.invoice.items"> <ff-static flex="4 0 40px" class="invoice-date ff-center" ff-bind="::item.billedAt | date:\'mediumDate\'"></ff-static> <ff-static flex="4 1 40px" class="invoice-date-created ff-center show-lg" ff-bind="::item.createdAt | date:\'mediumDate\'"></ff-static> <ff-static flex="4 1 40px" class="invoice-added-by ff-center show-lg" ff-bind=::item.addedBy></ff-static> <ff-static flex="4 0 70px" class=invoice-product ff-bind=::item.name></ff-static> <ff-static flex="10 1 100px" class="invoice-description show-md" ff-bind=::item.description></ff-static> <ff-static flex="0 0 46px" class="invoice-quantity ff-center show-sm" ff-bind="::item.quantity | round"></ff-static> <ff-static flex="0 0 90px" class="invoice-price ff-right show-sm" ff-bind="::item.price | ncurrency"></ff-static> <ff-static flex="0 0 90px" class="invoice-amount ff-right" ff-bind="::item.amount | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class=buttons-row> <ff-col> <ff-btn sense=remove size=xs title="{{\'GLOBAL.BTN_DELETE\' | translate}}" ng-if="dwInvoice.invoice.accessRights.items[$index].canDelete || !dwInvoice.invoice.accessRights.items[$index].canVoid" ng-class="{ \'zero-height\': !dwInvoice.invoice.accessRights.items[$index].canDelete }" ff-click=dwInvoice.removeItem(item)></ff-btn> <ff-btn sense=remove size=xs title="{{\'PURCHASE.INVOICE.BTN_VOID\' | translate}}" ng-if="dwInvoice.invoice.accessRights.items[$index].canVoid || !dwInvoice.invoice.accessRights.items[$index].canDelete" ng-class="{ \'zero-height\': !dwInvoice.invoice.accessRights.items[$index].canVoid }" ff-click=dwInvoice.removeItem(item)></ff-btn> </ff-col> </ff-btn-group> </ff-row> <ff-row class=invoice-charges> <ff-label><span translate=PURCHASE.INVOICE.CHARGES></span></ff-label> <ff-static flex="0 0 90px" class=ff-right ff-bind="dwInvoice.invoice.chargesTotal | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> <ff-row class=invoice-tax ng-repeat="tax in dwInvoice.invoice.taxes"> <ff-label>{{tax.taxName}}</ff-label> <ff-static flex="0 0 90px" class=ff-right ff-bind="tax.taxAmount | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> <ff-row class=invoice-payment> <ff-label><span translate=PURCHASE.INVOICE.PAYMENT></span></ff-label> <ff-static flex="0 0 90px" class=ff-right ff-bind="dwInvoice.invoice.paymentTotal | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> <ff-row class=invoice-balance> <ff-label><span translate=PURCHASE.INVOICE.BALANCE></span></ff-label> <ff-static flex="0 0 90px" class=ff-right ff-bind="dwInvoice.invoice.balance | ncurrency"></ff-static> <ff-btn-group flex="0 0 auto" ng-if="::dwInvoice.allowRemove !== \'false\'" class="buttons-row zero-height"> <ff-btn sense=remove size=xs></ff-btn> </ff-btn-group> </ff-row> '},bfRn:function(e,t,n){"use strict";var r=n("nbuU"),a=n.n(r),l=n("yCd9"),s=n.n(l),f=n("KB0Y"),i=n.n(f);t.a=angular.module("deskworks.dwAddress",["flexForms","deskworks.helper"]).directive("dwAddress",["$compile","$templateCache","$timeout","$translate","helper","optsAddressType","optsCountry","optsState",function(e,t,n,r,l,f,o,c){return{template:i.a,restrict:"A",scope:!0,controllerAs:"dwAddress",bindToController:{secondStreet:"<",notRequired:"<"},controller:["$scope","$element","$attrs",function(e,t,i){var d=this;d.types=s()(f).call(f,(function(e){return angular.extend(e,{name:r.instant(e.name)})})),d.countries=o,d.states=c,d.address=e.$eval(i.dwAddress),d.hasType=e.$eval(i.dwAddressType),d.onChangeCountry=function(){n((function(){"US"===d.address.country.id?d.address.state=a()(l).call(l,c.US,"CA"):angular.isObject(d.address.state)&&delete d.address.state}))}}]}}])},d4ov:function(e,t,n){"use strict";t.a=angular.module("deskworks.UserField",["ngResource","deskworks.config"]).factory("UserField",["$resource","deskworksConfig",function(e,t){var n=e(t.getApiAbsUrl("/user-fields/:fieldId"),{},{update:{method:"PUT"}});return{query:function(){return n.query().$promise},save:function(e){return e.id?n.update({fieldId:e.id},e).$promise:n.save(e).$promise.then((function(t){e.id=t.id}))},delete:function(e){return n.delete({fieldId:e}).$promise}}}])},iAzO:function(e,t,n){"use strict";n("zyqg");t.a=angular.module("dwModal",["angularModalService"]).factory("dwModal",["ModalService",function(e){return{show:function(t){var n={bodyClass:"dw-modal-open",appendElement:angular.element(document.querySelector(".snap-content"))};return e.showModal(angular.extend({},n,t)).then((function(e){var t=e.element[0].querySelector(".dw-modal-cross");return t&&t.focus(),e}))}}}])},oSeY:function(e,t,n){"use strict";n("wg5g");t.a=angular.module("deskworks.dwSelectUser",["deskworks.state","flexForms","deskworks.helper"]).directive("dwSelectUser",["$route","state","helper",function(e,t,n){return{restrict:"E",scope:!0,compile:function(e,t){var n=angular.element('<ff-static snap-close ng-click="searchUser()" role="button" aria-label="{{\'SIDEBAR.CURRENT_USER\' | translate}}" ng-class="{ ava: state.isUserSelected() && state.getCurrentUser().photo.indexOf(\'missing.png\') < 0 }"></ff-static>'),r=angular.element('<span class="placeholder" ng-hide="state.isUserSelected()" translate="SIDEBAR.CURRENT_USER.LABEL"></span>'),a=angular.element('<span class="company" ng-show="state.isUserSelected() && state.getCurrentUser().company" ng-bind="state.getCurrentUser().company"></span>'),l=angular.element('<span class="member" ng-show="state.isUserSelected()" ng-bind="[state.getCurrentUser().firstName, state.getCurrentUser().lastName].join(\' \')"></span>'),s=angular.element('<img class="avatar" ng-src="{{state.getCurrentUser().photo}}" ng-if="state.isUserSelected() && state.getCurrentUser().photo.indexOf(\'missing.png\') < 0" alt="{{[state.getCurrentUser().firstName, state.getCurrentUser().lastName].join(\' \')}}">');return n.append(r).append(a).append(l).append(s),e.append(n).append(s),this.link},link:function(r,a,l,s,f){r.state=t,r.helper=n,r.searchUser=function(){t.setParam("redirect",e.current&&e.current.scope&&e.current.scope.backPath?e.current.scope.backPath:t.getPath()),t.setPath("/user-search")}}}}])},oplH:function(e,t){e.exports='<label ng-if=$ctrl.layout class=ff-grid flex="1 0 180px" ng-repeat="filter in $ctrl.filterData" ng-class="\'mf-\' + filter.type"> <ff-label> <ff-checkbox name=role ff-model=filter.value ff-change=$ctrl.onChange(filter)>{{filter.name}}</ff-checkbox> </ff-label> </label> <label ng-if=!$ctrl.layout ng-repeat="filter in $ctrl.filterData" ng-class="\'mf-\' + filter.type"> <ff-checkbox name=role ff-model=filter.value ff-change=$ctrl.onChange(filter)>{{filter.name}}</ff-checkbox> </label> '},pMUn:function(e,t,n){},pZrh:function(e,t){e.exports='<label class=ff-row> <ff-label flex="0 0 132px"> <span translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE ng-class="{ req: ffBlock.editMode }"></span> </ff-label> <ff-select name=bankAccountHolderType ff-model=dwEC.check.bankAccountHolderType ff-options="type.name for type in dwEC.optsBankAccountHolderType" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_HOLDER_TYPE\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <span translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE ng-class="{ req: ffBlock.editMode }"></span> </ff-label> <ff-select name=bankAccountType ff-model=dwEC.check.bankAccountType ff-options="type.name for type in dwEC.optsBankAccountType" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_TYPE\' | translate}}"></ff-select> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <span translate=BILLING_PROFILE.E_CHECKS.BANK_NAME ng-class="{ req: ffBlock.editMode }"></span> </ff-label> <ff-text name=bankName ff-model=dwEC.check.bankName placeholder="Bank of America" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.BANK_NAME\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <span translate=BILLING_PROFILE.E_CHECKS.ROUTING_NUMBER ng-class="{ req: ffBlock.editMode }"></span> </ff-label> <ff-text name=bankRoutingNumber ff-model=dwEC.check.bankRoutingNumber ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ROUTING_NUMBER\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <span translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_NUMBER ng-class="{ req: ffBlock.editMode }"></span> </ff-label> <ff-text name=bankAccountNumber ff-model=dwEC.check.bankAccountNumber ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_NUMBER\' | translate}}"></ff-text> </label> <label class=ff-row> <ff-label flex="0 0 132px"> <span translate=BILLING_PROFILE.E_CHECKS.ACCOUNT_NAME ng-class="{ req: ffBlock.editMode }"></span> </ff-label> <ff-text name=fullName ff-model=dwEC.check.fullName placeholder="John Doe" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.E_CHECKS.ACCOUNT_NAME\' | translate}}"></ff-text> </label> '},px9Z:function(e,t){e.exports="<span>Check In / Out</span> <ff-btn-group> <ff-btn sense=checkIn size=sm ng-hide=$ctrl.log.checkInTime ff-click=\"$ctrl.checkInOut('checkIn')\">Check In</ff-btn> <ff-btn sense=checkOut size=sm ng-show=$ctrl.log.checkInTime ff-click=\"$ctrl.checkInOut('checkOut')\">Check Out</ff-btn> </ff-btn-group> "},qPfh:function(e,t,n){"use strict";n("JBxO"),n("FdtR");var r=n("JxTE"),a=n.n(r);t.a=angular.module("forbidStaff",[]).directive("forbidStaff",["$compile","session","state",function(e,t,n){return{restrict:"EA",scope:!0,controller:"forbidStaffCtrl as $forbidStaff",link:function(r,l){var s=l.children().css({display:"none"});t.wait().finally((function(){if(!n.isLoggedAdmin())return s.css({display:null});l.append(e(a.a)(r))}))}}}]).controller("forbidStaffCtrl",["$scope","$route","$timeout","state",function(e,t,n,r){this.signOut=function(){return r.logout({skipResetParams:!0}).finally((function(){return t.reload(),n(2e3)}))},this.home=function(){return r.resetParams(),r.setPath("/")}}])},"sh/D":function(e,t,n){"use strict";var r=n("WSeP"),a=n.n(r),l=n("nbuU"),s=n.n(l);t.a=angular.module("deskworks.ReservationField",["ngResource","deskworks.config"]).factory("ReservationField",["$resource","$filter","$timeout","deskworksConfig","helper",function(e,t,n,r,l){var f=e(r.getApiAbsUrl("/reservation-fields/:id"),{},{update:{method:"PUT"}});return{query:function(){return f.query().$promise.then((function(e){return function(e){var n=function(e){return e||0===e||!1===e},r={date:function(e,r){return n(r)?t("date")(r,"mediumDate"):"-"},customPrice:function(e,r){return n(r)?t("ncurrency")(r):"-"},extraPrice:function(e,r){return n(r)?t("ncurrency")(r):"-"},dropdown:function(e,t){var r;return n(t)?s()(r=e.options).call(r,(function(e){return e.id==t})).name:"-"},checkbox:function(e,r){return n(r)?t("yesno")(r):"-"}};return a()(e).call(e,(function(e){e.$$filter=r[e.type]||function(e,t){return n(t)?t:"-"}})),e}(e)})).then((function(e){return function(e){var n={date:function(e,n){return t("toDate")(n)},customPrice:function(e,t){return isNaN(+t)?t:+t},extraPrice:function(e,t){return isNaN(+t)?t:+t},dropdown:function(e,t){return isNaN(+t)?t:+t},number:function(e,t){return isNaN(+t)?t:+t},checkbox:function(e,t){return"true"===t||"false"!==t&&t}};return a()(e).call(e,(function(e){e.$$deserialize=n[e.type]||function(e,t){return t}})),e}(e)})).then((function(e){return function(e){var n={date:function(e,n){return t("date")(n,"yyyy-MM-dd")},customPrice:function(e,t){return isNaN(+t)?t:+t},extraPrice:function(e,t){return isNaN(+t)?t:+t},dropdown:function(e,t){return isNaN(+t)?t:+t},number:function(e,t){return isNaN(+t)?t:+t},checkbox:function(e,t){return"true"===t||"false"!==t&&t}};return a()(e).call(e,(function(e){e.$$serialize=n[e.type]||function(e,t){return t}})),e}(e)}))},save:function(e){return e.id?f.update({id:e.id},e).$promise:f.save(e).$promise.then((function(t){e.id=t.id}))},delete:function(e){return f.delete({id:e}).$promise}}}])},wg5g:function(e,t,n){},y1jH:function(e,t){e.exports='<label class=ff-row> <ff-label flex="0 0 116px"><span translate=BILLING_PROFILE.CREDIT_CARDS.NUMBER ng-class="{ req: ffBlock.editMode }"></span></ff-label> <ff-cc-number name=number ff-model=$ctrl.cc.number placeholder="4111 1111 1111 1111" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.NUMBER\' | translate}}" cc-type=$ctrl.ccType cc-types=$ctrl.ccTypes></ff-cc-number> </label> <ff-row> <label flex="0 0 60%"> <ff-label flex="0 0 116px"><span translate=BILLING_PROFILE.CREDIT_CARDS.EXPIRY ng-class="{ req: ffBlock.editMode }"></span></ff-label> <ff-select flex="1 1 1%" name=expiryMonth ff-model=$ctrl.cc.expiryMonth ff-options="opt.name for opt in $ctrl.optsCCExpiryMonth" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.EXPIRY.MONTH\' | translate}}" aria-label="{{\'BILLING_PROFILE.CREDIT_CARDS.EXPIRY.MONTH\' | translate}}"></ff-select> </label> <label flex="1 1 auto"> <ff-select flex="1 1 1%" name=expiryYear ff-model=$ctrl.cc.expiryYear ff-options="opt.name for opt in $ctrl.optsCCExpiryYear" ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.EXPIRY.YEAR\' | translate}}" aria-label="{{\'BILLING_PROFILE.CREDIT_CARDS.EXPIRY.YEAR\' | translate}}"></ff-select> </label> <label flex="0 0 76px" title="Security Code"> <ff-label flex="0 1 40px"><span translate=BILLING_PROFILE.CREDIT_CARDS.CVV ng-class="{ req: ffBlock.editMode }"></span></ff-label> <ff-text flex="1 1 1%" name=cvv ff-model=$ctrl.cc.ccv placeholder=123 ff-required=true ff-validate-alert="{{\'BILLING_PROFILE.CREDIT_CARDS.CVV\' | translate}}"></ff-text> </label> </ff-row> <ff-row> <label flex="0 0 60%"> <ff-label flex="0 0 116px"><span translate=BILLING_PROFILE.CREDIT_CARDS.NAME_ON_CARD ng-class="{ req: ffBlock.editMode }"></span></ff-label> <ff-text flex="1 1 1%" name=firstName ff-model=$ctrl.cc.firstName placeholder=John ff-required=true ff-validate-alert="{{\'USER_PROFILE.PERSONAL_INFO.FIRST_NAME\' | translate}}"></ff-text> </label> <label flex="1 1 auto"> <ff-text flex="1 1 1%" name=lastName ff-model=$ctrl.cc.lastName placeholder=Doe ff-required=true ff-validate-alert="{{\'USER_PROFILE.PERSONAL_INFO.LAST_NAME\' | translate}}"></ff-text> </label> </ff-row> '},ygJC:function(e,t,n){},yrhy:function(e,t,n){"use strict";t.a=angular.module("dwLoginDirective",[]).directive("dwLogin",["$compile","$translate",function(e,t){return{restrict:"AC",priority:30,terminal:!0,compile:function(n,r){var a=this;r.$set("minlength",r.minlength||4),r.$set("maxlength",r.maxlength||256),r.$set("ffPattern",r.ffPattern||/^\w[\w\.\-_@]+$/),r.$set("placeholder",r.placeholder||"jdoe");var l=t.instant("GLOBAL.LOGIN"),s=t.instant("GLOBAL.LOGIN.INVALID_CHARS");return r.$set("ffValidateAlert",r.ffValidateAlert||"{ field: '"+l+"', pattern: '"+s+"' }"),function(t,n,r){e(n,null,a.priority)(t)}}}}])},zTcH:function(e,t,n){"use strict";angular.module("deskworks.MessageBoardUserSettings",["ngResource","deskworks.config"]).factory("MessageBoardUserSettings",["$resource","$q","deskworksConfig","helper",function(e,t,n,r){var a=e(n.getApiAbsUrl("/dw-mail/message-board/users/:userId"),{},{update:{method:"PUT"}});return{get:function(e){return!e||r.isUid(e)?t.when({notification:"immediately"}):a.get({userId:e}).$promise},save:function(e,t){return a.update({userId:e},t).$promise}}}]);var r=n("WSeP"),a=n.n(r),l=(angular.module("deskworks.optsMessageBoardNotices",[]).factory("optsMessageBoardNotices",["$rootScope","$translate",function(e,t){var n=[{id:"immediately",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.IMMEDIATELY"},{id:"daily",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.DAILY"},{id:"weekly",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.WEEKLY"},{id:"never",_name:"USER_PROFILE.MESSAGE_BOARD_NOTICES.NEVER"}];function r(){a()(n).call(n,(function(e){e.name=t.instant(e._name)}))}return r(),e.$on("$setTranslationsSuccess",r),n}]),n("Bz93")),s=n.n(l);t.a=angular.module("deskworks.messageBoardUserSettings",["deskworks.MessageBoardUserSettings","deskworks.optsMessageBoardNotices"]).directive("messageBoardUserSettings",(function(){return{template:s.a,restrict:"EAC",scope:!0,controller:"MessageBoardUserSettingsCtrl as $ctrl",bindToController:{userId:"<",save:"="}}})).controller("MessageBoardUserSettingsCtrl",["$scope","$timeout","state","helper","dwAlerts","MessageBoardUserSettings","optsMessageBoardNotices",function(e,t,n,r,a,l,s){var f=this;function i(){return t((function(){return l.save(f.userId,f.settings).catch((function(e){return a.error(e,"Failed to save message board user settings.")}))}))}f.optsMessageBoardNotices=s,f.$onInit=function(){f.save=i,l.get(f.userId).catch((function(e){return a.error(e,"Failed to get message board user settings.")})).then((function(e){f.settings=e}))}}])},zyqg:function(e,t,n){}},[["QfWi",45,64,60,68,63,56,67,65,61,59,66,54,53,62,69,71,55,74,72,58,70,73,57,30,35,28,31,34,33,29]]]);