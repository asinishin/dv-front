(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"+1+s":function(e,t){e.exports="<div id=reservationReport class=gutter-v> <form name=formReservationReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-dates model=vm.config.reportDates embed=\"0 0 100px\"></report-dates> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},"+aob":function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("G0Vy"),l=r.n(a),s=r("WSeP"),i=r.n(s),u=r("D4RU"),d=r.n(u),c=r("NOor"),f=r.n(c),p=r("yCd9"),m=r.n(p),R=r("hsT8"),g=r.n(R),y=r("WgSX"),E=r("G6E5"),v=r("5/DJ"),h=r("LTMe");t.default=angular.module("deskworks.RentRollReportCtrl",[y.a.name,E.a.name,v.a.name,h.a.name,"deskworks.state","deskworks.reports.reportColumns","deskworks.reports.ReportBuilder","deskworks.RentRollReport","deskworks.rentRollReportColumns"]).controller("RentRollReportCtrl",["$scope","$timeout","$translate","$filter","helper","state","reportHelper","reportStyles","ReportBuilder","RentRollReport","rentRollReportColumns",function(e,t,r,n,a,s,u,c,p,R,y){var E,v=this;function h(e){var t,n,s,u={columns:g()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]},p=m()(n=["area","amount","discount","total"]).call(n,(function(e){var t;return{dataKey:e,amount:0,colIndex:f()(t=u.columns).call(t,(function(t){return t.dataKey===e}))}})),R=-1;if(d()(p).call(p,(function(e){var t;return(R=f()(t=u.columns).call(t,(function(t){return t.dataKey===e.dataKey})))>=0})),i()(s=e.reportData).call(s,(function(t){var n,s=v.reportBuilder.sortData(t.recurringCharges,e.orderBy),d=m()(n=angular.copy(p)).call(n,(function(e){return e.amount=0,e}));if(i()(s).call(s,(function(e,t){var r;u.rows.push(m()(r=u.columns).call(r,(function(t){return e[t.dataKey]}))),u.styles.push(t%2?null:c.rowOdd),i()(d).call(d,(function(t){t.amount+=e[t.dataKey]||0}))})),R>=0){var f,g,y,E=l()(f=Array(u.columns.length)).call(f,!1);if(R>0)E[R-1]=o()(g=o()(y="".concat(t.productCategoryCode," ")).call(y,t.productCategoryName," ")).call(g,r.instant("REPORTS.TOTAL"),":");i()(d).call(d,(function(e){E[e.colIndex]=a.round(e.amount)})),u.rows.push(E),u.styles.push(c.h2)}i()(p).call(p,(function(e,t){e.amount+=d[t].amount}))})),R>=0){var y,E;u.rows.push(l()(y=Array(u.columns.length)).call(y,!1)),u.styles.push(c.h3);var h=l()(E=Array(u.columns.length)).call(E,!1);R>0&&(h[R-1]="".concat(r.instant("RENT_ROLL_REPORT.TOTAL_RENT_ROLL"),":")),i()(p).call(p,(function(e){h[e.colIndex]=a.round(e.amount)})),u.rows.push(h),u.styles.push(c.h3)}return u}v.config={reportName:r.instant("RENT_ROLL_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:angular.copy(y)},getReportData:function(){return R.query({centerId:v.config.reportOptions.centerId||null})}},s.setPageTitle(v.config.reportName),v.reportBuilder=new p(v.config),e.$watch((function(){return{reportOptions:v.config.reportOptions,reportColumns:v.config.reportColumns,orderBy:v.config.orderBy}}),(function(){E&&(t.cancel(E),E=null),E=t((function(){v.pdf=null,angular.isUndefined(v.config.reportOptions.centerId)||v.reportBuilder.buildPdf(h).then((function(e){v.pdf=e}))}),100)}),!0),v.downloadPdf=function(){v.pdf&&u.download({blob:v.pdf,fileName:v.reportBuilder.getReportFileName("pdf")})},v.downloadCsv=function(){v.pdf&&u.download({blob:v.reportBuilder.buildCsv(h),fileName:v.reportBuilder.getReportFileName("csv")})}}])},"/1cb":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.optsReportByPeriod",[]).factory("optsReportByPeriod",["$rootScope","$translate","$filter",function(e,t,r){var n=r("date"),a=[{id:"week",_name:"REPORTS.BY_PERIOD.WEEK",format:function(e,t){return n(e,"MMM d")+" - "+n(t,"MMM d")}},{id:"month",_name:"REPORTS.BY_PERIOD.MONTH",format:function(e,t){return n(e,"MMM")}},{id:"quarter",_name:"REPORTS.BY_PERIOD.QUARTER",format:function(e,t){return n(e,"MMM")+" - "+n(t,"MMM")}},{id:"year",_name:"REPORTS.BY_PERIOD.YEAR",format:function(e,t){return n(e,"yyyy")}}];function l(){o()(a).call(a,(function(e){e.name=t.instant(e._name)}))}return l(),e.$on("$setTranslationsSuccess",l),a}])},"1THZ":function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),l=r.n(a),s=r("yKah"),i=r.n(s),u=r("WSeP"),d=r.n(u),c=r("lvz6"),f=r.n(c),p=r("hsT8"),m=r.n(p),R=r("Ekwr"),g=r.n(R),y=r("03wM"),E=r.n(y),v=r("fzuT"),h=r.n(v),T=r("G6E5"),O=r("WgSX"),C=r("5/DJ"),S=r("LTMe"),w=r("Amco"),N=r("ycie"),_=r("7ZQE"),D=r("3Ei7"),P=r("vRjO"),I=r("Tx5W");function b(e,t){var r=E()(e);if(g.a){var n=g()(e);t&&(n=m()(n).call(n,(function(t){return f()(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)d()(r=b(Object(n),!0)).call(r,(function(t){h()(e,t,n[t])}));else if(i.a)l()(e,i()(n));else{var a;d()(a=b(Object(n))).call(a,(function(t){o()(e,t,f()(n,t))}))}}return e}t.default=angular.module("deskworks.ReservationUtilizationReportCtrl",[O.a.name,"fileSaver","chart",T.a.name,C.a.name,S.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.ReservationUtilizationReport","deskworks.reportByPeriod","deskworks.reservationCategory.service",w.default.name,N.default.name,D.default.name,_.default.name,P.default.name,I.default.name]).controller("ReservationUtilizationReportCtrl",["$scope","$q","$location","$timeout","$translate","$filter","helper","dwAlerts","debounce","state","fileSaver","reportStyles","ReportBuilder","reportHelper","ReservationUtilizationReport","reservationUtilizationDetailedActualAggregate","reservationUtilizationDetailedActualReport","reservationUtilizationDetailedActualChart","reservationCategoryService","reservationUtilizationActualExpectedReport","reservationUtilizationActualExpectedAggregate","reservationUtilizationActualExpectedChart",function(e,t,r,n,o,a,l,s,i,u,d,c,f,p,m,R,g,y,E,v,h,T){var O=this,C=p.paramsChanged,S=p.loadResources;O.config={reportName:o.instant("RESERVATION_UTILIZATION_REPORT.REPORT_NAME")},O.params={fromDate:u.getParam("fromDate")?a("toDate")(u.getParam("fromDate")):moment().subtract(1,"month").startOf("month"),toDate:u.getParam("toDate")?a("toDate")(u.getParam("toDate")):moment().subtract(1,"month").endOf("month"),mode:u.getParam("mode")||"detailedActual"},O.resources=null,O.data=null,u.setPageTitle(O.config.reportName),e.$watch("$ctrl.params",i((function(e,r){u.setParam("mode",O.params.mode),O.pdf=null,O.report=null,l.pointFirstInvalid("#reservationUtilizationReport")||O.params.fromDate&&O.params.toDate&&(C(e,r,["fromDate","toDate","centerId"])&&(O.data=null),t.all({resources:O.resources||S((function(){return{categories:E.query(u.getCurrentCenterId()).catch((function(e){return s.error(e,"Failed to query reservation categories.")}))}})),data:O.data||m.query(O.params).catch((function(e){return s.error(e,"Failed to query report.")}))}).then((function(e){O.resources=e.resources,O.data=e.data})).then((function(){if("actualExpected"===O.params.mode){var e=h(O.data,O.resources.categories);O.report=v(O.params,e),O.chart=T(e)}else{var t=R(O.params,O.data);O.report=g(O.params,t),O.chart=y(t)}var r=p.buildPdf({config:M(M({},O.config),O.params),report:O.report,resources:O.resources});O.pdf=r.output("blob")})))}),100),!0),O.downloadPdf=function(){if(O.pdf){var e=p.getReportFileName({extension:"pdf",config:M(M({},O.config),O.params),resources:O.resources});p.download({blob:O.pdf,fileName:e})}},O.downloadCsv=function(){if(O.pdf){var e=p.getReportFileName({extension:"csv",config:M(M({},O.config),O.params),resources:O.resources}),t=p.buildCsv({report:O.report});p.download({blob:t,fileName:e})}}}])},"2S09":function(e,t,r){"use strict";r.r(t);var n=r("KK/u"),o=r.n(n),a=r("hsT8"),l=r.n(a),s=r("WSeP"),i=r.n(s),u=r("yCd9"),d=r.n(u),c=r("Njxs"),f=r("WgSX"),p=r("G6E5"),m=r("5/DJ"),R=r("LTMe");t.default=angular.module("deskworks.reports.membershipReport",[f.a.name,p.a.name,m.a.name,R.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOwnerRegion","deskworks.reports.membershipReport.service","deskworks.reports.membershipReportColumns",c.a.name]).controller("MembershipReportCtrl",["$scope","$timeout","$location","$translate","state","helper","reportHelper","ReportBuilder","MembershipReport","membershipReportColumns","fields","reportStyles",function(e,t,r,n,a,s,u,c,f,p,m,R){var g,y=this;function E(e){var t,r,n,a={columns:l()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:e.reportData,styles:[]};return a.rows=o()(u).call(u,a.rows,e.orderBy),a.rows=d()(r=a.rows).call(r,(function(e){var t;return d()(t=a.columns).call(t,(function(t){return e[t.dataKey]}))})),a.styles=d()(n=a.rows).call(n,(function(e,t){return t%2?null:R.rowOdd})),a}y.config={reportName:n.instant("MEMBERSHIP_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(p)},getReportData:function(){var e={centerId:y.config.reportOptions.centerId,ownerId:y.config.reportOwnerRegion.ownerId,regionId:y.config.reportOwnerRegion.regionId};return f.query(angular.extend(e,y.membershipFilter)).$promise.then((function(e){return d()(e).call(e,(function(e){return e.fields&&delete(e=angular.extend(e,e.fields)).fields,e}))}))}},a.setPageTitle(y.config.reportName),y.reportBuilder=new c(y.config),i()(angular).call(angular,m,(function(e){y.config.reportColumns.columns.push({dataKey:e.id,title:e.name,include:!1})})),e.$watch((function(){return{reportOptions:y.config.reportOptions,reportColumns:y.config.reportColumns,reportOwnerRegion:y.config.reportOwnerRegion,membershipFilter:y.membershipFilter,orderBy:y.config.orderBy}}),(function(e,r){g&&(t.cancel(g),g=null),g=t((function(){y.pdf=null,e&&r&&!angular.equals(e.membershipFilter,r.membershipFilter)&&(y.config.reportData=null),angular.isUndefined(y.config.reportOptions.centerId)||y.reportBuilder.buildPdf(E).then((function(e){y.pdf=e}))}),100)}),!0),y.downloadPdf=function(){y.pdf&&u.download({blob:y.pdf,fileName:y.reportBuilder.getReportFileName("pdf")})},y.downloadCsv=function(){y.pdf&&u.download({blob:y.reportBuilder.buildCsv(E),fileName:y.reportBuilder.getReportFileName("csv")})}}])},"3DDD":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.membershipReportColumns",[]).factory("membershipReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"company",_title:"MEMBERSHIP_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"name",_title:"MEMBERSHIP_REPORT.COLUMNS.NAME",include:!0,styles:{minCellWidth:150}},{dataKey:"address",_title:"MEMBERSHIP_REPORT.COLUMNS.ADDRESS",include:!1,styles:{minCellWidth:150}},{dataKey:"comments",_title:"MEMBERSHIP_REPORT.COLUMNS.COMMENTS",include:!1,styles:{minCellWidth:250}},{dataKey:"email",_title:"MEMBERSHIP_REPORT.COLUMNS.EMAIL",include:!1,styles:{minCellWidth:150}},{dataKey:"phone",_title:"MEMBERSHIP_REPORT.COLUMNS.PHONE",include:!1,styles:{minCellWidth:100}},{dataKey:"facility",_title:"MEMBERSHIP_REPORT.COLUMNS.FACILITY",include:!1,styles:{minCellWidth:150}},{dataKey:"joinDate",_title:"MEMBERSHIP_REPORT.COLUMNS.JOIN_DATE",include:!1,styles:{minCellWidth:100},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"occupation",_title:"MEMBERSHIP_REPORT.COLUMNS.OCCUPATION",include:!0,styles:{minCellWidth:150}},{dataKey:"pricelist",_title:"MEMBERSHIP_REPORT.COLUMNS.PRICE_LIST",include:!0,styles:{minCellWidth:160}},{dataKey:"status",_title:"MEMBERSHIP_REPORT.COLUMNS.STATUS",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"printerCodes",_title:"MEMBERSHIP_REPORT.COLUMNS.PRINTER_CODES",include:!1},{dataKey:"leadSource",_title:"MEMBERSHIP_REPORT.COLUMNS.LEAD_SOURCE",include:!1}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},"3Ei7":function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("WSeP"),l=r.n(a),s=r("YtL8"),i=r.n(s),u=r("5/DJ"),d=r("5q+n");t.default=angular.module("deskworks.reports.reservationUtilizationActualExpectedReport",[u.a.name,d.default.name]).factory("reservationUtilizationActualExpectedReport",["$filter","$translate","helper","reportStyles","reservationUtilizationActualExpectedColumns",function(e,t,r,n,a){return function(e,r){var s={columns:a,rows:[],styles:[]},u=i()(r).call(r,(function(e,t){return e+t.expectedUse}),0),d=i()(r).call(r,(function(e,t){return e+t.actualUse}),0);return s.rows.push([t.instant("REPORTS.TOTALS").toUpperCase(),u,d,u?100*d/u:0]),s.styles.push(n.h1),l()(r).call(r,(function(e){var t,r;s.rows.push(o()(t=s.columns).call(t,(function(t){return e[t.dataKey]}))),s.styles.push(n.h2),l()(r=e.units).call(r,(function(e,t){var r;s.rows.push(o()(r=s.columns).call(r,(function(t){return e[t.dataKey]}))),s.styles.push(t%2?null:n.rowOdd)}))})),s}}])},"4DcZ":function(e,t,r){"use strict";r.r(t);var n=r("YtL8"),o=r.n(n),a=r("yCd9"),l=r.n(a);t.default=angular.module("deskworks.reports.revenueForecastChart",[]).factory("revenueForecastChart",["$translate","$filter","helper","whitelabel",function(e,t,r,n){return function(r){var a,s,i=l()(a=r[0].totals).call(a,(function(e){return t("date")(t("toDate")(e.month+"-01"),"MMM yyyy")})),u=l()(s=r[0].totals).call(s,(function(e,t){return o()(r).call(r,(function(e,r){return e+r.totals[t].amount}),0)})),d=l()(u).call(u,(function(e){return u[0]-e}));return{type:"bar",data:{labels:i,datasets:[{name:e.instant("REVENUE_FORECAST_REPORT.COMMITTED_REVENUE"),data:u,backgroundColor:n.getProperty("--brand-color"),maxBarThickness:50},{name:e.instant("REVENUE_FORECAST_REPORT.AT_RISK_REVENUE"),data:d,backgroundColor:n.getProperty("--danger-color"),maxBarThickness:50}]},options:{tooltips:{mode:"index",intersect:!0,displayColors:!0,callbacks:{label:function(e,r){var n=r.datasets[e.datasetIndex];return n.name+": "+t("ncurrency")(n.data[e.index])}}},legend:{display:!1},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{min:0,callback:function(e){return t("ncurrency")(e,void 0,0)}}}]}}}}}])},"5+k5":function(e,t,r){"use strict";r.r(t);r("Muwe"),r("y89P");var n=r("yCd9"),o=r.n(n),a=r("WSeP"),l=r.n(a),s=r("29E8"),i=r("IE1r"),u=r("UDUI"),d=r("5bca"),c=r("5/DJ"),f=r("81mT"),p=r("Xjih");t.default=angular.module("deskworks.reports.ReportBuilder",[s.a.name,i.a.name,u.a.name,d.a.name,c.a.name,f.a.name,p.a.name,"deskworks.center.service"]).factory("ReportBuilder",["$rootScope","$q","$timeout","$window","$filter","$http","state","logo","jsPDF","csvMake","centerService","reportStyles","reportHeader","reportFooter","reportSort",function(e,t,r,n,a,s,i,u,d,c,f,p,m,R,g){return function(r){var n=this;e.$watch((function(){return r.reportOptions.centerId}),(function(e,t){e!==t&&(r.reportData=null,r.center=null)})),n.resolve=function(){return t.all({reportData:r.reportData||r.getReportData().catch((function(t){return e.showError(t,"Failed to load report data.")})),center:r.center||f.get(+r.reportOptions.centerId||i.getCurrentCenterId()).catch((function(t){return e.showError(t,"Failed to load center data.")})),logo:r.logo||u.getSiteLogo()}).then((function(e){return r.reportData=e.reportData,r.center=e.center,r.logo=e.logo,r}))},n.buildPdf=function(e,t){return n.generatePdf(e,t).then((function(e){return e.output("blob")}))},n.generatePdf=function(e,t,a){return n.resolve().then((function(n){var s,i,u=a||new d(r.reportOptions.paperLayout,"pt",r.reportOptions.paperSize),c=e(r);l()(s=c.rows).call(s,(function(e){var t;l()(t=c.columns).call(t,(function(t,r){e[r]&&!angular.isUndefined(e[r].content)||(e[r]={content:e[r]});var n=e[r];!1===n.content?n.content="":(t.pdf&&(n.content=t.pdf(n.content)),n.content=angular.isUndefined(n.content)||null===n.content||""===n.content?"-":n.content)}))}));var f={columns:o()(i=c.columns).call(i,(function(e){return e.title.toUpperCase()})),body:c.rows,headStyles:(t||p).headStyles,bodyStyles:(t||p).bodyStyles,columnStyles:(t||p).columnStyles,tableMargin:t&&t.tableMargin||(t||p).pageMargins,startY:r.startY||(t||p).startY||!1,didParseCell:function(e){var t=e.row,r=e.cell,n=e.column;if("body"===e.section){angular.extend(r.styles,{minCellWidth:50,fillColor:!1},c.styles[t.index],c.columns[n.index].styles)}else angular.extend(r.styles,c.columns[n.index].styles)},didDrawCell:function(e){return function(e,t){var r=e.cell,n=e.doc;return 0===e.column.index&&r.styles.borderColor&&r.styles.borderWidth&&(n.setLineWidth(r.styles.borderWidth),n.setDrawColor(r.styles.borderColor[0],r.styles.borderColor[1],r.styles.borderColor[2]),n.rect(e.settings.margin.left+r.styles.borderWidth/2,r.y+r.styles.borderWidth/2,e.table.getWidth(n.internal.pageSize.width)-r.styles.borderWidth,e.row.height-2*r.styles.borderWidth,"S")),!1}(e,c.columns)},didDrawPage:function(e){(r.reportHeader||m)(e.table,u,r),(r.reportFooter||R)(e.table,u,r)}};return f.margin=f.tableMargin||(t||p).pageMargins,u.autoTable(f),u}))},n.buildCsv=function(e){var t,n,a={charset:"utf-8"},s=e(r);return l()(t=s.rows).call(t,(function(e){var t;l()(t=s.columns).call(t,(function(t,r){e[r]&&angular.isDefined(e[r].content)&&(e[r]=e[r].content),t.csv&&(e[r]=t.csv(e[r])),e[r]=angular.isUndefined(e[r])||null===e[r]||!1===e[r]||""===e[r]?"":e[r]}))})),s.rows.unshift(o()(n=s.columns).call(n,(function(e){return e.title.toUpperCase()}))),new Blob([c.generate(s.rows,a)],{type:"text/csv;charset="+a.charset+";"})},n.getReportFileName=function(e,t){var n=!1===r.reportOptions.centerId||+r.reportOptions.centerId?r.center.shortName:"all-centers",o=r.reportName;return n=(n||"").toLowerCase().replace(/\s+/g,"-"),o=(o||"").toLowerCase().replace(/\s+/g,"-"),e=(e||"pdf").toLowerCase(),o+"-"+n+"-"+a("date")(moment(),"yyyyMMdd-HHmmss")+(t||"")+"."+e},n.sortData=g}}])},"5q+n":function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),l=r.n(a),s=r("yKah"),i=r.n(s),u=r("lvz6"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("Ekwr"),m=r.n(p),R=r("03wM"),g=r.n(R),y=r("WSeP"),E=r.n(y),v=r("fzuT"),h=r.n(v);function T(e,t){var r=g()(e);if(m.a){var n=m()(e);t&&(n=f()(n).call(n,(function(t){return d()(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)E()(r=T(Object(n),!0)).call(r,(function(t){h()(e,t,n[t])}));else if(i.a)l()(e,i()(n));else{var a;E()(a=T(Object(n))).call(a,(function(t){o()(e,t,d()(n,t))}))}}return e}t.default=angular.module("deskworks.reservationUtilizationActualExpectedColumns",[]).factory("reservationUtilizationActualExpectedColumns",["$rootScope","$translate","helper",function(e,t,r){var n=[{dataKey:"name",_title:"RESERVATION_UNITS.UNIT"},O({dataKey:"expectedUse",_title:"RESERVATION_UTILIZATION_REPORT.COLUMNS.EXPECTED_USAGE",styles:{halign:"right"}},o(1)),O({dataKey:"actualUse",_title:"RESERVATION_UTILIZATION_REPORT.COLUMNS.ACTUAL_USAGE",styles:{halign:"right"}},o(1)),{dataKey:"utilization",_title:"RESERVATION_UTILIZATION_REPORT.COLUMNS.UTILIZATION",styles:{halign:"right"},pdf:function(e){return r.round(e,1)+"%"},csv:function(e){return r.round(e,1)+"%"}}];function o(e){return{pdf:function(t){return r.round(t,e)},csv:function(t){return r.round(t,e)}}}function a(){E()(n).call(n,(function(e){e.title=t.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},"5ual":function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("KK/u"),l=r.n(a),s=r("yCd9"),i=r.n(s),u=r("WgSX"),d=r("G6E5"),c=r("5/DJ"),f=r("LTMe");t.default=angular.module("deskworks.WriteOffReportCtrl",[u.a.name,d.a.name,c.a.name,f.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.WriteOffReport","deskworks.writeOffReportColumns","deskworks.reportOrderBy"]).controller("WriteOffReportCtrl",["$scope","$timeout","$translate","$filter","$location","helper","state","reportHelper","reportStyles","ReportBuilder","WriteOffReport","writeOffReportColumns",function(e,t,r,n,a,s,u,d,c,f,p,m){var R,g=this;function y(e){var t,n,a,u={columns:e.reportColumns,rows:[],styles:[]},f=0;return u.rows=i()(t=l()(d).call(d,e.reportData,e.orderBy)).call(t,(function(e,t){var r;return u.styles.push(t%2?null:c.rowOdd),f+=e.amount,i()(r=u.columns).call(r,(function(t){return e[t.dataKey]}))})),u.rows.push(o()(n=i()(a=Array.apply(null,Array(u.columns.length-2))).call(a,Boolean.prototype.valueOf,!1)).call(n,[r.instant("REPORTS.TOTAL")+":",s.round(f)])),u.styles.push(c.h3),u}g.config={reportName:r.instant("WRITE_OFF_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:m,reportDates:{fromDate:moment().date(1),toDate:moment()},getReportData:function(){return p.query({centerId:g.config.reportOptions.centerId||null,fromDate:n("date")(g.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(g.config.reportDates.toDate,"yyyy-MM-dd")})}},u.setPageTitle(g.config.reportName),g.reportBuilder=new f(g.config),e.$watch((function(){return{reportOptions:g.config.reportOptions,reportDates:g.config.reportDates,orderBy:g.config.orderBy,orderSort:g.config.orderSort}}),(function(e,r){R&&(t.cancel(R),R=null),R=t((function(){if(g.pdf=null,!angular.isUndefined(g.config.reportOptions.centerId)&&g.config.reportDates.fromDate&&g.config.reportDates.toDate){var t=e.reportDates.fromDate,n=r.reportDates.fromDate;!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(g.config.reportData=null),t=e.reportDates.toDate,n=r.reportDates.toDate,!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(g.config.reportData=null),g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e}))}}),100)}),!0),g.downloadPdf=function(){g.pdf&&d.download({blob:g.pdf,fileName:g.reportBuilder.getReportFileName("pdf")})},g.downloadCsv=function(){g.pdf&&d.download({blob:g.reportBuilder.buildCsv(y),fileName:g.reportBuilder.getReportFileName("csv")})}}])},"6avE":function(e,t,r){"use strict";r.r(t);var n=r("xeXu"),o=r.n(n),a=r("WSeP"),l=r.n(a),s=r("hsT8"),i=r.n(s),u=r("yCd9"),d=r.n(u),c=r("WgSX"),f=r("G6E5"),p=r("5/DJ"),m=r("LTMe");t.default=angular.module("deskworks.reports.priceListReport",[c.a.name,f.a.name,p.a.name,m.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.priceListReport.service","deskworks.reports.priceListReportColumns"]).controller("PriceListReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","PriceListReport","priceListReportColumns",function(e,t,r,n,a,s,u,c,f,p,m){var R,g=this;function y(e){var t,a={columns:e.reportColumns.columns,rows:[],styles:[]};return l()(angular).call(angular,e.reportData.pricelists,(function(s){var i,u,f;o()(i=e.plNames).call(i,s.name)<0||((t=d()(u=Array.apply(null,Array(a.columns.length))).call(u,Boolean.prototype.valueOf,!1))[0]=n.instant("PRICE_LISTS.LIST.PRICE_LIST")+": "+s.name+" ("+n.instant("PRICE_LISTS.LAST_UPDATE")+": "+r("date")(s.updatedAt,"mediumDate")+")",a.rows.push(t),a.styles.push(c.h1),l()(f=s.productTypes).call(f,(function(e){var r,n;(t=d()(r=Array.apply(null,Array(a.columns.length))).call(r,Boolean.prototype.valueOf,!1))[0]=e.id,a.rows.push(t),a.styles.push(c.h2),l()(n=e.products).call(n,(function(e,t){var r;a.rows.push(d()(r=a.columns).call(r,(function(t){return e[t.dataKey]}))),a.styles.push(t%2?null:c.rowOdd)}))})))})),a}g.config={reportName:n.instant("PRICE_LISTS.LIST.HEADER"),reportOptions:{centerId:!1},reportColumns:{columns:angular.copy(m)},getReportData:function(){return p.get({centerId:a.getCurrentCenterId()}).$promise}},g.reportBuilder=new f(g.config),e.$watch((function(t){var r,n;return{reportOptions:g.config.reportOptions,plNames:d()(r=i()(n=e.vm.priceLists).call(n,(function(e){return e.include}))).call(r,(function(e){return e.name}))}}),(function(e){R&&(t.cancel(R),R=null),R=t((function(t){g.pdf=null,angular.isDefined(g.config.reportOptions.centerId)&&(g.config.plNames=e.plNames,g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e})))}),100)}),!0),g.downloadPdf=function(){g.pdf&&u.download({blob:g.pdf,fileName:g.reportBuilder.getReportFileName("pdf")})},g.downloadCsv=function(){g.pdf&&u.download({blob:g.reportBuilder.buildCsv(y),fileName:g.reportBuilder.getReportFileName("csv")})}}])},"7ZQE":function(e,t,r){"use strict";r.r(t);var n=r("hsT8"),o=r.n(n),a=r("YtL8"),l=r.n(a),s=r("yCd9"),i=r.n(s);t.default=angular.module("deskworks.reservationUtilizationActualExpectedAggregate",["deskworks.reports.optsReportByPeriod"]).factory("reservationUtilizationActualExpectedAggregate",["helper",function(e){return function(t,r){var n,a=i()(t).call(t,(function(e){var t,r=l()(t=e.groups).call(t,(function(e,t){var r;return e+l()(r=t.daily).call(r,(function(e,t){return e+t.usage}),0)}),0)||0,n=e.unitName,o=e.expectedUse,a=void 0===o?0:o;return{name:n,categoryId:e.categoryId,expectedUse:a,actualUse:r,utilization:a?100*r/a:0}}));return o()(n=i()(r).call(r,(function(t){var r=o()(a).call(a,(function(e){return e.categoryId===t.id})),n=l()(r).call(r,(function(e,t){return e+t.expectedUse}),0),s=l()(r).call(r,(function(e,t){return e+t.actualUse}),0);return{name:t.name,expectedUse:n,actualUse:s,utilization:n?e.round(100*s/n):0,units:r}}))).call(n,(function(e){return e.units&&e.units.length}))}}])},"8scq":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.membershipReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("MembershipReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["joinDate"]);return e(r.getApiAbsUrl("/centers/:centerId/membership-reports"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,n,function(e){return o()(angular).call(angular,e,(function(e){o()(angular).call(angular,e.fields,(function(t){e[t.id]=t.value})),delete e.fields})),e}]}})}])},"92Gs":function(e,t,r){"use strict";r.r(t);var n=r("YtL8"),o=r.n(n),a=r("29E8");t.default=angular.module("deskworks.reportGroupBy",[a.a.name]).factory("reportGroupBy",["reportSort",function(e){return function(t,r){var n;return o()(n=e(t,r)).call(n,(function(e,t){var n=e[e.length-1]||[],o=n[0]||{};return o[r]===t[r]||moment.isMoment(o[r])&&moment.isMoment(t[r])&&o[r].isSame(t[r],"day")||(n=[],e.push(n)),n.push(t),e}),[])}}])},Afy5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.RentRollReport",["ngResource","datesDeserializer","deskworks.config"]).factory("RentRollReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["recurringCharges.startDate","recurringCharges.terminationDate"]),o=e(r.getApiAbsUrl("/reports/rent-roll"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,n]}});return{query:function(e){return o.query(e).$promise}}}])},Amco:function(e,t,r){"use strict";r.r(t);var n=r("nbuU"),o=r.n(n),a=r("WSeP"),l=r.n(a),s=r("D4RU"),i=r.n(s),u=r("YtL8"),d=r.n(u),c=r("G0Vy"),f=r.n(c),p=r("yCd9"),m=r.n(p);t.default=angular.module("deskworks.reservationUtilizationDetailedActualAggregate",["deskworks.reports.optsReportByPeriod"]).factory("reservationUtilizationDetailedActualAggregate",["reservationUtilizationReportCreateGrid","helper",function(e,t){return function(r,n){var o={periods:e(r.fromDate,r.toDate,r.byPeriod)};return o.units=m()(n).call(n,(function(e){var r,n,a,s={name:e.unitName,totals:f()(r=Array(o.periods.length)).call(r,0),total:0};return s.groups=m()(n=e.groups).call(n,(function(e){var r,n;return{name:e.name,totals:d()(r=e.daily).call(r,(function(e,r){var n;return i()(n=o.periods).call(n,(function(n,o){if(r.date.isSameOrAfter(n.fromDate)&&r.date.isSameOrBefore(n.toDate)){var a=angular.isNumber(r.usage)?r.usage:0;return e[o]+=a,e[o]=t.round(e[o]),s.totals[o]+=a,s.totals[o]=t.round(s.totals[o]),!0}})),e}),f()(n=Array(o.periods.length)).call(n,0))}})),l()(a=s.groups).call(a,(function(e){var r;e.total=d()(r=e.totals).call(r,(function(e,t){return e+t}),0),s.total+=e.total,e.total=t.round(e.total)})),s.total=t.round(s.total),s})),o}}]).factory("reservationUtilizationReportCreateGrid",["$filter","optsReportByPeriod",function(e,t){return function(e,r,n){var a=[],l=o()(t).call(t,(function(e){return e.id===n})),s=e.clone().startOf(n);do{var i={fromDate:s.clone()};s.add(1,n+"s"),i.toDate=s.clone().subtract(1,"ms"),i.title=l.format(i.fromDate,i.toDate),a.push(i)}while(s.isSameOrBefore(r));return a}}])},BEjt:function(e,t){e.exports="<div id=reservationUsageReport class=gutter-v> <form name=formReservationUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\" style=margin-bottom:-15px> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <div class=gutter-v> <report-dates model=$ctrl.config.reportDates></report-dates> </div> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=$ctrl.config.reportOptions> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns></report-order-by> </report-options> <report-owner-region model=$ctrl.config.reportOwnerRegion report-data=$ctrl.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},"C/0G":function(e,t){e.exports="<div id=memberStatement class=gutter-v> <form name=formMemberStatement> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-dates model=vm.config.reportDates></report-dates> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <report-options model=vm.config.reportOptions></report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=MEMBER_STATEMENT.BTN_PDF></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=MEMBER_STATEMENT.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},"CR4+":function(e,t){e.exports="<div ng-controller=\"PriceListReportCtrl as rep\" class=gutter-v> <div class=ff-grid> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\" style=margin-left:auto> <report-options model=rep.config.reportOptions></report-options> </div> </div> <ff-btn-group> <ff-btn sense=download ff-click=rep.downloadPdf() ff-disabled=!rep.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=rep.downloadCsv() ff-disabled=!rep.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=rep.pdf></div> </ff-panel> </div> "},EKM0:function(e,t){e.exports="<div id=membershipReport class=gutter-v> <form name=formMembershipReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> <ff-panel> <ff-panel-header><span translate=MEMBERSHIP_REPORT.MEMBERSHIP.HEADER></span></ff-panel-header> <membership-filter ff-model=vm.membershipFilter layout=2col></membership-filter> </ff-panel> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},GGg2:function(e,t){e.exports="<div id=recurringBillingReport class=gutter-v> <form name=formRecurringBillingReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns levels=2></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},HFgu:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("KK/u"),l=r.n(a),s=r("hsT8"),i=r.n(s),u=r("WgSX"),d=r("G6E5"),c=r("5/DJ"),f=r("LTMe");t.default=angular.module("deskworks.reports.mailboxReport",[u.a.name,d.a.name,c.a.name,f.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOwnerRegion","deskworks.reports.mailboxReport.service","deskworks.reports.mailboxReportColumns"]).controller("MailboxReportCtrl",["$scope","$timeout","$translate","state","helper","reportHelper","ReportBuilder","MailboxReport","mailboxReportColumns","reportStyles",function(e,t,r,n,a,s,u,d,c,f){var p,m=this;function R(e){var t,r,n,a={columns:i()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:e.reportData,styles:[]};return a.rows=l()(s).call(s,a.rows,e.orderBy),a.rows=o()(r=a.rows).call(r,(function(e){var t;return o()(t=a.columns).call(t,(function(t){return e[t.dataKey]}))})),a.styles=o()(n=a.rows).call(n,(function(e,t){return t%2?null:f.rowOdd})),a}m.config={reportName:r.instant("MAILBOX_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(c)},getReportData:function(){return d.query({centerId:m.config.reportOptions.centerId,ownerId:m.config.reportOwnerRegion.ownerId,regionId:m.config.reportOwnerRegion.regionId}).$promise}},n.setPageTitle(m.config.reportName),m.reportBuilder=new u(m.config),e.$watch((function(e){return{reportOptions:m.config.reportOptions,reportColumns:m.config.reportColumns,orderBy:m.config.orderBy,reportOwnerRegion:m.config.reportOwnerRegion}}),(function(e){p&&(t.cancel(p),p=null),p=t((function(){m.pdf=null,angular.isUndefined(m.config.reportOptions.centerId)||m.reportBuilder.buildPdf(R).then((function(e){m.pdf=e}))}),100)}),!0),m.downloadPdf=function(){m.pdf&&s.download({blob:m.pdf,fileName:m.reportBuilder.getReportFileName("pdf")})},m.downloadCsv=function(){m.pdf&&s.download({blob:m.reportBuilder.buildCsv(R),fileName:m.reportBuilder.getReportFileName("csv")})}}])},IWno:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.mailboxReportColumns",[]).factory("mailboxReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"number",_title:"MAILBOX_REPORT.COLUMNS.BOX_ID",include:!0},{dataKey:"company",_title:"MAILBOX_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"fullName",_title:"MAILBOX_REPORT.COLUMNS.USER_NAME",include:!0,styles:{minCellWidth:120}},{dataKey:"handling",_title:"MAILBOX_REPORT.COLUMNS.HANDLING",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"key",_title:"MAILBOX_REPORT.COLUMNS.KEY_ID",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"names",_title:"MAILBOX_REPORT.COLUMNS.OTHER_NAMES",include:!0}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},IWz8:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.reservationReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("ReservationReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["reservations.createdAt","reservations.startTime","reservations.endTime"]),o=e(r.getApiAbsUrl("/centers/:centerId/reservation-reports"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{get:{method:"GET",transformResponse:[angular.fromJson,n]}});return{get:function(e){return o.get(e).$promise}}}])},Iy44:function(e,t,r){"use strict";r.r(t);r("8cZI");var n=r("KK/u"),o=r.n(n),a=r("G0Vy"),l=r.n(a),s=r("nbuU"),i=r.n(s),u=r("WSeP"),d=r.n(u),c=r("WgSX"),f=r("G6E5"),p=r("5/DJ"),m=r("LTMe");t.default=angular.module("deskworks.PassportReservationUsageReportCtrl",[c.a.name,f.a.name,p.a.name,m.a.name,"deskworks.state","deskworks.reports.reportDates","deskworks.reports.ReportBuilder","deskworks.PassportReservationUsageReport","deskworks.passportReservationUsageReportColumns"]).controller("PassportReservationUsageReportCtrl",["$scope","$timeout","$translate","$filter","state","helper","reportHelper","reportStyles","ReportBuilder","PassportReservationUsageReport","passportReservationUsageReportColumns",function(e,t,r,n,a,s,u,c,f,p,m){var R,g=this;function y(e){var t,n,a={columns:e.reportColumns,rows:[],styles:[]},f=[];return d()(t=e.reportData).call(t,(function(e){var t,n,o=0;a.rows.push([{content:s.join([e.userCompany,e.userName]," - "),colSpan:4}]),a.styles.push(c.h2),d()(t=e.usages).call(t,(function(e,t){o+=e.duration||0;var r=i()(f).call(f,(function(t){return t.name===e.unitName}));r?r.total+=e.duration:f.push({name:e.unitName,total:e.duration||0}),a.rows.push([e.unitName,e.duration,e.startTime,e.endTime]),a.styles.push(t%2?null:c.rowOdd)})),a.rows.push([{content:r.instant("REPORTS.TOTAL")+":",styles:{halign:"right"}},o,!1,!1]),a.styles.push(c.h3),a.rows.push(l()(n=Array(4)).call(n,!1)),a.styles.push(null)})),e.reportData.length&&(a.rows.push([{content:r.instant("PASSPORT_RESERVATION_USAGE_REPORT.TOTALS_BY_RESERVATION_UNIT"),colSpan:4}]),a.styles.push(c.h2)),d()(n=o()(u).call(u,f,"name")).call(n,(function(e){var t,r=l()(t=Array(4)).call(t,!1);r[0]=e.name,r[1]=e.total,a.rows.push(r),a.styles.push(c.h3)})),a}g.config={reportName:r.instant("PASSPORT_RESERVATION_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:m,reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return p.query({centerId:g.config.reportOptions.centerId||null,fromDate:n("date")(g.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(g.config.reportDates.toDate,"yyyy-MM-dd")})}},a.setPageTitle(g.config.reportName),g.config.reportDates.fromDate.subtract(1,"M").date(1),g.config.reportDates.toDate.date(0),g.reportBuilder=new f(g.config),e.$watch((function(){return{reportOptions:g.config.reportOptions,reportDates:g.config.reportDates}}),(function(e,r){R&&(t.cancel(R),R=null),R=t((function(){g.pdf=null;var t=e.reportDates.fromDate,n=r.reportDates.fromDate;!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(g.config.reportData=null),t=e.reportDates.toDate,n=r.reportDates.toDate,!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(g.config.reportData=null),g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e}))}),100)}),!0),g.downloadPdf=function(){g.pdf&&u.download({blob:g.pdf,fileName:g.reportBuilder.getReportFileName("pdf")})},g.downloadCsv=function(){g.pdf&&u.download({blob:g.reportBuilder.buildCsv(y),fileName:g.reportBuilder.getReportFileName("csv")})}}])},JAJz:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.securityDepositReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("SecurityDepositReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=t(["deposits.details.date"]),a=r(["deposits.balance","deposits.details.amount"]);return e(n.getApiAbsUrl("/reports/security-deposit"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,o,a]}})}])},Jqji:function(e,t,r){"use strict";r.r(t);var n=r("KK/u"),o=r.n(n),a=r("WSeP"),l=r.n(a),s=r("6RpP"),i=r.n(s),u=r("YtL8"),d=r.n(u),c=r("yCd9"),f=r.n(c),p=r("ipr/"),m=r.n(p),R=r("5/DJ"),g=r("G6E5"),y=r("rrwk");t.default=angular.module("deskworks.reports.revenueForecastData",[R.a.name,g.a.name,y.default.name]).factory("revenueForecastData",["$filter","$translate","helper","reportStyles","reportHelper","revenueForecastReportColumns",function(e,t,r,n,a,s){return function(r,u){var c,p,R,g,y,E={columns:m()(s).call(s),rows:[],styles:[]};if(!u||!u.length)return E;var v=f()(c=u[0].totals).call(c,(function(r,n){var o=n?e("date")(e("toDate")(r.month+"-01"),"MMM\nyyyy"):t.instant("REVENUE_FORECAST_REPORT.COLUMNS.CURRENT_MONTH");return E.columns.push({dataKey:r.month,title:o,styles:{halign:"right",cellWidth:"wrap"}}),d()(u).call(u,(function(e,t){return e+t.totals[n].amount}),0)})),h=t.instant("REVENUE_FORECAST_REPORT.COMMITTED_REVENUE");return E.styles.push(n.h3),E.rows.push(i()(p=[!1,h]).call(p,f()(v).call(v,(function(t){return e("ncurrency")(t)})))),h=t.instant("REVENUE_FORECAST_REPORT.AT_RISK_REVENUE"),E.styles.push(n.h3),E.rows.push(i()(R=[!1,h]).call(R,f()(v).call(v,(function(t){return e("ncurrency")(v[0]-t)})))),h=t.instant("REVENUE_FORECAST_REPORT.PERCENT_OF_CURRENT_MONTH"),E.styles.push(n.h3),E.rows.push(i()(g=[!1,h]).call(g,f()(v).call(v,(function(t){return e("number")(t/v[0]*100,2)+"%"})))),l()(y=o()(a).call(a,u,r.orderBy)).call(y,(function(t,r){var o,a;E.styles.push(r%2?null:n.rowOdd),E.rows.push(i()(o=[t.userCompany,t.userName]).call(o,f()(a=t.totals).call(a,(function(t){return e("ncurrency")(t.amount)}))))})),E}}])},KMep:function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),l=r.n(a),s=r("yKah"),i=r.n(s),u=r("lvz6"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("Ekwr"),m=r.n(p),R=r("03wM"),g=r.n(R),y=r("WSeP"),E=r.n(y),v=r("yCd9"),h=r.n(v),T=r("6RpP"),O=r.n(T),C=r("KK/u"),S=r.n(C),w=r("fzuT"),N=r.n(w),_=r("G6E5"),D=r("WgSX"),P=r("5/DJ"),I=r("LTMe");function b(e,t){var r=g()(e);if(m.a){var n=m()(e);t&&(n=f()(n).call(n,(function(t){return d()(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)E()(r=b(Object(n),!0)).call(r,(function(t){N()(e,t,n[t])}));else if(i.a)l()(e,i()(n));else{var a;E()(a=b(Object(n))).call(a,(function(t){o()(e,t,d()(n,t))}))}}return e}t.default=angular.module("deskworks.PassUsageReportCtrl",["debounce",D.a.name,P.a.name,I.a.name,"deskworks.state","deskworks.reports.reportDates","deskworks.reports.reportColumns","deskworks.reports.ReportBuilder","deskworks.PassUsageReport","deskworks.passUsageReportColumns",_.a.name]).controller("PassUsageReportCtrl",["$scope","$q","$filter","$translate","state","helper","dwAlerts","debounce","reportStyles","reportHelper","PassUsageReport","passUsageReportColumns",function(e,t,r,n,o,a,l,s,i,u,d,c){var f=this,p=u.paramsChanged,m=u.loadResources;f.config={reportName:n.instant("PASS_USAGE_REPORT.REPORT_NAME")},f.params={fromDate:o.getParam("fromDate")?r("toDate")(o.getParam("fromDate")):moment().startOf("month"),toDate:o.getParam("toDate")?r("toDate")(o.getParam("toDate")):moment().endOf("month"),orderBy:o.getParam("orderBy")||"memberName"},f.resources=null,f.data=null,f.columns=c,o.setPageTitle(f.config.reportName),e.$watch("$ctrl.params",s((function(e,r){f.pdf=null,f.report=null,a.pointFirstInvalid("#passUsageReport")||f.params.fromDate&&f.params.toDate&&(p(e,r,["fromDate","toDate","centerId"])&&(f.data=null),t.all({resources:f.resources||m(),data:f.data||d.query(f.params).catch((function(e){return l.error(e,"Failed to query report.")}))}).then((function(e){f.resources=e.resources,f.data=e.data})).then((function(){f.report=function(e,t){var r,o,l={columns:c,rows:[],styles:[]};t=S()(u).call(u,t,f.params.orderBy),l.rows=O()(r=l.rows).call(r,h()(t).call(t,(function(e,t){var r;return l.styles.push(t%2?null:i.rowOdd),h()(r=l.columns).call(r,(function(t){return e[t.dataKey]}))})));var s=0,d=0,p=0;E()(t).call(t,(function(e){s+=a.toNumber(e.passesUsedCost),d+=a.toNumber(e.passCreditAppliedCost),p+=a.toNumber(e.costBalance)})),s=a.round(s),d=a.round(d),p=a.round(p);var m={passesUsedCostTotal:s,passCreditAppliedCostTotal:d,costBalanceTotal:p},R=[],g={content:n.instant("PASS_USAGE_REPORT.TOTALS").toUpperCase()+":",styles:{halign:"left"}};E()(o=l.columns).call(o,(function(e){var t=m["".concat(e.dataKey,"Total")];(t||"number"==typeof t)&&R.push({content:t})})),"memberCompany"===l.columns[0].dataKey&&"memberName"===(l.columns[1]||{}).dataKey?(R.unshift({content:" "}),R.unshift(g)):"memberCompany"!==l.columns[0].dataKey&&"memberName"!==l.columns[0].dataKey||R.unshift(g);t.length&&(l.rows.unshift(R),l.styles.unshift(i.h2),l.rows.push(R),l.styles.push(i.h2));return l}(f.params,f.data);var e=u.buildPdf({config:M(M({},f.config),f.params),report:f.report,resources:f.resources});f.pdf=e.output("blob")})))}),100),!0),f.downloadPdf=function(){if(f.pdf){var e=u.getReportFileName({extension:"pdf",config:M(M({},f.config),f.params),resources:f.resources});u.download({blob:f.pdf,fileName:e})}},f.downloadCsv=function(){if(f.pdf){var e=u.getReportFileName({extension:"csv",config:M(M({},f.config),f.params),resources:f.resources}),t=u.buildCsv({report:f.report});u.download({blob:t,fileName:e})}}}])},KkfT:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reservationUsageReportColumns",[]).factory("reservationUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"memberCompany",_title:"REPORTS.COLUMNS.USER_COMPANY"},{dataKey:"memberName",_title:"REPORTS.COLUMNS.USER_NAME",defaultOrder:!0},{dataKey:"reservationCost",_title:"RESERVATION_USAGE_REPORT.COLUMNS.RESERVATION_COST",styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"reservationCreditApplied",_title:"RESERVATION_USAGE_REPORT.COLUMNS.RES_CREDITS_APPLIED",styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"reservationCostBalance",_title:"RESERVATION_USAGE_REPORT.COLUMNS.RES_COST_BALANCE",styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},"L+wq":function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.mailboxReport.service",["ngResource","deskworks.config"]).factory("MailboxReport",["$resource","deskworksConfig",function(e,t){return e(t.getApiAbsUrl("/centers/:centerId/mailbox-reports"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0}})}])},LJmX:function(e,t,r){"use strict";r.r(t);var n=r("KK/u"),o=r.n(n),a=r("hsT8"),l=r.n(a),s=r("nbuU"),i=r.n(s),u=r("03wM"),d=r.n(u),c=r("WSeP"),f=r.n(c),p=r("6RpP"),m=r.n(p),R=r("yCd9"),g=r.n(R),y=r("WgSX"),E=r("G6E5"),v=r("5/DJ"),h=r("LTMe");t.default=angular.module("deskworks.reports.reservationReport",[y.a.name,E.a.name,v.a.name,h.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOwnerRegion","deskworks.reports.reservationReport.service","deskworks.reports.reservationReportColumns"]).controller("ReservationReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","ReservationReport","reservationReportColumns","reservationFields",function(e,t,r,n,a,s,u,c,p,R,y,E){var v,h,T=this,O=g()(E).call(E,(function(e){return{dataKey:e.id,title:e.name,include:!1,pdf:function(t){return e.$$filter(e,t)},csv:function(t){return e.$$filter(e,t)}}}));function C(e){var t,r,n={columns:l()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:o()(u).call(u,e.reportData.reservations,e.orderBy),styles:[]};return n.rows=g()(r=n.rows).call(r,(function(e,t){var r;return n.styles.push(t%2?null:c.rowOdd),g()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))})),n}T.config={reportName:n.instant("RESERVATION_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:m()(v=angular.copy(y)).call(v,O)},reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return R.get({centerId:T.config.reportOptions.centerId,fromDate:r("date")(T.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:r("date")(T.config.reportDates.toDate,"yyyy-MM-dd"),ownerId:T.config.reportOwnerRegion.ownerId,regionId:T.config.reportOwnerRegion.regionId}).then((function(e){var t;return f()(t=e.reservations).call(t,(function(e){var t;f()(t=d()(e.fields)).call(t,(function(t){var r=i()(E).call(E,(function(e){return e.id===+t}));e[t]=r.$$deserialize(r,e.fields[t])})),delete e.fields})),e}))}},T.config.reportDates.toDate.add(7,"d"),a.setPageTitle(T.config.reportName),T.reportBuilder=new p(T.config),e.$watch((function(e){return{reportOptions:T.config.reportOptions,reportColumns:T.config.reportColumns,orderBy:T.config.orderBy,reportDates:T.config.reportDates,reportOwnerRegion:T.config.reportOwnerRegion}}),(function(e,r){h&&(t.cancel(h),h=null),h=t((function(t){if(T.pdf=null,!angular.isUndefined(T.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=r.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(T.config.reportData=null),n=e.reportDates.toDate,o=r.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(T.config.reportData=null),T.reportBuilder.buildPdf(C).then((function(e){T.pdf=e}))}}),100)}),!0),T.downloadPdf=function(){T.pdf&&u.download({blob:T.pdf,fileName:T.reportBuilder.getReportFileName("pdf")})},T.downloadCsv=function(){T.pdf&&u.download({blob:T.reportBuilder.buildCsv(C),fileName:T.reportBuilder.getReportFileName("csv")})}}])},LM7I:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.recurringBillingReportColumns",[]).factory("recurringBillingReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"userCompany",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"userName",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.MEMBER",include:!0,styles:{minCellWidth:100}},{dataKey:"centerName",_title:"REPORTS.COLUMNS.CENTER",include:!1},{dataKey:"lastBillDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.LAST_BILL_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"nextBillDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.NEXT_BILL_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"amount",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.AMOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"billingMethod",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.BILLING_METHOD",include:!0},{dataKey:"ccExpiry",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.CC_EXPIRY",include:!1,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"discount",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.DISCOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"productName",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.PRODUCT",include:!0,styles:{minCellWidth:120}},{dataKey:"description",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.DESCRIPTION",include:!1},{dataKey:"startDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.START_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"noticeDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.NOTICE_DATE",include:!1,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"noticePeriod",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.NOTICE_PERIOD",include:!1},{dataKey:"noticeRequiredBy",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.NOTICE_REQUIRED_BY",include:!1,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"terminate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.TERMINATION_DATE",include:!1,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"renewalDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.RENEWAL_DATE",include:!1,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"renewalTerm",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.RENEWAL_TERM",include:!1},{dataKey:"renewalNoticePeriod",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.RENEWAL_REMINDER",include:!1},{dataKey:"useForCheckInBilling",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.USE_FOR_CHECK_IN_BILLING",include:!1,styles:{halign:"center"},pdf:function(e){return t("yesno")(e)},csv:function(e){return t("yesno")(e)}},{dataKey:"total",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.TOTAL",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},Mmgn:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.priceListReportColumns",[]).factory("priceListReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"name",_title:"PRICE_LISTS.PRODUCTS.PRODUCT",include:!0},{dataKey:"passQty",_title:"PRICE_LISTS.PRODUCTS.PASSES",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"reservationCredit",_title:"PRICE_LISTS.PRODUCTS.CREDIT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"price",_title:"PRICE_LISTS.PRODUCTS.PRICE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},PjE5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.memberUsageReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("MemberUsageReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-usage-reports"),a=t(["checkInTime","checkOutTime"]),l=r(["usageHours","usagePasses"]);return e(o,{centerId:"@centerId",userId:"@userId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,a,l]}})}])},"SeF/":function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("yCd9"),l=r.n(a),s=r("WgSX"),i=r("G6E5"),u=r("5/DJ"),d=r("LTMe");t.default=angular.module("deskworks.reports.memberStatement",[s.a.name,i.a.name,u.a.name,d.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.memberStatement.service","deskworks.reports.memberStatementColumns"]).controller("MemberStatementCtrl",["$rootScope","$scope","$route","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","user","MemberStatement","memberStatementColumns",function(e,t,r,n,a,s,i,u,d,c,f,p,m,R){var g,y=this;function E(e){var t,r,n={columns:e.reportColumns.columns,rows:[],styles:[]};n.rows=l()(t=e.reportData.transactions).call(t,(function(e,t){var r;return n.styles.push(t%2?null:c.rowOdd),l()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))})),n.rows.unshift([!1,s.instant("MEMBER_STATEMENT.BALANCE_FORWARD")+":",!1,!1,e.reportData.balanceForward.amountBilled,e.reportData.balanceForward.amountPaid,e.reportData.balanceForward.balance]),n.styles.unshift(c.h2),n.rows.push([!1,s.instant("MEMBER_STATEMENT.TOTALS")+":",!1,!1,e.reportData.totals.amountBilled,e.reportData.totals.amountPaid,e.reportData.totals.balance]),n.styles.push(c.h2);var a=[],i=l()(r=e.reportData.depositTransactions).call(r,(function(e,t){var r;return a.push(t%2?null:c.rowOdd),l()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))}));return i.length>0&&(i.unshift([!1,s.instant("MEMBER_STATEMENT.SECURITY_DEPOSITS")+":",!1,!1,e.reportData.depositTotals.amountBilled,e.reportData.depositTotals.amountPaid,e.reportData.depositTotals.balance]),a.unshift(c.h2),n.rows=o()(i).call(i,n.rows),n.styles=o()(a).call(a,n.styles)),n}y.config={reportName:s.instant("MEMBER_STATEMENT.REPORT_NAME"),reportOptions:{centerId:!1},reportColumns:{columns:R},reportDates:{fromDate:moment(),toDate:moment()},reportFor:p.fullNameCompany,getReportData:function(){return m.get({centerId:i.getCurrentCenterId(),userId:i.getCurrentUserId(),fromDate:a("date")(y.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:a("date")(y.config.reportDates.toDate,"yyyy-MM-dd")}).$promise}},i.setPageTitle(s.instant("MEMBER_STATEMENT.PAGE_TITLE",{userName:y.config.reportFor})),y.config.reportDates.fromDate.subtract(1,"M"),y.reportBuilder=new f(y.config),t.$watch((function(e){return{reportOptions:y.config.reportOptions,reportDates:y.config.reportDates}}),(function(e,t){g&&(n.cancel(g),g=null),g=n((function(r){if(y.pdf=null,angular.isDefined(y.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=t.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(y.config.reportData=null),n=e.reportDates.toDate,o=t.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(y.config.reportData=null),y.reportBuilder.buildPdf(E).then((function(e){y.pdf=e}))}}),100)}),!0),y.downloadPdf=function(){y.pdf&&d.download({blob:y.pdf,fileName:y.reportBuilder.getReportFileName("pdf")})},e.$on("CHANGE-CENTER",r.reload)}])},SoPU:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.priceListReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("PriceListReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["pricelists.updatedAt"]);return e(r.getApiAbsUrl("/centers/:centerId/pricelist-reports"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,n]}})}])},Tx5W:function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("yCd9"),l=r.n(a),s=r("YtL8"),i=r.n(s);t.default=angular.module("deskworks.reports.reservationUtilizationDetailedActualChart",[]).factory("reservationUtilizationDetailedActualChart",["$translate","$filter","helper",function(e,t,r){return function(n){var a,s,u,d=r.round(i()(a=n.units).call(a,(function(e,t){return e+t.total}),0));return{type:"pie",data:{labels:l()(s=n.units).call(s,(function(e){return e.name})),datasets:[{data:l()(u=n.units).call(u,(function(e){return e.total}))}]},options:{tooltips:{callbacks:{label:function(e,n){var a,l,s=n.labels[e.index],i=n.datasets[0].data[e.index],u=r.round(i/d*100,1);return o()(a=o()(l="".concat(s,": ")).call(l,t("hours")(i)," (")).call(a,u,"%)")}}},legend:{display:!0,position:"right"},title:{display:!0,text:e.instant("RESERVATION_UTILIZATION_REPORT.CHART.TOTAL_TIME").toUpperCase()+": "+t("hours")(d)}}}}}])},U9c4:function(e,t,r){"use strict";r.r(t);var n=r("ipr/"),o=r.n(n),a=r("6RpP"),l=r.n(a),s=r("yCd9"),i=r.n(s),u=r("KK/u"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("WSeP"),m=r.n(p),R=r("WgSX"),g=r("G6E5"),y=r("5/DJ"),E=r("LTMe");t.default=angular.module("deskworks.reports.memberUsageReport",[R.a.name,g.a.name,y.a.name,E.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.memberUsageReport.service","deskworks.reports.memberUsageReportColumns"]).controller("MemberUsageReportCtrl",["$rootScope","$scope","$timeout","$filter","$route","$q","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","MemberUsageReport","memberUsageReportColumns",function(e,t,r,n,a,s,u,c,p,R,g,y,E,v){var h,T=this;T.config={reportName:u.instant("MEMBER_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:v},reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return E.query({centerId:T.config.reportOptions.centerId,userId:c.getCurrentUserId(),fromDate:n("date")(T.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(T.config.reportDates.toDate,"yyyy-MM-dd")}).$promise.then((function(e){return m()(angular).call(angular,e,(function(e){e.date=e.checkInTime.clone().hour(0).minute(0).second(0).millisecond(0)})),e}))}},c.setPageTitle(T.config.reportName),T.config.reportDates.fromDate.date(1),T.config.reportDates.toDate.add(1,"M").date(0),T.reportBuilder=new y(T.config),t.$watch((function(e){return{reportOptions:T.config.reportOptions,reportDates:T.config.reportDates,reportColumns:T.config.reportColumns,orderBy:T.config.orderBy}}),(function(e,t){h&&(r.cancel(h),h=null),h=r((function(r){if(T.pdf=null,angular.isDefined(T.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=t.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(T.config.reportData=null),n=e.reportDates.toDate,o=t.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(T.config.reportData=null),T.reportBuilder.buildPdf(C).then((function(e){T.pdf=e}))}}),100)}),!0),T.downloadPdf=function(){T.pdf&&R.download({blob:T.pdf,fileName:T.reportBuilder.getReportFileName("pdf")})},T.downloadCsv=function(){T.pdf&&R.download({blob:T.reportBuilder.buildCsv(C),fileName:T.reportBuilder.getReportFileName("csv")})};var O=e.$on("CHANGE-USER",a.reload);function C(e){var t,r,n={columns:f()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]},a=d()(R).call(R,e.reportData,e.orderBy),s=p.findIndexByKeyValue(n.columns,"dataKey","usageHours"),c=p.findIndexByKeyValue(n.columns,"dataKey","usagePasses"),y=i()(r=Array.apply(null,new Array(n.columns.length))).call(r,(function(e){return!1})),E=0,v=0;return m()(a).call(a,(function(t,r){var d;if(n.styles.push(r%2?null:g.rowOdd),n.rows.push(i()(d=n.columns).call(d,(function(e){return t[e.dataKey]}))),E+=t.usageHours?t.usageHours:0,v+=t.usagePasses?t.usagePasses:0,("date"===e.orderBy||"userName"===e.orderBy)&&(s>=0||c>=0)){var f,p="date"===e.orderBy?t[e.orderBy].unix():t[e.orderBy]||null;if(r<a.length-1&&(f="date"===e.orderBy?a[r+1][e.orderBy].unix():a[r+1][e.orderBy]||null),p!==f){var m,R,h;if(E=Math.round(100*E)/100,v=Math.round(100*v)/100,s>=0&&(R=l()(m=o()(y).call(y,0,Math.max(s-1,0))).call(m,[u.instant("MEMBER_USAGE_REPORT.TOTALS.SUBTOTAL")+":",E])),c>=0)s>=0?R.push(v):R=l()(h=o()(y).call(y,0,Math.max(c-1,0))).call(h,[u.instant("MEMBER_USAGE_REPORT.TOTALS.SUBTOTAL")+":",v]);n.rows.push(R),n.styles.push(g.h2),E=0,v=0}}})),n}t.$on("$destroy",O)}])},UUql:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.securityDepositReportColumns",[]).factory("securityDepositReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"userName",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.USER_NAME",include:!0,styles:{minCellWidth:120}},{dataKey:"userCompany",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"orderId",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.ORDER_ID",include:!1,styles:{halign:"right"}},{dataKey:"date",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.DATE",include:!1,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"amount",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.AMOUNT",include:!1,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"balance",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},UbAC:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("NOor"),l=r.n(a),s=r("yCd9"),i=r.n(s),u=r("KK/u"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("WgSX"),m=r("G6E5"),R=r("5/DJ"),g=r("LTMe");t.default=angular.module("deskworks.RecurringBillingChurnReportCtrl",[p.a.name,m.a.name,R.a.name,g.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.RecurringBillingChurnReport","deskworks.recurringBillingChurnReportColumns"]).controller("RecurringBillingChurnReportCtrl",["$scope","$timeout","$filter","$translate","state","reportHelper","reportStyles","ReportBuilder","RecurringBillingChurnReport","recurringBillingChurnReportColumns",function(e,t,r,n,a,s,u,c,p,m){var R,g,y=this;function E(e){var t,a,c,p={columns:f()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]};p.rows=d()(s).call(s,e.reportData.billings,e.orderBy),p.rows=i()(a=p.rows).call(a,(function(e,t){var r;return p.styles.push(t%2?null:u.rowOdd),i()(r=p.columns).call(r,(function(t){return e[t.dataKey]}))})),p.rows.push([{content:!1,colSpan:p.columns.length}]),p.styles.push(null);var m=[{name:"MONTHLY_RECURRING_BILLINGS",key:"monthly"},{name:"QUARTERLY_RECURRING_BILLINGS",key:"quarterly"},{name:"SEMIANNUAL_RECURRING_BILLINGS",key:"semiAnnual"},{name:"ANNUAL_RECURRING_BILLINGS",key:"annual"},{name:"AS_NEEDED_RECURRING_BILLINGS",key:"asNeeded"}],R=l()(c=p.columns).call(c,(function(e){return"total"===e.dataKey}));return R>=0&&o()(m).call(m,(function(t){var o=[{content:r("ncurrency")(e.reportData[t.key]),styles:{halign:"right"}}];R>0&&o.unshift({content:n.instant("RECURRING_BILLING_CHURN_REPORT.TOTALS.".concat(t.name))+":",colSpan:R,styles:{halign:"right"}}),R<p.columns.length-1&&o.push({content:!1,colSpan:p.columns.length-R-1}),p.rows.push(o),p.styles.push(u.h3)})),p}y.config={reportName:n.instant("RECURRING_BILLING_CHURN_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:angular.copy(m)},reportDates:{toDate:a.getParam("toDate")||(R=moment(),a.setParam("toDate",r("date")(R,"yyyy-MM-dd")),R)},getReportData:function(){return p.get({centerId:y.config.reportOptions.centerId,toDate:r("date")(y.config.reportDates.toDate,"yyyy-MM-dd")})}},a.setPageTitle(y.config.reportName),e.$watch("$ctrl.config.reportOptions.centerId",(function(e){var t=y.config.reportColumns.columns[0];t.readonly=!!e,t.readonly&&(t.include=!1),t.readonly&&"centerName"===y.config.orderBy&&(y.config.orderBy="userCompany")})),y.reportBuilder=new c(y.config),e.$watch((function(e){return{reportOptions:y.config.reportOptions,reportColumns:y.config.reportColumns,toDate:y.config.reportDates.toDate,orderBy:y.config.orderBy}}),(function(e,n){g&&(t.cancel(g),g=null),g=t((function(t){if(y.pdf=null,!angular.isUndefined(y.config.reportOptions.centerId)){var o=e.toDate,l=n.toDate;!moment.isMoment(o)||moment.isMoment(l)&&o.isSame(l)||(y.config.reportData=null,a.setParam("toDate",r("date")(e.toDate,"yyyy-MM-dd"))),y.reportBuilder.buildPdf(E).then((function(e){y.pdf=e}))}}),100)}),!0),y.downloadPdf=function(){y.pdf&&s.download({blob:y.pdf,fileName:y.reportBuilder.getReportFileName("pdf")})},y.downloadCsv=function(){y.pdf&&s.download({blob:y.reportBuilder.buildCsv(E),fileName:y.reportBuilder.getReportFileName("csv")})}}])},UxRA:function(e,t){e.exports="<div id=passportReservationUsageReport class=gutter-v> <form name=formPassportReservationUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.config.reportDates></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=$ctrl.config.reportOptions></report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},VbF8:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.rentRollReportColumns",[]).factory("rentRollReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"centerName",_title:"RENT_ROLL_REPORT.COLUMNS.CENTER",include:!1},{dataKey:"userCompany",_title:"RENT_ROLL_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"userName",_title:"RENT_ROLL_REPORT.COLUMNS.MEMBER",include:!1},{dataKey:"productName",_title:"RENT_ROLL_REPORT.COLUMNS.SUBSCRIPTION_ITEM",include:!0,defaultOrder:!0},{dataKey:"area",_title:"RENT_ROLL_REPORT.COLUMNS.AREA",include:!0,styles:{cellWidth:"wrap",halign:"center"}},{dataKey:"amount",_title:"RENT_ROLL_REPORT.COLUMNS.AMOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"discount",_title:"RENT_ROLL_REPORT.COLUMNS.DISCOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"total",_title:"RENT_ROLL_REPORT.COLUMNS.TOTAL",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"startDate",_title:"RENT_ROLL_REPORT.COLUMNS.START_DATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"terminationDate",_title:"RENT_ROLL_REPORT.COLUMNS.TERMINATION_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},Yes4:function(e,t,r){"use strict";r.r(t),t.default=angular.module("systemColors",["deskworks.helper"]).factory("systemColors",["$window","helper",function(e,t){var r={},n=angular.element('<div style="display: none"></div>');return n.append('<div class="text-text"></div>'),n.append('<div class="text-brand"></div>'),n.append('<div class="text-brand"></div>'),n.append('<div class="text-danger"></div>'),n.append("<div></div>"),n.append('<div class="sidebar-group-header"></div>'),document.body.appendChild(n[0]),r.text=t.rgb2hex(e.getComputedStyle(n.children()[0]).getPropertyValue("color"))||"#444",r.info=t.rgb2hex(e.getComputedStyle(n.children()[4]).getPropertyValue("color"))||"#4d4e4c",r.primary=t.rgb2hex(e.getComputedStyle(n.children()[5]).getPropertyValue("background-color"))||"#949594",r.warning=t.rgb2hex(e.getComputedStyle(n.children()[3]).getPropertyValue("color"))||"#ff9b00",n.remove(),r}])},Zdj5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.RevenueForecastReport",["ngResource","deskworks.config"]).factory("RevenueForecastReport",["$resource","$timeout","deskworksConfig",function(e,t,r){var n=e(r.getApiAbsUrl("/reports/revenue-forecast"),{},{query:{method:"GET",isArray:!0}});return{query:function(e){return n.query({centerId:e.centerId,monthCount:e.monthCount}).$promise}}}])},ZfRm:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("KK/u"),l=r.n(a),s=r("hsT8"),i=r.n(s),u=r("WgSX"),d=r("G6E5"),c=r("5/DJ"),f=r("LTMe");t.default=angular.module("deskworks.reports.recurringBillingReport",[u.a.name,d.a.name,c.a.name,f.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOwnerRegion","deskworks.reports.recurringBillingReport.service","deskworks.reports.recurringBillingReportColumns"]).controller("RecurringBillingReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","RecurringBillingReport","recurringBillingReportColumns",function(e,t,r,n,a,s,u,d,c,f,p){var m,R=this;function g(e){var t,r,a={columns:i()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:l()(u).call(u,e.reportData.billings,R.config.orderBy),styles:[]};a.rows=o()(r=a.rows).call(r,(function(e,t){var r;return a.styles.push(t%2?null:d.rowOdd),o()(r=a.columns).call(r,(function(t){return e[t.dataKey]}))}));var c,f,p,m,g,y,E,v,h=s.findIndexByKeyValue(a.columns,"dataKey","total");h>=0&&(f=(f=(f=s.findIndexByKeyValue(a.columns,"dataKey","description"))<0?s.findIndexByKeyValue(a.columns,"dataKey","productName"):f)<0?a.columns.length-2:f,a.rows.push(o()(p=Array.apply(null,Array(a.columns.length))).call(p,Boolean.prototype.valueOf,!1)),a.styles.push(null),(c=o()(m=Array.apply(null,Array(a.columns.length))).call(m,Boolean.prototype.valueOf,!1))[f]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.MONTHLY")+":",c[h]=e.reportData.totalMonthly,a.rows.push(c),a.styles.push(d.h3),(c=o()(g=Array.apply(null,Array(a.columns.length))).call(g,Boolean.prototype.valueOf,!1))[f]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.QUARTERLY")+":",c[h]=e.reportData.totalQuarterly,a.rows.push(c),a.styles.push(d.h3),(c=o()(y=Array.apply(null,Array(a.columns.length))).call(y,Boolean.prototype.valueOf,!1))[f]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.SEMI_ANNUAL")+":",c[h]=e.reportData.totalSemiAnnual,a.rows.push(c),a.styles.push(d.h3),(c=o()(E=Array.apply(null,Array(a.columns.length))).call(E,Boolean.prototype.valueOf,!1))[f]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.ANNUAL")+":",c[h]=e.reportData.totalAnnual,a.rows.push(c),a.styles.push(d.h3),(c=o()(v=Array.apply(null,Array(a.columns.length))).call(v,Boolean.prototype.valueOf,!1))[f]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.AS_NEEDED")+":",c[h]=e.reportData.totalAsNeeded,a.rows.push(c),a.styles.push(d.h3));return a}R.config={reportName:n.instant("RECURRING_BILLINGS_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:angular.copy(p)},reportOwnerRegion:{},getReportData:function(){return f.get({centerId:R.config.reportOptions.centerId,ownerId:R.config.reportOwnerRegion.ownerId,regionId:R.config.reportOwnerRegion.regionId}).$promise}},a.setPageTitle(R.config.reportName),R.reportBuilder=new c(R.config),e.$watch((function(e){return{reportOptions:R.config.reportOptions,reportColumns:R.config.reportColumns,orderBy:R.config.orderBy,reportOwnerRegion:R.config.reportOwnerRegion}}),(function(e){m&&(t.cancel(m),m=null),m=t((function(e){R.pdf=null,angular.isUndefined(R.config.reportOptions.centerId)||R.reportBuilder.buildPdf(g).then((function(e){R.pdf=e}))}),100)}),!0),R.downloadPdf=function(){R.pdf&&u.download({blob:R.pdf,fileName:R.reportBuilder.getReportFileName("pdf")})},R.downloadCsv=function(){R.pdf&&u.download({blob:R.reportBuilder.buildCsv(g),fileName:R.reportBuilder.getReportFileName("csv")})}}])},aHVT:function(e,t){e.exports="<div id=writeOffReport class=gutter-v> <form name=formWriteOffReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.config.reportDates></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=$ctrl.config.reportOptions> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},aRIa:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.memberStatement.service",["ngResource","datesDeserializer","deskworks.config"]).factory("MemberStatement",["$resource","$q","datesDeserializer","deskworksConfig",function(e,t,r,n){var o=r(["transactions.date","depositTransactions.date"]);return e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-statements"),{centerId:"@centerId",userId:"@userId",fromDate:"@fromDate",toDate:"@toDate"},{get:{method:"GET",transformResponse:[angular.fromJson,o]}})}])},b2oW:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("nbuU"),l=r.n(a);t.default=angular.module("deskworks.recurringBillingChurnReportColumns",["deskworks.userProfile.optsMembershipStatus","deskworks.userProfile.optsBillingMethod"]).factory("recurringBillingChurnReportColumns",["$rootScope","$filter","$translate","optsMembershipStatus","optsBillingMethod",function(e,t,r,n,a){var s=[{dataKey:"centerName",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.CENTER"},{dataKey:"userCompany",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.COMPANY",include:!0,defaultOrder:!0,styles:{minCellWidth:60}},{dataKey:"userName",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.MEMBER",include:!0},{dataKey:"userMembershipStatus",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.MEMBER_STATUS",include:!0,styles:{halign:"center"},pdf:function(e){return(l()(n).call(n,(function(t){return t.id===e}))||{}).name||e},csv:function(e){return(l()(n).call(n,(function(t){return t.id===e}))||{}).name||e}},{dataKey:"productName",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.RECURRING_BILLING_ITEM",include:!0},{dataKey:"billingMethod",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.BILLING_METHOD",include:!0,styles:{halign:"center"},pdf:function(e){return(l()(a).call(a,(function(t){return t.id===e}))||{}).name||e},csv:function(e){return(l()(a).call(a,(function(t){return t.id===e}))||{}).name||e}},{dataKey:"amount",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.AMOUNT",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"discount",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.DISCOUNT",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"total",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.TOTAL",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"startDate",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.START_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e)},csv:function(e){return t("date")(e)}},{dataKey:"terminationDate",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.TERMINATION_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e)},csv:function(e){return t("date")(e)}},{dataKey:"daysActive",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.DAYS_ACTIVE",include:!0,styles:{halign:"right"}}];function i(){o()(s).call(s,(function(e){e.title=r.instant(e._title)}))}return i(),e.$on("$setTranslationsSuccess",i),s}])},dd2W:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.recurringBillingReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("RecurringBillingReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var a=r(["billings.total","billings.discount","billings.amount","billings.noticePeriod","billings.renewalTerm","billings.renewalNoticePeriod"]),l=t(["billings.lastBillDate","billings.nextBillDate","billings.startDate","billings.ccExpiry","billings.terminate","billings.noticeDate","billings.renewalDate"]);return e(n.getApiAbsUrl("/centers/:centerId/recurring-billing-reports"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,l,a,function(e){var t;return e=angular.fromJson(e),o()(t=e.billings).call(t,(function(e){e.renewalDate&&e.noticePeriod&&(e.noticeRequiredBy=new Date(e.renewalDate-24*e.noticePeriod*36e5))})),e}]}})}])},fKuI:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.WriteOffReport",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("WriteOffReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=t(["date"]),a=r(["amount"]),l=e(n.getApiAbsUrl("/write-off-report"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,o,a]}});return{query:function(e){return l.query(e).$promise}}}])},h0ZB:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.writeOffReportColumns",[]).factory("writeOffReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"userCompany",_title:"WRITE_OFF_REPORT.COLUMNS.COMPANY"},{dataKey:"userName",_title:"WRITE_OFF_REPORT.COLUMNS.NAME",defaultOrder:!0},{dataKey:"orderId",_title:"WRITE_OFF_REPORT.COLUMNS.ORDER_ID",styles:{halign:"right"}},{dataKey:"date",_title:"WRITE_OFF_REPORT.COLUMNS.DATE",styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"amount",_title:"WRITE_OFF_REPORT.COLUMNS.AMOUNT",styles:{halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},hUWN:function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),l=r.n(a),s=r("yKah"),i=r.n(s),u=r("WSeP"),d=r.n(u),c=r("lvz6"),f=r.n(c),p=r("hsT8"),m=r.n(p),R=r("Ekwr"),g=r.n(R),y=r("03wM"),E=r.n(y),v=r("fzuT"),h=r.n(v),T=r("lRNC"),O=r.n(T),C=r("XX2w"),S=r.n(C),w=r("ipr/"),N=r.n(w),_=r("yCd9"),D=r.n(_),P=r("G6E5"),I=r("WgSX"),b=r("5/DJ"),M=r("LTMe"),A=r("Jqji"),U=r("4DcZ");function k(e,t){var r=E()(e);if(g.a){var n=g()(e);t&&(n=m()(n).call(n,(function(t){return f()(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)d()(r=k(Object(n),!0)).call(r,(function(t){h()(e,t,n[t])}));else if(i.a)l()(e,i()(n));else{var a;d()(a=k(Object(n))).call(a,(function(t){o()(e,t,f()(n,t))}))}}return e}t.default=angular.module("deskworks.RevenueForecastReportCtrl",["debounce","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reportOrderBy","deskworks.RevenueForecastReport","deskworks.revenueForecastReportColumns",I.a.name,P.a.name,b.a.name,M.a.name,A.default.name,U.default.name]).controller("RevenueForecastReportCtrl",["$scope","$timeout","$filter","$translate","$q","systemColors","debounce","state","helper","reportStyles","reportHelper","dwAlerts","RevenueForecastReport","revenueForecastReportColumns","revenueForecastData","revenueForecastChart",function(e,t,r,n,o,a,l,s,i,u,d,c,f,p,m,R){var g,y,E,v=this,h=d.paramsChanged,T=d.loadResources;v.config={reportName:n.instant("REVENUE_FORECAST_REPORT.REPORT_NAME")},v.params={monthCount:s.getParam("monthCount")?+s.getParam("monthCount"):6,orderBy:s.getParam("orderBy")||"userName"},v.resources=null,v.data=null,v.columns=p,s.setPageTitle(v.config.reportName),v.optsMonthCount=D()(g=N()(y=S()(O()(E=Array(13)).call(E))).call(y,1)).call(g,(function(e){return{id:e,name:r("months")(e)}})),e.$watch("$ctrl.params",l((function(e,t){s.setParam("monthCount",v.params.monthCount),v.pdf=null,v.report=null,i.pointFirstInvalid("#revenueForecastReport")||(h(e,t,["monthCount","centerId"])&&(v.data=null),o.all({resources:v.resources||T(),data:v.data||f.query(v.params).catch((function(e){return c.error(e,"Failed to query report.")}))}).then((function(e){v.resources=e.resources,v.data=e.data})).then((function(){v.report=m(v.params,v.data);var e=d.buildPdf({config:L(L({},v.config),v.params),report:v.report,resources:v.resources});v.pdf=e.output("blob"),v.chart=R(v.data)})))}),100),!0),v.downloadPdf=function(){if(v.pdf){var e=d.getReportFileName({extension:"pdf",config:L(L({},v.config),v.params),resources:v.resources});d.download({blob:v.pdf,fileName:e})}},v.downloadCsv=function(){if(v.pdf){var e=d.getReportFileName({extension:"csv",config:L(L({},v.config),v.params),resources:v.resources}),t=d.buildCsv({report:v.report});d.download({blob:t,fileName:e})}}}])},haNf:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.memberStatementColumns",[]).factory("memberStatementColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"MEMBER_STATEMENT.COLUMNS.DATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"item",_title:"MEMBER_STATEMENT.COLUMNS.ITEM",include:!0},{dataKey:"price",_title:"MEMBER_STATEMENT.COLUMNS.UNIT_PRICE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"qty",_title:"MEMBER_STATEMENT.COLUMNS.QUANTITY",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"amountBilled",_title:"MEMBER_STATEMENT.COLUMNS.AMOUNT_BILLED",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"amountPaid",_title:"MEMBER_STATEMENT.COLUMNS.AMOUNT_PAID",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"balance",_title:"MEMBER_STATEMENT.COLUMNS.BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},hlyU:function(e,t,r){"use strict";r.r(t);r("Muwe"),r("y89P"),r("X5mX");var n=r("ipr/"),o=r.n(n),a=r("6RpP"),l=r.n(a),s=r("NOor"),i=r.n(s),u=r("xeXu"),d=r.n(u),c=r("WSeP"),f=r.n(c),p=r("yCd9"),m=r.n(p),R=r("KK/u"),g=r.n(R),y=r("hsT8"),E=r.n(y),v=r("WgSX"),h=r("G6E5"),T=r("5/DJ"),O=r("LTMe");t.default=angular.module("deskworks.reports.securityDepositReport",[v.a.name,h.a.name,T.a.name,O.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOwnerRegion","deskworks.reports.securityDepositReport.service","deskworks.reports.securityDepositReportColumns"]).controller("SecurityDepositReportCtrl",["$scope","$timeout","$filter","$translate","$location","state","helper","reportHelper","reportStyles","ReportBuilder","SecurityDepositReport","securityDepositReportColumns",function(e,t,r,n,a,s,u,c,p,R,y,v){var h,T,O=this;function C(e){var t,r,a,s,u,R={columns:e.showDetails?e.reportColumns:O.reportColumnsFiltered,rows:[],styles:[]},y=g()(c).call(c,e.reportData.deposits,e.orderBy),E=m()(t=Array.apply(null,new Array(R.columns.length))).call(t,(function(e){return!1}));(f()(y).call(y,(function(t,r){var n,o;(R.styles.push(e.showDetails?p.h2:r%2?null:p.rowOdd),R.rows.push(m()(n=R.columns).call(n,(function(e){var r;return!(d()(r=["orderId","date","amount"]).call(r,e.dataKey)>=0)&&t[e.dataKey]}))),e.showDetails)&&f()(o=t.details).call(o,(function(e,t){R.styles.push(t%2?null:p.rowOdd),R.rows.push([!1,!1,e.orderId,e.date,e.amount,!1])}))})),R.rows.push(E),R.styles.push(null),(a=i()(r=R.columns).call(r,(function(e){return"balance"===e.dataKey})))>=0)&&(R.rows.push(l()(s=l()(u=o()(E).call(E,0,Math.max(a-1,0))).call(u,a>0?[{content:n.instant("SECURITY_DEPOSIT_REPORT.TOTALS.TOTAL")+":",styles:{halign:"right"}},e.reportData.total]:[e.reportData.total])).call(s,o()(E).call(E,0,E.length-a-1))),R.styles.push(p.h3));return R}O.config={reportName:n.instant("SECURITY_DEPOSIT_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:v,toDate:moment(),showDetails:!1,getReportData:function(){return y.get({centerId:O.config.reportOptions.centerId,ownerId:O.config.reportOwnerRegion.ownerId,regionId:O.config.reportOwnerRegion.regionId,toDate:r("date")(O.config.toDate,"yyyy-MM-dd")}).$promise}},O.reportColumnsFiltered=E()(h=O.config.reportColumns).call(h,(function(e){return e.include})),s.setPageTitle(O.config.reportName),e.$watch((function(e){return a.search().showDetails}),(function(e){O.config.showDetails=e})),e.$watch("$ctrl.config.showDetails",(function(e){a.search("showDetails",e||null).replace()})),e.$watch((function(){return a.search().toDate}),(function(e){var t=r("toDate")(e);O.config.toDate=moment.isMoment(t)&&!O.config.toDate.isSame(t)?t:O.config.toDate})),e.$watch("$ctrl.config.toDate",(function(e){moment.isMoment(e)&&a.search("toDate",r("date")(e,"yyyy-MM-dd")).replace()})),O.reportBuilder=new R(O.config),O.getToday=function(){return moment()},e.$watch((function(){return{reportOptions:O.config.reportOptions,reportOwnerRegion:O.config.reportOwnerRegion,toDate:O.config.toDate,orderBy:O.config.orderBy,showDetails:O.config.showDetails}}),(function(e,r){T&&(t.cancel(T),T=null),T=t((function(t){if(!(moment.isMoment(e.toDate)&&e.toDate.isAfter(moment(),"day")||(O.pdf=null,angular.isUndefined(O.config.reportOptions.centerId)))){var n=e.toDate,o=r.toDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(O.config.reportData=null),O.reportBuilder.buildPdf(C).then((function(e){O.pdf=e}))}}),100)}),!0),O.downloadPdf=function(){O.pdf&&c.download({blob:O.pdf,fileName:O.reportBuilder.getReportFileName("pdf")})},O.downloadCsv=function(){O.pdf&&c.download({blob:O.reportBuilder.buildCsv(C),fileName:O.reportBuilder.getReportFileName("csv")})}}])},iEZ8:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.PassportReservationUsageReport",["ngResource","datesDeserializer","deskworks.config"]).factory("PassportReservationUsageReport",["$resource","datesDeserializer","deskworksConfig","$q",function(e,t,r,n){var a=t(["usages.startTime","usages.endTime"]),l=e(r.getApiAbsUrl("/reports/passport-reservation-usage"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,a,function(e){return o()(e).call(e,(function(e){var t;o()(t=e.usages).call(t,(function(e){e.duration=e.endTime-e.startTime}))})),e}]}});return{query:function(e){return l.query(e).$promise}}}])},iTQj:function(e,t){e.exports="<div id=mailboxReport class=gutter-v> <form name=formMailboxReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},kJoc:function(e,t){e.exports='<div id=securityDepositReport class=gutter-v> <form name=formSecurityDepositReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"></div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <div class=gutter-v> <report-options model=$ctrl.config.reportOptions> <label class=ff-row> <ff-label flex="0 0 100px" ff-required=true><span translate=REPORTS.PERIOD.TO_DATE></span></ff-label> <ff-date flex="0 0 124px" name=toDate ff-model=$ctrl.config.toDate ff-date-order="{ early: $ctrl.config.toDate, late: $ctrl.getToday() }" ff-validate-alert="{ field: \'Selected date\', late: \'or equal to today\' }"></ff-date> <span class=ff-label></span> </label> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.reportColumnsFiltered></report-order-by> <ff-row> <ff-label flex="0 0 100px"><span translate=SECURITY_DEPOSIT_REPORT.SHOW_DETAILS></span></ff-label> <ff-static><ff-checkbox ff-model=$ctrl.config.showDetails></ff-checkbox></ff-static> </ff-row> </report-options> <report-owner-region model=$ctrl.config.reportOwnerRegion report-data=$ctrl.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> '},lKYt:function(e,t){e.exports="<div id=memberUsageReport class=gutter-v> <form name=formMemberUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <div class=gutter-v> <report-dates model=vm.config.reportDates></report-dates> <report-columns model=vm.config.reportColumns></report-columns> </div> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},liLb:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.RecurringBillingChurnReport",["ngResource","datesDeserializer","deskworks.config"]).factory("RecurringBillingChurnReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["billings.startDate","billings.terminationDate"]),o=e(r.getApiAbsUrl("/reports/recurring-billing-churn"),{},{get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,n]}});return{get:function(e){return o.get(e).$promise}}}])},nJHl:function(e,t){e.exports="<div id=reservationUtilizationReport class=gutter-v> <form> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.params></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=$ctrl.params all-centers=false> <ff-row> <ff-label flex=\"0 0 100px\"><span translate=RESERVATION_UTILIZATION_REPORT.MODE></span></ff-label> <ff-static> <div class=\"ff-grid gutter-h-half\"> <label flex=\"0 0 auto\"> <ff-radio ff-model=$ctrl.params.mode ff-value=\"'detailedActual'\"> <span translate=RESERVATION_UTILIZATION_REPORT.MODE.DETAILED_ACTUAL></span> </ff-radio> </label> <label flex=\"0 0 auto\"> <ff-radio ff-model=$ctrl.params.mode ff-value=\"'actualExpected'\"> <span translate=RESERVATION_UTILIZATION_REPORT.MODE.ACTUAL_EXPECTED></span> </ff-radio> </label> </div> </ff-static> </ff-row> <report-by-period model=$ctrl.params.byPeriod ng-if=\"$ctrl.params.mode === 'detailedActual'\"></report-by-period> </report-options> </div> </div> <ff-panel flex=auto> <ff-panel-header><span translate=RESERVATION_UTILIZATION_REPORT.CHART.HEADER></span></ff-panel-header> <div ff-dim=!$ctrl.pdf ng-init=\"$ctl = $ctrl\"> <chart config=$ctrl.chart ng-style=\"{ 'max-height': ($ctl.chart && $ctl.chart.type !== 'pie' ? 'none' : null), 'height': ($ctl.chart && $ctl.chart.type !== 'pie' ? $ctl.chart.data.labels.length * 30 + 40 + 'px' : null) }\"></chart> </div> </ff-panel> <ff-btn-group> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </div> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},nUUl:function(e,t){e.exports='<div id=revenueForecastReport class=gutter-v> <form> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <ff-panel-header><span translate=REVENUE_FORECAST_REPORT.BAR_CHART.HEADER></span></ff-panel-header> <div ff-dim=!$ctrl.pdf> <chart config=$ctrl.chart style=max-height:228px></chart> </div> </ff-panel> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <report-options model=$ctrl.params> <label class=ff-row> <ff-label flex="0 0 100px"><span translate=REVENUE_FORECAST_REPORT.PERIOD></span></ff-label> <ff-select ff-model=$ctrl.params.monthCount ff-required=true ff-options="opt.id as opt.name for opt in $ctrl.optsMonthCount" ff-validate-alert="{{\'REVENUE_FORECAST_REPORT.PERIOD\' | translate}}"></ff-select> </label> <report-order-by model=$ctrl.params.orderBy report-columns=$ctrl.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> '},nabW:function(e,t){e.exports='<div id=recurringBillingChurnReport class=gutter-v> <form name=formRecurringBillingChurnReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 65%\', md: \'0 0 50%\'}"> <report-columns model=$ctrl.config.reportColumns></report-columns> </div> <div flex="{lg: \'0 0 35%\', md: \'0 0 50%\'}"> <report-options model=$ctrl.config.reportOptions> <label class=ff-row> <ff-label flex="0 0 100px"><span translate=RECURRING_BILLING_CHURN_REPORT.AS_OF></span></ff-label> <ff-date flex="0 0 124px" ff-model=$ctrl.config.reportDates.toDate ff-validate-alert="{{\'RECURRING_BILLING_CHURN_REPORT.AS_OF\' | translate}}"></ff-date> <span class=ff-label></span> </label> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> '},"o/Kf":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("6RpP"),l=r.n(a);t.default=angular.module("deskworks.passportReservationUsageReportColumns",[]).factory("passportReservationUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"unitName",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.RESERVATION_UNIT"},{dataKey:"duration",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.HOURS",styles:{halign:"right"},pdf:function(e){return t("hoursMinutes")(e)},csv:function(e){return t("hoursMinutes")(e)}},{dataKey:"startTime",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.START_TIME",styles:{halign:"right"},pdf:function(e){var r;return l()(r="".concat(t("date")(e,"mediumDate")," ")).call(r,t("date")(e,"shortTime"))},csv:function(e){return t("date")(e,"medium")}},{dataKey:"endTime",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.END_TIME",styles:{halign:"right"},pdf:function(e){var r;return l()(r="".concat(t("date")(e,"mediumDate")," ")).call(r,t("date")(e,"shortTime"))},csv:function(e){return t("date")(e,"medium")}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},oMHk:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reservationUtilizationDetailedActualColumns",[]).factory("reservationUtilizationDetailedActualColumns",["$rootScope","$translate",function(e,t){var r=[{dataKey:"name",_title:"RESERVATION_UNITS.UNIT"},{dataKey:"[period]",_title:"",styles:{halign:"center"}},{dataKey:"totals",_title:"REPORTS.TOTALS",styles:{halign:"center"}}];function n(){o()(r).call(r,(function(e){e.title=t.instant(e._title)}))}return n(),e.$on("$setTranslationsSuccess",n),r}])},piGw:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.ReservationUsageReport",["ngResource","deskworks.config","deserializeNumbers"]).factory("ReservationUsageReport",["$resource","deskworksConfig","deserializeNumbers",function(e,t,r){var n=t.getApiAbsUrl("/reservation-usage-report"),o=r(["reservationHours","reservationCost","reservationCreditApplied","reservationCostBalance"]),a=e(n,{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,o]}});return{query:function(e){return a.query(e).$promise}}}])},qctg:function(e,t,r){"use strict";r.r(t);var n=r("KK/u"),o=r.n(n),a=r("yCd9"),l=r.n(a),s=r("WSeP"),i=r.n(s),u=r("YtL8"),d=r.n(u),c=r("WgSX"),f=r("G6E5"),p=r("5/DJ"),m=r("LTMe");t.default=angular.module("deskworks.ReservationUsageReportCtrl",[c.a.name,f.a.name,p.a.name,m.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOwnerRegion","deskworks.ReservationUsageReport","deskworks.reservationUsageReportColumns","deskworks.reportOrderBy"]).controller("ReservationUsageReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","ReservationUsageReport","reservationUsageReportColumns",function(e,t,r,n,a,s,u,c,f,p,m){var R,g=this;function y(e){var t,r,a={columns:e.reportColumns,rows:[],styles:[]},f=["reservationCost","reservationCreditApplied","reservationCostBalance"],p=d()(t=e.reportData).call(t,(function(e,t){return i()(f).call(f,(function(r){e[r]+=t[r]||0})),e}),d()(f).call(f,(function(e,t){return e[t]=0,e}),{}));p.memberCompany=n.instant("REPORTS.TOTALS").toUpperCase()+":";var m=l()(r=a.columns).call(r,(function(e){return angular.isNumber(p[e.dataKey])?s.round(p[e.dataKey]):p[e.dataKey]||!1}));a.rows.push(m),a.styles.push(c.h2);var R=o()(u).call(u,e.reportData,e.orderBy);return i()(R).call(R,(function(e,t){var r;a.rows.push(l()(r=a.columns).call(r,(function(t){return angular.isNumber(e[t.dataKey])?s.round(e[t.dataKey]):e[t.dataKey]}))),a.styles.push(t%2?null:c.rowOdd)})),e.reportData.length&&(a.rows.push(angular.extend({},m)),a.styles.push(c.h2)),a}g.config={reportName:n.instant("RESERVATION_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:m,reportDates:{fromDate:moment().subtract(1,"month").startOf("month"),toDate:moment().subtract(1,"month").endOf("month")},getReportData:function(){return p.query({centerId:g.config.reportOptions.centerId||null,fromDate:r("date")(g.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:r("date")(g.config.reportDates.toDate,"yyyy-MM-dd"),ownerId:g.config.reportOwnerRegion.ownerId,regionId:g.config.reportOwnerRegion.regionId})}},a.setPageTitle(g.config.reportName),g.reportBuilder=new f(g.config),e.$watch((function(){return{reportOptions:g.config.reportOptions,reportDates:g.config.reportDates,orderBy:g.config.orderBy,reportOwnerRegion:g.config.reportOwnerRegion}}),(function(e,r){R&&(t.cancel(R),R=null),R=t((function(){g.pdf=null;var t=e.reportDates.fromDate,n=r.reportDates.fromDate;!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(g.config.reportData=null),t=e.reportDates.toDate,n=r.reportDates.toDate,!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(g.config.reportData=null),g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e}))}),100)}),!0),g.downloadPdf=function(){g.pdf&&u.download({blob:g.pdf,fileName:g.reportBuilder.getReportFileName("pdf")})},g.downloadCsv=function(){g.pdf&&u.download({blob:g.reportBuilder.buildCsv(y),fileName:g.reportBuilder.getReportFileName("csv")})}}])},qhd7:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.ReservationUtilizationReport",["ngResource","datesDeserializer","deskworks.config"]).factory("ReservationUtilizationReport",["$resource","$filter","datesDeserializer","deskworksConfig",function(e,t,r,n){var o=r(["groups.daily.date"]),a=e(n.getApiAbsUrl("/reservation-utilization-report"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,o]}});return{query:function(e){return a.query({centerId:e.centerId||null,fromDate:t("date")(e.fromDate,"yyyy-MM-dd"),toDate:t("date")(e.toDate,"yyyy-MM-dd")}).$promise}}}])},r4Q0:function(e,t){e.exports="<div id=passUsageReport class=gutter-v> <form name=formPassUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.params></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=$ctrl.params> <report-order-by model=$ctrl.params.orderBy report-columns=$ctrl.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},rlfb:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.memberUsageReportColumns",["deskworks.helper"]).factory("memberUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"MEMBER_USAGE_REPORT.COLUMNS.DATE",include:!0,defaultOrder:!0,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"userName",_title:"MEMBER_USAGE_REPORT.COLUMNS.USER_NAME",include:!0},{dataKey:"userEmail",_title:"MEMBER_USAGE_REPORT.COLUMNS.USER_EMAIL",include:!0},{dataKey:"checkInTime",_title:"MEMBER_USAGE_REPORT.COLUMNS.CHECK_IN",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortTime")}},{dataKey:"checkOutTime",_title:"MEMBER_USAGE_REPORT.COLUMNS.CHECK_OUT",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortTime")}},{dataKey:"usageHours",_title:"MEMBER_USAGE_REPORT.COLUMNS.HOURS",include:!0,styles:{halign:"right"}},{dataKey:"usagePasses",_title:"MEMBER_USAGE_REPORT.COLUMNS.PASSES",include:!0,styles:{halign:"right"}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},rrwk:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.revenueForecastReportColumns",[]).factory("revenueForecastReportColumns",["$rootScope","$translate",function(e,t){var r=[{dataKey:"userCompany",_title:"REVENUE_FORECAST_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"userName",_title:"REVENUE_FORECAST_REPORT.COLUMNS.NAME",include:!0,defaultOrder:!0}];function n(){o()(r).call(r,(function(e){e.title=t.instant(e._title)}))}return n(),e.$on("$setTranslationsSuccess",n),r}])},tmk0:function(e,t){e.exports="<div id=rentRollReport class=gutter-v> <form name=formRentRollReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-columns model=$ctrl.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=$ctrl.config.reportOptions> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns.columns></report-order-by> </report-options> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},vRPl:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.reservationReportColumns",[]).factory("reservationReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"startTime",_title:"RESERVATION_REPORT.COLUMNS.START_TIME",include:!0,styles:{minCellWidth:100},pdf:function(e){return t("date")(e,"weekDate")+" "+t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortDate")+" "+t("date")(e,"shortTime")}},{dataKey:"centerName",_title:"RESERVATION_REPORT.COLUMNS.CENTER",include:!1,styles:{minCellWidth:120}},{dataKey:"createdAt",_title:"RESERVATION_REPORT.COLUMNS.CREATED_AT",include:!1,styles:{minCellWidth:80},pdf:function(e){return t("date")(e,"mediumDate")+" "+t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortDate")+" "+t("date")(e,"shortTime")}},{dataKey:"endTime",_title:"RESERVATION_REPORT.COLUMNS.END_TIME",include:!0,styles:{minCellWidth:100},pdf:function(e){return t("date")(e,"weekDate")+" "+t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortDate")+" "+t("date")(e,"shortTime")}},{dataKey:"note",_title:"RESERVATION_REPORT.COLUMNS.NOTE",include:!1,styles:{minCellWidth:120}},{dataKey:"reservationUnitName",_title:"RESERVATION_REPORT.COLUMNS.UNIT",include:!0,styles:{minCellWidth:150}},{dataKey:"userCompany",_title:"RESERVATION_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"userName",_title:"RESERVATION_REPORT.COLUMNS.USER_NAME",include:!0,styles:{minCellWidth:120}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},vRjO:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("6RpP"),l=r.n(a),s=r("YtL8"),i=r.n(s);t.default=angular.module("deskworks.reports.reservationUtilizationActualExpectedChart",[]).factory("reservationUtilizationActualExpectedChart",["$translate","$filter","helper","whitelabel",function(e,t,r,n){return function(r){var a=i()(r).call(r,(function(e,t){return l()(e).call(e,t.units)}),[]),s=e.instant("RESERVATION_UTILIZATION_REPORT.COLUMNS.EXPECTED_USAGE"),u=e.instant("RESERVATION_UTILIZATION_REPORT.COLUMNS.ACTUAL_USAGE"),d=e.instant("RESERVATION_UTILIZATION_REPORT.COLUMNS.UTILIZATION");return{type:"horizontalBar",data:{labels:o()(a).call(a,(function(e){return e.name||"-"})),datasets:[{data:o()(a).call(a,(function(e){return e.utilization})),backgroundColor:n.getProperty("--brand-color"),maxBarThickness:30}]},options:{tooltips:{callbacks:{label:function(e,r){var n,o,i,c=a[e.index],f=t("hours")(t("round")(c.expectedUse,1)),p=t("hours")(t("round")(c.actualUse,1)),m=t("round")(c.utilization,1);return[l()(n="".concat(s,": ")).call(n,f),l()(o="".concat(u,": ")).call(o,p),l()(i="".concat(d,": ")).call(i,m,"%")]}}},legend:{display:!1},scales:{xAxes:[{min:100,max:100,ticks:{suggestedMin:0,suggestedMax:100,callback:function(e){return e+"%"}}}]}}}}}])},wASb:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.passUsageReportColumns",[]).factory("passUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"memberCompany",_title:"PASS_USAGE_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:200}},{dataKey:"memberName",_title:"PASS_USAGE_REPORT.COLUMNS.NAME",include:!0,defaultOrder:!0,styles:{minCellWidth:150}},{dataKey:"passesUsedCost",_title:"PASS_USAGE_REPORT.COLUMNS.PASSES_USED_COST",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"passCreditAppliedCost",_title:"PASS_USAGE_REPORT.COLUMNS.PASS_CREDIT_APPLIED_COST",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"costBalance",_title:"PASS_USAGE_REPORT.COLUMNS.COST_BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},xl4I:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.PassUsageReport",["ngResource","deskworks.config"]).factory("PassUsageReport",["$resource","$filter","deskworksConfig",function(e,t,r){var n=e(r.getApiAbsUrl("/reports/day-pass-usage"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0}});return{query:function(e){return n.query({centerId:e.centerId||null,fromDate:t("date")(e.fromDate,"yyyy-MM-dd"),toDate:t("date")(e.toDate,"yyyy-MM-dd")}).$promise}}}])},ycie:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("ipr/"),l=r.n(a),s=r("6RpP"),i=r.n(s),u=r("yCd9"),d=r.n(u),c=r("NOor"),f=r.n(c),p=r("5/DJ"),m=r("Amco");t.default=angular.module("deskworks.reports.reservationUtilizationDetailedActualReport",[p.a.name,m.default.name]).factory("reservationUtilizationDetailedActualReport",["$filter","helper","reportStyles","reservationUtilizationDetailedActualColumns",function(e,t,r,n){return function(t,a){var s,u,c,p,m=n,R={columns:[],rows:[],styles:[]},g=f()(m).call(m,(function(e){return"[period]"===e.dataKey}));if(g<0)throw new Error("[period] is not found in report columns");return R.columns=d()(s=a.periods).call(s,(function(t){return angular.extend({},m[g],{dataKey:e("date")(t.fromDate,"yyyyMMdd"),title:t.title})})),R.columns=i()(u=i()(c=l()(m).call(m,0,g)).call(c,R.columns)).call(u,l()(m).call(m,g+1)),o()(p=a.units).call(p,(function(e){var t,n,a;R.rows.push(i()(t=i()(n=[e.name]).call(n,e.totals)).call(t,e.total)),R.styles.push(r.h2),o()(a=e.groups).call(a,(function(e,t){var n,o;R.rows.push(i()(n=i()(o=[e.name]).call(o,e.totals)).call(n,e.total)),R.styles.push(t%2?null:r.rowOdd)}))})),R}}])},zvMh:function(e,t,r){"use strict";r.r(t);r("8cZI"),r("JBxO"),r("kPpV"),r("/usm"),r("HJh7"),r("BqNe"),r("HKDy"),r("OgzJ"),r("lCat"),r("EApN"),r("MFGm"),r("lZgT"),r("JzGb"),r("WH+p"),r("xg3p"),r("soU3"),r("ajWl"),r("s5En"),r("EjQN"),r("36lJ"),r("fD/E"),r("LWud"),r("AxL9"),r("HztR"),r("xmYR"),r("cF0Y");t.default=angular.module("b64",[]).factory("b64",["$window",function(e){var t=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array;return function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=e.length;n<o;++n)t[n]=e[n],r[e.charCodeAt(n)]=n;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63}(),{toByteArray:function(e){var t,o,a,l,s,i,u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[u-2]?2:"="===e[u-1]?1:0,i=new n(3*u/4-s),a=s>0?u-4:u;var d=0;for(t=0,o=0;t<a;t+=4,o+=3)l=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],i[d++]=l>>16&255,i[d++]=l>>8&255,i[d++]=255&l;2===s?(l=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,i[d++]=255&l):1===s&&(l=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,i[d++]=l>>8&255,i[d++]=255&l);return i},fromByteArray:function(e){for(var r,n=e.length,a=n%3,l="",s=[],i=0,u=n-a;i<u;i+=16383)s.push(o(e,i,i+16383>u?u:i+16383));1===a?(r=e[n-1],l+=t[r>>2],l+=t[r<<4&63],l+="=="):2===a&&(r=(e[n-2]<<8)+e[n-1],l+=t[r>>10],l+=t[r>>4&63],l+=t[r<<2&63],l+="=");return s.push(l),s.join("")}};function o(e,r,n){for(var o,a,l=[],s=r;s<n;s+=3)o=(e[s]<<16)+(e[s+1]<<8)+e[s+2],l.push(t[(a=o)>>18&63]+t[a>>12&63]+t[a>>6&63]+t[63&a]);return l.join("")}}])}}]);