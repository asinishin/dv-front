(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+xX7":function(t,e){t.exports="<div> <div class=ff-grid> <chart-period flex=none period=$ctrl.period from=$ctrl.params.fromDate to=$ctrl.params.toDate></chart-period> <ff-static flex=auto></ff-static> </div> <chart config=$ctrl.chart ff-dim=$ctrl.spin></chart> </div> "},"/48J":function(t,e,r){"use strict";r.r(e);var a=r("I5Zy"),n=r("jd5N"),o=r("iPri"),s=r("TOZU");e.default=angular.module("deskworks.CompanySnapshotDashboardCtrl",["deskworks.state",a.a.name,n.a.name,o.default.name,s.default.name]).controller("CompanySnapshotDashboardCtrl",["$scope","$translate","dwAlerts","state","helper","dnd","keese","companySnapshotWidgetsList",function(t,e,r,a,n,o,s,i){var l=this;a.setPageTitle(e.instant("COMPANY_SNAPSHOT.PAGE_TITLE")),l.widgetsList=i,l.widgetToAdd=l.widgetsList[0],l.widgets=[{uid:"sales",order:"1"},{uid:"recurring-billings",order:"3"}],l.onDrop=function(t,e,r,a){o.move(t,e,r,a);return!0},l.addWidget=function(){l.widgets.push({uid:l.widgetToAdd.uid,order:s.generate(l.widgets.length&&l.widgets[l.widgets.length-1].order)})},l.saveAsDefault=function(){return r.error("Not implemented yet.")}}])},"/MEN":function(t,e,r){},"2R0e":function(t,e){t.exports='<label class=ff-row style=min-width:130px> <ff-label flex=none><span translate=CHARTS.BY_PERIOD></span></ff-label> <ff-select ff-model=$ctrl.period ff-options="opt.id as opt.name for opt in $ctrl.optsPeriod"></ff-select> </label> '},"4fuQ":function(t,e,r){"use strict";r.r(e);var a=r("G0Vy"),n=r.n(a),o=r("D4RU"),s=r.n(o),i=r("6RpP"),l=r.n(i),c=r("YtL8"),d=r.n(c),u=r("yCd9"),f=r.n(u),p=r("yIPK");e.default=angular.module("deskworks.companySnapshotSalesAggregate",[p.a.name]).factory("companySnapshotSalesAggregate",["helper","reportByPeriodGrid",function(t,e){return function(r,a){var o,i,c,u={periods:e(r)};return u.prodTypes=f()(a).call(a,(function(e){var r,a,o,i=d()(r=d()(a=e.productCategories).call(a,(function(t,e){return l()(t).call(t,e.products)}),[])).call(r,(function(t,e){var r;return s()(r=u.periods).call(r,(function(r,a){if(e.date.isSameOrAfter(r.fromDate)&&e.date.isSameOrBefore(r.toDate))return t[a]+=angular.isNumber(+e.amount)?+e.amount:0,!0})),t}),n()(o=Array(u.periods.length)).call(o,0));return{name:e.name,totals:f()(i).call(i,(function(e){return t.round(e)}))}})),u.totals=d()(o=f()(i=u.prodTypes).call(i,(function(t){return t.totals}))).call(o,(function(t,e){return f()(t).call(t,(function(t,r){return t+e[r]}))}),n()(c=Array(u.periods.length)).call(c,0)),u}}])},"8KP7":function(t,e,r){"use strict";r.r(e);r("Muwe"),r("y89P");var a=r("WSeP"),n=r.n(a),o=r("lRNC"),s=r.n(o),i=r("yCd9"),l=r.n(i),c=["$injector",function(t){var e,a,o=(e=r("t0Cx"),l()(a=s()(e).call(e)).call(a,e));t.loadNewModules(l()(o).call(o,(function(t){return t.default.name}))),t.invoke(["$templateCache",function(t){var e,a=r("FakC");n()(e=s()(a).call(a)).call(e,(function(e){return t.put(e.replace(/^\.\//,""),a(e))}))}])}];e.default=c},"8Xq/":function(t,e,r){"use strict";var a=r("WSeP"),n=r.n(a);e.a=angular.module("deskworks.reports.optsReportByPeriod",[]).factory("optsReportByPeriod",["$rootScope","$translate","$filter",function(t,e,r){var a=r("date"),o=[{id:"week",_name:"REPORTS.BY_PERIOD.WEEK",format:function(t,e){return a(t,"MMM d")+" - "+a(e,"MMM d")}},{id:"month",_name:"REPORTS.BY_PERIOD.MONTH",format:function(t,e){return a(t,"MMM")}},{id:"quarter",_name:"REPORTS.BY_PERIOD.QUARTER",format:function(t,e){return a(t,"MMM")+" - "+a(e,"MMM")}},{id:"year",_name:"REPORTS.BY_PERIOD.YEAR",format:function(t,e){return a(t,"yyyy")}}];function s(){n()(o).call(o,(function(t){t.name=e.instant(t._name)}))}return s(),t.$on("$setTranslationsSuccess",s),o}])},CLLE:function(t,e,r){"use strict";var a=r("Tfwl"),n=r.n(a),o=r("XAgg"),s=r.n(o),i=r("yKah"),l=r.n(i),c=r("WSeP"),d=r.n(c),u=r("lvz6"),f=r.n(u),p=r("hsT8"),m=r.n(p),g=r("Ekwr"),h=r.n(g),y=r("03wM"),v=r.n(y),b=r("ipr/"),C=r.n(b),w=r("yCd9"),S=r.n(w),k=r("fzuT"),x=r.n(k),$=(r("S2gh"),r("bG+q"),r("pl6f")),P=r("aGVL"),D=r("bU+R"),R=r.n(D);function O(t,e){var r=v()(t);if(h.a){var a=h()(t);e&&(a=m()(a).call(a,(function(e){return f()(t,e).enumerable}))),r.push.apply(r,a)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r,a=null!=arguments[e]?arguments[e]:{};if(e%2)d()(r=O(Object(a),!0)).call(r,(function(e){x()(t,e,a[e])}));else if(l.a)s()(t,l()(a));else{var o;d()(o=O(Object(a))).call(o,(function(e){n()(t,e,f()(a,e))}))}}return t}e.a=angular.module("chartDirective",["deskworks.helper",$.a.name,P.a.name]).directive("chart",["$window","systemColors",function(t,e){return t.Chart.defaults.global.legend.labels.boxWidth=12,t.Chart.defaults.global.tooltips.cornerRadius=3,t.Chart.defaults.global.tooltips.displayColors=!1,t.Chart.defaults.global.tooltips.backgroundColor="rgba(0,0,0,0.65)",t.Chart.defaults.global.elements.rectangle.borderWidth=1,t.Chart.defaults.global.elements.rectangle.backgroundColor=e.primary,t.Chart.defaults.global.elements.arc.borderWidth=1,t.Chart.plugins.unregister(R.a),{restrict:"E",scope:!0,controller:"ChartCtrl as $ctrl",bindToController:{type:"@chartType",labels:"<chartLabels",data:"<chartData",options:"<chartOptions",config:"<"},template:"<canvas></canvas>"}}]).controller("ChartCtrl",["$scope","$element","$window","chartColors",function(t,e,r,a){var n,o=this,s={maintainAspectRatio:!1},i={backgroundColor:a,hoverBorderWidth:2,hoverBorderColor:"#fff"};o.$onDestroy=function(){n&&n.destroy()},o.$onChanges=function(t){var a;if(o.config){var l;n&&n.destroy();var c=A({},o.config);return c.options=A(A({},c.options),s),c.data=A({},c.data),c.data.datasets=S()(l=c.data.datasets).call(l,(function(t){return A(A({},i),t)})),void(n=new r.Chart(e.children(),c))}if(o.options){var d={labels:o.labels,datasets:C()(a=o.data).call(a)};d.datasets[0]=angular.extend({},i,d.datasets[0]),!n||t.type&&t.type.currentValue!==t.type.previousValue?(n&&n.destroy(),n=new r.Chart(e.children(),{type:o.type,data:d,options:angular.extend({},s,o.options)})):(angular.extend(n.data,d),angular.extend(n.options,s,o.options),n.update())}}}])},CgoQ:function(t,e,r){"use strict";var a=r("WSeP"),n=r.n(a);e.a=angular.module("deskworks.optsChartPeriod",[]).factory("optsChartPeriod",["$rootScope","$translate",function(t,e){var r=[{id:"lastMonth",_name:"CHARTS.PERIOD.LAST_MONTH",from:function(){return moment().subtract(1,"month").startOf("month")},to:function(){return moment().subtract(1,"month").endOf("month")}},{id:"thisMonth",_name:"CHARTS.PERIOD.THIS_MONTH",from:function(){return moment().startOf("month")},to:function(){return moment().endOf("month")}},{id:"12months",_name:"CHARTS.PERIOD.12_MONTHS",from:function(){return moment().subtract(12,"month")},to:function(){return moment()}},{id:"lastYear",_name:"CHARTS.PERIOD.LAST_YEAR",from:function(){return moment().subtract(1,"year").startOf("year")},to:function(){return moment().subtract(1,"year").endOf("year")}},{id:"thisYear",_name:"CHARTS.PERIOD.THIS_YEAR",from:function(){return moment().startOf("year")},to:function(){return moment()}},{id:"custom",_name:"CHARTS.PERIOD.CUSTOM",from:function(){return moment().subtract(1,"month").startOf("month")},to:function(){return moment().subtract(1,"month").endOf("month")}}];function a(){n()(r).call(r,(function(t){t.name=e.instant(t._name)}))}return a(),t.$on("$setTranslationsSuccess",a),r}])},DcLO:function(t,e,r){"use strict";var a=r("nbuU"),n=r.n(a),o=r("ggrz"),s=r.n(o),i=r("CgoQ");e.a=angular.module("deskworks.chartPeriodDirective",[i.a.name]).directive("chartPeriod",(function(){return{template:s.a,restrict:"E",scope:!0,controller:"ChartPeriodCtrl as $ctrl",bindToController:{period:"=",from:"=",to:"="}}})).controller("ChartPeriodCtrl",["$scope","optsChartPeriod",function(t,e){var r=this;r.optsPeriod=e,t.$watchGroup(["$ctrl.period","$ctrl.from","$ctrl.to"],(function(t,a){if(t[0]!==a[0]||r.period&&!r.from&&!r.to){var o=n()(e).call(e,(function(t){return t.id===r.period}));r.from=o.from(),r.to=o.to()}}))}])},FakC:function(t,e,r){var a={"./dashboard/company-snapshot-dashboard.tpl.html":"SyK1","./widgets/company-snapshot-widget.tpl.html":"Rjvx","./widgets/recurring-billings/company-snapshot-recurring-billings.tpl.html":"Y+9D","./widgets/sales-by-category/company-snapshot-sales-by-category.tpl.html":"+xX7","./widgets/sales/company-snapshot-sales.tpl.html":"Maeq"};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="FakC"},I5Zy:function(t,e,r){"use strict";var a=r("xeXu"),n=r.n(a),o=r("0zKI"),s=r.n(o),i=(r("RF9M"),r("/MEN"),r("jd5N"));e.a=angular.module("dnd",["dndLists",i.a.name]).factory("dnd",["keese",function(t){return{move:function(e,r,a,o){var i=e[r];a&&s()(a).call(a,o,0,i);e===a&&o<=r&&r++;if(s()(e).call(e,r,1),a){var l=n()(a).call(a,i);i.order=t.generate(a[l-1]&&a[l-1].order,a[l+1]&&a[l+1].order)}return i}}}])},JSPK:function(t,e,r){},Maeq:function(t,e){t.exports="<div> <div class=ff-grid> <chart-period flex=none period=$ctrl.period from=$ctrl.params.fromDate to=$ctrl.params.toDate></chart-period> <chart-by-period flex=none period=$ctrl.params.byPeriod></chart-by-period> <ff-static flex=auto></ff-static> </div> <chart config=$ctrl.chart ff-dim=$ctrl.spin></chart> </div> "},Mqye:function(t,e,r){"use strict";r.r(e);r("JBxO"),r("FdtR");var a=r("Maeq"),n=r.n(a),o=r("CLLE"),s=r("G6E5"),i=r("Vl1O"),l=r("Xp5u"),c=r("CgoQ"),d=r("4fuQ"),u=r("w6R9"),f=r("DcLO"),p=r("OOrm");e.default=angular.module("deskworks.companySnapshotSalesDirective",["debounce",o.a.name,s.a.name,i.a.name,l.a.name,c.a.name,d.default.name,u.default.name,f.a.name,p.a.name]).directive("companySnapshotSales",(function(){return{template:n.a,restrict:"E",scope:!0,controller:"CompanySnapshotSalesDirectiveCtrl as $ctrl"}})).controller("CompanySnapshotSalesDirectiveCtrl",["$scope","$q","state","dwAlerts","helper","debounce","reportHelper","IncomeByItemReport","companySnapshotSalesAggregate","companySnapshotSalesChart","optsChartByPeriod","optsChartPeriod",function(t,e,r,a,n,o,s,i,l,c,d,u){var f=this,p=s.paramsChanged;f.optsByPeriod=d,f.optsPeriod=u,f.period=f.optsPeriod[0].id,f.params={byPeriod:f.optsByPeriod[1].id,fromDate:null,toDate:null},f.data=null,f.$onInit=function(){t.$watch("$ctrl.params",o((function(t,r){p(t,r,["fromDate","toDate"])&&(f.data=null),e.all({data:f.data||(f.spin=!0,i.query(f.params).catch((function(t){return a.error(t,"Failed to query Income By Item report.")})).finally((function(){f.spin=!1})))}).then((function(t){f.data=t.data})).then((function(){var t=l(f.params,f.data);f.chart=c(t)}))}),100),!0)}}])},N8hn:function(t,e,r){"use strict";r.r(e);r("JBxO"),r("FdtR");var a=r("Y+9D"),n=r.n(a),o=r("CLLE"),s=r("G6E5"),i=r("Vl1O"),l=r("Xp5u"),c=r("CgoQ"),d=r("SVho"),u=r("hhOz"),f=r("DcLO"),p=r("OOrm");e.default=angular.module("deskworks.companySnapshotRecurringBillingsDirective",["debounce",o.a.name,s.a.name,i.a.name,l.a.name,c.a.name,d.default.name,u.default.name,f.a.name,p.a.name]).directive("companySnapshotRecurringBillings",(function(){return{template:n.a,restrict:"E",scope:!0,controller:"CompanySnapshotRecurringBillingsDirectiveCtrl as $ctrl"}})).controller("CompanySnapshotRecurringBillingsDirectiveCtrl",["$scope","$q","state","dwAlerts","helper","debounce","reportHelper","IncomeByItemReport","companySnapshotRecurringBillingsAggregate","companySnapshotRecurringBillingsChart","optsChartByPeriod","optsChartPeriod",function(t,e,r,a,n,o,s,i,l,c,d,u){var f=this,p=s.paramsChanged;f.optsByPeriod=d,f.optsPeriod=u,f.period=f.optsPeriod[0].id,f.params={byPeriod:f.optsByPeriod[1].id,fromDate:null,toDate:null},f.data=null,f.$onInit=function(){t.$watch("$ctrl.params",o((function(t,r){p(t,r,["fromDate","toDate"])&&(f.data=null),e.all({data:f.data||(f.spin=!0,i.query(f.params).catch((function(t){return a.error(t,"Failed to query Income By Item report.")})).finally((function(){f.spin=!1})))}).then((function(t){f.data=t.data})).then((function(){var t=l(f.params,f.data);f.chart=c(t)}))}),100),!0)}}])},OOrm:function(t,e,r){"use strict";var a=r("2R0e"),n=r.n(a),o=r("Xp5u");e.a=angular.module("deskworks.chartByPeriodDirective",[o.a.name]).directive("chartByPeriod",(function(){return{template:n.a,restrict:"E",scope:!0,controller:"ChartByPeriodCtrl as $ctrl",bindToController:{period:"="}}})).controller("ChartByPeriodCtrl",["$scope","optsChartByPeriod",function(t,e){this.optsPeriod=e}])},Rjvx:function(t,e){t.exports='<ff-panel> <ff-panel-header class=ff-row> <span translate={{$w.config._name}}></span> <div class=cs-widget-toolbar> <ff-btn sense=widen size=xs class=ff-btn-icon ff-click="$w.widget.wide = !$w.widget.wide"></ff-btn> <ff-btn sense=drag size=xs class=ff-btn-icon dnd-handle></ff-btn> </div> </ff-panel-header> <div class=cs-widget-body></div> </ff-panel> '},SVho:function(t,e,r){"use strict";r.r(e);var a=r("G0Vy"),n=r.n(a),o=r("D4RU"),s=r.n(o),i=r("6RpP"),l=r.n(i),c=r("YtL8"),d=r.n(c),u=r("nbuU"),f=r.n(u),p=r("yCd9"),m=r.n(p),g=r("yIPK");e.default=angular.module("deskworks.companySnapshotRecurringBillingsAggregate",[g.a.name]).factory("companySnapshotRecurringBillingsAggregate",["helper","reportByPeriodGrid",function(t,e){return function(r,a){var o,i,c,u,p,g={periods:e(r)};g.items=m()(o=(f()(a).call(a,(function(t){return"Membership"===t.name}))||{productCategories:[]}).productCategories).call(o,(function(t){return{name:t.name,products:t.products}}));var h,y=f()(a).call(a,(function(t){return"Services"===t.name}));y&&g.items.push({name:y.name,products:d()(h=y.productCategories).call(h,(function(t,e){return l()(t).call(t,e.products)}),[])});return g.items=m()(i=g.items).call(i,(function(e){var r,a,o=d()(r=e.products).call(r,(function(t,e){var r;return s()(r=g.periods).call(r,(function(r,a){if(e.date.isSameOrAfter(r.fromDate)&&e.date.isSameOrBefore(r.toDate))return t[a]+=angular.isNumber(+e.amount)?+e.amount:0,!0})),t}),n()(a=Array(g.periods.length)).call(a,0));return{name:e.name,totals:m()(o).call(o,(function(e){return t.round(e)}))}})),g.totals=d()(c=m()(u=g.items).call(u,(function(t){return t.totals}))).call(c,(function(t,e){return m()(t).call(t,(function(t,r){return t+e[r]}))}),n()(p=Array(g.periods.length)).call(p,0)),g}}])},SyK1:function(t,e){t.exports='<div class=cs-dashboard> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-h gutter-v" dnd-list dnd-drop="callback({ targetList: $ctrl.widgets, targetIndex: index })"> <company-snapshot-widget ng-repeat="widget in $ctrl.widgets" widget=widget dnd-draggable=null dnd-nodrag dnd-dragstart=$w.onDragStart(event) dnd-callback="$ctrl.onDrop($ctrl.widgets, $index, targetList, targetIndex)"></company-snapshot-widget> <div class=dndPlaceholder>Drop here.</div> <div> <div class="ff-grid gutter-h-half gutter-v-half"> <ng-form class=ff-row flex="0 1 300px"> <label class=ff-row> <ff-label flex=none>Add widget:</ff-label> <ff-select ff-model=$ctrl.widgetToAdd ff-options="widget._name | translate for widget in $ctrl.widgetsList"></ff-select> </label> <ff-btn-group flex=none class=buttons-row> <ff-btn sense=add size=xs type=submit ff-click=$ctrl.addWidget() title="{{ \'GLOBAL.BTN_NEW\' | translate }}"></ff-btn> </ff-btn-group> </ng-form> <ff-btn-group flex=none> <ff-btn sense=makeFavorite ff-click=$ctrl.saveAsDefault()>Save As Default</ff-btn> </ff-btn-group> </div> </div> </div> </div> '},TOZU:function(t,e,r){"use strict";r.r(e);var a=r("Mqye"),n=r("pyLT"),o=r("N8hn");e.default=angular.module("deskworks.companySnapshotWidgetsList",[a.default.name,n.default.name,o.default.name]).factory("companySnapshotWidgetsList",(function(){return[{uid:"sales",_name:"COMPANY_SNAPSHOT.WIDGET.SALES",template:"<company-snapshot-sales></company-snapshot-sales>"},{uid:"recurring-billings",_name:"COMPANY_SNAPSHOT.WIDGET.RECURRING_BILLINGS",template:"<company-snapshot-recurring-billings></company-snapshot-recurring-billings>"}]}))},Tav9:function(t,e,r){"use strict";r.r(e);var a=r("G0Vy"),n=r.n(a),o=r("D4RU"),s=r.n(o),i=r("6RpP"),l=r.n(i),c=r("YtL8"),d=r.n(c),u=r("nbuU"),f=r.n(u),p=r("yCd9"),m=r.n(p),g=r("yIPK");e.default=angular.module("deskworks.companySnapshotSalesByCategoryAggregate",[g.a.name]).factory("companySnapshotSalesByCategoryAggregate",["helper","reportByPeriodGrid",function(t,e){return function(r,a){var o,i,c,u,p,g={periods:e(r)};g.items=m()(o=(f()(a).call(a,(function(t){return"Membership"===t.name}))||{productCategories:[]}).productCategories).call(o,(function(t){return{name:t.name,products:t.products}}));var h,y=f()(a).call(a,(function(t){return"Services"===t.name}));y&&g.items.push({name:y.name,products:d()(h=y.productCategories).call(h,(function(t,e){return l()(t).call(t,e.products)}),[])});return g.items=m()(i=g.items).call(i,(function(e){var r,a,o=d()(r=e.products).call(r,(function(t,e){var r;return s()(r=g.periods).call(r,(function(r,a){if(e.date.isSameOrAfter(r.fromDate)&&e.date.isSameOrBefore(r.toDate))return t[a]+=angular.isNumber(+e.amount)?+e.amount:0,!0})),t}),n()(a=Array(g.periods.length)).call(a,0));return{name:e.name,totals:m()(o).call(o,(function(e){return t.round(e)}))}})),g.totals=d()(c=m()(u=g.items).call(u,(function(t){return t.totals}))).call(c,(function(t,e){return m()(t).call(t,(function(t,r){return t+e[r]}))}),n()(p=Array(g.periods.length)).call(p,0)),g}}])},Vl1O:function(t,e,r){"use strict";e.a=angular.module("deskworks.IncomeByItemReport",["ngResource","datesDeserializer","deskworks.config"]).factory("IncomeByItemReport",["$resource","$filter","datesDeserializer","deskworksConfig",function(t,e,r,a){var n=r(["productCategories.products.date"]),o=t(a.getApiAbsUrl("/centers/:centerId/income-by-item-reports"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,n]}});return{query:function(t){return o.query({centerId:t.centerId||0,fromDate:e("date")(t.fromDate,"yyyy-MM-dd"),toDate:e("date")(t.toDate,"yyyy-MM-dd")}).$promise}}}])},Xp5u:function(t,e,r){"use strict";var a=r("WSeP"),n=r.n(a);e.a=angular.module("deskworks.optsChartByPeriod",[]).factory("optsChartByPeriod",["$rootScope","$translate","$filter",function(t,e,r){var a=r("date"),o=[{id:"week",_name:"CHARTS.BY_PERIOD.WEEK",format:function(t,e){return a(t,"MMM d")+" - "+a(e,"MMM d")}},{id:"month",_name:"CHARTS.BY_PERIOD.MONTH",format:function(t,e){return a(t,"MMM")}},{id:"quarter",_name:"CHARTS.BY_PERIOD.QUARTER",format:function(t,e){return a(t,"MMM")+" - "+a(e,"MMM")}},{id:"year",_name:"CHARTS.BY_PERIOD.YEAR",format:function(t,e){return a(t,"yyyy")}}];function s(){n()(o).call(o,(function(t){t.name=e.instant(t._name)}))}return s(),t.$on("$setTranslationsSuccess",s),o}])},"Y+9D":function(t,e){t.exports="<div> <div class=ff-grid> <chart-period flex=none period=$ctrl.period from=$ctrl.params.fromDate to=$ctrl.params.toDate></chart-period> <chart-by-period flex=none period=$ctrl.params.byPeriod></chart-by-period> <ff-static flex=auto></ff-static> </div> <chart config=$ctrl.chart ff-dim=$ctrl.spin></chart> </div> "},aGVL:function(t,e,r){"use strict";e.a=angular.module("chartColors",[]).factory("chartColors",(function(){return["#317da3","#e6194b","#3cb44b","#ffe119","#f58231","#911eb4","#aa6e28","#008080","#808080","#800000","#3244a1","#e64c19","#3db372","#d1ff1a","#f5c131","#b31e81","#a89728","#005580","#806659","#804000"]}))},"bG+q":function(t,e,r){},ggrz:function(t,e){t.exports='<label class=ff-row style=min-width:190px> <ff-label flex=none><span translate=CHARTS.PERIOD></span></ff-label> <ff-select ff-model=$ctrl.period ff-options="opt.id as opt.name for opt in $ctrl.optsPeriod"></ff-select> </label> '},hhOz:function(t,e,r){"use strict";r.r(e);var a=r("6RpP"),n=r.n(a),o=r("yCd9"),s=r.n(o),i=r("aGVL"),l=r("bU+R"),c=r.n(l);e.default=angular.module("deskworks.companySnapshotRecurringBillingsChart",[i.a.name]).factory("companySnapshotRecurringBillingsChart",["$filter","$translate","chartColors",function(t,e,r){return function(a){var o,i=a.periods,l=a.items,d=a.totals,u=s()(i).call(i,(function(t){return t.title})),f=n()(o=s()(l).call(l,(function(t,e){return{label:t.name,data:t.totals,backgroundColor:r[e],maxBarThickness:80}}))).call(o,[{label:e.instant("GLOBAL.TOTAL"),data:s()(d).call(d,(function(t){return 0})),backgroundColor:"transparent",maxBarThickness:80,datalabels:{display:!0,align:"end",offset:-3,color:"#000",textStrokeWidth:0,font:{weight:"bold"}}}]);return{type:"bar",plugins:[c.a],data:{labels:u,datasets:f},options:{plugins:{datalabels:{display:"auto",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,formatter:function(e,r){return t("ncurrency")(r.datasetIndex<f.length-1?e:d[r.dataIndex],void 0,0)}}},tooltips:{mode:"index",intersect:!0,displayColors:!0,callbacks:{label:function(e,r){var a=r.datasets[e.datasetIndex];return a.label+": "+t("ncurrency")(e.datasetIndex<f.length-1?a.data[e.index]:d[e.index])}}},legend:{display:!0},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{min:0,callback:function(e){return t("ncurrency")(e,void 0,0)}}}]}}}}}])},iPri:function(t,e,r){"use strict";r.r(e);var a=r("WSeP"),n=r.n(a),o=r("nbuU"),s=r.n(o),i=(r("JSPK"),r("Rjvx")),l=r.n(i),c=r("TOZU");e.default=angular.module("deskworks.companySnapshotWidgetDirective",[c.default.name]).directive("companySnapshotWidget",(function(){return{template:l.a,restrict:"E",scope:!0,controller:"CompanySnapshotWidgetDirectiveCtrl as $w",bindToController:{widget:"<"},link:function(t,e){e.addClass("cs-widget")}}})).controller("CompanySnapshotWidgetDirectiveCtrl",["$scope","$element","$window","$compile","state","dwAlerts","helper","companySnapshotWidgetsList",function(t,e,r,a,o,i,l,c){var d=this;d.$onInit=function(){t.$watch("$w.widget.wide",(function(){e.toggleClass("cs-widget-wide",!!d.widget.wide)}))},d.$onChanges=function(){if(d.widget){d.config=s()(c).call(c,(function(t){return t.uid===d.widget.uid}));var r=angular.element(e[0].querySelector(".cs-widget-body")),o=angular.element(d.config.template);n()(angular).call(angular,r.children(),(function(t){return t.remove()})),r.append(o),a(o)(t.$new())}},d.onDragStart=function(t){l.findParentElement(t.target,(function(t){return void 0!==t.attr("dnd-list")})).toggleClass("cs-wide-placeholder",!!d.widget.wide)}}])},jd5N:function(t,e,r){"use strict";var a=r("JRMi"),n=r.n(a),o=r("gQJ2"),s=r.n(o);e.a=angular.module("keese",[]).factory("keese",(function(){var t="0123456789?@ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e=t.length,r=function(){for(var e={},r=0;r<t.length;r++)e[t[r]]=r;return e}();return{generate:function(t,e,r){return r?o(t,e,r):a(t,e)}};function a(t,e){return t?e?i(t,e):((r=c(t)).digits=r.digits.substr(0,r.order_length+1),l(r,c("1"))):e?i("0",e):"1";var r}function o(t,e,r){var n=new Array(r);if(r>0)if(e)!function t(e,r,o,s){var i=Math.floor((o+s)/2),l=a(e,r);n[i]=l,o<i&&t(e,l,o,i);i+1<s&&t(l,r,i+1,s)}(t,e,0,r);else for(var o=0;o<r;o++){var s=keese(t,null);n[o]=s,t=s}return n}function i(a,n){if(a>n)throw new Error("assertion failed: "+s()(a)+" < "+s()(n));var o=c(a),i=c(n);u(o,i);for(var f=0,p=Math.max(o.digits.length,i.digits.length),m=0;m<p||f>0;m++){var g=r[o.digits[m]]||0,h=f+(r[i.digits[m]]||0);if(g!==h){if(g!==h-1){for(var y=Math.floor((h-g)/2),v="",b=0;b<m;b++)v+="0";v+=t[y];var C=c(d(o.order_length,v));return o.digits=o.digits.substr(0,m+1),l(o,C)}f=e}}throw new Error}function l(a,n){u(a,n);for(var o="",s=a.order_length,i=0,l=Math.max(a.digits.length,n.digits.length)-1;l>=0;l--)i+=r[a.digits[l]]||0,i+=r[n.digits[l]]||0,o=t[i%e]+o,i=Math.floor(i/e);for(;i>0;)o=t[i%e]+o,i=Math.floor(i/e),s++;return d(s,o)}function c(t){var e=n()(t).call(t,"~")+1;return{order_length:e,digits:t.substr(e)}}function d(t,e){for(;t>0&&"0"==e.charAt(0);)e=e.substr(1),t--;for(var r="",a=0;a<t;a++)r+="~";return r+e}function u(t,e){f(t,e.order_length),f(e,t.order_length)}function f(t,e){for(;t.order_length<e;)t.digits="0"+t.digits,t.order_length++}}))},nZ4u:function(t,e,r){"use strict";r.r(e),e.default=angular.module("deskworks.reports.accountsReceivableReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("AccountsReceivableReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(t,e,r,a){var n=e(["payments.date","payments.dateDue"]),o=r(["payments.amountDue","payments.amount"]);return t(a.getApiAbsUrl("/centers/:centerId/accounts-receivable-reports"),{centerId:"@centerId",date:"@date"},{get:{method:"GET",transformResponse:[angular.fromJson,n,o]}})}])},pl6f:function(t,e,r){"use strict";e.a=angular.module("systemColors",["deskworks.helper"]).factory("systemColors",["$window","helper",function(t,e){var r={},a=angular.element('<div style="display: none"></div>');return a.append('<div class="text-text"></div>'),a.append('<div class="text-brand"></div>'),a.append('<div class="text-brand"></div>'),a.append('<div class="text-danger"></div>'),a.append("<div></div>"),a.append('<div class="sidebar-group-header"></div>'),document.body.appendChild(a[0]),r.text=e.rgb2hex(t.getComputedStyle(a.children()[0]).getPropertyValue("color"))||"#444",r.info=e.rgb2hex(t.getComputedStyle(a.children()[4]).getPropertyValue("color"))||"#4d4e4c",r.primary=e.rgb2hex(t.getComputedStyle(a.children()[5]).getPropertyValue("background-color"))||"#949594",r.warning=e.rgb2hex(t.getComputedStyle(a.children()[3]).getPropertyValue("color"))||"#ff9b00",a.remove(),r}])},pyLT:function(t,e,r){"use strict";r.r(e);r("JBxO"),r("FdtR");var a=r("+xX7"),n=r.n(a),o=r("CLLE"),s=r("G6E5"),i=r("Vl1O"),l=r("CgoQ"),c=r("Tav9"),d=r("yWkM"),u=r("DcLO"),f=r("OOrm");e.default=angular.module("deskworks.companySnapshotSalesByCategoryDirective",["debounce","deskworks.setup.service",o.a.name,s.a.name,i.a.name,l.a.name,c.default.name,d.default.name,u.a.name,f.a.name]).directive("companySnapshotSalesByCategory",(function(){return{template:n.a,restrict:"E",scope:!0,controller:"CompanySnapshotSalesByCategoryDirectiveCtrl as $ctrl"}})).controller("CompanySnapshotSalesByCategoryDirectiveCtrl",["$scope","$q","state","dwAlerts","helper","debounce","reportHelper","IncomeByItemReport","companySnapshotSalesByCategoryAggregate","companySnapshotSalesByCategoryChart","optsChartPeriod","setupService",function(t,e,r,a,n,o,s,i,l,c,d,u){var f=this,p=s.paramsChanged;f.optsPeriod=d,f.period=f.optsPeriod[0].id,f.params={fromDate:null,toDate:null},f.data=null,f.chartLevels=[],f.$onInit=function(){t.$watch("$ctrl.params",o((function(t,r){p(t,r,["fromDate","toDate"])&&(f.data=null,f.chartLevels=[]),e.all({data:f.data||(f.spin=!0,i.query(f.params).catch((function(t){return a.error(t,"Failed to query Income By Item report.")}))),settings:f.settings||u.getSetupSettings().catch((function(t){return a.error(t,"Failed to get setup settings.")}))}).finally((function(){f.spin=!1})).then((function(t){f.data=t.data,f.settings=t.settings})).then((function(){var t=l(f.params,f.data);f.chart=c(t)}))}),100),!0)}}])},t0Cx:function(t,e,r){var a={"./dashboard/company-snapshot-dashboard.controller.js":"/48J","./dashboard/company-snapshot-dashboard.service.js":"nZ4u","./widgets/company-snapshot-widget.directive.js":"iPri","./widgets/company-snapshot-widgets-list.service.js":"TOZU","./widgets/recurring-billings/company-snapshot-recurring-billings-aggregate.service.js":"SVho","./widgets/recurring-billings/company-snapshot-recurring-billings-chart.service.js":"hhOz","./widgets/recurring-billings/company-snapshot-recurring-billings.directive.js":"N8hn","./widgets/sales-by-category/company-snapshot-sales-by-category-aggregate.service.js":"Tav9","./widgets/sales-by-category/company-snapshot-sales-by-category-chart.service.js":"yWkM","./widgets/sales-by-category/company-snapshot-sales-by-category.directive.js":"pyLT","./widgets/sales/company-snapshot-sales-aggregate.service.js":"4fuQ","./widgets/sales/company-snapshot-sales-chart.service.js":"w6R9","./widgets/sales/company-snapshot-sales.directive.js":"Mqye"};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="t0Cx"},w6R9:function(t,e,r){"use strict";r.r(e);var a=r("6RpP"),n=r.n(a),o=r("yCd9"),s=r.n(o),i=r("aGVL"),l=r("bU+R"),c=r.n(l);e.default=angular.module("deskworks.companySnapshotSalesChart",[i.a.name]).factory("companySnapshotSalesChart",["$filter","$translate","chartColors",function(t,e,r){return function(a){var o,i=a.periods,l=a.prodTypes,d=a.totals,u=s()(i).call(i,(function(t){return t.title})),f=n()(o=s()(l).call(l,(function(t,e){return{label:t.name,data:t.totals,backgroundColor:r[e],maxBarThickness:80}}))).call(o,[{label:e.instant("GLOBAL.TOTAL"),data:s()(d).call(d,(function(t){return 0})),backgroundColor:"transparent",maxBarThickness:80,datalabels:{display:!0,align:"end",offset:-3,color:"#000",textStrokeWidth:0,font:{weight:"bold"}}}]);return{type:"bar",plugins:[c.a],data:{labels:u,datasets:f},options:{plugins:{datalabels:{display:"auto",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,formatter:function(e,r){return t("ncurrency")(r.datasetIndex<f.length-1?e:d[r.dataIndex],void 0,0)}}},tooltips:{mode:"index",intersect:!0,displayColors:!0,callbacks:{label:function(e,r){var a=r.datasets[e.datasetIndex];return a.label+": "+t("ncurrency")(e.datasetIndex<f.length-1?a.data[e.index]:d[e.index])}}},legend:{display:!0},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{min:0,callback:function(e){return t("ncurrency")(e,void 0,0)}}}]}}}}}])},yIPK:function(t,e,r){"use strict";var a=r("nbuU"),n=r.n(a),o=r("8Xq/");e.a=angular.module("deskworks.reportByPeriodGrid",[o.a.name]).factory("reportByPeriodGrid",["optsReportByPeriod",function(t){return function(e){var r=e.fromDate,a=e.toDate,o=e.byPeriod,s=[],i=n()(t).call(t,(function(t){return t.id===o})),l=r.clone().startOf(o);do{var c={fromDate:l.clone()};l.add(1,o+"s"),c.toDate=l.clone().subtract(1,"ms"),c.title=i.format(c.fromDate,c.toDate),s.push(c)}while(l.isSameOrBefore(a));return s}}])},yWkM:function(t,e,r){"use strict";r.r(e);var a=r("6RpP"),n=r.n(a),o=r("yCd9"),s=r.n(o),i=r("aGVL"),l=r("bU+R"),c=r.n(l);e.default=angular.module("deskworks.companySnapshotSalesByCategoryChart",[i.a.name]).factory("companySnapshotSalesByCategoryChart",["$filter","$translate","chartColors",function(t,e,r){return function(a){var o,i=a.periods,l=a.items,d=a.totals,u=s()(i).call(i,(function(t){return t.title})),f=n()(o=s()(l).call(l,(function(t,e){return{label:t.name,data:t.totals,backgroundColor:r[e],maxBarThickness:80}}))).call(o,[{label:e.instant("GLOBAL.TOTAL"),data:s()(d).call(d,(function(t){return 0})),backgroundColor:"transparent",maxBarThickness:80,datalabels:{display:!0,align:"end",offset:-3,color:"#000",textStrokeWidth:0,font:{weight:"bold"}}}]);return{type:"bar",plugins:[c.a],data:{labels:u,datasets:f},options:{plugins:{datalabels:{display:"auto",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,formatter:function(e,r){return t("ncurrency")(r.datasetIndex<f.length-1?e:d[r.dataIndex],void 0,0)}}},tooltips:{mode:"index",intersect:!0,displayColors:!0,callbacks:{label:function(e,r){var a=r.datasets[e.datasetIndex];return a.label+": "+t("ncurrency")(e.datasetIndex<f.length-1?a.data[e.index]:d[e.index])}}},legend:{display:!0},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{min:0,callback:function(e){return t("ncurrency")(e,void 0,0)}}}]}}}}}])}}]);