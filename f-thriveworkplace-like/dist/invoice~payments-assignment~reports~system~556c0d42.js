(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"29E8":function(e,t,n){"use strict";var r=n("6RpP"),o=n.n(r),a=n("yCd9"),i=n.n(a);t.a=angular.module("deskworks.reportSort",[]).factory("reportSort",["$filter",function(e){return function(t,n,r){return angular.isArray(n)||(n=[n]),n=i()(n).call(n,(function(e){var t,n;return o()(t=o()(n="".concat(e," || ")).call(n,e," === 0 ? ")).call(t,e,' : "~~~"')})),e("orderBy")(t,n,r)}}])},"5/DJ":function(e,t,n){"use strict";t.a=angular.module("deskworks.reports.reportStyles",["deskworks.helper"]).factory("reportStyles",["helper",function(e){return{pageMargins:[60,25,50,25],headStyles:{fontSize:9,fontStyle:"normal",valign:"middle",fillColor:e.hex2rgbArr("#444444"),textColor:255,textTransform:"uppercase"},bodyStyles:{overflow:"linebreak",textColor:0},header:{textColor:"#949594"},footer:{textColor:"#949594"},rowOdd:{fillColor:[245,245,245]},h1:{fontStyle:"bold",fillColor:e.hex2rgbArr("#949594"),textColor:[255,255,255]},h2:{fontStyle:"bold",textColor:e.hex2rgbArr("#444444"),borderWidth:1,borderColor:e.hex2rgbArr("#444444")},h3:{fontStyle:"bold"}}}])},"5bca":function(e,t,n){"use strict";t.a=angular.module("deskworks.logo",[]).factory("logo",["$window","$http","$q","deskworksConfig",function(e,t,n,r){var o,a;return{getSiteLogo:function(){return o=o||n((function(e){var t=new Image;t.crossOrigin="anonymous",t.src=r.getApiAbsUrl("/white-label/images/logo-print.png"),t.onerror=function(){console.warn("Report failed to load site logo."),e(null),t=null},t.onload=function(){e(t),t=null}})).then(i)},getSiteLogoInv:function(){return a=a||n((function(e){var t=document.querySelector(".sidebar-logo a img");t||console.warn("Report failed to load site logo."),e(t)})).then(i)},resetSiteLogo:function(){o=null},resetSiteLogoInv:function(){a=null}};function i(e){if(!e)return null;var t=e.width/480,n=e.height/171,r=t>n?t:n,o=Math.round(e.width/r),a=Math.round(e.height/r),i=document.createElement("canvas");document.body.appendChild(i),i.width=o,i.height=a,i.getContext("2d").drawImage(e,0,0,o,a);var l=i.toDataURL("image/png");return document.body.removeChild(i),{width:o,height:a,data:l}}}])},"81mT":function(e,t,n){"use strict";n("8cZI");var r=n("nbuU"),o=n.n(r),a=n("5/DJ");t.a=angular.module("deskworks.reports.reportHeader",[a.a.name]).factory("reportHeader",["$filter","$translate","reportStyles",function(e,t,n){return function(){return 3===arguments.length?a.apply(void 0,arguments):r.apply(void 0,arguments)};function r(r){var a,i,l,s,c=r.config,u=r.doc,d=r.data,f=r.resources,p=o()(a=f.centers).call(a,(function(e){return e.id===+c.centerId})),g=u.internal.pageSize.width;u.setFont(u.getFont().fontName,"normal"),u.setTextColor(n.header.textColor),l=n.pageMargins[3],s=40,u.setFontSize(14),i=c.reportName.toUpperCase(),u.text(i,l,s),l+=u.getTextWidth(i)+3,(c.fromDate||c.toDate)&&(u.setFontSize(7),i=t.instant("REPORTS.HEADER.FOR_PERIOD").toUpperCase(),c.fromDate&&(i+=" "+t.instant("REPORTS.HEADER.FROM").toUpperCase()+":"),u.text(i,l,s),l+=u.getTextWidth(i)+3,c.fromDate&&(u.setFontSize(9),i=e("date")(c.fromDate,"mediumDate")||"",u.text(i,l,s),l+=u.getTextWidth(i)+3),u.setFontSize(7),i=t.instant("REPORTS.HEADER.THROUGH").toUpperCase()+":",u.text(i,l,s),l+=u.getTextWidth(i)+3,u.setFontSize(9),i=e("date")(c.toDate,"mediumDate")||"",u.text(i,l,s),l+=u.getTextWidth(i)+3),l=g-n.pageMargins[1],u.setFontSize(9),i=""+d.pageCount,l-=u.getTextWidth(i),u.text(i,l,s),u.setFontSize(7),i=t.instant("REPORTS.HEADER.PAGE").toUpperCase()+":",l-=u.getTextWidth(i+" "),u.text(i,l,s-.6),l=n.pageMargins[3],s+=11,u.setFontSize(7),i=t.instant("REPORTS.HEADER.REPORT_FOR").toUpperCase()+":",u.text(i,l,s-.6),l+=u.getTextWidth(i+" "),u.setFontSize(9),i=c.reportFor||(p?[p.name,p.city,p.state].join(", "):"All Centers"),u.text(i,l,s),l+=u.getTextWidth(i+" "),l=g-n.pageMargins[1],u.setFontSize(9),i=e("date")(moment(),"mediumDate"),l-=u.getTextWidth(i),u.text(i,l,s),u.setFontSize(7),i=t.instant("REPORTS.HEADER.REPORT_DATE").toUpperCase()+":",l-=u.getTextWidth(i+" "),u.text(i,l,s-.6)}function a(r,o,a){var i,l,s,c=o.internal.pageSize.width;o.setFont(o.getFont().fontName,"normal"),o.setTextColor(n.header.textColor),l=n.pageMargins[3],s=40,o.setFontSize(14),i=a.reportName.toUpperCase(),o.text(i,l,s),l+=o.getTextWidth(i)+3,a.reportDates&&(o.setFontSize(7),i=t.instant("REPORTS.HEADER.FOR_PERIOD").toUpperCase(),a.reportDates.fromDate&&(i+=" "+t.instant("REPORTS.HEADER.FROM").toUpperCase()+":"),o.text(i,l,s),l+=o.getTextWidth(i)+3,a.reportDates.fromDate&&(o.setFontSize(9),i=e("date")(a.reportDates.fromDate,"mediumDate")||"",o.text(i,l,s),l+=o.getTextWidth(i)+3),o.setFontSize(7),i=t.instant("REPORTS.HEADER.THROUGH").toUpperCase()+":",o.text(i,l,s),l+=o.getTextWidth(i)+3,o.setFontSize(9),i=e("date")(a.reportDates.toDate,"mediumDate")||"",o.text(i,l,s),l+=o.getTextWidth(i)+3),l=c-n.pageMargins[1],o.setFontSize(9),i=""+r.pageCount,l-=o.getTextWidth(i),o.text(i,l,s),o.setFontSize(7),i=t.instant("REPORTS.HEADER.PAGE").toUpperCase()+":",l-=o.getTextWidth(i+" "),o.text(i,l,s-.6),l=n.pageMargins[3],s+=11,o.setFontSize(7),i=t.instant("REPORTS.HEADER.REPORT_FOR").toUpperCase()+":",o.text(i,l,s-.6),l+=o.getTextWidth(i+" "),o.setFontSize(9),i=a.reportFor||(!1===a.reportOptions.centerId||+a.reportOptions.centerId)&&[a.center.name,a.center.city,a.center.state.name].join(", ")||"All Centers",o.text(i,l,s),l+=o.getTextWidth(i+" "),l=c-n.pageMargins[1],o.setFontSize(9),i=e("date")(moment(),"mediumDate"),l-=o.getTextWidth(i),o.text(i,l,s),o.setFontSize(7),i=t.instant("REPORTS.HEADER.REPORT_DATE").toUpperCase()+":",l-=o.getTextWidth(i+" "),o.text(i,l,s-.6)}}])},G6E5:function(e,t,n){"use strict";n("Muwe"),n("y89P");var r=n("Tfwl"),o=n.n(r),a=n("XAgg"),i=n.n(a),l=n("yKah"),s=n.n(l),c=n("lvz6"),u=n.n(c),d=n("hsT8"),f=n.n(d),p=n("Ekwr"),g=n.n(p),h=n("03wM"),m=n.n(h),S=n("nbuU"),y=n.n(S),v=n("G0Vy"),x=n.n(v),b=n("6RpP"),R=n.n(b),F=n("YtL8"),w=n.n(F),C=n("yCd9"),D=n.n(C),T=n("WSeP"),E=n.n(T),O=n("fzuT"),z=n.n(O),W=n("D4RU"),A=n.n(W),P=n("29E8"),U=n("IE1r"),M=n("UDUI"),k=(n("RKBc"),angular.module("fileSaver",[]).factory("fileSaver",["$window",function(e){return function(t,n,r,o){if(e.cordova&&e.cordova.InAppBrowser&&"ios"===e.cordova.platformId){var a=new FileReader;return a.onloadend=function(){var t=a.result;return e.cordova.InAppBrowser.open(t,"_blank","hidenavigationbuttons=yes,hideurlbar=yes,enableViewportScale=yes,location=no")},void a.readAsDataURL(t)}return e.saveAs(t,n,r,o)}}])),H=n("5bca"),I=n("5/DJ"),j=n("81mT"),$=n("Xjih");function L(e,t){var n=m()(e);if(g.a){var r=g()(e);t&&(r=f()(r).call(r,(function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)E()(n=L(Object(r),!0)).call(n,(function(t){z()(e,t,r[t])}));else if(s.a)i()(e,s()(r));else{var a;E()(a=L(Object(r))).call(a,(function(t){o()(e,t,u()(r,t))}))}}return e}t.a=angular.module("deskworks.reportHelper",[P.a.name,U.a.name,M.a.name,k.name,H.a.name,I.a.name,j.a.name,$.a.name]).factory("reportHelper",["$rootScope","$q","$timeout","$window","$filter","$http","dwAlerts","state","logo","jsPDF","csvMake","centerService","reportStyles","reportHeader","reportFooter","reportSort","fileSaver",function(e,t,n,r,o,a,i,l,s,c,u,d,f,p,g,h,m){return{sort:h,paramsChanged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return A()(n).call(n,(function(n){return moment.isMoment(e[n])?!moment.isMoment(t[n])||!e[n].isSame(t[n]):e[n]!==t[n]}))},loadResources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return t.all(B(B({},e()),{},{centers:d.query().catch((function(e){return i.error(e,"Failed to query centers.")})),logo:s.getSiteLogo()}))},buildPdf:function(e){var t,n=e.config,r=e.report,o=e.resources,a=e.doc,i=void 0===a?new c(n.paperLayout,"pt",n.paperSize):a,l=e.startY,s=angular.copy(r.rows);E()(s).call(s,(function(e){var t=0;E()(e).call(e,(function(n,o){n&&!angular.isUndefined(n.content)||(e[o]=n={content:n});var a=r.columns[t];if(!1===n.content)n.content="";else{if(a.pdf){var i=a.pdf(n.content);n.content=""===i?n.content:i}n.content=angular.isUndefined(n.content)||null===n.content||""===n.content?"-":n.content}t+=n.colSpan||1}))}));var u={columns:D()(t=r.columns).call(t,(function(e){return n.styles&&"uppercase"!==n.styles.headStyles.textTransform?e.title:e.title.toUpperCase()})),body:s,headStyles:(n.styles||f).headStyles,bodyStyles:(n.styles||f).bodyStyles,columnStyles:(n.styles||f).columnStyles,tableMargin:n.styles&&n.styles.tableMargin||(n.styles||f).pageMargins,startY:l||(n.styles||f).startY||!1,didParseCell:function(e){var t=e.row,n=e.cell,o=e.column;if("body"===e.section){angular.extend(n.styles,{minCellWidth:50,fillColor:!1},r.styles[t.index],r.columns[o.index].styles,s[t.index][o.index]?s[t.index][o.index].styles:null)}else angular.extend(n.styles,r.columns[o.index].styles)},didDrawCell:function(e){return function(e,t){var n=e.cell,r=e.doc;0===e.column.index&&n.styles.borderColor&&n.styles.borderWidth&&(r.setLineWidth(n.styles.borderWidth),r.setDrawColor(n.styles.borderColor[0],n.styles.borderColor[1],n.styles.borderColor[2]),r.rect(e.settings.margin.left+n.styles.borderWidth/2,n.y+n.styles.borderWidth/2,e.table.getWidth(r.internal.pageSize.width)-n.styles.borderWidth,e.row.height-2*n.styles.borderWidth,"S"));return!1}(e,r.columns)},didDrawPage:function(e){(n.header||p)({config:n,doc:i,data:e.table,resources:o}),(n.footer||g)({config:n,doc:i,data:e.table,resources:o})}};return u.margin=u.tableMargin||(n.styles||f).pageMargins,i.autoTable(u),i},buildCsv:function(e){var t,n,r=e.report,o={charset:"utf-8"},a=D()(t=r.rows).call(t,(function(e){return w()(e).call(e,(function(e,t){var n;return e.push(t),R()(e).call(e,x()(n=new Array((t&&t.colSpan?t.colSpan:1)-1)).call(n,null))}),[])}));return E()(a).call(a,(function(e){E()(e).call(e,(function(t,n){e[n]&&angular.isDefined(e[n].content)&&(e[n]=e[n].content);var o=r.columns[n];if(o.csv){var a=o.csv(e[n]);e[n]=""===a?e[n]:a}e[n]=angular.isUndefined(e[n])||null===e[n]||!1===e[n]||""===e[n]?"":e[n]}))})),a.unshift(D()(n=r.columns).call(n,(function(e){return e.title.toUpperCase()}))),new Blob([u.generate(a,o)],{type:"text/csv;charset="+o.charset+";"})},getReportFileName:function(e){var t,n=e.extension,r=void 0===n?"pdf":n,a=e.postfix,i=void 0===a?"":a,l=e.config,s=e.resources,c=l.reportName.toLowerCase().replace(/\s+/g,"-"),u=(y()(t=s.centers).call(t,(function(e){return e.id===+l.centerId}))||{name:"all-centers"}).name.toLowerCase().replace(/\s+/g,"-");return c+"-"+u+"-"+o("date")(moment(),"yyyyMMdd-HHmmss")+i+"."+r.toLowerCase()},download:function(e){var t=e.blob,n=e.fileName;if(!t)return;m(t,n)}}}])},IE1r:function(e,t,n){"use strict";n("8cZI"),n("JBxO"),n("Muwe"),n("y89P");var r=n("WSeP"),o=n.n(r),a=n("xeXu"),i=n.n(a);t.a=angular.module("csvMake",[]).service("csvMake",["$q",function(e){this.generate=function(e,t){return t.txtDelim=t.txtDelim||'"',t.decimalSep=t.decimalSep||".",t.fieldSep=t.fieldSep||",",t.charset=t.charset||"utf-8",t.fieldSep=this.isSpecialChar(t.fieldSep)?this.getSpecialChar(t.fieldSep):t.fieldSep,this.stringify(e,t)};var t={"\\t":"\t","\\b":"\b","\\v":"\v","\\f":"\f","\\r":"\r"};this.stringifyField=function(e,t){return"locale"===t.decimalSep&&this.isFloat(e)?e.toLocaleString():"."!==t.decimalSep&&this.isFloat(e)?e.toString().replace(".",t.decimalSep):"string"==typeof e?(e=e.replace(/"/g,'""'),(t.quoteStrings||i()(e).call(e,",")>-1||i()(e).call(e,"\n")>-1||i()(e).call(e,"\r")>-1)&&(e=t.txtDelim+e+t.txtDelim),e):"boolean"==typeof e?e?"TRUE":"FALSE":e},this.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},this.stringifyAsync=function(t,n){var r=e.defer(),a=this,i="",l="",s=e.when(t).then((function(e){var t,s;angular.isDefined(n.header)&&n.header&&(t=[],o()(angular).call(angular,n.header,(function(e,t){this.push(a.stringifyField(e,n))}),t),s=t.join(n.fieldSep?n.fieldSep:","),l+=s+"\r\n");var c,u,d=[];(angular.isArray(e)?d=e:angular.isFunction(e)&&(d=e()),angular.isDefined(n.label)&&n.label&&"boolean"==typeof n.label)&&(c=[],o()(angular).call(angular,d[0],(function(e,t){this.push(a.stringifyField(t,n))}),c),u=c.join(n.fieldSep?n.fieldSep:","),l+=u+"\r\n");o()(angular).call(angular,d,(function(e,t){var r,i,s=angular.copy(d[t]);i=[];var c=n.columnOrder?n.columnOrder:s;o()(angular).call(angular,c,(function(e,t){var r=n.columnOrder?s[e]:e;this.push(a.stringifyField(r,n))}),i),r=i.join(n.fieldSep?n.fieldSep:","),l+=t<d.length?r+"\r\n":r})),n.addByteOrderMarker&&(i+="\ufeff"),i+=l,r.resolve(i)}));return"function"==typeof s.catch&&s.catch((function(e){r.reject(e)})),r.promise},this.stringify=function(e,t){var n,r,a=this,i="",l="";angular.isDefined(t.header)&&t.header&&(n=[],o()(angular).call(angular,t.header,(function(e,n){this.push(a.stringifyField(e,t))}),n),r=n.join(t.fieldSep?t.fieldSep:","),l+=r+"\r\n");var s,c,u=e;angular.isDefined(t.label)&&t.label&&"boolean"==typeof t.label&&(s=[],o()(angular).call(angular,u[0],(function(e,n){this.push(a.stringifyField(n,t))}),s),c=s.join(t.fieldSep?t.fieldSep:","),l+=c+"\r\n");return o()(angular).call(angular,u,(function(e,n){var r,i,s=angular.copy(u[n]);i=[];var c=t.columnOrder?t.columnOrder:s;o()(angular).call(angular,c,(function(e,n){var r=t.columnOrder?s[e]:e;this.push(a.stringifyField(r,t))}),i),r=i.join(t.fieldSep?t.fieldSep:","),l+=n<u.length?r+"\r\n":r})),t.addByteOrderMarker&&(i+="\ufeff"),i+=l},this.isSpecialChar=function(e){return void 0!==t[e]},this.getSpecialChar=function(e){return t[e]}}])},UDUI:function(e,t,n){"use strict";var r=n("cgBC");n("dbsv");t.a=angular.module("jsPDF",[]).factory("jsPDF",["$window",function(e){return e.jsPDF=r.default,e.jsPDF}])},Xjih:function(e,t,n){"use strict";n("8cZI");var r=n("nbuU"),o=n.n(r),a=n("5/DJ");t.a=angular.module("deskworks.reports.reportFooter",[a.a.name]).factory("reportFooter",["$filter","reportStyles",function(e,t){return function(){return 3===arguments.length?r.apply(void 0,arguments):n.apply(void 0,arguments)};function n(e){var n,r=e.config,a=e.doc,i=(e.data,e.resources),l=o()(n=i.centers).call(n,(function(e){return e.id===+r.centerId}));if(l){var s,c=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFont(a.getFont().fontName,"normal"),a.setTextColor(t.footer.textColor),a.setFontSize(9),s=[l.name,l.phone,l.street1],l.street2&&s.push(l.street2),s.push(l.city),s.push(l.state.name||l.state),s.push(l.zip),s=s.join(" / "),a.text(s,(c-a.getTextWidth(s))/2,u-30)}}function r(e,n,r){var o,a=n.internal.pageSize.width,i=n.internal.pageSize.height;n.setFont(n.getFont().fontName,"normal"),n.setTextColor(t.footer.textColor),n.setFontSize(9),o=[r.center.name,r.center.phone,r.center.street1],r.center.street2&&o.push(r.center.street2),o.push(r.center.city),o.push(r.center.state.name||r.center.state),o.push(r.center.zip),o=o.join(" / "),n.text(o,(a-n.getTextWidth(o))/2,i-30)}}])}}]);