(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"29E8":function(e,t,n){"use strict";var r=n("6RpP"),a=n.n(r),o=n("yCd9"),l=n.n(o);t.a=angular.module("deskworks.reportSort",[]).factory("reportSort",["$filter",function(e){return function(t,n,r){return angular.isArray(n)||(n=[n]),n=l()(n).call(n,(function(e){var t,n;return a()(t=a()(n="".concat(e," || ")).call(n,e," === 0 ? ")).call(t,e,' : "~~~"')})),e("orderBy")(t,n,r)}}])},"5/DJ":function(e,t,n){"use strict";t.a=angular.module("deskworks.reports.reportStyles",["deskworks.helper"]).factory("reportStyles",["helper",function(e){return{pageMargins:[60,25,50,25],headStyles:{fontSize:9,fontStyle:"normal",valign:"middle",fillColor:e.hex2rgbArr("#444444"),textColor:255,textTransform:"uppercase"},bodyStyles:{overflow:"linebreak",textColor:0},header:{textColor:"#949594"},footer:{textColor:"#949594"},rowOdd:{fillColor:[245,245,245]},h1:{fontStyle:"bold",fillColor:e.hex2rgbArr("#949594"),textColor:[255,255,255]},h2:{fontStyle:"bold",textColor:e.hex2rgbArr("#444444"),borderWidth:1,borderColor:e.hex2rgbArr("#444444")},h3:{fontStyle:"bold"}}}])},"5bca":function(e,t,n){"use strict";t.a=angular.module("deskworks.logo",[]).factory("logo",["$window","$http","$q","deskworksConfig",function(e,t,n,r){var a,o;return{getSiteLogo:function(){return a=a||n((function(e){var t=new Image;t.crossOrigin="anonymous",t.src=r.getApiAbsUrl("/white-label/images/logo-print.png"),t.onerror=function(){console.warn("Report failed to load site logo."),e(null),t=null},t.onload=function(){e(t),t=null}})).then(l)},getSiteLogoInv:function(){return o=o||n((function(e){var t=document.querySelector(".sidebar-logo a img");t||console.warn("Report failed to load site logo."),e(t)})).then(l)},resetSiteLogo:function(){a=null},resetSiteLogoInv:function(){o=null}};function l(e){if(!e)return null;var t=e.width/480,n=e.height/171,r=t>n?t:n,a=Math.round(e.width/r),o=Math.round(e.height/r),l=document.createElement("canvas");document.body.appendChild(l),l.width=a,l.height=o,l.getContext("2d").drawImage(e,0,0,a,o);var i=l.toDataURL("image/png");return document.body.removeChild(l),{width:a,height:o,data:i}}}])},"81mT":function(e,t,n){"use strict";n("8cZI");var r=n("nbuU"),a=n.n(r),o=n("5/DJ");t.a=angular.module("deskworks.reports.reportHeader",[o.a.name]).factory("reportHeader",["$filter","$translate","reportStyles",function(e,t,n){return function(){return 3===arguments.length?o.apply(void 0,arguments):r.apply(void 0,arguments)};function r(r){var o,l,i,s,c=r.config,f=r.doc,d=r.data,u=r.resources,p=a()(o=u.centers).call(o,(function(e){return e.id===+c.centerId})),g=f.internal.pageSize.width;f.setFont(f.getFont().fontName,"normal"),f.setTextColor(n.header.textColor),i=n.pageMargins[3],s=40,f.setFontSize(14),l=c.reportName.toUpperCase(),f.text(l,i,s),i+=f.getTextWidth(l)+3,(c.fromDate||c.toDate)&&(f.setFontSize(7),l=t.instant("REPORTS.HEADER.FOR_PERIOD").toUpperCase(),c.fromDate&&(l+=" "+t.instant("REPORTS.HEADER.FROM").toUpperCase()+":"),f.text(l,i,s),i+=f.getTextWidth(l)+3,c.fromDate&&(f.setFontSize(9),l=e("date")(c.fromDate,"mediumDate")||"",f.text(l,i,s),i+=f.getTextWidth(l)+3),f.setFontSize(7),l=t.instant("REPORTS.HEADER.THROUGH").toUpperCase()+":",f.text(l,i,s),i+=f.getTextWidth(l)+3,f.setFontSize(9),l=e("date")(c.toDate,"mediumDate")||"",f.text(l,i,s),i+=f.getTextWidth(l)+3),i=g-n.pageMargins[1],f.setFontSize(9),l=""+d.pageCount,i-=f.getTextWidth(l),f.text(l,i,s),f.setFontSize(7),l=t.instant("REPORTS.HEADER.PAGE").toUpperCase()+":",i-=f.getTextWidth(l+" "),f.text(l,i,s-.6),i=n.pageMargins[3],s+=11,f.setFontSize(7),l=t.instant("REPORTS.HEADER.REPORT_FOR").toUpperCase()+":",f.text(l,i,s-.6),i+=f.getTextWidth(l+" "),f.setFontSize(9),l=c.reportFor||(p?[p.name,p.city,p.state].join(", "):"All Centers"),f.text(l,i,s),i+=f.getTextWidth(l+" "),i=g-n.pageMargins[1],f.setFontSize(9),l=e("date")(moment(),"mediumDate"),i-=f.getTextWidth(l),f.text(l,i,s),f.setFontSize(7),l=t.instant("REPORTS.HEADER.REPORT_DATE").toUpperCase()+":",i-=f.getTextWidth(l+" "),f.text(l,i,s-.6)}function o(r,a,o){var l,i,s,c=a.internal.pageSize.width;a.setFont(a.getFont().fontName,"normal"),a.setTextColor(n.header.textColor),i=n.pageMargins[3],s=40,a.setFontSize(14),l=o.reportName.toUpperCase(),a.text(l,i,s),i+=a.getTextWidth(l)+3,o.reportDates&&(a.setFontSize(7),l=t.instant("REPORTS.HEADER.FOR_PERIOD").toUpperCase(),o.reportDates.fromDate&&(l+=" "+t.instant("REPORTS.HEADER.FROM").toUpperCase()+":"),a.text(l,i,s),i+=a.getTextWidth(l)+3,o.reportDates.fromDate&&(a.setFontSize(9),l=e("date")(o.reportDates.fromDate,"mediumDate")||"",a.text(l,i,s),i+=a.getTextWidth(l)+3),a.setFontSize(7),l=t.instant("REPORTS.HEADER.THROUGH").toUpperCase()+":",a.text(l,i,s),i+=a.getTextWidth(l)+3,a.setFontSize(9),l=e("date")(o.reportDates.toDate,"mediumDate")||"",a.text(l,i,s),i+=a.getTextWidth(l)+3),i=c-n.pageMargins[1],a.setFontSize(9),l=""+r.pageCount,i-=a.getTextWidth(l),a.text(l,i,s),a.setFontSize(7),l=t.instant("REPORTS.HEADER.PAGE").toUpperCase()+":",i-=a.getTextWidth(l+" "),a.text(l,i,s-.6),i=n.pageMargins[3],s+=11,a.setFontSize(7),l=t.instant("REPORTS.HEADER.REPORT_FOR").toUpperCase()+":",a.text(l,i,s-.6),i+=a.getTextWidth(l+" "),a.setFontSize(9),l=o.reportFor||(!1===o.reportOptions.centerId||+o.reportOptions.centerId)&&[o.center.name,o.center.city,o.center.state.name].join(", ")||"All Centers",a.text(l,i,s),i+=a.getTextWidth(l+" "),i=c-n.pageMargins[1],a.setFontSize(9),l=e("date")(moment(),"mediumDate"),i-=a.getTextWidth(l),a.text(l,i,s),a.setFontSize(7),l=t.instant("REPORTS.HEADER.REPORT_DATE").toUpperCase()+":",i-=a.getTextWidth(l+" "),a.text(l,i,s-.6)}}])},G6E5:function(e,t,n){"use strict";n("Muwe"),n("y89P");var r=n("Tfwl"),a=n.n(r),o=n("XAgg"),l=n.n(o),i=n("yKah"),s=n.n(i),c=n("lvz6"),f=n.n(c),d=n("hsT8"),u=n.n(d),p=n("Ekwr"),g=n.n(p),h=n("03wM"),m=n.n(h),S=n("nbuU"),y=n.n(S),v=n("yCd9"),b=n.n(v),w=n("WSeP"),x=n.n(w),R=n("fzuT"),T=n.n(R),C=n("D4RU"),O=n.n(C),E=n("29E8"),P=n("IE1r"),D=n("UDUI"),F=(n("RKBc"),angular.module("fileSaver",[]).factory("fileSaver",["$window",function(e){return function(t,n,r,a){if(e.cordova&&e.cordova.InAppBrowser&&"ios"===e.cordova.platformId){var o=new FileReader;return o.onloadend=function(){var t=o.result;return e.cordova.InAppBrowser.open(t,"_blank","hidenavigationbuttons=yes,hideurlbar=yes,enableViewportScale=yes,location=no")},void o.readAsDataURL(t)}return e.saveAs(t,n,r,a)}}])),A=n("5bca"),$=n("5/DJ"),k=n("81mT"),I=n("Xjih");function z(e,t){var n=m()(e);if(g.a){var r=g()(e);t&&(r=u()(r).call(r,(function(t){return f()(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)x()(n=z(Object(r),!0)).call(n,(function(t){T()(e,t,r[t])}));else if(s.a)l()(e,s()(r));else{var o;x()(o=z(Object(r))).call(o,(function(t){a()(e,t,f()(r,t))}))}}return e}t.a=angular.module("deskworks.reportHelper",[E.a.name,P.a.name,D.a.name,F.name,A.a.name,$.a.name,k.a.name,I.a.name]).factory("reportHelper",["$rootScope","$q","$timeout","$window","$filter","$http","dwAlerts","state","logo","jsPDF","csvMake","centerService","reportStyles","reportHeader","reportFooter","reportSort","fileSaver",function(e,t,n,r,a,o,l,i,s,c,f,d,u,p,g,h,m){return{sort:h,paramsChanged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return O()(n).call(n,(function(n){return moment.isMoment(e[n])?!moment.isMoment(t[n])||!e[n].isSame(t[n]):e[n]!==t[n]}))},loadResources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return t.all(U(U({},e()),{},{centers:d.query().catch((function(e){return l.error(e,"Failed to query centers.")})),logo:s.getSiteLogo()}))},buildPdf:function(e){var t,n,r=e.config,a=e.report,o=e.resources,l=e.doc,i=void 0===l?new c(r.paperLayout,"pt",r.paperSize):l,s=e.startY;x()(t=a.rows).call(t,(function(e){var t;x()(t=a.columns).call(t,(function(t,n){e[n]&&!angular.isUndefined(e[n].content)||(e[n]={content:e[n]});var r=e[n];!1===r.content?r.content="":(t.pdf&&(r.content=t.pdf(r.content)),r.content=angular.isUndefined(r.content)||null===r.content||""===r.content?"-":r.content)}))}));var f={columns:b()(n=a.columns).call(n,(function(e){return r.styles&&"uppercase"!==r.styles.headStyles.textTransform?e.title:e.title.toUpperCase()})),body:a.rows,headStyles:(r.styles||u).headStyles,bodyStyles:(r.styles||u).bodyStyles,columnStyles:(r.styles||u).columnStyles,tableMargin:r.styles&&r.styles.tableMargin||(r.styles||u).pageMargins,startY:s||(r.styles||u).startY||!1,didParseCell:function(e){var t=e.row,n=e.cell,r=e.column;if("body"===e.section){angular.extend(n.styles,{minCellWidth:50,fillColor:!1},a.styles[t.index],a.columns[r.index].styles,a.rows[t.index][r.index].styles)}else angular.extend(n.styles,a.columns[r.index].styles)},didDrawCell:function(e){return function(e,t){var n=e.cell,r=e.doc;0===e.column.index&&n.styles.borderColor&&n.styles.borderWidth&&(r.setLineWidth(n.styles.borderWidth),r.setDrawColor(n.styles.borderColor[0],n.styles.borderColor[1],n.styles.borderColor[2]),r.rect(e.settings.margin.left+n.styles.borderWidth/2,n.y+n.styles.borderWidth/2,e.table.getWidth(r.internal.pageSize.width)-n.styles.borderWidth,e.row.height-2*n.styles.borderWidth,"S"));return!1}(e,a.columns)},didDrawPage:function(e){(r.header||p)({config:r,doc:i,data:e.table,resources:o}),(r.footer||g)({config:r,doc:i,data:e.table,resources:o})}};return f.margin=f.tableMargin||(r.styles||u).pageMargins,i.autoTable(f),i},buildCsv:function(e){var t,n,r=e.report,a={charset:"utf-8"};return x()(t=r.rows).call(t,(function(e){var t;x()(t=r.columns).call(t,(function(t,n){e[n]&&angular.isDefined(e[n].content)&&(e[n]=e[n].content),t.csv&&(e[n]=t.csv(e[n])),e[n]=angular.isUndefined(e[n])||null===e[n]||!1===e[n]||""===e[n]?"":e[n]}))})),r.rows.unshift(b()(n=r.columns).call(n,(function(e){return e.title.toUpperCase()}))),new Blob([f.generate(r.rows,a)],{type:"text/csv;charset="+a.charset+";"})},getReportFileName:function(e){var t,n=e.extension,r=void 0===n?"pdf":n,o=e.postfix,l=void 0===o?"":o,i=e.config,s=e.resources,c=i.reportName.toLowerCase().replace(/\s+/g,"-"),f=(y()(t=s.centers).call(t,(function(e){return e.id===+i.centerId}))||{name:"all-centers"}).name.toLowerCase().replace(/\s+/g,"-");return c+"-"+f+"-"+a("date")(moment(),"yyyyMMdd-HHmmss")+l+"."+r.toLowerCase()},download:function(e){var t=e.blob,n=e.fileName;if(!t)return;m(t,n)}}}])},IE1r:function(e,t,n){"use strict";n("8cZI"),n("JBxO"),n("Muwe"),n("y89P");var r=n("WSeP"),a=n.n(r),o=n("xeXu"),l=n.n(o);t.a=angular.module("csvMake",[]).service("csvMake",["$q",function(e){this.generate=function(e,t){return t.txtDelim=t.txtDelim||'"',t.decimalSep=t.decimalSep||".",t.fieldSep=t.fieldSep||",",t.charset=t.charset||"utf-8",t.fieldSep=this.isSpecialChar(t.fieldSep)?this.getSpecialChar(t.fieldSep):t.fieldSep,this.stringify(e,t)};var t={"\\t":"\t","\\b":"\b","\\v":"\v","\\f":"\f","\\r":"\r"};this.stringifyField=function(e,t){return"locale"===t.decimalSep&&this.isFloat(e)?e.toLocaleString():"."!==t.decimalSep&&this.isFloat(e)?e.toString().replace(".",t.decimalSep):"string"==typeof e?(e=e.replace(/"/g,'""'),(t.quoteStrings||l()(e).call(e,",")>-1||l()(e).call(e,"\n")>-1||l()(e).call(e,"\r")>-1)&&(e=t.txtDelim+e+t.txtDelim),e):"boolean"==typeof e?e?"TRUE":"FALSE":e},this.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},this.stringifyAsync=function(t,n){var r=e.defer(),o=this,l="",i="",s=e.when(t).then((function(e){var t,s;angular.isDefined(n.header)&&n.header&&(t=[],a()(angular).call(angular,n.header,(function(e,t){this.push(o.stringifyField(e,n))}),t),s=t.join(n.fieldSep?n.fieldSep:","),i+=s+"\r\n");var c,f,d=[];(angular.isArray(e)?d=e:angular.isFunction(e)&&(d=e()),angular.isDefined(n.label)&&n.label&&"boolean"==typeof n.label)&&(c=[],a()(angular).call(angular,d[0],(function(e,t){this.push(o.stringifyField(t,n))}),c),f=c.join(n.fieldSep?n.fieldSep:","),i+=f+"\r\n");a()(angular).call(angular,d,(function(e,t){var r,l,s=angular.copy(d[t]);l=[];var c=n.columnOrder?n.columnOrder:s;a()(angular).call(angular,c,(function(e,t){var r=n.columnOrder?s[e]:e;this.push(o.stringifyField(r,n))}),l),r=l.join(n.fieldSep?n.fieldSep:","),i+=t<d.length?r+"\r\n":r})),n.addByteOrderMarker&&(l+="\ufeff"),l+=i,r.resolve(l)}));return"function"==typeof s.catch&&s.catch((function(e){r.reject(e)})),r.promise},this.stringify=function(e,t){var n,r,o=this,l="",i="";angular.isDefined(t.header)&&t.header&&(n=[],a()(angular).call(angular,t.header,(function(e,n){this.push(o.stringifyField(e,t))}),n),r=n.join(t.fieldSep?t.fieldSep:","),i+=r+"\r\n");var s,c,f=e;angular.isDefined(t.label)&&t.label&&"boolean"==typeof t.label&&(s=[],a()(angular).call(angular,f[0],(function(e,n){this.push(o.stringifyField(n,t))}),s),c=s.join(t.fieldSep?t.fieldSep:","),i+=c+"\r\n");return a()(angular).call(angular,f,(function(e,n){var r,l,s=angular.copy(f[n]);l=[];var c=t.columnOrder?t.columnOrder:s;a()(angular).call(angular,c,(function(e,n){var r=t.columnOrder?s[e]:e;this.push(o.stringifyField(r,t))}),l),r=l.join(t.fieldSep?t.fieldSep:","),i+=n<f.length?r+"\r\n":r})),t.addByteOrderMarker&&(l+="\ufeff"),l+=i},this.isSpecialChar=function(e){return void 0!==t[e]},this.getSpecialChar=function(e){return t[e]}}])},Kh2r:function(e,t,n){},Krgv:function(e,t){e.exports='<ff-panel> <ff-panel-header><span translate=REPORTS.OPTIONS.HEADER></span></ff-panel-header> <label class=ff-row ng-if=$ctrl.banks> <ff-label flex="0 0 100px"><span translate=REPORTS.OPTIONS.BANK></span></ff-label> <ff-select ff-model=$ctrl.model.bankId ff-options="bank.id as bank.name for bank in $ctrl.banks"></ff-select> </label> <label class=ff-row ng-if="$ctrl.model.centerId !== false && !$ctrl.noCenters && !$ctrl.centers" ng-show="state.getUserCenters().length > 1"> <ff-label flex="0 0 100px"><span translate=REPORTS.OPTIONS.CENTER></span></ff-label> <dw-select-center ff-model=$ctrl.model.centerId ff-option-all="{{$ctrl.allCenters !== false}}"></dw-select-center> </label> <label class=ff-row ng-if="$ctrl.model.centerId !== false && !$ctrl.noCenters && $ctrl.centers" ng-show="state.getUserCenters().length > 1"> <ff-label flex="0 0 100px"><span translate=REPORTS.OPTIONS.CENTER></span></ff-label> <ff-select ff-model=$ctrl.model.centerId ff-options="center.id as center.name for center in $ctrl.centers"></ff-select> </label> <label class=ff-row> <ff-label flex="0 0 100px"><span translate=REPORTS.OPTIONS.SIZE></span></ff-label> <ff-select ff-model=$ctrl.model.paperSize> <option ng-repeat="size in $ctrl.optsPaperSize" value={{size.id}}>{{size.name}}</option> </ff-select> </label> <ff-row> <ff-label flex="0 0 100px"><span translate=REPORTS.OPTIONS.LAYOUT></span></ff-label> <ff-static> <div class="ff-grid gutter-h-half" role=radiogroup aria-label="{{\'REPORTS.OPTIONS.LAYOUT\' | translate}}"> <label flex="0 0 auto"> <ff-radio name=paperLayout ff-model=$ctrl.model.paperLayout ff-value="\'p\'"> <span translate=REPORTS.OPTIONS.LAYOUT.PORTRAIT></span> </ff-radio> </label> <label flex="0 0 auto"> <ff-radio name=paperLayout ff-model=$ctrl.model.paperLayout ff-value="\'l\'"> <span translate=REPORTS.OPTIONS.LAYOUT.LANDSCAPE></span> </ff-radio> </label> </div> </ff-static> </ff-row> </ff-panel> '},LTMe:function(e,t,n){"use strict";n("Muwe"),n("y89P"),n("X5mX");var r=n("nbuU"),a=n.n(r),o=n("9HME"),l=angular.module("deskworks.reports.optsPaperSize",[]).factory("optsPaperSize",(function(){return[{id:"letter",name:"Letter"},{id:"A4",name:"A4"},{id:"A3",name:"A3"},{id:"A2",name:"A2"},{id:"A1",name:"A1"},{id:"A0",name:"A0"}]})),i=n("Krgv"),s=n.n(i);t.a=angular.module("deskworks.reportOptions",["deskworks.helper",l.name,o.a.name]).directive("reportOptions",["$compile",function(e){return{restrict:"EAC",scope:!0,transclude:"element",priority:2,controller:"ReportOptionsCtrl as $ctrl",bindToController:{model:"<",centers:"<",allCenters:"<",banks:"<",noCenters:"<"},link:function(t,n,r,a,o){o((function(r,a){var o=e(s.a)(t);angular.element(o[0].querySelector?o[0].querySelector(".ff-panel-body"):o).append(r),n.after(o)}))}}}]).controller("ReportOptionsCtrl",["$scope","$location","state","helper","optsPaperSize",function(e,t,n,r,o){var l=this;l.optsPaperSize=o,l.$onInit=function(){!1===l.model.centerId||l.noCenters||(e.$watch((function(){return t.search().centerId}),(function(e){l.model.centerId=e||0===e?+e:n.getCurrentCenterId()})),e.$watch("$ctrl.model.centerId",(function(n){n&&e.vm&&e.vm.config&&e.vm.config.reportOwnerRegion&&(e.vm.config.reportOwnerRegion.ownerId=e.vm.config.reportOwnerRegion.regionId=void 0),t.search("centerId",n).replace()}))),l.banks&&(e.$watch((function(){return t.search().bankId}),(function(e){l.model.bankId=e||0===e?+e:l.banks&&l.banks[0]&&l.banks[0].id})),e.$watch("$ctrl.model.bankId",(function(e){t.search("bankId",e).replace()}))),e.$watch((function(){return t.search().paperSize}),(function(e){var t;l.model.paperSize=(a()(t=l.optsPaperSize).call(t,(function(t){return t.id===e}))||l.optsPaperSize[0]).id})),e.$watch("$ctrl.model.paperSize",(function(e){t.search("paperSize",e).replace()})),e.$watch((function(){return t.search().paperLayout}),(function(e){l.model.paperLayout=e||l.model.paperLayout||"l"})),e.$watch("$ctrl.model.paperLayout",(function(e){t.search("paperLayout",e).replace()}))}}])},UDUI:function(e,t,n){"use strict";var r=n("cgBC");n("dbsv");t.a=angular.module("jsPDF",[]).factory("jsPDF",["$window",function(e){return e.jsPDF=r.default,e.jsPDF}])},WgSX:function(e,t,n){"use strict";n("Kh2r");t.a=angular.module("pdfPreview",["deskworks.helper"]).directive("pdfPreview",["$window","helper",function(e,t){return{restrict:"A",scope:!0,template:'<iframe ng-hide="ie" title="{{\'REPORTS.PREVIEW.HEADER\' | translate}}"></iframe><ff-info class="text-danger" ng-if="ie"><ff-icon sense="warning"></ff-icon> Microsoft Edge & Internet Explorer don\'t support live PDF preview. You can download the PDF or use another browser to have live preview, e.g. Chrome/Firefox/Opera/Safari.</ff-info>',compile:function(n,r){var a=n.parent().parent();return t.isMobile()&&a.hasClass("flex-form")?(n.parent().parent().css("display","none"),function(){}):t.isIE()?function(e,t,n){e.ie=!0}:(n.addClass("pdf-preview"),function(t,n,r){var a,o=n.children(),l=angular.element('<div class="ff-dimmer ff-spin"></div>');l.on("click",(function(e){e.stopPropagation()})),o.on("load",(function(){angular.element(l).remove(),n.removeClass("ff-dim")})),t.$watch(r.pdfPreview,(function(t){n.append(l),n.addClass("ff-dim"),a&&(e.URL.revokeObjectURL(a),a=null),t&&(a=e.URL.createObjectURL(t),o[0].src=a)})),t.$on("$destroy",(function(){a&&(e.URL.revokeObjectURL(a),a=null)}))})}}}])},Xjih:function(e,t,n){"use strict";n("8cZI");var r=n("nbuU"),a=n.n(r),o=n("5/DJ");t.a=angular.module("deskworks.reports.reportFooter",[o.a.name]).factory("reportFooter",["$filter","reportStyles",function(e,t){return function(){return 3===arguments.length?r.apply(void 0,arguments):n.apply(void 0,arguments)};function n(e){var n,r=e.config,o=e.doc,l=(e.data,e.resources),i=a()(n=l.centers).call(n,(function(e){return e.id===+r.centerId}));if(i){var s,c=o.internal.pageSize.width,f=o.internal.pageSize.height;o.setFont(o.getFont().fontName,"normal"),o.setTextColor(t.footer.textColor),o.setFontSize(9),s=[i.name,i.phone,i.street1],i.street2&&s.push(i.street2),s.push(i.city),s.push(i.state.name||i.state),s.push(i.zip),s=s.join(" / "),o.text(s,(c-o.getTextWidth(s))/2,f-30)}}function r(e,n,r){var a,o=n.internal.pageSize.width,l=n.internal.pageSize.height;n.setFont(n.getFont().fontName,"normal"),n.setTextColor(t.footer.textColor),n.setFontSize(9),a=[r.center.name,r.center.phone,r.center.street1],r.center.street2&&a.push(r.center.street2),a.push(r.center.city),a.push(r.center.state.name||r.center.state),a.push(r.center.zip),a=a.join(" / "),n.text(a,(o-n.getTextWidth(a))/2,l-30)}}])}}]);