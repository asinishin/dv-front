{"version":3,"sources":["webpack:///./bundles/invoice/common/invoice-helper.service.js","webpack:///./bundles/invoice/standard/index.js","webpack:///./bundles/invoice/standard/invoice-body.service.js","webpack:///./bundles/invoice/standard/invoice-columns.service.js","webpack:///./bundles/invoice/standard/invoice-header.service.js","webpack:///./bundles/invoice/standard/invoice-styles.service.js"],"names":["angular","module","factory","$translate","$filter","knownTypes","types","id","_name","filter","i","type","indexOf","getGroup","getChargesTotal","getTaxTotals","getBalance","getLogoSize","items","include","name","instant","total","reduce","sum","amount","item","taxTotals","forEach","taxes","tax","idx","length","push","taxName","taxAmount","totalCharges","balance","taxTotal","resources","width","height","logo","dx","dy","index","$injector","loadNewModules","invoiceStyles","invoiceColumns","invoiceHeader","invoiceBody","styles","get","columns","header","body","invoiceHelper","dataToReport","params","data","report","rows","generateGroup","content","colSpan","h1","group","halign","h2","col","dataKey","rowOdd","h3","$rootScope","cols","_title","cellWidth","pdf","v","csv","minCellWidth","translate","$on","title","args","config","doc","center","centers","centerId","str","x","y","pageWidth","internal","pageSize","setFont","getFont","fontName","setTextColor","textColor","setFontSize","reportName","toUpperCase","getTextWidth","text","pageCount","settings","margin","left","street1","street2","city","state","zip","join","phone","taxId","secondBlockY","right","w","h","addImage","userName","userCompany","address","street","date","endDate","dueDate","reportStyles","helper","copy","pageMargins","startY","headStyles","fontSize","fontStyle","valign","fillColor","borderWidth","borderColor"],"mappings":"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","file":"invoice-standard~._bundles_invoice_c.js?_rev=a7ae691456dfdcbcfd2f","sourcesContent":["export default angular.module('deskworks.invoiceHelper', [])\n\n  .factory('invoiceHelper', function($translate, $filter) {\n    const knownTypes = ['recurring', 'rental', 'deposit', 'payment', 'refund']; // 'other' and unknown -> other section\n    const types = [\n      { id: 'recurring', _name: 'INVOICE.RECURRING', filter: i => i.type === 'recurring' },\n      { id: 'rental', _name: 'INVOICE.RENTAL', filter: i => i.type === 'rental' },\n      { id: 'deposit', _name: 'INVOICE.DEPOSITS', filter: i => i.type === 'deposit' },\n      { id: 'other', _name: 'INVOICE.OTHER_CHARGES', filter: i => knownTypes.indexOf(i.type) < 0 },\n      { id: 'payment', _name: 'INVOICE.PAYMENTS', filter: i => i.type === 'payment' },\n      { id: 'refund', _name: 'INVOICE.REFUNDS', filter: i => i.type === 'refund' },\n    ];\n\n    return {\n      getGroup,\n      getChargesTotal,\n      getTaxTotals,\n      getBalance,\n      getLogoSize,\n    };\n\n    /**\n     * Get items group with name and total\n     * @param items\n     * @param type\n     * @returns {{total: *, name: (string|Object), items: *}}\n     */\n    function getGroup({ items, type }) {\n      type = types.find(i => i.id === type);\n      items = items.filter(i => i.include && type.filter(i));\n\n      return {\n        name: $translate.instant(type._name),\n        items,\n        total: items.reduce((sum, i) => sum + (+i.amount), 0),\n      };\n    }\n\n    /**\n     * Get total for all charges\n     * @param items\n     * @returns {*}\n     */\n    function getChargesTotal(items) {\n      return items\n        .filter(item => item.include && item.type !== 'payment' && item.type !== 'refund')\n        .reduce((sum, item) => sum + (+item.amount || 0), 0);\n    }\n\n    /**\n     * Get tax totals\n     * @param items\n     * @returns {Array}\n     */\n    function getTaxTotals(items) {\n      const taxTotals = [];\n\n      items.filter(item => item.include && item.type !== 'payment' && item.type !== 'refund')\n        .forEach(item => {\n          angular.forEach(item.taxes, (tax, idx) => {\n            if (taxTotals.length <= idx) taxTotals.push({ name: tax.taxName, amount: 0 });\n            taxTotals[idx].amount += +tax.taxAmount;\n          });\n        });\n\n      return taxTotals;\n    }\n\n    /**\n     * Get total balance\n     * @param items\n     * @returns {*}\n     */\n    function getBalance(items) {\n      const totalCharges = items\n        .filter(item => item.include && item.type !== 'payment' && item.type !== 'refund')\n        .reduce((sum, item) => sum + (+item.amount || 0), 0);\n\n      let balance = totalCharges + items\n        .reduce((sum, item) => item.include && (item.type === 'payment' || item.type === 'refund') ? sum + (+item.amount || 0) : sum, 0);\n\n      getTaxTotals(items).forEach(taxTotal => { balance += taxTotal.amount || 0; });\n\n      return balance;\n    }\n\n    /**\n     * Get scaled logo size\n     * @param resources\n     * @returns {{ width: number, height: number }}\n     */\n    function getLogoSize({ resources }) {\n      let width = 0, height = 0;\n      if (resources.logo) {\n        width = 140; height = 80;\n        const dx = width / resources.logo.width;\n        const dy = height / resources.logo.height;\n        if (dx <= dy) height *= dx / dy; else width *= dy / dx;\n      }\n      return { width, height };\n    }\n  });\n","import invoiceStyles from './invoice-styles.service';\nimport invoiceColumns from './invoice-columns.service';\nimport invoiceHeader from './invoice-header.service';\nimport invoiceBody from './invoice-body.service';\n\nconst index = ['$injector', function index($injector) {\n\n  $injector.loadNewModules([\n    invoiceStyles.name,\n    invoiceColumns.name,\n    invoiceHeader.name, invoiceBody.name]);\n\n  return {\n    styles: $injector.get('invoiceStyles'),\n    columns: $injector.get('invoiceColumns'),\n    header: $injector.get('invoiceHeader'),\n    body: $injector.get('invoiceBody'),\n  };\n}];\n\nexport default index;\n","import invoiceHelper from '../common/invoice-helper.service';\nimport invoiceStyles from './invoice-styles.service';\n\nexport default angular.module('deskworks.invoiceBody', [\n  invoiceHelper.name,\n  invoiceStyles.name,\n])\n\n  .factory('invoiceBody', function($translate, $filter, invoiceHelper, invoiceStyles) {\n\n    return dataToReport;\n\n    function dataToReport({ params, data, columns }) {\n      const report = {\n        columns: columns.filter(i => i.include),\n        rows: [],\n        styles: [],\n      };\n\n      generateGroup(invoiceHelper.getGroup({ items: data.items, type: 'recurring' }));\n      generateGroup(invoiceHelper.getGroup({ items: data.items, type: 'rental' }));\n      generateGroup(invoiceHelper.getGroup({ items: data.items, type: 'deposit' }));\n      generateGroup(invoiceHelper.getGroup({ items: data.items, type: 'other' }));\n\n      const taxTotals = invoiceHelper.getTaxTotals(data.items);\n      if (taxTotals.length) {\n        report.rows.push([\n          { content: $translate.instant('INVOICE.CHARGES') + ':', colSpan: report.columns.length - 1 },\n          { content: $filter('ncurrency')(invoiceHelper.getChargesTotal(data.items)) },\n        ]);\n        report.styles.push(invoiceStyles.h1);\n\n        taxTotals.forEach(taxTotal => {\n          report.rows.push([\n            { content: taxTotal.name + ':', colSpan: report.columns.length - 1 },\n            { content: $filter('ncurrency')(taxTotal.amount) },\n          ]);\n          report.styles.push(invoiceStyles.h1);\n        });\n      }\n\n      generateGroup(invoiceHelper.getGroup({ items: data.items, type: 'payment' }));\n      generateGroup(invoiceHelper.getGroup({ items: data.items, type: 'refund' }));\n\n      report.rows.push([\n        { content: $translate.instant('INVOICE.BALANCE') + ':', colSpan: report.columns.length - 1 },\n        { content: $filter('ncurrency')(invoiceHelper.getBalance(data.items)) },\n      ]);\n      report.styles.push(invoiceStyles.h1);\n\n      return report;\n\n      /**\n       * Generate group of order items obtained from invoiceHelper.getGroup\n       * @param group\n       */\n      function generateGroup(group) {\n        if (!group.items || !group.items.length) return;\n\n        report.rows.push([{ content: group.name, colSpan: report.columns.length, styles: { halign: 'left' } }]);\n        report.styles.push(invoiceStyles.h2);\n\n        group.items.forEach((item, idx) => {\n          report.rows.push(report.columns.map(col => item[col.dataKey]));\n          report.styles.push(idx % 2 ? null : invoiceStyles.rowOdd);\n        });\n\n        report.rows.push([\n          { content: $translate.instant('INVOICE.SUBTOTAL') + ':', colSpan: report.columns.length - 1 },\n          { content: $filter('ncurrency')(group.total) },\n        ]);\n        report.styles.push(invoiceStyles.h3);\n      }\n    }\n  });\n","/**\n * Columns for Invoice\n */\nexport default angular.module('deskworks.invoiceColumns', [])\n  .factory('invoiceColumns', function($rootScope, $filter, $translate) {\n    const cols = [\n      {\n        dataKey: 'date', _title: 'INVOICE.COLUMNS.DATE', include: true,\n        styles: { cellWidth: 'wrap', halign: 'right' },\n        pdf: v => $filter('date')(v, 'mediumDate'), csv: v => $filter('date')(v, 'shortDate'),\n      },\n      {\n        dataKey: 'name', _title: 'INVOICE.COLUMNS.ITEM', include: true,\n        styles: { minCellWidth: 150 },\n      },\n      {\n        dataKey: 'description', _title: 'INVOICE.COLUMNS.DESCRIPTION', include: true,\n        styles: { minCellWidth: 150 },\n      },\n      {\n        dataKey: 'price', _title: 'INVOICE.COLUMNS.RATE', include: true,\n        styles: { cellWidth: 'wrap', halign: 'right' },\n        pdf: v => $filter('ncurrency')(v), csv: v => $filter('ncurrency')(v),\n      },\n      {\n        dataKey: 'qty', _title: 'INVOICE.COLUMNS.QTY', include: true,\n        styles: { cellWidth: 'wrap', halign: 'right' },\n        pdf: v => $filter('round')(v), csv: v => $filter('round')(v),\n      },\n      {\n        dataKey: 'amount', _title: 'INVOICE.COLUMNS.AMOUNT', include: true,\n        styles: { cellWidth: 'wrap', halign: 'right' },\n        pdf: v => $filter('ncurrency')(v), csv: v => $filter('ncurrency')(v),\n      },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { cols.forEach(col => { col.title = $translate.instant(col._title); }); }\n\n    return cols;\n  });\n","import invoiceStyles from './invoice-styles.service';\n\n/**\n * PDF Invoice Header\n */\nexport default angular.module('deskworks.invoiceHeader', [\n  invoiceStyles.name,\n])\n\n  .factory('invoiceHeader', ($filter, $translate, invoiceStyles) => {\n\n    return header;\n\n    function header(args) {\n      const { config, doc, data, resources } = args;\n      const center = resources.centers.find(i => i.id === config.centerId);\n\n      let str, x, y;\n      const pageWidth = doc.internal.pageSize.width;\n\n      doc.setFont(doc.getFont().fontName, 'normal');\n      doc.setTextColor(invoiceStyles.header.textColor);\n\n      /**\n       * Report Name\n       */\n      doc.setFontSize(14);\n      str = config.reportName.toUpperCase();\n      x = (pageWidth - doc.getTextWidth(str)) / 2; y = 40;\n      doc.text(str, x, y);\n\n      /**\n       * Invoice Details\n       */\n      if (data.pageCount !== 1) return; // invoice details on 1st page only\n\n      doc.setFontSize(10); doc.setFont(doc.getFont().fontName, 'normal');\n\n      x = data.settings.margin.left; y = 60;\n      doc.text(center.name, x, y);\n\n      y += 12;\n      doc.text(center.street1 || '', x, y);\n\n      if (center.street2) {\n        y += 12;\n        doc.text(center.street2 || '', x, y);\n      }\n\n      y += 12;\n      doc.text([center.city, center.state.name || center.state, center.zip].join(', '), x, y);\n\n      y += 12;\n      doc.text($translate.instant('INVOICE.HEADER.PHONE').toUpperCase() + ': ' + center.phone, x, y);\n\n      if (center.taxId) {\n        y += 12;\n        doc.text($translate.instant('INVOICE.HEADER.TAX_ID').toUpperCase() + ': ' + center.taxId, x, y);\n      }\n\n      const secondBlockY = y + 18;\n\n      /**\n       * Logo\n       */\n      if (resources.logo) {\n        x = pageWidth - data.settings.margin.right; y = 50;\n        let w = 140, h = 50;\n        const dx = w / resources.logo.width;\n        const dy = h / resources.logo.height;\n        if (dx <= dy) h *= dx / dy; else w *= dy / dx;\n        doc.addImage(resources.logo.data, x - w, y, w, h);\n      }\n\n      /**\n       * Bill To\n       */\n      doc.setFontSize(8); doc.setFont(doc.getFont().fontName, 'bold');\n      x = data.settings.margin.left; y = secondBlockY;\n      doc.text($translate.instant('INVOICE.HEADER.BILL_TO').toUpperCase() + ':', x, y);\n      doc.setFontSize(10); doc.setFont(doc.getFont().fontName, 'normal');\n\n      y += 12;\n      doc.text(config.userName || '', x, y);\n\n      y += 12;\n      doc.text(config.userCompany || '', x, y);\n\n      if (config.address) {\n        y += 12;\n        doc.text(config.address.street || '', x, y);\n        y += 12;\n        doc.text([config.address.city, config.address.state.name || config.address.state, config.address.zip].join(', '), x, y);\n      }\n\n      /**\n       * Dates\n       */\n      x = pageWidth - data.settings.margin.right; y = secondBlockY;\n\n      doc.setFontSize(8); doc.setFont(doc.getFont().fontName, 'bold');\n      str = $translate.instant('INVOICE.HEADER.DATE').toUpperCase() + ':';\n      doc.text(str, x - doc.getTextWidth(str), y);\n      doc.setFontSize(10); doc.setFont(doc.getFont().fontName, 'normal');\n\n      y += 12;\n      str = $filter('date')(config.date || config.endDate, 'mediumDate');\n      doc.text(str, x - doc.getTextWidth(str), y);\n\n      y += 12;\n      doc.setFontSize(8); doc.setFont(doc.getFont().fontName, 'bold');\n      str = $translate.instant('INVOICE.HEADER.DUE_DATE').toUpperCase() + ':';\n      doc.text(str, x - doc.getTextWidth(str), y);\n      doc.setFontSize(10); doc.setFont(doc.getFont().fontName, 'normal');\n\n      y += 12;\n      str = $filter('date')(config.dueDate, 'mediumDate');\n      doc.text(str, x - doc.getTextWidth(str), y);\n    }\n  });\n","import reportStyles from 'shared/reports/services/report-styles.service';\n/**\n * invoiceStyles service - defines PDF styling for invoices\n */\nexport default angular.module('deskworks.invoiceStyles', [\n  'deskworks.helper',\n  reportStyles.name,\n])\n  .factory('invoiceStyles', function(helper, reportStyles) {\n\n    const invoiceStyles = angular.copy(reportStyles);\n\n    invoiceStyles.pageMargins[0] = 50; // reduce top margin due to simple header\n    invoiceStyles.pageMargins[2] = 30; // reduce bottom margin due to lack of footer\n    invoiceStyles.startY = 170;\n    invoiceStyles.header.textColor = '#000000';\n\n    invoiceStyles.headStyles = {\n      fontSize: 9,\n      fontStyle: 'normal',\n      valign: 'middle',\n      fillColor: 100,\n      textColor: 255\n    };\n\n    invoiceStyles.h1 = {\n      fontStyle: 'bold',\n      textColor: 0,\n      borderWidth: 1,\n      borderColor: [0, 0, 0]\n    };\n\n    invoiceStyles.h2 = {\n      fontStyle: 'bold',\n      textColor: 0,\n      borderWidth: 1,\n      borderColor: [180, 180, 180]\n    };\n\n    return invoiceStyles;\n  });\n"],"sourceRoot":""}