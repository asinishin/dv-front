(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"+1+s":function(e,t){e.exports="<div id=reservationReport class=gutter-v> <form name=formReservationReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-dates model=vm.config.reportDates embed=\"0 0 100px\"></report-dates> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},"+aob":function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("G0Vy"),s=r.n(a),l=r("WSeP"),i=r.n(l),u=r("D4RU"),d=r.n(u),c=r("NOor"),f=r.n(c),p=r("yCd9"),m=r.n(p),R=r("hsT8"),g=r.n(R);t.default=angular.module("deskworks.RentRollReportCtrl",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportColumns","deskworks.reports.reportOptions","deskworks.reports.ReportBuilder","deskworks.reports.reportStyles","deskworks.RentRollReport","deskworks.rentRollReportColumns"]).controller("RentRollReportCtrl",["$scope","$timeout","$translate","$filter","helper","state","fileSaver","reportStyles","ReportBuilder","RentRollReport","rentRollReportColumns",function(e,t,r,n,a,l,u,c,p,R,y){var E,v=this;function h(e){var t,n,l,u={columns:g()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]},p=m()(n=["area","amount","discount","total"]).call(n,(function(e){var t;return{dataKey:e,amount:0,colIndex:f()(t=u.columns).call(t,(function(t){return t.dataKey===e}))}})),R=-1;if(d()(p).call(p,(function(e){var t;return(R=f()(t=u.columns).call(t,(function(t){return t.dataKey===e.dataKey})))>=0})),i()(l=e.reportData).call(l,(function(t){var n,l=v.reportBuilder.sortData(t.recurringCharges,e.orderBy),d=m()(n=angular.copy(p)).call(n,(function(e){return e.amount=0,e}));if(i()(l).call(l,(function(e,t){var r;u.rows.push(m()(r=u.columns).call(r,(function(t){return e[t.dataKey]}))),u.styles.push(t%2?null:c.rowOdd),i()(d).call(d,(function(t){t.amount+=e[t.dataKey]||0}))})),R>=0){var f,g,y,E=s()(f=Array(u.columns.length)).call(f,!1);if(R>0)E[R-1]=o()(g=o()(y="".concat(t.productCategoryCode," ")).call(y,t.productCategoryName," ")).call(g,r.instant("REPORTS.TOTAL"),":");i()(d).call(d,(function(e){E[e.colIndex]=a.round(e.amount)})),u.rows.push(E),u.styles.push(c.h2)}i()(p).call(p,(function(e,t){e.amount+=d[t].amount}))})),R>=0){var y,E;u.rows.push(s()(y=Array(u.columns.length)).call(y,!1)),u.styles.push(c.h3);var h=s()(E=Array(u.columns.length)).call(E,!1);R>0&&(h[R-1]="".concat(r.instant("RENT_ROLL_REPORT.TOTAL_RENT_ROLL"),":")),i()(p).call(p,(function(e){h[e.colIndex]=a.round(e.amount)})),u.rows.push(h),u.styles.push(c.h3)}return u}v.config={reportName:r.instant("RENT_ROLL_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:angular.copy(y)},getReportData:function(){return R.query({centerId:v.config.reportOptions.centerId||null})}},l.setPageTitle(v.config.reportName),v.reportBuilder=new p(v.config),e.$watch((function(){return{reportOptions:v.config.reportOptions,reportColumns:v.config.reportColumns,orderBy:v.config.orderBy}}),(function(){E&&(t.cancel(E),E=null),E=t((function(){v.pdf=null,angular.isUndefined(v.config.reportOptions.centerId)||v.reportBuilder.buildPdf(h).then((function(e){v.pdf=e}))}),100)}),!0),v.downloadPdf=function(){v.pdf&&u(v.pdf,v.reportBuilder.getReportFileName("pdf"))},v.downloadCsv=function(){v.pdf&&u(v.reportBuilder.buildCsv(h),v.reportBuilder.getReportFileName("csv"))}}])},"1THZ":function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),s=r.n(a),l=r("yKah"),i=r.n(l),u=r("WSeP"),d=r.n(u),c=r("lvz6"),f=r.n(c),p=r("hsT8"),m=r.n(p),R=r("Ekwr"),g=r.n(R),y=r("03wM"),E=r.n(y),v=r("fzuT"),h=r.n(v),T=r("yt4b"),O=r("Amco"),C=r("ycie"),S=r("7ZQE"),w=r("3Ei7"),I=r("vRjO"),N=r("Tx5W");function D(e,t){var r=E()(e);if(g.a){var n=g()(e);t&&(n=m()(n).call(n,(function(t){return f()(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)d()(r=D(Object(n),!0)).call(r,(function(t){h()(e,t,n[t])}));else if(i.a)s()(e,i()(n));else{var a;d()(a=D(Object(n))).call(a,(function(t){o()(e,t,f()(n,t))}))}}return e}t.default=angular.module("deskworks.ReservationUtilizationReportCtrl",["pdfPreview","fileSaver","chart",T.default.name,"deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOptions","deskworks.ReservationUtilizationReport","deskworks.reportByPeriod","deskworks.reservationCategory.service",O.default.name,C.default.name,w.default.name,S.default.name,I.default.name,N.default.name]).controller("ReservationUtilizationReportCtrl",["$scope","$q","$location","$timeout","$translate","$filter","helper","dwAlerts","debounce","state","fileSaver","reportStyles","ReportBuilder","reportHelper","ReservationUtilizationReport","reservationUtilizationDetailedActualAggregate","reservationUtilizationDetailedActualReport","reservationUtilizationDetailedActualChart","reservationCategoryService","reservationUtilizationActualExpectedReport","reservationUtilizationActualExpectedAggregate","reservationUtilizationActualExpectedChart",function(e,t,r,n,o,a,s,l,i,u,d,c,f,p,m,R,g,y,E,v,h,T){var O=this,C=p.paramsChanged,S=p.loadResources;O.config={reportName:o.instant("RESERVATION_UTILIZATION_REPORT.REPORT_NAME")},O.params={fromDate:u.getParam("fromDate")?a("toDate")(u.getParam("fromDate")):moment().subtract(1,"month").startOf("month"),toDate:u.getParam("toDate")?a("toDate")(u.getParam("toDate")):moment().subtract(1,"month").endOf("month"),mode:u.getParam("mode")||"detailedActual"},O.resources=null,O.data=null,u.setPageTitle(O.config.reportName),e.$watch("$ctrl.params",i((function(e,r){u.setParam("mode",O.params.mode),O.pdf=null,O.report=null,s.pointFirstInvalid("#reservationUtilizationReport")||O.params.fromDate&&O.params.toDate&&(C(e,r,["fromDate","toDate","centerId"])&&(O.data=null),t.all({resources:O.resources||S((function(){return{categories:E.query(u.getCurrentCenterId()).catch((function(e){return l.error(e,"Failed to query reservation categories.")}))}})),data:O.data||m.query(O.params).catch((function(e){return l.error(e,"Failed to query report.")}))}).then((function(e){O.resources=e.resources,O.data=e.data})).then((function(){if("actualExpected"===O.params.mode){var e=h(O.data,O.resources.categories);O.report=v(O.params,e),O.chart=T(e)}else{var t=R(O.params,O.data);O.report=g(O.params,t),O.chart=y(t)}var r=p.buildPdf({config:_(_({},O.config),O.params),report:O.report,resources:O.resources});O.pdf=r.output("blob")})))}),100),!0),O.downloadPdf=function(){if(O.pdf){var e=p.getReportFileName({extension:"pdf",config:_(_({},O.config),O.params),resources:O.resources});p.download({blob:O.pdf,fileName:e})}},O.downloadCsv=function(){if(O.pdf){var e=p.getReportFileName({extension:"csv",config:_(_({},O.config),O.params),resources:O.resources}),t=p.buildCsv({report:O.report});p.download({blob:t,fileName:e})}}}])},"2S09":function(e,t,r){"use strict";r.r(t);var n=r("hsT8"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("yCd9"),i=r.n(l),u=r("Njxs");t.default=angular.module("deskworks.reports.membershipReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOptions","deskworks.reports.reportOwnerRegion","deskworks.reports.membershipReport.service","deskworks.reports.membershipReportColumns",u.a.name]).controller("MembershipReportCtrl",["$scope","$timeout","$location","$translate","state","helper","fileSaver","ReportBuilder","MembershipReport","membershipReportColumns","fields","reportStyles",function(e,t,r,n,a,l,u,d,c,f,p,m){var R,g=this;function y(e){var t,r,n,a={columns:o()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:e.reportData,styles:[]};return a.rows=g.reportBuilder.sortData(a.rows,e.orderBy),a.rows=i()(r=a.rows).call(r,(function(e){var t;return i()(t=a.columns).call(t,(function(t){return e[t.dataKey]}))})),a.styles=i()(n=a.rows).call(n,(function(e,t){return t%2?null:m.rowOdd})),a}g.config={reportName:n.instant("MEMBERSHIP_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(f)},getReportData:function(){var e={centerId:g.config.reportOptions.centerId,ownerId:g.config.reportOwnerRegion.ownerId,regionId:g.config.reportOwnerRegion.regionId};return c.query(angular.extend(e,g.membershipFilter)).$promise.then((function(e){return i()(e).call(e,(function(e){return e.fields&&delete(e=angular.extend(e,e.fields)).fields,e}))}))}},a.setPageTitle(g.config.reportName),g.reportBuilder=new d(g.config),s()(angular).call(angular,p,(function(e){g.config.reportColumns.columns.push({dataKey:e.id,title:e.name,include:!1})})),e.$watch((function(){return{reportOptions:g.config.reportOptions,reportColumns:g.config.reportColumns,reportOwnerRegion:g.config.reportOwnerRegion,membershipFilter:g.membershipFilter,orderBy:g.config.orderBy}}),(function(e,r){R&&(t.cancel(R),R=null),R=t((function(){g.pdf=null,e&&r&&!angular.equals(e.membershipFilter,r.membershipFilter)&&(g.config.reportData=null),angular.isUndefined(g.config.reportOptions.centerId)||g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e}))}),100)}),!0),g.downloadPdf=function(){g.pdf&&u(g.pdf,g.reportBuilder.getReportFileName("pdf"))},g.downloadCsv=function(){g.pdf&&u(g.reportBuilder.buildCsv(y),g.reportBuilder.getReportFileName("csv"))}}])},"3DDD":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.membershipReportColumns",[]).factory("membershipReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"company",_title:"MEMBERSHIP_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"name",_title:"MEMBERSHIP_REPORT.COLUMNS.NAME",include:!0,styles:{minCellWidth:150}},{dataKey:"address",_title:"MEMBERSHIP_REPORT.COLUMNS.ADDRESS",include:!1,styles:{minCellWidth:150}},{dataKey:"comments",_title:"MEMBERSHIP_REPORT.COLUMNS.COMMENTS",include:!1,styles:{minCellWidth:250}},{dataKey:"email",_title:"MEMBERSHIP_REPORT.COLUMNS.EMAIL",include:!1,styles:{minCellWidth:150}},{dataKey:"phone",_title:"MEMBERSHIP_REPORT.COLUMNS.PHONE",include:!1,styles:{minCellWidth:100}},{dataKey:"facility",_title:"MEMBERSHIP_REPORT.COLUMNS.FACILITY",include:!1,styles:{minCellWidth:150}},{dataKey:"joinDate",_title:"MEMBERSHIP_REPORT.COLUMNS.JOIN_DATE",include:!1,styles:{minCellWidth:100},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"occupation",_title:"MEMBERSHIP_REPORT.COLUMNS.OCCUPATION",include:!0,styles:{minCellWidth:150}},{dataKey:"pricelist",_title:"MEMBERSHIP_REPORT.COLUMNS.PRICE_LIST",include:!0,styles:{minCellWidth:160}},{dataKey:"status",_title:"MEMBERSHIP_REPORT.COLUMNS.STATUS",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"printerCodes",_title:"MEMBERSHIP_REPORT.COLUMNS.PRINTER_CODES",include:!1},{dataKey:"leadSource",_title:"MEMBERSHIP_REPORT.COLUMNS.LEAD_SOURCE",include:!1}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},"3Ei7":function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("YtL8"),i=r.n(l),u=r("UwMB"),d=r("5q+n");t.default=angular.module("deskworks.reports.reservationUtilizationActualExpectedReport",[u.default.name,d.default.name]).factory("reservationUtilizationActualExpectedReport",["$filter","$translate","helper","reportStyles","reservationUtilizationActualExpectedColumns",function(e,t,r,n,a){return function(e,r){var l={columns:a,rows:[],styles:[]},u=i()(r).call(r,(function(e,t){return e+t.expectedUse}),0),d=i()(r).call(r,(function(e,t){return e+t.actualUse}),0);return l.rows.push([t.instant("REPORTS.TOTALS").toUpperCase(),u,d,u?100*d/u:0]),l.styles.push(n.h1),s()(r).call(r,(function(e){var t,r;l.rows.push(o()(t=l.columns).call(t,(function(t){return e[t.dataKey]}))),l.styles.push(n.h2),s()(r=e.units).call(r,(function(e,t){var r;l.rows.push(o()(r=l.columns).call(r,(function(t){return e[t.dataKey]}))),l.styles.push(t%2?null:n.rowOdd)}))})),l}}])},"4DcZ":function(e,t,r){"use strict";r.r(t);var n=r("YtL8"),o=r.n(n),a=r("yCd9"),s=r.n(a);t.default=angular.module("deskworks.reports.revenueForecastChart",[]).factory("revenueForecastChart",["$translate","$filter","helper","whitelabel",function(e,t,r,n){return function(r){var a,l,i=s()(a=r[0].totals).call(a,(function(e){return t("date")(t("toDate")(e.month+"-01"),"MMM yyyy")})),u=s()(l=r[0].totals).call(l,(function(e,t){return o()(r).call(r,(function(e,r){return e+r.totals[t].amount}),0)})),d=s()(u).call(u,(function(e){return u[0]-e}));return{type:"bar",data:{labels:i,datasets:[{name:e.instant("REVENUE_FORECAST_REPORT.COMMITTED_REVENUE"),data:u,backgroundColor:n.getProperty("--brand-color"),maxBarThickness:50},{name:e.instant("REVENUE_FORECAST_REPORT.AT_RISK_REVENUE"),data:d,backgroundColor:n.getProperty("--danger-color"),maxBarThickness:50}]},options:{tooltips:{mode:"index",intersect:!0,displayColors:!0,callbacks:{label:function(e,r){var n=r.datasets[e.datasetIndex];return n.name+": "+t("ncurrency")(n.data[e.index])}}},legend:{display:!1},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{min:0,callback:function(e){return t("ncurrency")(e,void 0,0)}}}]}}}}}])},"5q+n":function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),s=r.n(a),l=r("yKah"),i=r.n(l),u=r("lvz6"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("Ekwr"),m=r.n(p),R=r("03wM"),g=r.n(R),y=r("WSeP"),E=r.n(y),v=r("fzuT"),h=r.n(v);function T(e,t){var r=g()(e);if(m.a){var n=m()(e);t&&(n=f()(n).call(n,(function(t){return d()(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)E()(r=T(Object(n),!0)).call(r,(function(t){h()(e,t,n[t])}));else if(i.a)s()(e,i()(n));else{var a;E()(a=T(Object(n))).call(a,(function(t){o()(e,t,d()(n,t))}))}}return e}t.default=angular.module("deskworks.reservationUtilizationActualExpectedColumns",[]).factory("reservationUtilizationActualExpectedColumns",["$rootScope","$translate","helper",function(e,t,r){var n=[{dataKey:"name",_title:"RESERVATION_UNITS.UNIT"},O({dataKey:"expectedUse",_title:"RESERVATION_UTILIZATION_REPORT.COLUMNS.EXPECTED_USAGE",styles:{halign:"right"}},o(1)),O({dataKey:"actualUse",_title:"RESERVATION_UTILIZATION_REPORT.COLUMNS.ACTUAL_USAGE",styles:{halign:"right"}},o(1)),{dataKey:"utilization",_title:"RESERVATION_UTILIZATION_REPORT.COLUMNS.UTILIZATION",styles:{halign:"right"},pdf:function(e){return r.round(e,1)+"%"},csv:function(e){return r.round(e,1)+"%"}}];function o(e){return{pdf:function(t){return r.round(t,e)},csv:function(t){return r.round(t,e)}}}function a(){E()(n).call(n,(function(e){e.title=t.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},"6avE":function(e,t,r){"use strict";r.r(t);var n=r("xeXu"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("hsT8"),i=r.n(l),u=r("yCd9"),d=r.n(u);t.default=angular.module("deskworks.reports.priceListReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportOptions","deskworks.reports.priceListReport.service","deskworks.reports.priceListReportColumns"]).controller("PriceListReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","fileSaver","reportStyles","ReportBuilder","PriceListReport","priceListReportColumns",function(e,t,r,n,a,l,u,c,f,p,m){var R,g=this;function y(e){var t,a={columns:e.reportColumns.columns,rows:[],styles:[]};return s()(angular).call(angular,e.reportData.pricelists,(function(l){var i,u,f;o()(i=e.plNames).call(i,l.name)<0||((t=d()(u=Array.apply(null,Array(a.columns.length))).call(u,Boolean.prototype.valueOf,!1))[0]=n.instant("PRICE_LISTS.LIST.PRICE_LIST")+": "+l.name+" ("+n.instant("PRICE_LISTS.LAST_UPDATE")+": "+r("date")(l.updatedAt,"mediumDate")+")",a.rows.push(t),a.styles.push(c.h1),s()(f=l.productTypes).call(f,(function(e){var r,n;(t=d()(r=Array.apply(null,Array(a.columns.length))).call(r,Boolean.prototype.valueOf,!1))[0]=e.id,a.rows.push(t),a.styles.push(c.h2),s()(n=e.products).call(n,(function(e,t){var r;a.rows.push(d()(r=a.columns).call(r,(function(t){return e[t.dataKey]}))),a.styles.push(t%2?null:c.rowOdd)}))})))})),a}g.config={reportName:n.instant("PRICE_LISTS.LIST.HEADER"),reportOptions:{centerId:!1},reportColumns:{columns:angular.copy(m)},getReportData:function(){return p.get({centerId:a.getCurrentCenterId()}).$promise}},g.reportBuilder=new f(g.config),e.$watch((function(t){var r,n;return{reportOptions:g.config.reportOptions,plNames:d()(r=i()(n=e.vm.priceLists).call(n,(function(e){return e.include}))).call(r,(function(e){return e.name}))}}),(function(e){R&&(t.cancel(R),R=null),R=t((function(t){g.pdf=null,angular.isDefined(g.config.reportOptions.centerId)&&(g.config.plNames=e.plNames,g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e})))}),100)}),!0),g.downloadPdf=function(){g.pdf&&u(g.pdf,g.reportBuilder.getReportFileName("pdf"))},g.downloadCsv=function(){g.pdf&&u(g.reportBuilder.buildCsv(y),g.reportBuilder.getReportFileName("csv"))}}])},"7ZQE":function(e,t,r){"use strict";r.r(t);var n=r("hsT8"),o=r.n(n),a=r("YtL8"),s=r.n(a),l=r("yCd9"),i=r.n(l);t.default=angular.module("deskworks.reservationUtilizationActualExpectedAggregate",["deskworks.reports.optsReportByPeriod"]).factory("reservationUtilizationActualExpectedAggregate",["helper",function(e){return function(t,r){var n,a=i()(t).call(t,(function(e){var t,r=s()(t=e.groups).call(t,(function(e,t){var r;return e+s()(r=t.daily).call(r,(function(e,t){return e+t.usage}),0)}),0)||0,n=e.unitName,o=e.expectedUse,a=void 0===o?0:o;return{name:n,categoryId:e.categoryId,expectedUse:a,actualUse:r,utilization:a?100*r/a:0}}));return o()(n=i()(r).call(r,(function(t){var r=o()(a).call(a,(function(e){return e.categoryId===t.id})),n=s()(r).call(r,(function(e,t){return e+t.expectedUse}),0),l=s()(r).call(r,(function(e,t){return e+t.actualUse}),0);return{name:t.name,expectedUse:n,actualUse:l,utilization:n?e.round(100*l/n):0,units:r}}))).call(n,(function(e){return e.units&&e.units.length}))}}])},"8scq":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.membershipReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("MembershipReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["joinDate"]);return e(r.getApiAbsUrl("/centers/:centerId/membership-reports"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,n,function(e){return o()(angular).call(angular,e,(function(e){o()(angular).call(angular,e.fields,(function(t){e[t.id]=t.value})),delete e.fields})),e}]}})}])},Afy5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.RentRollReport",["ngResource","datesDeserializer","deskworks.config"]).factory("RentRollReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["recurringCharges.startDate","recurringCharges.terminationDate"]),o=e(r.getApiAbsUrl("/reports/rent-roll"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,n]}});return{query:function(e){return o.query(e).$promise}}}])},Amco:function(e,t,r){"use strict";r.r(t);var n=r("nbuU"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("D4RU"),i=r.n(l),u=r("YtL8"),d=r.n(u),c=r("G0Vy"),f=r.n(c),p=r("yCd9"),m=r.n(p);t.default=angular.module("deskworks.reservationUtilizationDetailedActualAggregate",["deskworks.reports.optsReportByPeriod"]).factory("reservationUtilizationDetailedActualAggregate",["reservationUtilizationReportCreateGrid","helper",function(e,t){return function(r,n){var o={periods:e(r.fromDate,r.toDate,r.byPeriod)};return o.units=m()(n).call(n,(function(e){var r,n,a,l={name:e.unitName,totals:f()(r=Array(o.periods.length)).call(r,0),total:0};return l.groups=m()(n=e.groups).call(n,(function(e){var r,n;return{name:e.name,totals:d()(r=e.daily).call(r,(function(e,r){var n;return i()(n=o.periods).call(n,(function(n,o){if(r.date.isSameOrAfter(n.fromDate)&&r.date.isSameOrBefore(n.toDate)){var a=angular.isNumber(r.usage)?r.usage:0;return e[o]+=a,e[o]=t.round(e[o]),l.totals[o]+=a,l.totals[o]=t.round(l.totals[o]),!0}})),e}),f()(n=Array(o.periods.length)).call(n,0))}})),s()(a=l.groups).call(a,(function(e){var r;e.total=d()(r=e.totals).call(r,(function(e,t){return e+t}),0),l.total+=e.total,e.total=t.round(e.total)})),l.total=t.round(l.total),l})),o}}]).factory("reservationUtilizationReportCreateGrid",["$filter","optsReportByPeriod",function(e,t){return function(e,r,n){var a=[],s=o()(t).call(t,(function(e){return e.id===n})),l=e.clone().startOf(n);do{var i={fromDate:l.clone()};l.add(1,n+"s"),i.toDate=l.clone().subtract(1,"ms"),i.title=s.format(i.fromDate,i.toDate),a.push(i)}while(l.isSameOrBefore(r));return a}}])},BEjt:function(e,t){e.exports="<div id=reservationUsageReport class=gutter-v> <form name=formReservationUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\" style=margin-bottom:-15px> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <div class=gutter-v> <report-dates model=$ctrl.config.reportDates></report-dates> </div> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=$ctrl.config.reportOptions> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns></report-order-by> </report-options> <report-owner-region model=$ctrl.config.reportOwnerRegion report-data=$ctrl.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},"C/0G":function(e,t){e.exports="<div id=memberStatement class=gutter-v> <form name=formMemberStatement> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-dates model=vm.config.reportDates></report-dates> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <report-options model=vm.config.reportOptions></report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=MEMBER_STATEMENT.BTN_PDF></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=MEMBER_STATEMENT.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},"CR4+":function(e,t){e.exports="<div ng-controller=\"PriceListReportCtrl as rep\" class=gutter-v> <div class=ff-grid> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\" style=margin-left:auto> <report-options model=rep.config.reportOptions></report-options> </div> </div> <ff-btn-group> <ff-btn sense=download ff-click=rep.downloadPdf() ff-disabled=!rep.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=rep.downloadCsv() ff-disabled=!rep.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=rep.pdf></div> </ff-panel> </div> "},E9xF:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.invoiceStyles",["systemColors","deskworks.helper","deskworks.reports.reportStyles"]).factory("invoiceStyles",["systemColors","helper","reportStyles",function(e,t,r){var n=angular.copy(r);return n.pageMargins[0]=50,n.pageMargins[2]=30,n.startY=170,n.header.textColor="#000000",n.headStyles={fontSize:9,fontStyle:"normal",valign:"middle",fillColor:100,textColor:255},n.h1={fontStyle:"bold",textColor:0,borderWidth:1,borderColor:[0,0,0]},n.h2={fontStyle:"bold",textColor:0,borderWidth:1,borderColor:[180,180,180]},n}])},EKM0:function(e,t){e.exports="<div id=membershipReport class=gutter-v> <form name=formMembershipReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> <ff-panel> <ff-panel-header><span translate=MEMBERSHIP_REPORT.MEMBERSHIP.HEADER></span></ff-panel-header> <membership-filter ff-model=vm.membershipFilter layout=2col></membership-filter> </ff-panel> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},GGg2:function(e,t){e.exports="<div id=recurringBillingReport class=gutter-v> <form name=formRecurringBillingReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns levels=2></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},HFgu:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("hsT8"),s=r.n(a);t.default=angular.module("deskworks.reports.mailboxReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOptions","deskworks.reports.reportOwnerRegion","deskworks.reports.mailboxReport.service","deskworks.reports.mailboxReportColumns"]).controller("MailboxReportCtrl",["$scope","$timeout","$translate","state","helper","fileSaver","ReportBuilder","MailboxReport","mailboxReportColumns","reportStyles",function(e,t,r,n,a,l,i,u,d,c){var f,p=this;function m(e){var t,r,n,a={columns:s()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:e.reportData,styles:[]};return a.rows=p.reportBuilder.sortData(a.rows,e.orderBy),a.rows=o()(r=a.rows).call(r,(function(e){var t;return o()(t=a.columns).call(t,(function(t){return e[t.dataKey]}))})),a.styles=o()(n=a.rows).call(n,(function(e,t){return t%2?null:c.rowOdd})),a}p.config={reportName:r.instant("MAILBOX_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(d)},getReportData:function(){return u.query({centerId:p.config.reportOptions.centerId,ownerId:p.config.reportOwnerRegion.ownerId,regionId:p.config.reportOwnerRegion.regionId}).$promise}},n.setPageTitle(p.config.reportName),p.reportBuilder=new i(p.config),e.$watch((function(e){return{reportOptions:p.config.reportOptions,reportColumns:p.config.reportColumns,orderBy:p.config.orderBy,reportOwnerRegion:p.config.reportOwnerRegion}}),(function(e){f&&(t.cancel(f),f=null),f=t((function(){p.pdf=null,angular.isUndefined(p.config.reportOptions.centerId)||p.reportBuilder.buildPdf(m).then((function(e){p.pdf=e}))}),100)}),!0),p.downloadPdf=function(){p.pdf&&l(p.pdf,p.reportBuilder.getReportFileName("pdf"))},p.downloadCsv=function(){p.pdf&&l(p.reportBuilder.buildCsv(m),p.reportBuilder.getReportFileName("csv"))}}])},IWno:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.mailboxReportColumns",[]).factory("mailboxReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"number",_title:"MAILBOX_REPORT.COLUMNS.BOX_ID",include:!0},{dataKey:"company",_title:"MAILBOX_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"fullName",_title:"MAILBOX_REPORT.COLUMNS.USER_NAME",include:!0,styles:{minCellWidth:120}},{dataKey:"handling",_title:"MAILBOX_REPORT.COLUMNS.HANDLING",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"key",_title:"MAILBOX_REPORT.COLUMNS.KEY_ID",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"names",_title:"MAILBOX_REPORT.COLUMNS.OTHER_NAMES",include:!0}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},IWz8:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.reservationReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("ReservationReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["reservations.createdAt","reservations.startTime","reservations.endTime"]);return e(r.getApiAbsUrl("/centers/:centerId/reservation-reports"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{get:{method:"GET",transformResponse:[angular.fromJson,n]}})}])},Iy44:function(e,t,r){"use strict";r.r(t);r("8cZI");var n=r("G0Vy"),o=r.n(n),a=r("nbuU"),s=r.n(a),l=r("WSeP"),i=r.n(l);t.default=angular.module("deskworks.PassportReservationUsageReportCtrl",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportDates","deskworks.reports.reportOptions","deskworks.reports.ReportBuilder","deskworks.reports.reportStyles","deskworks.PassportReservationUsageReport","deskworks.passportReservationUsageReportColumns"]).controller("PassportReservationUsageReportCtrl",["$scope","$timeout","$translate","$filter","state","helper","fileSaver","reportStyles","ReportBuilder","PassportReservationUsageReport","passportReservationUsageReportColumns",function(e,t,r,n,a,l,u,d,c,f,p){var m,R=this;function g(e){var t,n,a={columns:e.reportColumns,rows:[],styles:[]},u=[];return i()(t=e.reportData).call(t,(function(e){var t,n,c=0;a.rows.push([{content:l.join([e.userCompany,e.userName]," - "),colSpan:4}]),a.styles.push(d.h2),i()(t=e.usages).call(t,(function(e,t){c+=e.duration||0;var r=s()(u).call(u,(function(t){return t.name===e.unitName}));r?r.total+=e.duration:u.push({name:e.unitName,total:e.duration||0}),a.rows.push([e.unitName,e.duration,e.startTime,e.endTime]),a.styles.push(t%2?null:d.rowOdd)})),a.rows.push([{content:r.instant("REPORTS.TOTAL")+":",styles:{halign:"right"}},c,!1,!1]),a.styles.push(d.h3),a.rows.push(o()(n=Array(4)).call(n,!1)),a.styles.push(null)})),e.reportData.length&&(a.rows.push([{content:r.instant("PASSPORT_RESERVATION_USAGE_REPORT.TOTALS_BY_RESERVATION_UNIT"),colSpan:4}]),a.styles.push(d.h2)),i()(n=R.reportBuilder.sortData(u,"name")).call(n,(function(e){var t,r=o()(t=Array(4)).call(t,!1);r[0]=e.name,r[1]=e.total,a.rows.push(r),a.styles.push(d.h3)})),a}R.config={reportName:r.instant("PASSPORT_RESERVATION_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:p,reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return f.query({centerId:R.config.reportOptions.centerId||null,fromDate:n("date")(R.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(R.config.reportDates.toDate,"yyyy-MM-dd")})}},a.setPageTitle(R.config.reportName),R.config.reportDates.fromDate.subtract(1,"M").date(1),R.config.reportDates.toDate.date(0),R.reportBuilder=new c(R.config),e.$watch((function(){return{reportOptions:R.config.reportOptions,reportDates:R.config.reportDates}}),(function(e,r){m&&(t.cancel(m),m=null),m=t((function(){R.pdf=null;var t=e.reportDates.fromDate,n=r.reportDates.fromDate;!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(R.config.reportData=null),t=e.reportDates.toDate,n=r.reportDates.toDate,!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(R.config.reportData=null),R.reportBuilder.buildPdf(g).then((function(e){R.pdf=e}))}),100)}),!0),R.downloadPdf=function(){R.pdf&&u(R.pdf,R.reportBuilder.getReportFileName("pdf"))},R.downloadCsv=function(){R.pdf&&u(R.reportBuilder.buildCsv(g),R.reportBuilder.getReportFileName("csv"))}}])},JAJz:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.securityDepositReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("SecurityDepositReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=t(["deposits.details.date"]),a=r(["deposits.balance","deposits.details.amount"]);return e(n.getApiAbsUrl("/reports/security-deposit"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,o,a]}})}])},Jqji:function(e,t,r){"use strict";r.r(t);var n=r("KK/u"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("6RpP"),i=r.n(l),u=r("YtL8"),d=r.n(u),c=r("yCd9"),f=r.n(c),p=r("ipr/"),m=r.n(p),R=r("UwMB"),g=r("yt4b"),y=r("rrwk");t.default=angular.module("deskworks.reports.revenueForecastData",[R.default.name,g.default.name,y.default.name]).factory("revenueForecastData",["$filter","$translate","helper","reportStyles","reportHelper","revenueForecastReportColumns",function(e,t,r,n,a,l){return function(r,u){var c,p,R,g,y,E={columns:m()(l).call(l),rows:[],styles:[]};if(!u||!u.length)return E;var v=f()(c=u[0].totals).call(c,(function(r,n){var o=n?e("date")(e("toDate")(r.month+"-01"),"MMM\nyyyy"):t.instant("REVENUE_FORECAST_REPORT.COLUMNS.CURRENT_MONTH");return E.columns.push({dataKey:r.month,title:o,styles:{halign:"right",cellWidth:"wrap"}}),d()(u).call(u,(function(e,t){return e+t.totals[n].amount}),0)})),h=t.instant("REVENUE_FORECAST_REPORT.COMMITTED_REVENUE");return E.styles.push(n.h3),E.rows.push(i()(p=[!1,h]).call(p,f()(v).call(v,(function(t){return e("ncurrency")(t)})))),h=t.instant("REVENUE_FORECAST_REPORT.AT_RISK_REVENUE"),E.styles.push(n.h3),E.rows.push(i()(R=[!1,h]).call(R,f()(v).call(v,(function(t){return e("ncurrency")(v[0]-t)})))),h=t.instant("REVENUE_FORECAST_REPORT.PERCENT_OF_CURRENT_MONTH"),E.styles.push(n.h3),E.rows.push(i()(g=[!1,h]).call(g,f()(v).call(v,(function(t){return e("number")(t/v[0]*100,2)+"%"})))),s()(y=o()(a).call(a,u,r.orderBy)).call(y,(function(t,r){var o,a;E.styles.push(r%2?null:n.rowOdd),E.rows.push(i()(o=[t.userCompany,t.userName]).call(o,f()(a=t.totals).call(a,(function(t){return e("ncurrency")(t.amount)}))))})),E}}])},KMep:function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),s=r.n(a),l=r("yKah"),i=r.n(l),u=r("lvz6"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("Ekwr"),m=r.n(p),R=r("03wM"),g=r.n(R),y=r("WSeP"),E=r.n(y),v=r("yCd9"),h=r.n(v),T=r("6RpP"),O=r.n(T),C=r("KK/u"),S=r.n(C),w=r("fzuT"),I=r.n(w),N=r("yt4b");function D(e,t){var r=g()(e);if(m.a){var n=m()(e);t&&(n=f()(n).call(n,(function(t){return d()(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)E()(r=D(Object(n),!0)).call(r,(function(t){I()(e,t,n[t])}));else if(i.a)s()(e,i()(n));else{var a;E()(a=D(Object(n))).call(a,(function(t){o()(e,t,d()(n,t))}))}}return e}t.default=angular.module("deskworks.PassUsageReportCtrl",["debounce","pdfPreview","deskworks.state","deskworks.reports.reportDates","deskworks.reports.reportColumns","deskworks.reports.reportOptions","deskworks.reports.ReportBuilder","deskworks.reports.reportStyles","deskworks.PassUsageReport","deskworks.passUsageReportColumns",N.default.name]).controller("PassUsageReportCtrl",["$scope","$q","$filter","$translate","state","helper","dwAlerts","debounce","reportStyles","reportHelper","PassUsageReport","passUsageReportColumns",function(e,t,r,n,o,a,s,l,i,u,d,c){var f=this,p=u.paramsChanged,m=u.loadResources;f.config={reportName:n.instant("PASS_USAGE_REPORT.REPORT_NAME")},f.params={fromDate:o.getParam("fromDate")?r("toDate")(o.getParam("fromDate")):moment().startOf("month"),toDate:o.getParam("toDate")?r("toDate")(o.getParam("toDate")):moment().endOf("month"),orderBy:o.getParam("orderBy")||"memberName"},f.resources=null,f.data=null,f.columns=c,o.setPageTitle(f.config.reportName),e.$watch("$ctrl.params",l((function(e,r){f.pdf=null,f.report=null,a.pointFirstInvalid("#passUsageReport")||f.params.fromDate&&f.params.toDate&&(p(e,r,["fromDate","toDate","centerId"])&&(f.data=null),t.all({resources:f.resources||m(),data:f.data||d.query(f.params).catch((function(e){return s.error(e,"Failed to query report.")}))}).then((function(e){f.resources=e.resources,f.data=e.data})).then((function(){f.report=function(e,t){var r,o,s={columns:c,rows:[],styles:[]};t=S()(u).call(u,t,f.params.orderBy),s.rows=O()(r=s.rows).call(r,h()(t).call(t,(function(e,t){var r;return s.styles.push(t%2?null:i.rowOdd),h()(r=s.columns).call(r,(function(t){return e[t.dataKey]}))})));var l=0,d=0,p=0;E()(t).call(t,(function(e){l+=a.toNumber(e.passesUsedCost),d+=a.toNumber(e.passCreditAppliedCost),p+=a.toNumber(e.costBalance)})),l=a.round(l),d=a.round(d),p=a.round(p);var m={passesUsedCostTotal:l,passCreditAppliedCostTotal:d,costBalanceTotal:p},R=[],g={content:n.instant("PASS_USAGE_REPORT.TOTALS").toUpperCase()+":",styles:{halign:"left"}};E()(o=s.columns).call(o,(function(e){var t=m["".concat(e.dataKey,"Total")];(t||"number"==typeof t)&&R.push({content:t})})),"memberCompany"===s.columns[0].dataKey&&"memberName"===(s.columns[1]||{}).dataKey?(R.unshift({content:" "}),R.unshift(g)):"memberCompany"!==s.columns[0].dataKey&&"memberName"!==s.columns[0].dataKey||R.unshift(g);t.length&&(s.rows.unshift(R),s.styles.unshift(i.h2),s.rows.push(R),s.styles.push(i.h2));return s}(f.params,f.data);var e=u.buildPdf({config:_(_({},f.config),f.params),report:f.report,resources:f.resources});f.pdf=e.output("blob")})))}),100),!0),f.downloadPdf=function(){if(f.pdf){var e=u.getReportFileName({extension:"pdf",config:_(_({},f.config),f.params),resources:f.resources});u.download({blob:f.pdf,fileName:e})}},f.downloadCsv=function(){if(f.pdf){var e=u.getReportFileName({extension:"csv",config:_(_({},f.config),f.params),resources:f.resources}),t=u.buildCsv({report:f.report});u.download({blob:t,fileName:e})}}}])},KkfT:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reservationUsageReportColumns",[]).factory("reservationUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"memberCompany",_title:"REPORTS.COLUMNS.USER_COMPANY"},{dataKey:"memberName",_title:"REPORTS.COLUMNS.USER_NAME",defaultOrder:!0},{dataKey:"reservationCost",_title:"RESERVATION_USAGE_REPORT.COLUMNS.RESERVATION_COST",styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"reservationCreditApplied",_title:"RESERVATION_USAGE_REPORT.COLUMNS.RES_CREDITS_APPLIED",styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"reservationCostBalance",_title:"RESERVATION_USAGE_REPORT.COLUMNS.RES_COST_BALANCE",styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},"L+wq":function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.mailboxReport.service",["ngResource","deskworks.config"]).factory("MailboxReport",["$resource","deskworksConfig",function(e,t){return e(t.getApiAbsUrl("/centers/:centerId/mailbox-reports"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0}})}])},LJmX:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("hsT8"),s=r.n(a);t.default=angular.module("deskworks.reports.reservationReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOptions","deskworks.reports.reportOwnerRegion","deskworks.reports.reservationReport.service","deskworks.reports.reservationReportColumns"]).controller("ReservationReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","fileSaver","reportStyles","ReportBuilder","ReservationReport","reservationReportColumns",function(e,t,r,n,a,l,i,u,d,c,f){var p,m=this;function R(e){var t,r,n={columns:s()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:m.reportBuilder.sortData(e.reportData.reservations,e.orderBy),styles:[]};return n.rows=o()(r=n.rows).call(r,(function(e,t){var r;return n.styles.push(t%2?null:u.rowOdd),o()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))})),n}m.config={reportName:n.instant("RESERVATION_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(f)},reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return c.get({centerId:m.config.reportOptions.centerId,fromDate:r("date")(m.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:r("date")(m.config.reportDates.toDate,"yyyy-MM-dd"),ownerId:m.config.reportOwnerRegion.ownerId,regionId:m.config.reportOwnerRegion.regionId}).$promise}},m.config.reportDates.toDate.add(7,"d"),a.setPageTitle(m.config.reportName),m.reportBuilder=new d(m.config),e.$watch((function(e){return{reportOptions:m.config.reportOptions,reportColumns:m.config.reportColumns,orderBy:m.config.orderBy,reportDates:m.config.reportDates,reportOwnerRegion:m.config.reportOwnerRegion}}),(function(e,r){p&&(t.cancel(p),p=null),p=t((function(t){if(m.pdf=null,!angular.isUndefined(m.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=r.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(m.config.reportData=null),n=e.reportDates.toDate,o=r.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(m.config.reportData=null),m.reportBuilder.buildPdf(R).then((function(e){m.pdf=e}))}}),100)}),!0),m.downloadPdf=function(){m.pdf&&i(m.pdf,m.reportBuilder.getReportFileName("pdf"))},m.downloadCsv=function(){m.pdf&&i(m.reportBuilder.buildCsv(R),m.reportBuilder.getReportFileName("csv"))}}])},LM7I:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.recurringBillingReportColumns",[]).factory("recurringBillingReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"userCompany",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"userName",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.MEMBER",include:!0,styles:{minCellWidth:100}},{dataKey:"centerName",_title:"REPORTS.COLUMNS.CENTER",include:!1},{dataKey:"lastBillDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.LAST_BILL_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"nextBillDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.NEXT_BILL_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"amount",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.AMOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"billingMethod",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.BILLING_METHOD",include:!0},{dataKey:"ccExpiry",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.CC_EXPIRY",include:!1,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"discount",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.DISCOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"productName",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.PRODUCT",include:!0,styles:{minCellWidth:120}},{dataKey:"description",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.DESCRIPTION",include:!1},{dataKey:"startDate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.START_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"terminate",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.TERMINATION_DATE",include:!1,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"useForCheckInBilling",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.USE_FOR_CHECK_IN_BILLING",include:!1,styles:{halign:"center"},pdf:function(e){return t("yesno")(e)},csv:function(e){return t("yesno")(e)}},{dataKey:"total",_title:"RECURRING_BILLINGS_REPORT.COLUMNS.TOTAL",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},Mmgn:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.priceListReportColumns",[]).factory("priceListReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"name",_title:"PRICE_LISTS.PRODUCTS.PRODUCT",include:!0},{dataKey:"passQty",_title:"PRICE_LISTS.PRODUCTS.PASSES",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"reservationCredit",_title:"PRICE_LISTS.PRODUCTS.CREDIT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"price",_title:"PRICE_LISTS.PRODUCTS.PRICE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},PjE5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.memberUsageReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("MemberUsageReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-usage-reports"),a=t(["checkInTime","checkOutTime"]),s=r(["usageHours","usagePasses"]);return e(o,{centerId:"@centerId",userId:"@userId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,a,s]}})}])},"SeF/":function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("yCd9"),s=r.n(a);t.default=angular.module("deskworks.reports.memberStatement",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOptions","deskworks.reports.memberStatement.service","deskworks.reports.memberStatementColumns"]).controller("MemberStatementCtrl",["$rootScope","$scope","$route","$timeout","$filter","$translate","state","helper","fileSaver","reportStyles","ReportBuilder","user","MemberStatement","memberStatementColumns",function(e,t,r,n,a,l,i,u,d,c,f,p,m,R){var g,y=this;function E(e){var t,r,n={columns:e.reportColumns.columns,rows:[],styles:[]};n.rows=s()(t=e.reportData.transactions).call(t,(function(e,t){var r;return n.styles.push(t%2?null:c.rowOdd),s()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))})),n.rows.unshift([!1,l.instant("MEMBER_STATEMENT.BALANCE_FORWARD")+":",!1,!1,e.reportData.balanceForward.amountBilled,e.reportData.balanceForward.amountPaid,e.reportData.balanceForward.balance]),n.styles.unshift(c.h2),n.rows.push([!1,l.instant("MEMBER_STATEMENT.TOTALS")+":",!1,!1,e.reportData.totals.amountBilled,e.reportData.totals.amountPaid,e.reportData.totals.balance]),n.styles.push(c.h2);var a=[],i=s()(r=e.reportData.depositTransactions).call(r,(function(e,t){var r;return a.push(t%2?null:c.rowOdd),s()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))}));return i.length>0&&(i.unshift([!1,l.instant("MEMBER_STATEMENT.SECURITY_DEPOSITS")+":",!1,!1,e.reportData.depositTotals.amountBilled,e.reportData.depositTotals.amountPaid,e.reportData.depositTotals.balance]),a.unshift(c.h2),n.rows=o()(i).call(i,n.rows),n.styles=o()(a).call(a,n.styles)),n}y.config={reportName:l.instant("MEMBER_STATEMENT.REPORT_NAME"),reportOptions:{centerId:!1},reportColumns:{columns:R},reportDates:{fromDate:moment(),toDate:moment()},reportFor:p.fullNameCompany,getReportData:function(){return m.get({centerId:i.getCurrentCenterId(),userId:i.getCurrentUserId(),fromDate:a("date")(y.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:a("date")(y.config.reportDates.toDate,"yyyy-MM-dd")}).$promise}},i.setPageTitle(l.instant("MEMBER_STATEMENT.PAGE_TITLE",{userName:y.config.reportFor})),y.config.reportDates.fromDate.subtract(1,"M"),y.reportBuilder=new f(y.config),t.$watch((function(e){return{reportOptions:y.config.reportOptions,reportDates:y.config.reportDates}}),(function(e,t){g&&(n.cancel(g),g=null),g=n((function(r){if(y.pdf=null,angular.isDefined(y.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=t.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(y.config.reportData=null),n=e.reportDates.toDate,o=t.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(y.config.reportData=null),y.reportBuilder.buildPdf(E).then((function(e){y.pdf=e}))}}),100)}),!0),y.downloadPdf=function(){y.pdf&&d(y.pdf,y.reportBuilder.getReportFileName("pdf"))},e.$on("CHANGE-CENTER",r.reload)}])},SoPU:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.priceListReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("PriceListReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["pricelists.updatedAt"]);return e(r.getApiAbsUrl("/centers/:centerId/pricelist-reports"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,n]}})}])},Tx5W:function(e,t,r){"use strict";r.r(t);var n=r("6RpP"),o=r.n(n),a=r("yCd9"),s=r.n(a),l=r("YtL8"),i=r.n(l);t.default=angular.module("deskworks.reports.reservationUtilizationDetailedActualChart",[]).factory("reservationUtilizationDetailedActualChart",["$translate","$filter","helper",function(e,t,r){return function(n){var a,l,u,d=r.round(i()(a=n.units).call(a,(function(e,t){return e+t.total}),0));return{type:"pie",data:{labels:s()(l=n.units).call(l,(function(e){return e.name})),datasets:[{data:s()(u=n.units).call(u,(function(e){return e.total}))}]},options:{tooltips:{callbacks:{label:function(e,n){var a,s,l=n.labels[e.index],i=n.datasets[0].data[e.index],u=r.round(i/d*100,1);return o()(a=o()(s="".concat(l,": ")).call(s,t("hours")(i)," (")).call(a,u,"%)")}}},legend:{display:!0,position:"right"},title:{display:!0,text:e.instant("RESERVATION_UTILIZATION_REPORT.CHART.TOTAL_TIME").toUpperCase()+": "+t("hours")(d)}}}}}])},U9c4:function(e,t,r){"use strict";r.r(t);var n=r("ipr/"),o=r.n(n),a=r("6RpP"),s=r.n(a),l=r("yCd9"),i=r.n(l),u=r("hsT8"),d=r.n(u),c=r("WSeP"),f=r.n(c);t.default=angular.module("deskworks.reports.memberUsageReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOptions","deskworks.reports.memberUsageReport.service","deskworks.reports.memberUsageReportColumns"]).controller("MemberUsageReportCtrl",["$rootScope","$scope","$timeout","$filter","$route","$q","$translate","state","helper","fileSaver","reportStyles","ReportBuilder","MemberUsageReport","memberUsageReportColumns",function(e,t,r,n,a,l,u,c,p,m,R,g,y,E){var v,h=this;h.config={reportName:u.instant("MEMBER_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:E},reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return y.query({centerId:h.config.reportOptions.centerId,userId:c.getCurrentUserId(),fromDate:n("date")(h.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(h.config.reportDates.toDate,"yyyy-MM-dd")}).$promise.then((function(e){return f()(angular).call(angular,e,(function(e){e.date=e.checkInTime.clone().hour(0).minute(0).second(0).millisecond(0)})),e}))}},c.setPageTitle(h.config.reportName),h.config.reportDates.fromDate.date(1),h.config.reportDates.toDate.add(1,"M").date(0),h.reportBuilder=new g(h.config),t.$watch((function(e){return{reportOptions:h.config.reportOptions,reportDates:h.config.reportDates,reportColumns:h.config.reportColumns,orderBy:h.config.orderBy}}),(function(e,t){v&&(r.cancel(v),v=null),v=r((function(r){if(h.pdf=null,angular.isDefined(h.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=t.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(h.config.reportData=null),n=e.reportDates.toDate,o=t.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(h.config.reportData=null),h.reportBuilder.buildPdf(O).then((function(e){h.pdf=e}))}}),100)}),!0),h.downloadPdf=function(){h.pdf&&m(h.pdf,h.reportBuilder.getReportFileName("pdf"))},h.downloadCsv=function(){h.pdf&&m(h.reportBuilder.buildCsv(O),h.reportBuilder.getReportFileName("csv"))};var T=e.$on("CHANGE-USER",a.reload);function O(e){var t,r,n={columns:d()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]},a=h.reportBuilder.sortData(e.reportData,e.orderBy),l=p.findIndexByKeyValue(n.columns,"dataKey","usageHours"),c=p.findIndexByKeyValue(n.columns,"dataKey","usagePasses"),m=i()(r=Array.apply(null,new Array(n.columns.length))).call(r,(function(e){return!1})),g=0,y=0;return f()(a).call(a,(function(t,r){var d;if(n.styles.push(r%2?null:R.rowOdd),n.rows.push(i()(d=n.columns).call(d,(function(e){return t[e.dataKey]}))),g+=t.usageHours?t.usageHours:0,y+=t.usagePasses?t.usagePasses:0,("date"===e.orderBy||"userName"===e.orderBy)&&(l>=0||c>=0)){var f,p="date"===e.orderBy?t[e.orderBy].unix():t[e.orderBy]||null;if(r<a.length-1&&(f="date"===e.orderBy?a[r+1][e.orderBy].unix():a[r+1][e.orderBy]||null),p!==f){var E,v,h;if(g=Math.round(100*g)/100,y=Math.round(100*y)/100,l>=0&&(v=s()(E=o()(m).call(m,0,Math.max(l-1,0))).call(E,[u.instant("MEMBER_USAGE_REPORT.TOTALS.SUBTOTAL")+":",g])),c>=0)l>=0?v.push(y):v=s()(h=o()(m).call(m,0,Math.max(c-1,0))).call(h,[u.instant("MEMBER_USAGE_REPORT.TOTALS.SUBTOTAL")+":",y]);n.rows.push(v),n.styles.push(R.h2),g=0,y=0}}})),n}t.$on("$destroy",T)}])},UUql:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.securityDepositReportColumns",[]).factory("securityDepositReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"userName",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.USER_NAME",include:!0,styles:{minCellWidth:120}},{dataKey:"userCompany",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"orderId",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.ORDER_ID",include:!1,styles:{halign:"right"}},{dataKey:"date",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.DATE",include:!1,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"amount",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.AMOUNT",include:!1,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"balance",_title:"SECURITY_DEPOSIT_REPORT.COLUMNS.BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},UbAC:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("NOor"),s=r.n(a),l=r("yCd9"),i=r.n(l),u=r("hsT8"),d=r.n(u);t.default=angular.module("deskworks.RecurringBillingChurnReportCtrl",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportOptions","deskworks.RecurringBillingChurnReport","deskworks.recurringBillingChurnReportColumns"]).controller("RecurringBillingChurnReportCtrl",["$scope","$timeout","$filter","$translate","state","fileSaver","reportStyles","ReportBuilder","RecurringBillingChurnReport","recurringBillingChurnReportColumns",function(e,t,r,n,a,l,u,c,f,p){var m,R,g=this;function y(e){var t,a,l,c={columns:d()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]};c.rows=g.reportBuilder.sortData(e.reportData.billings,e.orderBy),c.rows=i()(a=c.rows).call(a,(function(e,t){var r;return c.styles.push(t%2?null:u.rowOdd),i()(r=c.columns).call(r,(function(t){return e[t.dataKey]}))})),c.rows.push([{content:!1,colSpan:c.columns.length}]),c.styles.push(null);var f=[{name:"MONTHLY_RECURRING_BILLINGS",key:"monthly"},{name:"QUARTERLY_RECURRING_BILLINGS",key:"quarterly"},{name:"SEMIANNUAL_RECURRING_BILLINGS",key:"semiAnnual"},{name:"ANNUAL_RECURRING_BILLINGS",key:"annual"},{name:"AS_NEEDED_RECURRING_BILLINGS",key:"asNeeded"}],p=s()(l=c.columns).call(l,(function(e){return"total"===e.dataKey}));return p>=0&&o()(f).call(f,(function(t){var o=[{content:r("ncurrency")(e.reportData[t.key]),styles:{halign:"right"}}];p>0&&o.unshift({content:n.instant("RECURRING_BILLING_CHURN_REPORT.TOTALS.".concat(t.name))+":",colSpan:p,styles:{halign:"right"}}),p<c.columns.length-1&&o.push({content:!1,colSpan:c.columns.length-p-1}),c.rows.push(o),c.styles.push(u.h3)})),c}g.config={reportName:n.instant("RECURRING_BILLING_CHURN_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:angular.copy(p)},reportDates:{toDate:a.getParam("toDate")||(m=moment(),a.setParam("toDate",r("date")(m,"yyyy-MM-dd")),m)},getReportData:function(){return f.get({centerId:g.config.reportOptions.centerId,toDate:r("date")(g.config.reportDates.toDate,"yyyy-MM-dd")})}},a.setPageTitle(g.config.reportName),e.$watch("$ctrl.config.reportOptions.centerId",(function(e){var t=g.config.reportColumns.columns[0];t.readonly=!!e,t.readonly&&(t.include=!1),t.readonly&&"centerName"===g.config.orderBy&&(g.config.orderBy="userCompany")})),g.reportBuilder=new c(g.config),e.$watch((function(e){return{reportOptions:g.config.reportOptions,reportColumns:g.config.reportColumns,toDate:g.config.reportDates.toDate,orderBy:g.config.orderBy}}),(function(e,n){R&&(t.cancel(R),R=null),R=t((function(t){if(g.pdf=null,!angular.isUndefined(g.config.reportOptions.centerId)){var o=e.toDate,s=n.toDate;!moment.isMoment(o)||moment.isMoment(s)&&o.isSame(s)||(g.config.reportData=null,a.setParam("toDate",r("date")(e.toDate,"yyyy-MM-dd"))),g.reportBuilder.buildPdf(y).then((function(e){g.pdf=e}))}}),100)}),!0),g.downloadPdf=function(){g.pdf&&l(g.pdf,g.reportBuilder.getReportFileName("pdf"))},g.downloadCsv=function(){g.pdf&&l(g.reportBuilder.buildCsv(y),g.reportBuilder.getReportFileName("csv"))}}])},UxRA:function(e,t){e.exports="<div id=passportReservationUsageReport class=gutter-v> <form name=formPassportReservationUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.config.reportDates></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=$ctrl.config.reportOptions></report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},VbF8:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.rentRollReportColumns",[]).factory("rentRollReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"centerName",_title:"RENT_ROLL_REPORT.COLUMNS.CENTER",include:!1},{dataKey:"userCompany",_title:"RENT_ROLL_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"userName",_title:"RENT_ROLL_REPORT.COLUMNS.MEMBER",include:!1},{dataKey:"productName",_title:"RENT_ROLL_REPORT.COLUMNS.SUBSCRIPTION_ITEM",include:!0,defaultOrder:!0},{dataKey:"area",_title:"RENT_ROLL_REPORT.COLUMNS.AREA",include:!0,styles:{cellWidth:"wrap",halign:"center"}},{dataKey:"amount",_title:"RENT_ROLL_REPORT.COLUMNS.AMOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"discount",_title:"RENT_ROLL_REPORT.COLUMNS.DISCOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"total",_title:"RENT_ROLL_REPORT.COLUMNS.TOTAL",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"startDate",_title:"RENT_ROLL_REPORT.COLUMNS.START_DATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"terminationDate",_title:"RENT_ROLL_REPORT.COLUMNS.TERMINATION_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},Zdj5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.RevenueForecastReport",["ngResource","deskworks.config"]).factory("RevenueForecastReport",["$resource","$timeout","deskworksConfig",function(e,t,r){var n=e(r.getApiAbsUrl("/reports/revenue-forecast"),{},{query:{method:"GET",isArray:!0}});return{query:function(e){return n.query({centerId:e.centerId,monthCount:e.monthCount}).$promise}}}])},ZfRm:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("hsT8"),s=r.n(a);t.default=angular.module("deskworks.reports.recurringBillingReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOptions","deskworks.reports.reportOwnerRegion","deskworks.reports.recurringBillingReport.service","deskworks.reports.recurringBillingReportColumns"]).controller("RecurringBillingReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","fileSaver","reportStyles","ReportBuilder","RecurringBillingReport","recurringBillingReportColumns",function(e,t,r,n,a,l,i,u,d,c,f){var p,m=this;function R(e){var t,r;console.log("vm.config.orderBy",m.config.orderBy);var a={columns:s()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:m.reportBuilder.sortData(e.reportData.billings,m.config.orderBy),styles:[]};a.rows=o()(r=a.rows).call(r,(function(e,t){var r;return a.styles.push(t%2?null:u.rowOdd),o()(r=a.columns).call(r,(function(t){return e[t.dataKey]}))}));var i,d,c,f,p,R,g,y,E=l.findIndexByKeyValue(a.columns,"dataKey","total");E>=0&&(d=(d=(d=l.findIndexByKeyValue(a.columns,"dataKey","description"))<0?l.findIndexByKeyValue(a.columns,"dataKey","productName"):d)<0?a.columns.length-2:d,a.rows.push(o()(c=Array.apply(null,Array(a.columns.length))).call(c,Boolean.prototype.valueOf,!1)),a.styles.push(null),(i=o()(f=Array.apply(null,Array(a.columns.length))).call(f,Boolean.prototype.valueOf,!1))[d]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.MONTHLY")+":",i[E]=e.reportData.totalMonthly,a.rows.push(i),a.styles.push(u.h3),(i=o()(p=Array.apply(null,Array(a.columns.length))).call(p,Boolean.prototype.valueOf,!1))[d]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.QUARTERLY")+":",i[E]=e.reportData.totalQuarterly,a.rows.push(i),a.styles.push(u.h3),(i=o()(R=Array.apply(null,Array(a.columns.length))).call(R,Boolean.prototype.valueOf,!1))[d]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.SEMI_ANNUAL")+":",i[E]=e.reportData.totalSemiAnnual,a.rows.push(i),a.styles.push(u.h3),(i=o()(g=Array.apply(null,Array(a.columns.length))).call(g,Boolean.prototype.valueOf,!1))[d]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.ANNUAL")+":",i[E]=e.reportData.totalAnnual,a.rows.push(i),a.styles.push(u.h3),(i=o()(y=Array.apply(null,Array(a.columns.length))).call(y,Boolean.prototype.valueOf,!1))[d]=n.instant("RECURRING_BILLINGS_REPORT.TOTALS.AS_NEEDED")+":",i[E]=e.reportData.totalAsNeeded,a.rows.push(i),a.styles.push(u.h3));return a}m.config={reportName:n.instant("RECURRING_BILLINGS_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:angular.copy(f)},reportOwnerRegion:{},getReportData:function(){return c.get({centerId:m.config.reportOptions.centerId,ownerId:m.config.reportOwnerRegion.ownerId,regionId:m.config.reportOwnerRegion.regionId}).$promise}},a.setPageTitle(m.config.reportName),m.reportBuilder=new d(m.config),e.$watch((function(e){return{reportOptions:m.config.reportOptions,reportColumns:m.config.reportColumns,orderBy:m.config.orderBy,reportOwnerRegion:m.config.reportOwnerRegion}}),(function(e){p&&(t.cancel(p),p=null),p=t((function(e){m.pdf=null,angular.isUndefined(m.config.reportOptions.centerId)||m.reportBuilder.buildPdf(R).then((function(e){m.pdf=e}))}),100)}),!0),m.downloadPdf=function(){m.pdf&&i(m.pdf,m.reportBuilder.getReportFileName("pdf"))},m.downloadCsv=function(){m.pdf&&i(m.reportBuilder.buildCsv(R),m.reportBuilder.getReportFileName("csv"))}}])},aRIa:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.memberStatement.service",["ngResource","datesDeserializer","deskworks.config"]).factory("MemberStatement",["$resource","$q","datesDeserializer","deskworksConfig",function(e,t,r,n){var o=r(["transactions.date","depositTransactions.date"]);return e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-statements"),{centerId:"@centerId",userId:"@userId",fromDate:"@fromDate",toDate:"@toDate"},{get:{method:"GET",transformResponse:[angular.fromJson,o]}})}])},aoB6:function(e,t){e.exports='<form name=formGenerateInvoice class="generate-invoice gutter-v"> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div> <div class="ff-grid gutter-v gutter-h" ng-hide=$resolve.orderId> <ff-panel flex="{lg: \'0 0 50%\', md: \'0 0 100%\'}" ng-repeat="address in vm.user.addresses"> <ff-panel-header> <ff-row class=gutter-h-half> <span translate=INVOICE.ADDRESS.HEADER></span> <div flex="0 0 auto" style="align-items:center;margin:-.5rem 0"> <ff-btn sense=favorite size=sm ng-if="address === vm.invoice.address" title="{{\'INVOICE.ADDRESS.BTN_SELECTED.HINT\' | translate}}"> <span translate=INVOICE.ADDRESS.BTN_SELECTED></span> </ff-btn> <ff-btn sense=makeFavorite size=sm ng-if="address !== vm.invoice.address" ff-click=vm.selectAddress(address) title="{{\'INVOICE.ADDRESS.BTN_SELECT.HINT\' | translate}}"> <span translate=INVOICE.ADDRESS.BTN_SELECT></span> </ff-btn> </div> </ff-row> </ff-panel-header> <fieldset dw-address=address ng-disabled="address !== vm.invoice.address"></fieldset> </ff-panel> </div> </div> <div class="ff-grid gutter-h" ng-hide=$resolve.orderId> <ff-panel flex="{lg: \'0 0 50%\', md: \'0 0 100%\'}"> <ff-panel-header><span translate=INVOICE.DATES.HEADER></span></ff-panel-header> <label class=ff-row> <ff-label flex="0 0 116px"><req translate=INVOICE.DATES.END_DATE></req></ff-label> <ff-date ff-model=vm.invoice.endDate ff-required=true ff-validate-alert="{{\'INVOICE.DATES.END_DATE\' | translate}}"></ff-date> </label> <label class=ff-row> <ff-label flex="0 0 116px"><req translate=INVOICE.DATES.DUE_DATE></req></ff-label> <ff-date ff-model=vm.invoice.dueDate ff-required=true ff-validate-alert="{{\'INVOICE.DATES.DUE_DATE\' | translate}}"></ff-date> </label> <label> <ff-checkbox ff-model=vm.invoice.showDates ff-click="vm.config.reportColumns.columns[0].include = vm.invoice.showDates" ff-label="{{\'INVOICE.DATES.ADD_DATE_TO_ALL_ITEMS\' | translate}}"></ff-checkbox> </label> </ff-panel> </div> <div> <div class="ff-grid gutter-v gutter-h" ng-hide=$resolve.orderId> <ff-panel flex="{lg: \'0 0 50%\', md: \'0 0 100%\'}"> <ff-panel-header><span translate=INVOICE.ITEMS.HEADER></span></ff-panel-header> <div> <ff-row> <label flex="0 0 auto"> <ff-include-all flex="0 0 32px" items=vm.invoice.items default=true></ff-include-all> </label> </ff-row> <ff-header> <ff-row> <span flex="0 0 32px" class=ff-center><ff-icon sense=check></ff-icon></span> <span flex="1 1 100px" ng-if=vm.invoice.showDates><span translate=INVOICE.ITEMS.DATE></span></span> <span flex="2 1 100px"><span translate=INVOICE.ITEMS.NAME></span></span> <span flex="0 0 80px" class=ff-right><span translate=INVOICE.ITEMS.AMOUNT></span></span> </ff-row> </ff-header> <label ng-repeat="charge in vm.charges" class=ff-row> <ff-static flex="0 0 32px" class=ff-center> <ff-checkbox ff-model=charge.include></ff-checkbox> </ff-static> <ff-static flex="1 1 100px" ng-if=vm.invoice.showDates>{{charge.date | date:\'mediumDate\'}}</ff-static> <ff-static flex="2 1 100px" ff-bind=charge.name></ff-static> <ff-static flex="0 0 80px" ff-bind="charge.amount | ncurrency" class=ff-right></ff-static> </label> </div> </ff-panel> <ff-panel flex="{lg: \'0 0 50%\', md: \'0 0 100%\'}"> <ff-panel-header><span translate=INVOICE.PAYMENTS.HEADER></span></ff-panel-header> <ff-row> <label flex="0 0 auto"> <ff-include-all flex="0 0 32px" items=vm.payments default=true></ff-include-all> </label> </ff-row> <ff-header> <ff-row> <span flex="0 0 32px" class=ff-center><ff-icon sense=check></ff-icon></span> <span><span translate=INVOICE.PAYMENTS.DATE></span></span> <span flex="0 0 80px" class=ff-right><span translate=INVOICE.PAYMENTS.AMOUNT></span></span> </ff-row> </ff-header> <label ng-repeat="payment in vm.payments" class=ff-row> <ff-static flex="0 0 32px" class=ff-center> <ff-checkbox ff-model=payment.include></ff-checkbox> </ff-static> <ff-static ff-bind="payment.date | date:\'mediumDate\'"></ff-static> <ff-static flex="0 0 80px" ff-bind="payment.amount | ncurrency" class=ff-right></ff-static> </label> </ff-panel> </div> </div> <div class="ff-grid gutter-v"> <ff-btn-group flex="0 0 auto" class=buttons-bottom style=margin-top:0> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=INVOICE.BTN_PDF></span> </ff-btn> <ff-btn sense=back ff-click=$resolve.back() ng-if=$resolve.back> <span translate=GLOBAL.BTN_BACK></span> </ff-btn> </ff-btn-group> <div flex="{lg: \'0 0 33%\', md: \'0 0 100%\'}" style=margin-bottom:0> <report-options model=vm.config.reportOptions></report-options> </div> </div> <ff-panel> <ff-panel-header><span translate=INVOICE.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </form> '},b2oW:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("nbuU"),s=r.n(a);t.default=angular.module("deskworks.recurringBillingChurnReportColumns",["deskworks.userProfile.optsMembershipStatus","deskworks.userProfile.optsBillingMethod"]).factory("recurringBillingChurnReportColumns",["$rootScope","$filter","$translate","optsMembershipStatus","optsBillingMethod",function(e,t,r,n,a){var l=[{dataKey:"centerName",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.CENTER"},{dataKey:"userCompany",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.COMPANY",include:!0,defaultOrder:!0,styles:{minCellWidth:60}},{dataKey:"userName",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.MEMBER",include:!0},{dataKey:"userMembershipStatus",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.MEMBER_STATUS",include:!0,styles:{halign:"center"},pdf:function(e){return(s()(n).call(n,(function(t){return t.id===e}))||{}).name||e},csv:function(e){return(s()(n).call(n,(function(t){return t.id===e}))||{}).name||e}},{dataKey:"productName",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.RECURRING_BILLING_ITEM",include:!0},{dataKey:"billingMethod",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.BILLING_METHOD",include:!0,styles:{halign:"center"},pdf:function(e){return(s()(a).call(a,(function(t){return t.id===e}))||{}).name||e},csv:function(e){return(s()(a).call(a,(function(t){return t.id===e}))||{}).name||e}},{dataKey:"amount",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.AMOUNT",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"discount",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.DISCOUNT",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"total",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.TOTAL",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"startDate",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.START_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e)},csv:function(e){return t("date")(e)}},{dataKey:"terminationDate",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.TERMINATION_DATE",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e)},csv:function(e){return t("date")(e)}},{dataKey:"daysActive",_title:"RECURRING_BILLING_CHURN_REPORT.COLUMNS.DAYS_ACTIVE",include:!0,styles:{halign:"right"}}];function i(){o()(l).call(l,(function(e){e.title=r.instant(e._title)}))}return i(),e.$on("$setTranslationsSuccess",i),l}])},"bm4+":function(e,t,r){"use strict";r.r(t);r("8cZI");var n=r("yCd9"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("YtL8"),i=r.n(l),u=r("xeXu"),d=r.n(u),c=r("hsT8"),f=r.n(c),p=r("bfRn");t.default=angular.module("deskworks.reports.invoice",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportOptions","deskworks.reports.invoiceHeader","deskworks.reports.invoice.service","deskworks.reports.invoiceColumns","deskworks.reports.invoiceStyles",p.a.name]).controller("InvoiceCtrl",["$rootScope","$scope","$route","$filter","$timeout","$q","$translate","dwAlerts","fileSaver","state","helper","user","center","orderId","ReportBuilder","invoiceStyles","invoiceHeader","Invoice","invoiceColumns",function(e,t,r,n,a,l,u,c,p,m,R,g,y,E,v,h,T,O,C){var S=this;function w(e){var t,r,n,a,l,c,p,m,g,y,E={columns:f()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]},v=["recurring","rental","deposit","payment","refund"];N(u.instant("INVOICE.RECURRING"),f()(r=e.reportData.items).call(r,(function(e){return e.include&&"recurring"===e.type}))),N(u.instant("INVOICE.RENTAL"),f()(n=e.reportData.items).call(n,(function(e){return e.include&&"rental"===e.type}))),N(u.instant("INVOICE.DEPOSITS"),f()(a=e.reportData.items).call(a,(function(e){return e.include&&"deposit"===e.type}))),N(u.instant("INVOICE.OTHER_CHARGES"),f()(l=e.reportData.items).call(l,(function(e){return e.include&&d()(v).call(v,e.type)<0})));var T,O,C=f()(c=e.reportData.items).call(c,(function(e){return e.include&&"payment"!==e.type&&"refund"!==e.type})),S=i()(C).call(C,(function(e,t){return e+(+t.amount||0)}),0),w=S+i()(p=e.reportData.items).call(p,(function(e,t){return!t.include||"payment"!==t.type&&"refund"!==t.type?e:e+(+t.amount||0)}),0),I=[];(s()(C).call(C,(function(e){s()(angular).call(angular,e.taxes,(function(e,t){I.length<=t&&I.push({name:e.taxName,amount:0}),I[t].amount+=+e.taxAmount}))})),I.length)&&((T=o()(O=Array.apply(null,Array(E.columns.length))).call(O,Boolean.prototype.valueOf,!1))[R.findIndexByKeyValue(E.columns,"dataKey","name")]=u.instant("INVOICE.CHARGES")+":",T[R.findIndexByKeyValue(E.columns,"dataKey","amount")]=Math.round(100*S)/100,E.rows.push(T),E.styles.push(h.h1));return s()(I).call(I,(function(e){var t;w+=e.amount||0,(T=o()(t=Array.apply(null,Array(E.columns.length))).call(t,Boolean.prototype.valueOf,!1))[R.findIndexByKeyValue(E.columns,"dataKey","name")]=e.name,T[R.findIndexByKeyValue(E.columns,"dataKey","amount")]=Math.round(100*e.amount)/100,E.rows.push(T),E.styles.push(h.h1)})),N(u.instant("INVOICE.PAYMENTS"),f()(m=e.reportData.items).call(m,(function(e){return e.include&&"payment"===e.type}))),N(u.instant("INVOICE.REFUNDS"),f()(g=e.reportData.items).call(g,(function(e){return e.include&&"refund"===e.type}))),(T=o()(y=Array.apply(null,Array(E.columns.length))).call(y,Boolean.prototype.valueOf,!1))[R.findIndexByKeyValue(E.columns,"dataKey","name")]=u.instant("INVOICE.BALANCE")+":",T[R.findIndexByKeyValue(E.columns,"dataKey","amount")]=Math.round(100*w)/100,E.rows.push(T),E.styles.push(h.h1),E;function N(e,t){var r,n;t&&t.length&&((T=o()(r=Array.apply(null,Array(E.columns.length))).call(r,Boolean.prototype.valueOf,!1))[R.findIndexByKeyValue(E.columns,"dataKey","name")]=e,E.rows.push(T),E.styles.push(h.h2),s()(t).call(t,(function(e,t){var r;E.styles.push(t%2?null:h.rowOdd),E.rows.push(o()(r=E.columns).call(r,(function(t){return e[t.dataKey]})))})),(T=o()(n=Array.apply(null,Array(E.columns.length))).call(n,Boolean.prototype.valueOf,!1))[R.findIndexByKeyValue(E.columns,"dataKey","qty")]=u.instant("INVOICE.SUBTOTAL")+":",T[R.findIndexByKeyValue(E.columns,"dataKey","amount")]=i()(t).call(t,(function(e,t){return e+ +t.amount}),0),E.rows.push(T),E.styles.push(h.h3))}}m.setPageTitle(u.instant(E?"INVOICE.INVOICE_NAME":"INVOICE.PAGE_TITLE",{orderId:E})),S.user=g,S.invoice={endDate:moment(),dueDate:moment(),address:S.user.addresses[0],showDates:!0},S.config={reportOptions:{centerId:!1,paperLayout:"p"},reportColumns:{columns:C},reportHeader:T,reportFooter:function(){},reportFor:R.join([S.user.firstName,S.user.lastName]," "),reportForCompany:S.user.company,pageMargins:angular.copy(h.pageMargins),startY:h.startY,getReportData:function(){return l.when(S.invoice)}},y.street2&&(S.config.startY+=12),y.taxId&&(S.config.startY+=12),S.config.pageMargins[0]=74,O.get({centerId:m.getCurrentCenterId(),userId:m.getCurrentUserId(),orderId:E}).$promise.catch((function(e){return c.error(e,"Failed to get invoice.")})).then((function(e){var t,r;S.payments=f()(t=e.items).call(t,(function(e){return"payment"===e.type||"refund"===e.type})),S.charges=f()(r=e.items).call(r,(function(e){return"payment"!==e.type&&"refund"!==e.type})),angular.extend(S.invoice,e),S.invoice.dueDate||(S.invoice.dueDate=S.invoice.date?S.invoice.date.clone():S.invoice.endDate.clone()),S.config.invoice=S.invoice,S.config.reportName=u.instant(y.taxId?"INVOICE.TAX_INVOICE_NAME":"INVOICE.INVOICE_NAME",{orderId:S.invoice.invoiceNumber}),S.reportBuilder=new v(S.config),S.watchReportParams()})),S.selectAddress=function(e){S.invoice.address=e},S.downloadPdf=function(){S.pdf&&p(S.pdf,S.reportBuilder.getReportFileName("pdf"))},S.watchReportParams=function(){var e;t.$watch((function(e){return{reportOptions:S.config.reportOptions,invoice:S.invoice}}),(function(t,r){e&&(a.cancel(e),e=null),e=a((function(){S.pdf=null,angular.isDefined(S.config.reportOptions.centerId)&&S.reportBuilder.buildPdf(w,h).then((function(e){S.pdf=e}))}),100)}),!0)};var I=e.$on("CHANGE-CENTER",D),N=e.$on("CHANGE-USER",D);function D(){if(t.$resolve.back)return t.$resolve.back();r.reload()}t.$on("$destroy",(function(e){I(),N()}))}])},dd2W:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.recurringBillingReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("RecurringBillingReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=r(["billings.total","billings.discount","billings.amount"]),a=t(["billings.lastBillDate","billings.nextBillDate","billings.startDate","billings.ccExpiry","billings.terminate"]);return e(n.getApiAbsUrl("/centers/:centerId/recurring-billing-reports"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,a,o]}})}])},grn2:function(e,t,r){"use strict";r.r(t);r("8cZI");t.default=angular.module("deskworks.reports.invoiceHeader",["deskworks.reports.invoiceStyles"]).factory("invoiceHeader",["$filter","$translate","invoiceStyles",function(e,t,r){return function(n,o,a){var s,l,i,u=o.internal.pageSize.width;if(o.setFontStyle("normal"),o.setTextColor(r.header.textColor),o.setFontSize(14),s=a.reportName.toUpperCase(),l=(u-o.getTextWidth(s))/2,i=40,o.text(s,l,i),1===n.pageCount){o.setFontSize(10),o.setFontStyle("normal"),l=n.settings.margin.left,i=60,o.text(a.center.name,l,i),i+=12,o.text(a.center.street1||"",l,i),a.center.street2&&(i+=12,o.text(a.center.street2||"",l,i)),i+=12,o.text([a.center.city,a.center.state.name||a.center.state,a.center.zip].join(", "),l,i),i+=12,o.text(t.instant("INVOICE.HEADER.PHONE").toUpperCase()+": "+a.center.phone,l,i),a.center.taxId&&(i+=12,o.text(t.instant("INVOICE.HEADER.TAX_ID").toUpperCase()+": "+a.center.taxId,l,i));var d=i+18;if(a.logo){l=u-n.settings.margin.right,i=50;var c=140,f=50,p=c/a.logo.width,m=f/a.logo.height;p<=m?f*=p/m:c*=m/p,o.addImage(a.logo.data,l-c,i,c,f)}o.setFontSize(8),o.setFontStyle("bold"),l=n.settings.margin.left,i=d,o.text(t.instant("INVOICE.HEADER.BILL_TO").toUpperCase()+":",l,i),o.setFontSize(10),o.setFontStyle("normal"),i+=12,o.text(a.reportFor||"",l,i),i+=12,o.text(a.reportForCompany||"",l,i),a.invoice.address&&(i+=12,o.text(a.invoice.address.street||"",l,i),i+=12,o.text([a.invoice.address.city,a.invoice.address.state.name||a.invoice.address.state,a.invoice.address.zip].join(", "),l,i)),l=u-n.settings.margin.right,i=d,o.setFontSize(8),o.setFontStyle("bold"),s=t.instant("INVOICE.HEADER.DATE").toUpperCase()+":",o.text(s,l-o.getTextWidth(s),i),o.setFontSize(10),o.setFontStyle("normal"),i+=12,s=e("date")(a.invoice.date||a.invoice.endDate,"mediumDate"),o.text(s,l-o.getTextWidth(s),i),i+=12,o.setFontSize(8),o.setFontStyle("bold"),s=t.instant("INVOICE.HEADER.DUE_DATE").toUpperCase()+":",o.text(s,l-o.getTextWidth(s),i),o.setFontSize(10),o.setFontStyle("normal"),i+=12,s=e("date")(a.invoice.dueDate,"mediumDate"),o.text(s,l-o.getTextWidth(s),i)}}}])},hUWN:function(e,t,r){"use strict";r.r(t);var n=r("Tfwl"),o=r.n(n),a=r("XAgg"),s=r.n(a),l=r("yKah"),i=r.n(l),u=r("WSeP"),d=r.n(u),c=r("lvz6"),f=r.n(c),p=r("hsT8"),m=r.n(p),R=r("Ekwr"),g=r.n(R),y=r("03wM"),E=r.n(y),v=r("fzuT"),h=r.n(v),T=r("lRNC"),O=r.n(T),C=r("XX2w"),S=r.n(C),w=r("ipr/"),I=r.n(w),N=r("yCd9"),D=r.n(N),_=r("yt4b"),P=r("Jqji"),k=r("4DcZ");function A(e,t){var r=E()(e);if(g.a){var n=g()(e);t&&(n=m()(n).call(n,(function(t){return f()(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)d()(r=A(Object(n),!0)).call(r,(function(t){h()(e,t,n[t])}));else if(i.a)s()(e,i()(n));else{var a;d()(a=A(Object(n))).call(a,(function(t){o()(e,t,f()(n,t))}))}}return e}t.default=angular.module("deskworks.RevenueForecastReportCtrl",["debounce","pdfPreview","deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportOptions","deskworks.reportOrderBy","deskworks.RevenueForecastReport","deskworks.revenueForecastReportColumns",_.default.name,P.default.name,k.default.name]).controller("RevenueForecastReportCtrl",["$scope","$timeout","$filter","$translate","$q","systemColors","debounce","state","helper","reportStyles","reportHelper","dwAlerts","RevenueForecastReport","revenueForecastReportColumns","revenueForecastData","revenueForecastChart",function(e,t,r,n,o,a,s,l,i,u,d,c,f,p,m,R){var g,y,E,v=this,h=d.paramsChanged,T=d.loadResources;v.config={reportName:n.instant("REVENUE_FORECAST_REPORT.REPORT_NAME")},v.params={monthCount:l.getParam("monthCount")?+l.getParam("monthCount"):6,orderBy:l.getParam("orderBy")||"userName"},v.resources=null,v.data=null,v.columns=p,l.setPageTitle(v.config.reportName),v.optsMonthCount=D()(g=I()(y=S()(O()(E=Array(13)).call(E))).call(y,1)).call(g,(function(e){return{id:e,name:r("months")(e)}})),e.$watch("$ctrl.params",s((function(e,t){l.setParam("monthCount",v.params.monthCount),v.pdf=null,v.report=null,i.pointFirstInvalid("#revenueForecastReport")||(h(e,t,["monthCount","centerId"])&&(v.data=null),o.all({resources:v.resources||T(),data:v.data||f.query(v.params).catch((function(e){return c.error(e,"Failed to query report.")}))}).then((function(e){v.resources=e.resources,v.data=e.data})).then((function(){v.report=m(v.params,v.data);var e=d.buildPdf({config:b(b({},v.config),v.params),report:v.report,resources:v.resources});v.pdf=e.output("blob"),v.chart=R(v.data)})))}),100),!0),v.downloadPdf=function(){if(v.pdf){var e=d.getReportFileName({extension:"pdf",config:b(b({},v.config),v.params),resources:v.resources});d.download({blob:v.pdf,fileName:e})}},v.downloadCsv=function(){if(v.pdf){var e=d.getReportFileName({extension:"csv",config:b(b({},v.config),v.params),resources:v.resources}),t=d.buildCsv({report:v.report});d.download({blob:t,fileName:e})}}}])},haNf:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.memberStatementColumns",[]).factory("memberStatementColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"MEMBER_STATEMENT.COLUMNS.DATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"item",_title:"MEMBER_STATEMENT.COLUMNS.ITEM",include:!0},{dataKey:"price",_title:"MEMBER_STATEMENT.COLUMNS.UNIT_PRICE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"qty",_title:"MEMBER_STATEMENT.COLUMNS.QUANTITY",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"amountBilled",_title:"MEMBER_STATEMENT.COLUMNS.AMOUNT_BILLED",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"amountPaid",_title:"MEMBER_STATEMENT.COLUMNS.AMOUNT_PAID",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"balance",_title:"MEMBER_STATEMENT.COLUMNS.BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},hlyU:function(e,t,r){"use strict";r.r(t);r("Muwe"),r("y89P"),r("X5mX");var n=r("ipr/"),o=r.n(n),a=r("6RpP"),s=r.n(a),l=r("NOor"),i=r.n(l),u=r("xeXu"),d=r.n(u),c=r("WSeP"),f=r.n(c),p=r("yCd9"),m=r.n(p),R=r("hsT8"),g=r.n(R);t.default=angular.module("deskworks.reports.securityDepositReport",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOptions","deskworks.reports.reportOwnerRegion","deskworks.reports.securityDepositReport.service","deskworks.reports.securityDepositReportColumns"]).controller("SecurityDepositReportCtrl",["$scope","$timeout","$filter","$translate","$location","state","helper","fileSaver","reportStyles","ReportBuilder","SecurityDepositReport","securityDepositReportColumns",function(e,t,r,n,a,l,u,c,p,R,y,E){var v,h,T=this;function O(e){var t,r,a,l,u,c={columns:e.showDetails?e.reportColumns:T.reportColumnsFiltered,rows:[],styles:[]},R=T.reportBuilder.sortData(e.reportData.deposits,e.orderBy),g=m()(t=Array.apply(null,new Array(c.columns.length))).call(t,(function(e){return!1}));(f()(R).call(R,(function(t,r){var n,o;(c.styles.push(e.showDetails?p.h2:r%2?null:p.rowOdd),c.rows.push(m()(n=c.columns).call(n,(function(e){var r;return!(d()(r=["orderId","date","amount"]).call(r,e.dataKey)>=0)&&t[e.dataKey]}))),e.showDetails)&&f()(o=t.details).call(o,(function(e,t){c.styles.push(t%2?null:p.rowOdd),c.rows.push([!1,!1,e.orderId,e.date,e.amount,!1])}))})),c.rows.push(g),c.styles.push(null),(a=i()(r=c.columns).call(r,(function(e){return"balance"===e.dataKey})))>=0)&&(c.rows.push(s()(l=s()(u=o()(g).call(g,0,Math.max(a-1,0))).call(u,a>0?[{content:n.instant("SECURITY_DEPOSIT_REPORT.TOTALS.TOTAL")+":",styles:{halign:"right"}},e.reportData.total]:[e.reportData.total])).call(l,o()(g).call(g,0,g.length-a-1))),c.styles.push(p.h3));return c}T.config={reportName:n.instant("SECURITY_DEPOSIT_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:E,toDate:moment(),showDetails:!1,getReportData:function(){return y.get({centerId:T.config.reportOptions.centerId,ownerId:T.config.reportOwnerRegion.ownerId,regionId:T.config.reportOwnerRegion.regionId,toDate:r("date")(T.config.toDate,"yyyy-MM-dd")}).$promise}},T.reportColumnsFiltered=g()(v=T.config.reportColumns).call(v,(function(e){return e.include})),l.setPageTitle(T.config.reportName),e.$watch((function(e){return a.search().showDetails}),(function(e){T.config.showDetails=e})),e.$watch("$ctrl.config.showDetails",(function(e){a.search("showDetails",e||null).replace()})),e.$watch((function(){return a.search().toDate}),(function(e){var t=r("toDate")(e);T.config.toDate=moment.isMoment(t)&&!T.config.toDate.isSame(t)?t:T.config.toDate})),e.$watch("$ctrl.config.toDate",(function(e){moment.isMoment(e)&&a.search("toDate",r("date")(e,"yyyy-MM-dd")).replace()})),T.reportBuilder=new R(T.config),T.getToday=function(){return moment()},e.$watch((function(){return{reportOptions:T.config.reportOptions,reportOwnerRegion:T.config.reportOwnerRegion,toDate:T.config.toDate,orderBy:T.config.orderBy,showDetails:T.config.showDetails}}),(function(e,r){h&&(t.cancel(h),h=null),h=t((function(t){if(!(moment.isMoment(e.toDate)&&e.toDate.isAfter(moment(),"day")||(T.pdf=null,angular.isUndefined(T.config.reportOptions.centerId)))){var n=e.toDate,o=r.toDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(T.config.reportData=null),T.reportBuilder.buildPdf(O).then((function(e){T.pdf=e}))}}),100)}),!0),T.downloadPdf=function(){T.pdf&&c(T.pdf,T.reportBuilder.getReportFileName("pdf"))},T.downloadCsv=function(){T.pdf&&c(T.reportBuilder.buildCsv(O),T.reportBuilder.getReportFileName("csv"))}}])},iEZ8:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.PassportReservationUsageReport",["ngResource","datesDeserializer","deskworks.config"]).factory("PassportReservationUsageReport",["$resource","datesDeserializer","deskworksConfig","$q",function(e,t,r,n){var a=t(["usages.startTime","usages.endTime"]),s=e(r.getApiAbsUrl("/reports/passport-reservation-usage"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,a,function(e){return o()(e).call(e,(function(e){var t;o()(t=e.usages).call(t,(function(e){e.duration=e.endTime-e.startTime}))})),e}]}});return{query:function(e){return s.query(e).$promise}}}])},iTQj:function(e,t){e.exports="<div id=mailboxReport class=gutter-v> <form name=formMailboxReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-columns model=vm.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> <report-owner-region model=vm.config.reportOwnerRegion report-data=vm.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},kJoc:function(e,t){e.exports='<div id=securityDepositReport class=gutter-v> <form name=formSecurityDepositReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"></div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <div class=gutter-v> <report-options model=$ctrl.config.reportOptions> <label class=ff-row> <ff-label flex="0 0 100px" ff-required=true><span translate=REPORTS.PERIOD.TO_DATE></span></ff-label> <ff-date flex="0 0 124px" name=toDate ff-model=$ctrl.config.toDate ff-date-order="{ early: $ctrl.config.toDate, late: $ctrl.getToday() }" ff-validate-alert="{ field: \'Selected date\', late: \'or equal to today\' }"></ff-date> <span class=ff-label></span> </label> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.reportColumnsFiltered></report-order-by> <ff-row> <ff-label flex="0 0 100px"><span translate=SECURITY_DEPOSIT_REPORT.SHOW_DETAILS></span></ff-label> <ff-static><ff-checkbox ff-model=$ctrl.config.showDetails></ff-checkbox></ff-static> </ff-row> </report-options> <report-owner-region model=$ctrl.config.reportOwnerRegion report-data=$ctrl.config.reportData></report-owner-region> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> '},lKYt:function(e,t){e.exports="<div id=memberUsageReport class=gutter-v> <form name=formMemberUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <div class=gutter-v> <report-dates model=vm.config.reportDates></report-dates> <report-columns model=vm.config.reportColumns></report-columns> </div> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=vm.config.reportOptions> <report-order-by model=vm.config.orderBy report-columns=vm.config.reportColumns.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=vm.downloadPdf() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=vm.downloadCsv() ff-disabled=!vm.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=vm.pdf></div> </ff-panel> </div> "},liLb:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.RecurringBillingChurnReport",["ngResource","datesDeserializer","deskworks.config"]).factory("RecurringBillingChurnReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["billings.startDate","billings.terminationDate"]),o=e(r.getApiAbsUrl("/reports/recurring-billing-churn"),{},{get:{method:"GET",isArray:!1,transformResponse:[angular.fromJson,n]}});return{get:function(e){return o.get(e).$promise}}}])},nJHl:function(e,t){e.exports="<div id=reservationUtilizationReport class=gutter-v> <form> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.params></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=$ctrl.params all-centers=false> <ff-row> <ff-label flex=\"0 0 100px\"><span translate=RESERVATION_UTILIZATION_REPORT.MODE></span></ff-label> <ff-static> <div class=\"ff-grid gutter-h-half\"> <label flex=\"0 0 auto\"> <ff-radio ff-model=$ctrl.params.mode ff-value=\"'detailedActual'\"> <span translate=RESERVATION_UTILIZATION_REPORT.MODE.DETAILED_ACTUAL></span> </ff-radio> </label> <label flex=\"0 0 auto\"> <ff-radio ff-model=$ctrl.params.mode ff-value=\"'actualExpected'\"> <span translate=RESERVATION_UTILIZATION_REPORT.MODE.ACTUAL_EXPECTED></span> </ff-radio> </label> </div> </ff-static> </ff-row> <report-by-period model=$ctrl.params.byPeriod ng-if=\"$ctrl.params.mode === 'detailedActual'\"></report-by-period> </report-options> </div> </div> <ff-panel flex=auto> <ff-panel-header><span translate=RESERVATION_UTILIZATION_REPORT.CHART.HEADER></span></ff-panel-header> <div ff-dim=!$ctrl.pdf ng-init=\"$ctl = $ctrl\"> <chart config=$ctrl.chart ng-style=\"{ 'max-height': ($ctl.chart && $ctl.chart.type !== 'pie' ? 'none' : null), 'height': ($ctl.chart && $ctl.chart.type !== 'pie' ? $ctl.chart.data.labels.length * 30 + 40 + 'px' : null) }\"></chart> </div> </ff-panel> <ff-btn-group> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </div> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},nUUl:function(e,t){e.exports='<div id=revenueForecastReport class=gutter-v> <form> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <ff-panel flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <ff-panel-header><span translate=REVENUE_FORECAST_REPORT.BAR_CHART.HEADER></span></ff-panel-header> <div ff-dim=!$ctrl.pdf> <chart config=$ctrl.chart style=max-height:228px></chart> </div> </ff-panel> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <report-options model=$ctrl.params> <label class=ff-row> <ff-label flex="0 0 100px"><span translate=REVENUE_FORECAST_REPORT.PERIOD></span></ff-label> <ff-select ff-model=$ctrl.params.monthCount ff-required=true ff-options="opt.id as opt.name for opt in $ctrl.optsMonthCount" ff-validate-alert="{{\'REVENUE_FORECAST_REPORT.PERIOD\' | translate}}"></ff-select> </label> <report-order-by model=$ctrl.params.orderBy report-columns=$ctrl.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> '},nabW:function(e,t){e.exports='<div id=recurringBillingChurnReport class=gutter-v> <form name=formRecurringBillingChurnReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 65%\', md: \'0 0 50%\'}"> <report-columns model=$ctrl.config.reportColumns></report-columns> </div> <div flex="{lg: \'0 0 35%\', md: \'0 0 50%\'}"> <report-options model=$ctrl.config.reportOptions> <label class=ff-row> <ff-label flex="0 0 100px"><span translate=RECURRING_BILLING_CHURN_REPORT.AS_OF></span></ff-label> <ff-date flex="0 0 124px" ff-model=$ctrl.config.reportDates.toDate ff-validate-alert="{{\'RECURRING_BILLING_CHURN_REPORT.AS_OF\' | translate}}"></ff-date> <span class=ff-label></span> </label> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> '},"o/Kf":function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("6RpP"),s=r.n(a);t.default=angular.module("deskworks.passportReservationUsageReportColumns",[]).factory("passportReservationUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"unitName",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.RESERVATION_UNIT"},{dataKey:"duration",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.HOURS",styles:{halign:"right"},pdf:function(e){return t("hoursMinutes")(e)},csv:function(e){return t("hoursMinutes")(e)}},{dataKey:"startTime",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.START_TIME",styles:{halign:"right"},pdf:function(e){var r;return s()(r="".concat(t("date")(e,"mediumDate")," ")).call(r,t("date")(e,"shortTime"))},csv:function(e){return t("date")(e,"medium")}},{dataKey:"endTime",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.END_TIME",styles:{halign:"right"},pdf:function(e){var r;return s()(r="".concat(t("date")(e,"mediumDate")," ")).call(r,t("date")(e,"shortTime"))},csv:function(e){return t("date")(e,"medium")}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},oMHk:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reservationUtilizationDetailedActualColumns",[]).factory("reservationUtilizationDetailedActualColumns",["$rootScope","$translate",function(e,t){var r=[{dataKey:"name",_title:"RESERVATION_UNITS.UNIT"},{dataKey:"[period]",_title:"",styles:{halign:"center"}},{dataKey:"totals",_title:"REPORTS.TOTALS",styles:{halign:"center"}}];function n(){o()(r).call(r,(function(e){e.title=t.instant(e._title)}))}return n(),e.$on("$setTranslationsSuccess",n),r}])},pfDI:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.invoiceColumns",[]).factory("invoiceColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"INVOICE.COLUMNS.DATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"name",_title:"INVOICE.COLUMNS.ITEM",include:!0,styles:{minCellWidth:150}},{dataKey:"description",_title:"INVOICE.COLUMNS.DESCRIPTION",include:!0,styles:{minCellWidth:150},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"price",_title:"INVOICE.COLUMNS.RATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"qty",_title:"INVOICE.COLUMNS.QUANTITY",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"amount",_title:"INVOICE.COLUMNS.AMOUNT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},piGw:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.ReservationUsageReport",["ngResource","deskworks.config","deserializeNumbers"]).factory("ReservationUsageReport",["$resource","deskworksConfig","deserializeNumbers",function(e,t,r){var n=t.getApiAbsUrl("/reservation-usage-report"),o=r(["reservationHours","reservationCost","reservationCreditApplied","reservationCostBalance"]),a=e(n,{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,o]}});return{query:function(e){return a.query(e).$promise}}}])},qctg:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("WSeP"),s=r.n(a),l=r("YtL8"),i=r.n(l);t.default=angular.module("deskworks.ReservationUsageReportCtrl",["pdfPreview","fileSaver","deskworks.state","deskworks.reports.reportStyles","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.reportOptions","deskworks.reports.reportOwnerRegion","deskworks.ReservationUsageReport","deskworks.reservationUsageReportColumns","deskworks.reportOrderBy"]).controller("ReservationUsageReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","fileSaver","reportStyles","ReportBuilder","ReservationUsageReport","reservationUsageReportColumns",function(e,t,r,n,a,l,u,d,c,f,p){var m,R=this;function g(e){var t,r,a={columns:e.reportColumns,rows:[],styles:[]},u=["reservationCost","reservationCreditApplied","reservationCostBalance"],c=i()(t=e.reportData).call(t,(function(e,t){return s()(u).call(u,(function(r){e[r]+=t[r]||0})),e}),i()(u).call(u,(function(e,t){return e[t]=0,e}),{}));c.memberCompany=n.instant("REPORTS.TOTALS").toUpperCase()+":";var f=o()(r=a.columns).call(r,(function(e){return angular.isNumber(c[e.dataKey])?l.round(c[e.dataKey]):c[e.dataKey]||!1}));a.rows.push(f),a.styles.push(d.h2);var p=R.reportBuilder.sortData(e.reportData,e.orderBy);return s()(p).call(p,(function(e,t){var r;a.rows.push(o()(r=a.columns).call(r,(function(t){return angular.isNumber(e[t.dataKey])?l.round(e[t.dataKey]):e[t.dataKey]}))),a.styles.push(t%2?null:d.rowOdd)})),e.reportData.length&&(a.rows.push(angular.extend({},f)),a.styles.push(d.h2)),a}R.config={reportName:n.instant("RESERVATION_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:p,reportDates:{fromDate:moment().subtract(1,"month").startOf("month"),toDate:moment().subtract(1,"month").endOf("month")},getReportData:function(){return f.query({centerId:R.config.reportOptions.centerId||null,fromDate:r("date")(R.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:r("date")(R.config.reportDates.toDate,"yyyy-MM-dd"),ownerId:R.config.reportOwnerRegion.ownerId,regionId:R.config.reportOwnerRegion.regionId})}},a.setPageTitle(R.config.reportName),R.reportBuilder=new c(R.config),e.$watch((function(){return{reportOptions:R.config.reportOptions,reportDates:R.config.reportDates,orderBy:R.config.orderBy,reportOwnerRegion:R.config.reportOwnerRegion}}),(function(e,r){m&&(t.cancel(m),m=null),m=t((function(){R.pdf=null;var t=e.reportDates.fromDate,n=r.reportDates.fromDate;!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(R.config.reportData=null),t=e.reportDates.toDate,n=r.reportDates.toDate,!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(R.config.reportData=null),R.reportBuilder.buildPdf(g).then((function(e){R.pdf=e}))}),100)}),!0),R.downloadPdf=function(){R.pdf&&u(R.pdf,R.reportBuilder.getReportFileName("pdf"))},R.downloadCsv=function(){R.pdf&&u(R.reportBuilder.buildCsv(g),R.reportBuilder.getReportFileName("csv"))}}])},qhd7:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.ReservationUtilizationReport",["ngResource","datesDeserializer","deskworks.config"]).factory("ReservationUtilizationReport",["$resource","$filter","datesDeserializer","deskworksConfig",function(e,t,r,n){var o=r(["groups.daily.date"]),a=e(n.getApiAbsUrl("/reservation-utilization-report"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,transformResponse:[angular.fromJson,o]}});return{query:function(e){return a.query({centerId:e.centerId||null,fromDate:t("date")(e.fromDate,"yyyy-MM-dd"),toDate:t("date")(e.toDate,"yyyy-MM-dd")}).$promise}}}])},r4Q0:function(e,t){e.exports="<div id=passUsageReport class=gutter-v> <form name=formPassUsageReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 61%', md: '0 0 50%'}\"> <report-dates model=$ctrl.params></report-dates> </div> <div flex=\"{lg: '0 0 39%', md: '0 0 50%'}\"> <report-options model=$ctrl.params> <report-order-by model=$ctrl.params.orderBy report-columns=$ctrl.columns></report-order-by> </report-options> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},rlfb:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.memberUsageReportColumns",["deskworks.helper"]).factory("memberUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"MEMBER_USAGE_REPORT.COLUMNS.DATE",include:!0,defaultOrder:!0,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"userName",_title:"MEMBER_USAGE_REPORT.COLUMNS.USER_NAME",include:!0},{dataKey:"userEmail",_title:"MEMBER_USAGE_REPORT.COLUMNS.USER_EMAIL",include:!0},{dataKey:"checkInTime",_title:"MEMBER_USAGE_REPORT.COLUMNS.CHECK_IN",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortTime")}},{dataKey:"checkOutTime",_title:"MEMBER_USAGE_REPORT.COLUMNS.CHECK_OUT",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortTime")}},{dataKey:"usageHours",_title:"MEMBER_USAGE_REPORT.COLUMNS.HOURS",include:!0,styles:{halign:"right"}},{dataKey:"usagePasses",_title:"MEMBER_USAGE_REPORT.COLUMNS.PASSES",include:!0,styles:{halign:"right"}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},rrwk:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.revenueForecastReportColumns",[]).factory("revenueForecastReportColumns",["$rootScope","$translate",function(e,t){var r=[{dataKey:"userCompany",_title:"REVENUE_FORECAST_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"userName",_title:"REVENUE_FORECAST_REPORT.COLUMNS.NAME",include:!0,defaultOrder:!0}];function n(){o()(r).call(r,(function(e){e.title=t.instant(e._title)}))}return n(),e.$on("$setTranslationsSuccess",n),r}])},tmk0:function(e,t){e.exports="<div id=rentRollReport class=gutter-v> <form name=formRentRollReport> <h1 class=page-title>{{state.getPageTitle()}}</h1> <div class=\"ff-grid gutter-v gutter-h\"> <div flex=\"{lg: '0 0 65%', md: '0 0 50%'}\"> <report-columns model=$ctrl.config.reportColumns></report-columns> </div> <div flex=\"{lg: '0 0 35%', md: '0 0 50%'}\"> <div class=gutter-v> <report-options model=$ctrl.config.reportOptions> <report-order-by model=$ctrl.config.orderBy report-columns=$ctrl.config.reportColumns.columns></report-order-by> </report-options> </div> </div> </div> <ff-btn-group class=buttons-bottom> <ff-btn sense=download ff-click=$ctrl.downloadPdf() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_PDF></span> </ff-btn> <ff-btn sense=download ff-click=$ctrl.downloadCsv() ff-disabled=!$ctrl.pdf> <span translate=REPORTS.BTN_CSV></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate=REPORTS.PREVIEW.HEADER></span></ff-panel-header> <div pdf-preview=$ctrl.pdf></div> </ff-panel> </div> "},vRPl:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.reports.reservationReportColumns",[]).factory("reservationReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"startTime",_title:"RESERVATION_REPORT.COLUMNS.START_TIME",include:!0,styles:{minCellWidth:100},pdf:function(e){return t("date")(e,"weekDate")+" "+t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortDate")+" "+t("date")(e,"shortTime")}},{dataKey:"centerName",_title:"RESERVATION_REPORT.COLUMNS.CENTER",include:!1,styles:{minCellWidth:120}},{dataKey:"createdAt",_title:"RESERVATION_REPORT.COLUMNS.CREATED_AT",include:!1,styles:{minCellWidth:80},pdf:function(e){return t("date")(e,"mediumDate")+" "+t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortDate")+" "+t("date")(e,"shortTime")}},{dataKey:"endTime",_title:"RESERVATION_REPORT.COLUMNS.END_TIME",include:!0,styles:{minCellWidth:100},pdf:function(e){return t("date")(e,"weekDate")+" "+t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortDate")+" "+t("date")(e,"shortTime")}},{dataKey:"note",_title:"RESERVATION_REPORT.COLUMNS.NOTE",include:!1,styles:{minCellWidth:120}},{dataKey:"reservationUnitName",_title:"RESERVATION_REPORT.COLUMNS.UNIT",include:!0,styles:{minCellWidth:150}},{dataKey:"userCompany",_title:"RESERVATION_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:150}},{dataKey:"userName",_title:"RESERVATION_REPORT.COLUMNS.USER_NAME",include:!0,styles:{minCellWidth:120}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},vRjO:function(e,t,r){"use strict";r.r(t);var n=r("yCd9"),o=r.n(n),a=r("6RpP"),s=r.n(a),l=r("YtL8"),i=r.n(l);t.default=angular.module("deskworks.reports.reservationUtilizationActualExpectedChart",[]).factory("reservationUtilizationActualExpectedChart",["$translate","$filter","helper","whitelabel",function(e,t,r,n){return function(r){var a=i()(r).call(r,(function(e,t){return s()(e).call(e,t.units)}),[]),l=e.instant("RESERVATION_UTILIZATION_REPORT.COLUMNS.EXPECTED_USAGE"),u=e.instant("RESERVATION_UTILIZATION_REPORT.COLUMNS.ACTUAL_USAGE"),d=e.instant("RESERVATION_UTILIZATION_REPORT.COLUMNS.UTILIZATION");return{type:"horizontalBar",data:{labels:o()(a).call(a,(function(e){return e.name||"-"})),datasets:[{data:o()(a).call(a,(function(e){return e.utilization})),backgroundColor:n.getProperty("--brand-color"),maxBarThickness:30}]},options:{tooltips:{callbacks:{label:function(e,r){var n,o,i,c=a[e.index],f=t("hours")(t("round")(c.expectedUse,1)),p=t("hours")(t("round")(c.actualUse,1)),m=t("round")(c.utilization,1);return[s()(n="".concat(l,": ")).call(n,f),s()(o="".concat(u,": ")).call(o,p),s()(i="".concat(d,": ")).call(i,m,"%")]}}},legend:{display:!1},scales:{xAxes:[{min:100,max:100,ticks:{suggestedMin:0,suggestedMax:100,callback:function(e){return e+"%"}}}]}}}}}])},wASb:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n);t.default=angular.module("deskworks.passUsageReportColumns",[]).factory("passUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"memberCompany",_title:"PASS_USAGE_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:200}},{dataKey:"memberName",_title:"PASS_USAGE_REPORT.COLUMNS.NAME",include:!0,defaultOrder:!0,styles:{minCellWidth:150}},{dataKey:"passesUsedCost",_title:"PASS_USAGE_REPORT.COLUMNS.PASSES_USED_COST",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"passCreditAppliedCost",_title:"PASS_USAGE_REPORT.COLUMNS.PASS_CREDIT_APPLIED_COST",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"costBalance",_title:"PASS_USAGE_REPORT.COLUMNS.COST_BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function a(){o()(n).call(n,(function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},xl4I:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.PassUsageReport",["ngResource","deskworks.config"]).factory("PassUsageReport",["$resource","$filter","deskworksConfig",function(e,t,r){var n=e(r.getApiAbsUrl("/reports/day-pass-usage"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0}});return{query:function(e){return n.query({centerId:e.centerId||null,fromDate:t("date")(e.fromDate,"yyyy-MM-dd"),toDate:t("date")(e.toDate,"yyyy-MM-dd")}).$promise}}}])},ycie:function(e,t,r){"use strict";r.r(t);var n=r("WSeP"),o=r.n(n),a=r("ipr/"),s=r.n(a),l=r("6RpP"),i=r.n(l),u=r("yCd9"),d=r.n(u),c=r("NOor"),f=r.n(c),p=r("UwMB"),m=r("Amco");t.default=angular.module("deskworks.reports.reservationUtilizationDetailedActualReport",[p.default.name,m.default.name]).factory("reservationUtilizationDetailedActualReport",["$filter","helper","reportStyles","reservationUtilizationDetailedActualColumns",function(e,t,r,n){return function(t,a){var l,u,c,p,m=n,R={columns:[],rows:[],styles:[]},g=f()(m).call(m,(function(e){return"[period]"===e.dataKey}));if(g<0)throw new Error("[period] is not found in report columns");return R.columns=d()(l=a.periods).call(l,(function(t){return angular.extend({},m[g],{dataKey:e("date")(t.fromDate,"yyyyMMdd"),title:t.title})})),R.columns=i()(u=i()(c=s()(m).call(m,0,g)).call(c,R.columns)).call(u,s()(m).call(m,g+1)),o()(p=a.units).call(p,(function(e){var t,n,a;R.rows.push(i()(t=i()(n=[e.name]).call(n,e.totals)).call(t,e.total)),R.styles.push(r.h2),o()(a=e.groups).call(a,(function(e,t){var n,o;R.rows.push(i()(n=i()(o=[e.name]).call(o,e.totals)).call(n,e.total)),R.styles.push(t%2?null:r.rowOdd)}))})),R}}])},zl1W:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.invoice.service",["ngResource","datesDeserializer","deskworks.config"]).factory("Invoice",["$resource","$q","datesDeserializer","deskworksConfig",function(e,t,r,n){var o=r(["items.date","date","dueDate"]);return e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/generate-invoices"),{centerId:"@centerId",userId:"@userId",orderId:"@orderId"},{get:{method:"GET",transformResponse:[angular.fromJson,o]}})}])}}]);