(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"2S09":function(e,t,r){"use strict";r.r(t);r("3dw1");var n=r("yCd9"),o=r.n(n),a=r("hsT8"),s=r.n(a),l=r("KK/u"),i=r.n(l),c=r("Njxs"),u=r("WgSX"),d=r("G6E5"),f=r("5/DJ"),p=r("LTMe");t.default=angular.module("deskworks.reports.membershipReport",[u.a.name,d.a.name,f.a.name,p.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOwnerRegion","deskworks.reports.membershipReport.service","deskworks.reports.membershipReportColumns",c.a.name]).controller("MembershipReportCtrl",["$scope","$timeout","$location","$translate","state","helper","reportHelper","ReportBuilder","MembershipReport","membershipReportColumns","fields","reportStyles",function(e,t,r,n,a,l,c,u,d,f,p,m){var R,g=this;function E(e){var t,r,n,a={columns:s()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:e.reportData,styles:[]};return a.rows=i()(c).call(c,a.rows,e.orderBy),a.rows=o()(r=a.rows).call(r,(function(e){var t;return o()(t=a.columns).call(t,(function(t){return e[t.dataKey]}))})),a.styles=o()(n=a.rows).call(n,(function(e,t){return t%2?null:m.rowOdd})),a}g.config={reportName:n.instant("MEMBERSHIP_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(f)},getReportData:function(){var e={centerId:g.config.reportOptions.centerId,ownerId:g.config.reportOwnerRegion.ownerId,regionId:g.config.reportOwnerRegion.regionId};return d.query(angular.extend(e,g.membershipFilter)).then((function(e){return o()(e).call(e,(function(e){return e.fields&&delete(e=angular.extend(e,e.fields)).fields,e}))}))}},a.setPageTitle(g.config.reportName),g.reportBuilder=new u(g.config),angular.forEach(p,(function(e){g.config.reportColumns.columns.push({dataKey:e.id,title:e.name,include:!1})})),e.$watch((function(){return{reportOptions:g.config.reportOptions,reportColumns:g.config.reportColumns,reportOwnerRegion:g.config.reportOwnerRegion,membershipFilter:g.membershipFilter,orderBy:g.config.orderBy}}),(function(e,r){R&&(t.cancel(R),R=null),R=t((function(){g.pdf=null,e&&r&&!angular.equals(e.membershipFilter,r.membershipFilter)&&(g.config.reportData=null),angular.isUndefined(g.config.reportOptions.centerId)||g.reportBuilder.buildPdf(E).then((function(e){g.pdf=e}))}),100)}),!0),g.downloadPdf=function(){g.pdf&&c.download({blob:g.pdf,fileName:g.reportBuilder.getReportFileName("pdf")})},g.downloadCsv=function(){g.pdf&&c.download({blob:g.reportBuilder.buildCsv(E),fileName:g.reportBuilder.getReportFileName("csv")})}}])},"3DDD":function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.reports.membershipReportColumns",[]).factory("membershipReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"company",_title:"MEMBERSHIP_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"name",_title:"MEMBERSHIP_REPORT.COLUMNS.NAME",include:!0},{dataKey:"address",_title:"MEMBERSHIP_REPORT.COLUMNS.ADDRESS",include:!1},{dataKey:"comments",_title:"MEMBERSHIP_REPORT.COLUMNS.COMMENTS",include:!1},{dataKey:"email",_title:"MEMBERSHIP_REPORT.COLUMNS.EMAIL",include:!1},{dataKey:"phone",_title:"MEMBERSHIP_REPORT.COLUMNS.PHONE",include:!1},{dataKey:"facility",_title:"MEMBERSHIP_REPORT.COLUMNS.FACILITY",include:!1},{dataKey:"joinDate",_title:"MEMBERSHIP_REPORT.COLUMNS.JOIN_DATE",include:!1,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"occupation",_title:"MEMBERSHIP_REPORT.COLUMNS.OCCUPATION",include:!0},{dataKey:"pricelist",_title:"MEMBERSHIP_REPORT.COLUMNS.PRICE_LIST",include:!0},{dataKey:"status",_title:"MEMBERSHIP_REPORT.COLUMNS.STATUS",include:!0},{dataKey:"printerCodes",_title:"MEMBERSHIP_REPORT.COLUMNS.PRINTER_CODES",include:!1},{dataKey:"leadSource",_title:"MEMBERSHIP_REPORT.COLUMNS.LEAD_SOURCE",include:!1}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},"4c/s":function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.paymentReconciliationReportColumns",[]).factory("paymentReconciliationReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"userName",_title:"REPORTS.COLUMNS.USER_NAME",include:!0,defaultOrder:!0,styles:{minCellWidth:100}},{dataKey:"userCompany",_title:"REPORTS.COLUMNS.USER_COMPANY",include:!0,styles:{cellWidth:150}},{dataKey:"orderId",_title:"REPORTS.COLUMNS.ORDER_ID",include:!0,styles:{halign:"right"}},{dataKey:"productName",_title:"REPORTS.COLUMNS.ITEM",include:!0},{dataKey:"productCode",_title:"REPORTS.COLUMNS.ITEM_CODE",include:!0,styles:{halign:"right"}},{dataKey:"quantity",_title:"REPORTS.COLUMNS.QUANTITY",include:!0,styles:{halign:"right"}},{dataKey:"amount",_title:"REPORTS.COLUMNS.AMOUNT",include:!0,styles:{halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"total",_title:"REPORTS.COLUMNS.TOTAL",include:!0,styles:{halign:"right",cellWidth:"wrap"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},"6avE":function(e,t,r){"use strict";r.r(t);r("3dw1");var n=r("yCd9"),o=r.n(n),a=r("hsT8"),s=r.n(a),l=r("WgSX"),i=r("G6E5"),c=r("5/DJ"),u=r("LTMe");t.default=angular.module("deskworks.reports.priceListReport",[l.a.name,i.a.name,c.a.name,u.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.priceListReport.service","deskworks.reports.priceListReportColumns"]).controller("PriceListReportCtrl",["$scope","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","PriceListReport","priceListReportColumns",function(e,t,r,n,a,l,i,c,u,d,f){var p,m=this;function R(e){var t,a={columns:e.reportColumns.columns,rows:[],styles:[]};return angular.forEach(e.reportData.pricelists,(function(s){var l;e.plNames.indexOf(s.name)<0||((t=o()(l=Array.apply(null,Array(a.columns.length))).call(l,Boolean.prototype.valueOf,!1))[0]=n.instant("PRICE_LISTS.LIST.PRICE_LIST")+": "+s.name+" ("+n.instant("PRICE_LISTS.LAST_UPDATE")+": "+r("date")(s.updatedAt,"mediumDate")+")",a.rows.push(t),a.styles.push(c.h1),s.productTypes.forEach((function(e){var r;(t=o()(r=Array.apply(null,Array(a.columns.length))).call(r,Boolean.prototype.valueOf,!1))[0]=e.id,a.rows.push(t),a.styles.push(c.h2),e.products.forEach((function(e,t){var r;a.rows.push(o()(r=a.columns).call(r,(function(t){return e[t.dataKey]}))),a.styles.push(t%2?null:c.rowOdd)}))})))})),a}m.config={reportName:n.instant("PRICE_LISTS.LIST.HEADER"),reportOptions:{centerId:!1},reportColumns:{columns:angular.copy(f)},getReportData:function(){return d.get({centerId:a.getCurrentCenterId()}).$promise}},m.reportBuilder=new u(m.config),e.$watch((function(t){var r,n;return{reportOptions:m.config.reportOptions,plNames:o()(r=s()(n=e.vm.priceLists).call(n,(function(e){return e.include}))).call(r,(function(e){return e.name}))}}),(function(e){p&&(t.cancel(p),p=null),p=t((function(t){m.pdf=null,angular.isDefined(m.config.reportOptions.centerId)&&(m.config.plNames=e.plNames,m.reportBuilder.buildPdf(R).then((function(e){m.pdf=e})))}),100)}),!0),m.downloadPdf=function(){m.pdf&&i.download({blob:m.pdf,fileName:m.reportBuilder.getReportFileName("pdf")})},m.downloadCsv=function(){m.pdf&&i.download({blob:m.reportBuilder.buildCsv(R),fileName:m.reportBuilder.getReportFileName("csv")})}}])},"8scq":function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.reports.membershipReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("MembershipReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["joinDate"]),o=e(r.getApiAbsUrl("/centers/:centerId/membership-reports"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0,cancellable:!0,transformResponse:[angular.fromJson,n,function(e){return angular.forEach(e,(function(e){angular.forEach(e.fields,(function(t){e[t.id]=t.value})),delete e.fields})),e}]}}),a=null;return{query:function(e){return a&&a.$cancelRequest&&a.$cancelRequest(),(a=o.query(e)).$promise.then((function(e){return a=null,e}))}}}])},"C/0G":function(e,t){e.exports='<div id="memberStatement" class="gutter-v"> <form name="formMemberStatement"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 65%\', md: \'0 0 50%\'}"> <report-dates model="vm.config.reportDates"></report-dates> </div> <div flex="{lg: \'0 0 35%\', md: \'0 0 50%\'}"> <report-options model="vm.config.reportOptions"></report-options> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="vm.downloadPdf()" ff-disabled="!vm.pdf"> <span translate="MEMBER_STATEMENT.BTN_PDF"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="MEMBER_STATEMENT.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="vm.pdf"></div> </ff-panel> </div> '},C1lC:function(e,t,r){"use strict";r.r(t);var n=r("nbuU"),o=r.n(n);r("3dw1");t.default=angular.module("deskworks.ProductReport",["deskworks.inventory.product.service","deskworks.inventory.membershipCategory.service","deskworks.reservationCategory.service","deskworks.billing.optsBillingFrequency","deskworks.inventory.optsCountCheckInsPer"]).factory("ProductReport",["$q","dwAlerts","state","productService","membershipCategoryService","reservationCategoryService","optsBillingFrequency","optsCountCheckInsPer",function(e,t,r,n,a,s,l,i){return{query:function(c){var u=c.centerId;return e.all({products:n.getProducts(r.getParam("archived")?{archived:!0}:{}).catch((function(e){return t.error(e,"Failed to query products.")})),membershipCategories:a.query().catch((function(e){return t.error(e,"Failed to query membership categories.")})),reservationCategories:s.query(u).catch((function(e){return t.error(e,"Failed to query reservation categories.")}))}).then((function(e){var t=e.products,r=e.membershipCategories,n=e.reservationCategories;return t.forEach((function(e){if(e.membershipTypeId){var a=o()(r).call(r,(function(t){return t.id===e.membershipTypeId}))||{name:e.membershipTypeId};e.membershipCategory=a.name}if(e.passProductId){var s=o()(t).call(t,(function(t){return t.id===e.passProductId}))||{name:e.passProductId};e.passProduct=s.name}if(e.reservationTypeId){var c=o()(n).call(n,(function(t){return t.id===e.reservationTypeId}))||{name:e.reservationTypeId};e.reservationCategory=c.name}if(e.billingFrequency){var u=o()(l).call(l,(function(t){return t.id===e.billingFrequency}))||{name:e.billingFrequency};e.billingFrequency=u.name}if(e.countCheckInsPer){var d=o()(i).call(i,(function(t){return t.id===e.countCheckInsPer}))||{name:e.countCheckInsPer};e.countCheckInsPer=d.name}e.printerUsageFreeCopiesSettings&&e.printerUsageFreeCopiesSettings.forEach((function(t){e[t.printerUsageType]=t.freeCount||0})),e.showInSelfRegistration=!e.hideInSelfRegistration})),t}))}}}])},"CR4+":function(e,t){e.exports='<div ng-controller="PriceListReportCtrl as rep" class="gutter-v"> <div class="ff-grid"> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}" style="margin-left:auto"> <report-options model="rep.config.reportOptions"></report-options> </div> </div> <ff-btn-group> <ff-btn sense="download" ff-click="rep.downloadPdf()" ff-disabled="!rep.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="rep.downloadCsv()" ff-disabled="!rep.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="rep.pdf"></div> </ff-panel> </div> '},Cv9t:function(e,t){e.exports='<div id="paymentReconciliationReport" class="gutter-v"> <form name="formPaymentReconciliationReport"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <report-dates model="$ctrl.params"></report-dates> </div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <report-options model="$ctrl.params"> </report-options> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="$ctrl.downloadPdf()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="$ctrl.downloadCsv()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="$ctrl.pdf"></div> </ff-panel> </div> '},EKM0:function(e,t){e.exports='<div id="membershipReport" class="gutter-v"> <form name="formMembershipReport"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 65%\', md: \'0 0 50%\'}"> <report-columns model="vm.config.reportColumns"></report-columns> </div> <div flex="{lg: \'0 0 35%\', md: \'0 0 50%\'}"> <div class="gutter-v"> <report-options model="vm.config.reportOptions"> <report-order-by model="vm.config.orderBy" report-columns="vm.config.reportColumns.columns"></report-order-by> </report-options> <report-owner-region model="vm.config.reportOwnerRegion" report-data="vm.config.reportData"></report-owner-region> <ff-panel> <ff-panel-header><span translate="MEMBERSHIP_REPORT.MEMBERSHIP.HEADER"></span></ff-panel-header> <membership-filter ff-model="vm.membershipFilter" layout="2col"></membership-filter> </ff-panel> </div> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="vm.downloadPdf()" ff-disabled="!vm.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="vm.downloadCsv()" ff-disabled="!vm.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="vm.pdf"></div> </ff-panel> </div> '},Evl7:function(e,t,r){"use strict";r.r(t);var n=r("03wM"),o=r.n(n),a=r("Ekwr"),s=r.n(a),l=r("hsT8"),i=r.n(l),c=r("lvz6"),u=r.n(c),d=r("yKah"),f=r.n(d),p=r("XX2w"),m=r.n(p),R=r("fzuT"),g=r.n(R),E=(r("3dw1"),r("NOor")),y=r.n(E),T=r("yCd9"),S=r.n(T),h=r("G0Vy"),O=r.n(h),v=r("6RpP"),P=r.n(v),C=r("WgSX"),w=r("G6E5"),_=r("5/DJ"),b=r("LTMe"),D=r("4c/s"),M=r("cavp");function N(e,t){var r=o()(e);if(s.a){var n=s()(e);t&&(n=i()(n).call(n,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):f.a?Object.defineProperties(e,f()(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,u()(r,t))}))}return e}t.default=angular.module("deskworks.PaymentReconciliationReportCtrl",["debounce",C.a.name,w.a.name,_.a.name,b.a.name,"deskworks.state","deskworks.reports.reportDates","deskworks.reports.reportColumns","deskworks.reports.ReportBuilder","deskworks.reportOrderBy",M.default.name,D.default.name]).controller("PaymentReconciliationReportCtrl",["$scope","$timeout","$translate","$filter","$q","state","helper","debounce","dwAlerts","reportHelper","reportStyles","PaymentReconciliationReport","paymentReconciliationReportColumns",function(e,t,r,n,o,a,s,l,i,c,u,d,f){var p=this,R=c.paramsChanged,g=c.loadResources;p.config={reportName:r.instant("PAYMENT_RECONCILIATION_REPORT.REPORT_NAME")},p.params={fromDate:a.getParam("fromDate")?n("toDate")(a.getParam("fromDate")):moment().subtract(1,"M").startOf("month"),toDate:a.getParam("toDate")?n("toDate")(a.getParam("toDate")):moment().subtract(1,"M").endOf("month")},p.resources=null,p.data=null,p.columns=f,a.setPageTitle(p.config.reportName),e.$watch("$ctrl.params",l((function(e,t){p.pdf=null,p.report=null;var a=I({},e);s.pointFirstInvalid("#paymentReconciliationReport")||a.fromDate&&a.toDate&&(R(e,t,["fromDate","toDate","centerId"])&&(p.data=null),o.all({resources:p.resources||g(),data:p.data||d.get(a).catch((function(e){return i.error(e,"Failed to query report.")}))}).then((function(e){p.resources=e.resources,p.data=e.data})).then((function(){p.report=function(e,t){var o,a,s,l,i,c={columns:p.columns,rows:[],styles:[]},d=y()(o=c.columns).call(o,(function(e){return"productCode"===e.dataKey}));t.daily.forEach((function(e){c.rows.push([{content:n("date")(e.date,"mediumDate"),colSpan:d},{content:r.instant("PAYMENT_RECONCILIATION_REPORT.TOTAL_DAILY")+":",colSpan:c.columns.length-d-1},{content:n("ncurrency")(e.total)}]),c.styles.push(u.h1),e.billingMethods.forEach((function(e){c.rows.push([{content:e.name,colSpan:d},{content:r.instant("PAYMENT_RECONCILIATION_REPORT.TOTAL_PAYMENT_METHOD")+":",colSpan:c.columns.length-d-1},{content:n("ncurrency")(e.total)}]),c.styles.push(u.h2),e.orders.forEach((function(e){var t;c.rows.push(S()(t=c.columns).call(t,(function(t){return!!angular.isDefined(e[t.dataKey])&&e[t.dataKey]}))),c.styles.push(u.h3),e.items.forEach((function(e,t){var r;c.rows.push(S()(r=c.columns).call(r,(function(t){return!!angular.isDefined(e[t.dataKey])&&e[t.dataKey]}))),c.styles.push(t%2?null:u.rowOdd)}))}))}))})),c.rows.push(O()(a=Array(c.columns.length)).call(a,!1)),c.styles.push(null);var f=[{name:"TOTAL_PAYMENT_FEES",key:"totalPaymentFees"},{name:"TOTAL_TAXES",key:"totalTaxes"},{name:"TOTAL_DEPOSITS",key:"totalDeposits"},{name:"TOTAL_UNDESIGNATED",key:"totalUndesignated"}],R=P()(s=[{name:"TOTAL_MEMBERSHIP",key:"membership"},{name:"TOTAL_REGISTRATION",key:"registration"},{name:"TOTAL_RENTAL",key:"rental"},{name:"TOTAL_PRINT",key:"print"},{name:"TOTAL_SERVICES",key:"services"},{name:"TOTAL_CUSTOM",key:"custom"},{name:"TOTAL_DISCOUNT",key:"discount"}]).call(s,f),g=S()(R).call(R,(function(e,o){return{data:[{content:r.instant("PAYMENT_RECONCILIATION_REPORT.".concat(e.name)),colSpan:1},{content:n("ncurrency")(o>6?t[e.key]:t.totalsByProductType[e.key]||0),styles:{halign:"right",fontStyle:"bold"}}],style:null}}));g.unshift({data:[{content:r.instant("PAYMENT_RECONCILIATION_REPORT.PRODUCT_TYPE_BREAKDOWN")+":",colSpan:2}],style:u.h1});var E=P()(l=S()(i=t.totalsByProductCategory).call(i,(function(e){return{data:[{content:e.name},{content:e.code},{content:n("ncurrency")(e.total),colSpan:2,styles:{fontStyle:"bold"}}],style:null}}))).call(l,S()(f).call(f,(function(e){return{data:[{content:r.instant("PAYMENT_RECONCILIATION_REPORT.".concat(e.name))},{content:!1},{content:n("ncurrency")(t[e.key]),styles:{halign:"right",fontStyle:"bold"},colSpan:2}],style:null}})));E.unshift({data:[{content:r.instant("PAYMENT_RECONCILIATION_REPORT.PRODUCT_CATEGORY_BREAKDOWN")+":",colSpan:4}],style:null});for(var T=0,h=Math.max(g.length,E.length);T<h;T++){var v;c.rows.push(P()(v=[]).call(v,m()((g[T]||{data:[{content:!1},{content:!1}]}).data),[{content:!1}],m()((E[T]||{data:[{content:!1},{content:!1},{content:!1},{content:!1}]}).data),[{content:!1}])),c.styles.push(g[T]&&g[T].style||E[T]&&E[T].style||null)}return c}(0,p.data);var e=c.buildPdf({config:I(I({},p.config),a),report:p.report,resources:p.resources});p.pdf=e.output("blob")})))}),100),!0),p.downloadPdf=function(){if(p.pdf){var e=c.getReportFileName({extension:"pdf",config:I(I({},p.config),p.params),resources:p.resources});c.download({blob:p.pdf,fileName:e})}},p.downloadCsv=function(){if(p.pdf){var e=c.getReportFileName({extension:"csv",config:I(I({},p.config),p.params),resources:p.resources}),t=c.buildCsv({report:p.report});c.download({blob:t,fileName:e})}}}])},FxCl:function(e,t,r){"use strict";r.r(t);var n=r("03wM"),o=r.n(n),a=r("Ekwr"),s=r.n(a),l=r("hsT8"),i=r.n(l),c=r("lvz6"),u=r.n(c),d=r("yKah"),f=r.n(d),p=r("fzuT"),m=r.n(p),R=r("6RpP"),g=r.n(R),E=(r("3dw1"),r("WgSX")),y=r("G6E5"),T=r("5/DJ"),S=r("LTMe"),h=r("C1lC"),O=r("iYz6"),v=r("ID+u"),P=r("9ux4");function C(e,t){var r=o()(e);if(s.a){var n=s()(e);t&&(n=i()(n).call(n,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):f.a?Object.defineProperties(e,f()(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,u()(r,t))}))}return e}t.default=angular.module("deskworks.productReport",[E.a.name,y.a.name,T.a.name,S.a.name,"deskworks.state",h.default.name,O.default.name,v.default.name,P.a.name]).controller("ProductReportCtrl",["$scope","$q","$timeout","$filter","$translate","state","helper","debounce","dwAlerts","reportHelper","reportStyles","ProductReport","productReportColumns","productReportData","reportFontInit",function(e,t,r,n,o,a,s,l,i,c,u,d,f,p,m){var R=this,E=(c.paramsChanged,c.loadResources);R.config={reportName:o.instant("PRODUCTS.INVENTORY_LIST")},R.params={centerId:!1,paperSize:"A2"},R.resources=null,R.data=null,a.setPageTitle(R.config.reportName),e.$watch("$ctrl.params",l((function(e,r){R.pdf=null,R.report=null,t.all({resources:R.resources||E(),data:R.data||d.query({centerId:a.getCurrentCenterId()})}).then((function(e){R.resources=e.resources,R.data=e.data})).then((function(){R.report=p(w(w({},R.params),{},{columns:f}),R.data);var e=new jsPDF(R.params.paperLayout,"pt",R.params.paperSize),t=u.pageMargins[0];m(e),R.report.forEach((function(r){var n;r.rows.length&&(n=r.name,e.setFontSize(11),e.setFont(e.getFont().fontName,"bold"),e.autoTableText(n,u.pageMargins[3],t,{}),t+=18,c.buildPdf({config:w(w({},R.config),R.params),report:r,resources:R.resources,doc:e,startY:t}),t=e.previousAutoTable.finalY+20)})),R.pdf=e.output("blob")}))}),100),!0),R.downloadPdf=function(){if(R.pdf){var e=c.getReportFileName({extension:"pdf",config:w(w({},R.config),R.params),resources:R.resources});c.download({blob:R.pdf,fileName:e})}},R.downloadCsv=function(){R.pdf&&R.report.forEach((function(e){var t,r=g()(t="".concat(R.config.reportName,"-")).call(t,e.name).toLowerCase(),n=c.getReportFileName({extension:"csv",config:w({reportName:r},R.params),resources:R.resources}),o=c.buildCsv({report:e});c.download({blob:o,fileName:n})}))}}])},HFgu:function(e,t,r){"use strict";r.r(t);var n=r("hsT8"),o=r.n(n),a=r("KK/u"),s=r.n(a),l=r("yCd9"),i=r.n(l),c=r("WgSX"),u=r("G6E5"),d=r("5/DJ"),f=r("LTMe");t.default=angular.module("deskworks.reports.mailboxReport",[c.a.name,u.a.name,d.a.name,f.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportColumns","deskworks.reports.reportOwnerRegion","deskworks.reports.mailboxReport.service","deskworks.reports.mailboxReportColumns"]).controller("MailboxReportCtrl",["$scope","$timeout","$translate","state","helper","reportHelper","ReportBuilder","MailboxReport","mailboxReportColumns","reportStyles",function(e,t,r,n,a,l,c,u,d,f){var p,m=this;function R(e){var t,r,n,a={columns:o()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:e.reportData,styles:[]};return a.rows=s()(l).call(l,a.rows,e.orderBy),a.rows=i()(r=a.rows).call(r,(function(e){var t;return i()(t=a.columns).call(t,(function(t){return e[t.dataKey]}))})),a.styles=i()(n=a.rows).call(n,(function(e,t){return t%2?null:f.rowOdd})),a}m.config={reportName:r.instant("MAILBOX_REPORT.REPORT_NAME"),reportOptions:{},reportOwnerRegion:{},reportColumns:{columns:angular.copy(d)},getReportData:function(){return u.query({centerId:m.config.reportOptions.centerId,ownerId:m.config.reportOwnerRegion.ownerId,regionId:m.config.reportOwnerRegion.regionId}).$promise}},n.setPageTitle(m.config.reportName),m.reportBuilder=new c(m.config),e.$watch((function(e){return{reportOptions:m.config.reportOptions,reportColumns:m.config.reportColumns,orderBy:m.config.orderBy,reportOwnerRegion:m.config.reportOwnerRegion}}),(function(e){p&&(t.cancel(p),p=null),p=t((function(){m.pdf=null,angular.isUndefined(m.config.reportOptions.centerId)||m.reportBuilder.buildPdf(R).then((function(e){m.pdf=e}))}),100)}),!0),m.downloadPdf=function(){m.pdf&&l.download({blob:m.pdf,fileName:m.reportBuilder.getReportFileName("pdf")})},m.downloadCsv=function(){m.pdf&&l.download({blob:m.reportBuilder.buildCsv(R),fileName:m.reportBuilder.getReportFileName("csv")})}}])},"ID+u":function(e,t,r){"use strict";r.r(t);r("3dw1");var n=r("yCd9"),o=r.n(n),a=r("hsT8"),s=r.n(a),l=r("5/DJ");t.default=angular.module("deskworks.productReportData",["deskworks.inventory.optsProductType",l.a.name]).factory("productReportData",["reportStyles","optsProductType",function(e,t){return function(r,n){return o()(t).call(t,(function(t){var a,l={id:t.id,name:t.name,columns:s()(a=r.columns[t.id]).call(a,(function(e){return e.include})),rows:[],styles:[]};return s()(n).call(n,(function(e){return e.type===t.id})).forEach((function(t,r){var n;l.rows.push(o()(n=l.columns).call(n,(function(e){return t[e.dataKey]}))),l.styles.push(r%2?null:e.rowOdd)})),l}))}}])},IWno:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.mailboxReportColumns",[]).factory("mailboxReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"number",_title:"MAILBOX_REPORT.COLUMNS.BOX_ID",include:!0},{dataKey:"company",_title:"MAILBOX_REPORT.COLUMNS.COMPANY",include:!0},{dataKey:"fullName",_title:"MAILBOX_REPORT.COLUMNS.USER_NAME",include:!0},{dataKey:"handling",_title:"MAILBOX_REPORT.COLUMNS.HANDLING",include:!0,styles:{cellWidth:"wrap"}},{dataKey:"key",_title:"MAILBOX_REPORT.COLUMNS.KEY_ID",include:!0},{dataKey:"names",_title:"MAILBOX_REPORT.COLUMNS.OTHER_NAMES",include:!0},{dataKey:"notes",_title:"MAILBOX_REPORT.COLUMNS.NOTES",include:!1}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},Iy44:function(e,t,r){"use strict";r.r(t);var n=r("03wM"),o=r.n(n),a=r("Ekwr"),s=r.n(a),l=r("hsT8"),i=r.n(l),c=r("lvz6"),u=r.n(c),d=r("yKah"),f=r.n(d),p=r("fzuT"),m=r.n(p),R=r("nbuU"),g=r.n(R),E=r("G0Vy"),y=r.n(E),T=r("KK/u"),S=r.n(T),h=(r("3dw1"),r("8cZI"),r("WgSX")),O=r("G6E5"),v=r("5/DJ"),P=r("LTMe");function C(e,t){var r=o()(e);if(s.a){var n=s()(e);t&&(n=i()(n).call(n,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):f.a?Object.defineProperties(e,f()(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,u()(r,t))}))}return e}t.default=angular.module("deskworks.PassportReservationUsageReportCtrl",[h.a.name,O.a.name,v.a.name,P.a.name,"deskworks.state","deskworks.reports.reportDates","deskworks.reports.ReportBuilder","deskworks.PassportReservationUsageReport","deskworks.passportReservationUsageReportColumns"]).controller("PassportReservationUsageReportCtrl",["$scope","$timeout","$translate","$filter","state","helper","reportHelper","reportStyles","ReportBuilder","PassportReservationUsageReport","passportReservationUsageReportColumns",function(e,t,r,n,o,a,s,l,i,c,u){var d,f=this;function p(e){var t={columns:e.reportColumns,rows:[],styles:[]},n=[];return e.reportData.forEach((function(e){var o,s=0;t.rows.push([{content:a.join([e.userCompany,e.userName]," - "),colSpan:4}]),t.styles.push(l.h2),e.usages.forEach((function(e,r){s+=e.duration||0;var o=g()(n).call(n,(function(t){return t.name===e.unitName}));o?o.total+=e.duration:n.push({name:e.unitName,total:e.duration||0}),t.rows.push([e.unitName,e.duration,e.startTime,e.endTime]),t.styles.push(r%2?null:l.rowOdd)})),t.rows.push([{content:r.instant("REPORTS.TOTAL")+":",styles:{halign:"right"}},s,!1,!1]),t.styles.push(l.h3),t.rows.push(y()(o=Array(4)).call(o,!1)),t.styles.push(null)})),e.reportData.length&&(t.rows.push([{content:r.instant("PASSPORT_RESERVATION_USAGE_REPORT.TOTALS_BY_RESERVATION_UNIT"),colSpan:4}]),t.styles.push(l.h2)),S()(s).call(s,n,"name").forEach((function(e){var r,n=y()(r=Array(4)).call(r,!1);n[0]=e.name,n[1]=e.total,t.rows.push(n),t.styles.push(l.h3)})),t}f.config={reportName:r.instant("PASSPORT_RESERVATION_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:u,reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return c.query({centerId:f.config.reportOptions.centerId||null,fromDate:n("date")(f.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(f.config.reportDates.toDate,"yyyy-MM-dd")})}},o.setPageTitle(f.config.reportName),f.config.reportDates.fromDate.subtract(1,"M").date(1),f.config.reportDates.toDate.date(0),f.reportBuilder=new i(f.config),e.$watch((function(){return{reportOptions:f.config.reportOptions,reportDates:f.config.reportDates}}),(function(e,r){d&&(t.cancel(d),d=null),d=t((function(){f.pdf=null;var t=e.reportDates.fromDate,n=r.reportDates.fromDate;!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(f.config.reportData=null),t=e.reportDates.toDate,n=r.reportDates.toDate,!moment.isMoment(t)||moment.isMoment(n)&&t.isSame(n)||(f.config.reportData=null),f.reportBuilder.buildPdf(p,null,w(w({},f.config),{},{reportDates:w({},f.config.reportDates)})).then((function(e){f.pdf=e}))}),100)}),!0),f.downloadPdf=function(){f.pdf&&s.download({blob:f.pdf,fileName:f.reportBuilder.getReportFileName("pdf")})},f.downloadCsv=function(){f.pdf&&s.download({blob:f.reportBuilder.buildCsv(p),fileName:f.reportBuilder.getReportFileName("csv")})}}])},KMep:function(e,t,r){"use strict";r.r(t);var n=r("03wM"),o=r.n(n),a=r("Ekwr"),s=r.n(a),l=r("hsT8"),i=r.n(l),c=r("lvz6"),u=r.n(c),d=r("yKah"),f=r.n(d),p=r("fzuT"),m=r.n(p),R=(r("3dw1"),r("KK/u")),g=r.n(R),E=r("6RpP"),y=r.n(E),T=r("yCd9"),S=r.n(T),h=r("G6E5"),O=r("WgSX"),v=r("5/DJ"),P=r("LTMe");function C(e,t){var r=o()(e);if(s.a){var n=s()(e);t&&(n=i()(n).call(n,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):f.a?Object.defineProperties(e,f()(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,u()(r,t))}))}return e}t.default=angular.module("deskworks.PassUsageReportCtrl",["debounce",O.a.name,v.a.name,P.a.name,"deskworks.state","deskworks.reports.reportDates","deskworks.reports.reportColumns","deskworks.reports.ReportBuilder","deskworks.PassUsageReport","deskworks.passUsageReportColumns",h.a.name]).controller("PassUsageReportCtrl",["$scope","$q","$filter","$translate","state","helper","dwAlerts","debounce","reportStyles","reportHelper","PassUsageReport","passUsageReportColumns",function(e,t,r,n,o,a,s,l,i,c,u,d){var f=this,p=c.paramsChanged,m=c.loadResources;f.config={reportName:n.instant("PASS_USAGE_REPORT.REPORT_NAME")},f.params={fromDate:o.getParam("fromDate")?r("toDate")(o.getParam("fromDate")):moment().startOf("month"),toDate:o.getParam("toDate")?r("toDate")(o.getParam("toDate")):moment().endOf("month"),orderBy:o.getParam("orderBy")||"memberName"},f.resources=null,f.data=null,f.columns=d,o.setPageTitle(f.config.reportName),e.$watch("$ctrl.params",l((function(e,r){f.pdf=null,f.report=null;var o=w({},e);a.pointFirstInvalid("#passUsageReport")||o.fromDate&&o.toDate&&(p(e,r,["fromDate","toDate","centerId"])&&(f.data=null),t.all({resources:f.resources||m(),data:f.data||u.query(o).catch((function(e){return s.error(e,"Failed to query report.")}))}).then((function(e){f.resources=e.resources,f.data=e.data})).then((function(){f.report=function(e,t){var r,o={columns:d,rows:[],styles:[]};t=g()(c).call(c,t,e.orderBy),o.rows=y()(r=o.rows).call(r,S()(t).call(t,(function(e,t){var r;return o.styles.push(t%2?null:i.rowOdd),S()(r=o.columns).call(r,(function(t){return e[t.dataKey]}))})));var s=0,l=0,u=0;t.forEach((function(e){s+=a.toNumber(e.passesUsedCost),l+=a.toNumber(e.passCreditAppliedCost),u+=a.toNumber(e.costBalance)})),s=a.round(s),l=a.round(l),u=a.round(u);var f={passesUsedCostTotal:s,passCreditAppliedCostTotal:l,costBalanceTotal:u},p=[],m={content:n.instant("PASS_USAGE_REPORT.TOTALS").toUpperCase()+":",styles:{halign:"left"}};o.columns.forEach((function(e){var t=f["".concat(e.dataKey,"Total")];(t||"number"==typeof t)&&p.push({content:t})})),"memberCompany"===o.columns[0].dataKey&&"memberName"===(o.columns[1]||{}).dataKey?(p.unshift({content:" "}),p.unshift(m)):"memberCompany"!==o.columns[0].dataKey&&"memberName"!==o.columns[0].dataKey||p.unshift(m);t.length&&(o.rows.unshift(p),o.styles.unshift(i.h2),o.rows.push(p),o.styles.push(i.h2));return o}(o,f.data);var e=c.buildPdf({config:w(w({},f.config),o),report:f.report,resources:f.resources});f.pdf=e.output("blob")})))}),100),!0),f.downloadPdf=function(){if(f.pdf){var e=c.getReportFileName({extension:"pdf",config:w(w({},f.config),f.params),resources:f.resources});c.download({blob:f.pdf,fileName:e})}},f.downloadCsv=function(){if(f.pdf){var e=c.getReportFileName({extension:"csv",config:w(w({},f.config),f.params),resources:f.resources}),t=c.buildCsv({report:f.report});c.download({blob:t,fileName:e})}}}])},"L+wq":function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.mailboxReport.service",["ngResource","deskworks.config"]).factory("MailboxReport",["$resource","deskworksConfig",function(e,t){return e(t.getApiAbsUrl("/centers/:centerId/mailbox-reports"),{centerId:"@centerId"},{query:{method:"GET",isArray:!0}})}])},Mmgn:function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.reports.priceListReportColumns",[]).factory("priceListReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"name",_title:"PRICE_LISTS.PRODUCTS.PRODUCT",include:!0},{dataKey:"passQty",_title:"PRICE_LISTS.PRODUCTS.PASSES",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"reservationCredit",_title:"PRICE_LISTS.PRODUCTS.CREDIT",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"price",_title:"PRICE_LISTS.PRODUCTS.PRICE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},PjE5:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.memberUsageReport.service",["ngResource","datesDeserializer","deserializeNumbers","deskworks.config"]).factory("MemberUsageReport",["$resource","datesDeserializer","deserializeNumbers","deskworksConfig",function(e,t,r,n){var o=n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-usage-reports"),a=t(["checkInTime","checkOutTime"]),s=r(["usageHours","usagePasses"]),l=e(o,{centerId:"@centerId",userId:"@userId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,cancellable:!0,transformResponse:[angular.fromJson,a,s]}}),i=null;return{query:function(e){return i&&i.$cancelRequest&&i.$cancelRequest(),(i=l.query(e)).$promise.then((function(e){return i=null,e}))}}}])},"SeF/":function(e,t,r){"use strict";r.r(t);r("3dw1");var n=r("03wM"),o=r.n(n),a=r("Ekwr"),s=r.n(a),l=r("hsT8"),i=r.n(l),c=r("lvz6"),u=r.n(c),d=r("yKah"),f=r.n(d),p=r("fzuT"),m=r.n(p),R=r("yCd9"),g=r.n(R),E=r("6RpP"),y=r.n(E),T=r("WgSX"),S=r("G6E5"),h=r("5/DJ"),O=r("LTMe");function v(e,t){var r=o()(e);if(s.a){var n=s()(e);t&&(n=i()(n).call(n,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):f.a?Object.defineProperties(e,f()(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,u()(r,t))}))}return e}t.default=angular.module("deskworks.reports.memberStatement",[T.a.name,S.a.name,h.a.name,O.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.memberStatement.service","deskworks.reports.memberStatementColumns"]).controller("MemberStatementCtrl",["$rootScope","$scope","$route","$timeout","$filter","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","user","MemberStatement","memberStatementColumns",function(e,t,r,n,o,a,s,l,i,c,u,d,f,p){var m,R=this;function E(e){var t,r,n={columns:e.reportColumns.columns,rows:[],styles:[]};n.rows=g()(t=e.reportData.transactions).call(t,(function(e,t){var r;return n.styles.push(t%2?null:c.rowOdd),g()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))})),n.rows.unshift([!1,a.instant("MEMBER_STATEMENT.BALANCE_FORWARD")+":",!1,!1,!1,!1,e.reportData.balanceForward]),n.styles.unshift(c.h2),n.rows.push([!1,a.instant("MEMBER_STATEMENT.TOTALS")+":",!1,!1,e.reportData.totals.amountBilled,e.reportData.totals.amountPaid,e.reportData.totals.balance]),n.styles.push(c.h2);var o=[],s=g()(r=e.reportData.depositTransactions).call(r,(function(e,t){var r;return o.push(t%2?null:c.rowOdd),g()(r=n.columns).call(r,(function(t){return e[t.dataKey]}))}));return s.length>0&&(s.unshift([!1,a.instant("MEMBER_STATEMENT.SECURITY_DEPOSITS")+":",!1,!1,e.reportData.depositTotals.amountBilled,e.reportData.depositTotals.amountPaid,e.reportData.depositTotals.balance]),o.unshift(c.h2),n.rows=y()(s).call(s,n.rows),n.styles=y()(o).call(o,n.styles)),n}R.config={reportName:a.instant("MEMBER_STATEMENT.REPORT_NAME"),reportOptions:{centerId:!1},reportColumns:{columns:p},reportDates:{fromDate:moment(),toDate:moment()},reportFor:d.fullNameCompany,getReportData:function(){return f.get({centerId:s.getCurrentCenterId(),userId:s.getCurrentUserId(),fromDate:o("date")(R.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:o("date")(R.config.reportDates.toDate,"yyyy-MM-dd")})}},s.setPageTitle(a.instant("MEMBER_STATEMENT.PAGE_TITLE",{userName:R.config.reportFor})),R.config.reportDates.fromDate.subtract(1,"M"),R.reportBuilder=new u(R.config),t.$watch((function(e){return{reportOptions:R.config.reportOptions,reportDates:R.config.reportDates}}),(function(e,t){m&&(n.cancel(m),m=null),m=n((function(r){if(R.pdf=null,angular.isDefined(R.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=t.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(R.config.reportData=null),n=e.reportDates.toDate,o=t.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(R.config.reportData=null),R.reportBuilder.buildPdf(E,null,P(P({},R.config),{},{reportDates:P({},R.config.reportDates)})).then((function(e){R.pdf=e}))}}),100)}),!0),R.downloadPdf=function(){R.pdf&&i.download({blob:R.pdf,fileName:R.reportBuilder.getReportFileName("pdf")})},e.$on("CHANGE-CENTER",r.reload)}])},SoPU:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.priceListReport.service",["ngResource","datesDeserializer","deskworks.config"]).factory("PriceListReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t(["pricelists.updatedAt"]);return e(r.getApiAbsUrl("/centers/:centerId/pricelist-reports"),{centerId:"@centerId"},{get:{method:"GET",transformResponse:[angular.fromJson,n]}})}])},U9c4:function(e,t,r){"use strict";r.r(t);var n=r("03wM"),o=r.n(n),a=r("Ekwr"),s=r.n(a),l=r("lvz6"),i=r.n(l),c=r("yKah"),u=r.n(c),d=r("fzuT"),f=r.n(d),p=r("hsT8"),m=r.n(p),R=r("KK/u"),g=r.n(R),E=r("yCd9"),y=r.n(E),T=r("6RpP"),S=r.n(T),h=r("ipr/"),O=r.n(h),v=(r("3dw1"),r("WgSX")),P=r("G6E5"),C=r("5/DJ"),w=r("LTMe");function _(e,t){var r=o()(e);if(s.a){var n=s()(e);t&&(n=m()(n).call(n,(function(t){return i()(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):u.a?Object.defineProperties(e,u()(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,i()(r,t))}))}return e}t.default=angular.module("deskworks.reports.memberUsageReport",[v.a.name,P.a.name,C.a.name,w.a.name,"deskworks.state","deskworks.reports.ReportBuilder","deskworks.reports.reportDates","deskworks.reports.memberUsageReport.service","deskworks.reports.memberUsageReportColumns"]).controller("MemberUsageReportCtrl",["$rootScope","$scope","$timeout","$filter","$route","$q","$translate","state","helper","reportHelper","reportStyles","ReportBuilder","MemberUsageReport","memberUsageReportColumns",function(e,t,r,n,o,a,s,l,i,c,u,d,f,p){var R,E=this;E.config={reportName:s.instant("MEMBER_USAGE_REPORT.REPORT_NAME"),reportOptions:{},reportColumns:{columns:p},reportDates:{fromDate:moment(),toDate:moment()},getReportData:function(){return f.query({centerId:E.config.reportOptions.centerId,userId:l.getCurrentUserId(),fromDate:n("date")(E.config.reportDates.fromDate,"yyyy-MM-dd"),toDate:n("date")(E.config.reportDates.toDate,"yyyy-MM-dd")}).then((function(e){return angular.forEach(e,(function(e){e.date=e.checkInTime.clone().hour(0).minute(0).second(0).millisecond(0)})),e}))}},l.setPageTitle(E.config.reportName),E.config.reportDates.fromDate.date(1),E.config.reportDates.toDate.add(1,"M").date(0),E.reportBuilder=new d(E.config),t.$watch((function(e){return{reportOptions:E.config.reportOptions,reportDates:E.config.reportDates,reportColumns:E.config.reportColumns,orderBy:E.config.orderBy}}),(function(e,t){R&&(r.cancel(R),R=null),R=r((function(r){if(E.pdf=null,angular.isDefined(E.config.reportOptions.centerId)){var n=e.reportDates.fromDate,o=t.reportDates.fromDate;!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(E.config.reportData=null),n=e.reportDates.toDate,o=t.reportDates.toDate,!moment.isMoment(n)||moment.isMoment(o)&&n.isSame(o)||(E.config.reportData=null),E.reportBuilder.buildPdf(h,null,b(b({},E.config),{},{reportDates:b({},E.config.reportDates)})).then((function(e){E.pdf=e}))}}),100)}),!0),E.downloadPdf=function(){E.pdf&&c.download({blob:E.pdf,fileName:E.reportBuilder.getReportFileName("pdf")})},E.downloadCsv=function(){E.pdf&&c.download({blob:E.reportBuilder.buildCsv(h),fileName:E.reportBuilder.getReportFileName("csv")})};var T=e.$on("CHANGE-USER",o.reload);function h(e){var t,r,n={columns:m()(t=e.reportColumns.columns).call(t,(function(e){return e.include})),rows:[],styles:[]},o=g()(c).call(c,e.reportData,e.orderBy),a=i.findIndexByKeyValue(n.columns,"dataKey","usageHours"),l=i.findIndexByKeyValue(n.columns,"dataKey","usagePasses"),d=y()(r=Array.apply(null,new Array(n.columns.length))).call(r,(function(e){return!1})),f=0,p=0;return o.forEach((function(t,r){var i;if(n.styles.push(r%2?null:u.rowOdd),n.rows.push(y()(i=n.columns).call(i,(function(e){return t[e.dataKey]}))),f+=t.usageHours?t.usageHours:0,p+=t.usagePasses?t.usagePasses:0,("date"===e.orderBy||"userName"===e.orderBy)&&(a>=0||l>=0)){var c,m="date"===e.orderBy?t[e.orderBy].unix():t[e.orderBy]||null;if(r<o.length-1&&(c="date"===e.orderBy?o[r+1][e.orderBy].unix():o[r+1][e.orderBy]||null),m!==c){var R,g,E;if(f=Math.round(100*f)/100,p=Math.round(100*p)/100,a>=0&&(g=S()(R=O()(d).call(d,0,Math.max(a-1,0))).call(R,[s.instant("MEMBER_USAGE_REPORT.TOTALS.SUBTOTAL")+":",f])),l>=0)a>=0?g.push(p):g=S()(E=O()(d).call(d,0,Math.max(l-1,0))).call(E,[s.instant("MEMBER_USAGE_REPORT.TOTALS.SUBTOTAL")+":",p]);n.rows.push(g),n.styles.push(u.h2),f=0,p=0}}})),n}t.$on("$destroy",T)}])},UxRA:function(e,t){e.exports='<div id="passportReservationUsageReport" class="gutter-v"> <form name="formPassportReservationUsageReport"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <report-dates model="$ctrl.config.reportDates"></report-dates> </div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <report-options model="$ctrl.config.reportOptions"></report-options> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="$ctrl.downloadPdf()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="$ctrl.downloadCsv()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="$ctrl.pdf"></div> </ff-panel> </div> '},aRIa:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.reports.memberStatement.service",["ngResource","datesDeserializer","deskworks.config"]).factory("MemberStatement",["$resource","$q","datesDeserializer","deskworksConfig",function(e,t,r,n){var o=r(["transactions.date","depositTransactions.date"]),a=e(n.getApiAbsUrl("/centers/:centerId/user-profiles/:userId/member-statements"),{centerId:"@centerId",userId:"@userId",fromDate:"@fromDate",toDate:"@toDate"},{get:{method:"GET",cancellable:!0,transformResponse:[angular.fromJson,o]}}),s=null;return{get:function(e){return s&&s.$cancelRequest&&s.$cancelRequest(),(s=a.get(e)).$promise.then((function(e){return s=null,e}))}}}])},cavp:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.PaymentReconciliationReport",["ngResource","datesDeserializer","deskworks.config"]).factory("PaymentReconciliationReport",["$resource","datesDeserializer","deskworksConfig",function(e,t,r){var n=t("daily.date"),o=e(r.getApiAbsUrl("/reports/payment-reconciliation"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{get:{method:"GET",isArray:!1,cancellable:!0,transformResponse:[angular.fromJson,n]}}),a=null;return{get:function(e){return a&&a.$cancelRequest&&a.$cancelRequest(),(a=o.get(e)).$promise.then((function(e){return a=null,e}))}}}])},fVm0:function(e,t){e.exports='<div ng-controller="ProductReportCtrl as $ctrl" class="gutter-v"> <div class="ff-grid"> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}" style="margin-left:auto"> <report-options model="$ctrl.params"></report-options> </div> </div> <ff-btn-group> <ff-btn sense="download" ff-click="$ctrl.downloadPdf()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="$ctrl.downloadCsv()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="$ctrl.pdf"></div> </ff-panel> </div> '},haNf:function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.reports.memberStatementColumns",[]).factory("memberStatementColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"MEMBER_STATEMENT.COLUMNS.DATE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"item",_title:"MEMBER_STATEMENT.COLUMNS.ITEM",include:!0},{dataKey:"price",_title:"MEMBER_STATEMENT.COLUMNS.UNIT_PRICE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"qty",_title:"MEMBER_STATEMENT.COLUMNS.QUANTITY",include:!0,styles:{cellWidth:"wrap",halign:"right"}},{dataKey:"amountBilled",_title:"MEMBER_STATEMENT.COLUMNS.AMOUNT_BILLED",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"amountPaid",_title:"MEMBER_STATEMENT.COLUMNS.AMOUNT_PAID",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"balance",_title:"MEMBER_STATEMENT.COLUMNS.BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},iEZ8:function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.PassportReservationUsageReport",["ngResource","datesDeserializer","deskworks.config"]).factory("PassportReservationUsageReport",["$resource","datesDeserializer","deskworksConfig","$q",function(e,t,r,n){var o=t(["usages.startTime","usages.endTime"]),a=e(r.getApiAbsUrl("/reports/passport-reservation-usage"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,cancellable:!0,transformResponse:[angular.fromJson,o,function(e){e&&e.forEach((function(e){e.usages.forEach((function(e){e.duration=e.endTime-e.startTime}))}));return e}]}}),s=null;return{query:function(e){return s&&s.$cancelRequest&&s.$cancelRequest(),(s=a.query(e)).$promise.then((function(e){return s=null,e}))}}}])},iTQj:function(e,t){e.exports='<div id="mailboxReport" class="gutter-v"> <form name="formMailboxReport"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <report-columns model="vm.config.reportColumns"></report-columns> </div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <div class="gutter-v"> <report-options model="vm.config.reportOptions"> <report-order-by model="vm.config.orderBy" report-columns="vm.config.reportColumns.columns"></report-order-by> </report-options> <report-owner-region model="vm.config.reportOwnerRegion" report-data="vm.config.reportData"></report-owner-region> </div> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="vm.downloadPdf()" ff-disabled="!vm.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="vm.downloadCsv()" ff-disabled="!vm.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="vm.pdf"></div> </ff-panel> </div> '},iYz6:function(e,t,r){"use strict";r.r(t);var n=r("Ekwr"),o=r.n(n),a=r("hsT8"),s=r.n(a),l=r("lvz6"),i=r.n(l),c=r("yKah"),u=r.n(c),d=r("fzuT"),f=r.n(d),p=r("03wM"),m=r.n(p);r("ZEAQ"),r("3dw1");function R(e,t){var r=m()(e);if(o.a){var n=o()(e);t&&(n=s()(n).call(n,(function(t){return i()(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):u.a?Object.defineProperties(e,u()(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,i()(r,t))}))}return e}t.default=angular.module("deskworks.productReportColumns",[]).factory("productReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n={pdf:function(e){return t("yesno")(e)},csv:function(e){return t("yesno")(e)}},o={pdf:function(e){return a(e)},csv:function(e){return a(e)}};function a(e){var t=parseFloat(e);return isNaN(t)?e:t.toFixed(2)}var s={halign:"right"},l={halign:"center"},i={membership:[{dataKey:"code",_title:"PRODUCTS.CODE",include:!0},{dataKey:"name",_title:"PRODUCTS.NAME",include:!0},{dataKey:"membershipCategory",_title:"PRODUCTS.MEMBERSHIP_CATEGORY",include:!0},{dataKey:"billingFrequency",_title:"PRODUCTS.BILLING_FREQUENCY",include:!0},g(g({dataKey:"isCreditable",_title:"PRODUCTS.IS_CREDITABLE",include:!0},n),{},{styles:g({},l)}),{dataKey:"passProduct",_title:"PRODUCTS.PASS_PRODUCT",include:!0},{dataKey:"countCheckInsPer",_title:"PRODUCTS.COUNT_CHECK_INS_PER",include:!0},g(g({dataKey:"reserveWithNonMemberRules",_title:"PRODUCTS.ONLY_NON_MEMBER_HOURS.SHORT",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"taxable",_title:"PRODUCTS.TAXABLE",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"showInSelfRegistration",_title:"PRODUCTS.SHOW_FOR_SIGN_UP.SHORT",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"hasRegistrationFee",_title:"PRODUCTS.HAS_REGISTRATION_FEE",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"trackAcrossAllCenters",_title:"PRODUCTS.TRACK_ACROSS_ALL_CENTERS",include:!0},n),{},{styles:g({},l)}),{dataKey:"printBlack",_title:"PRODUCTS.FREE_COPIES.PRINT_BLACK",include:!0,styles:g({},s)},{dataKey:"printColor",_title:"PRODUCTS.FREE_COPIES.PRINT_COLOR",include:!0,styles:g({},s)},{dataKey:"fax",_title:"PRODUCTS.FREE_COPIES.FAX",include:!0,styles:g({},s)},{dataKey:"scan",_title:"PRODUCTS.FREE_COPIES.SCAN",include:!0,styles:g({},s)},{dataKey:"description",_title:"PRODUCTS.DESCRIPTION",include:!0}],registration:[{dataKey:"code",_title:"PRODUCTS.CODE",include:!0},{dataKey:"name",_title:"PRODUCTS.NAME",include:!0},g(g({dataKey:"taxable",_title:"PRODUCTS.TAXABLE",include:!0},n),{},{styles:g({},l)}),{dataKey:"description",_title:"PRODUCTS.DESCRIPTION",include:!0}],rental:[{dataKey:"code",_title:"PRODUCTS.CODE",include:!0},{dataKey:"name",_title:"PRODUCTS.NAME",include:!0},{dataKey:"reservationCategory",_title:"PRODUCTS.RESERVATION_CATEGORY",include:!0},g(g({dataKey:"allowReservationCredits",_title:"PRODUCTS.ALLOW_RESERVATION_CREDITS",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"canBuyOnSplashPage",_title:"PRODUCTS.BUY_ON_SPLASH_PAGE",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"passSize",_title:"PRODUCTS.PASS_SIZE",include:!0},o),{},{styles:g({},s)}),g(g({dataKey:"passMin",_title:"PRODUCTS.MIN_PASS.SHORT",include:!0},o),{},{styles:g({},s)}),{dataKey:"passMax",_title:"PRODUCTS.MAX_PASS.SHORT",include:!0,styles:g({},s)},g(g({dataKey:"taxable",_title:"PRODUCTS.TAXABLE",include:!0},n),{},{styles:g({},l)}),{dataKey:"description",_title:"PRODUCTS.DESCRIPTION",include:!0}],print:[{dataKey:"code",_title:"PRODUCTS.CODE",include:!0},{dataKey:"name",_title:"PRODUCTS.NAME",include:!0},g(g({dataKey:"taxable",_title:"PRODUCTS.TAXABLE",include:!0},n),{},{styles:g({},l)}),{dataKey:"description",_title:"PRODUCTS.DESCRIPTION",include:!0}],services:[{dataKey:"code",_title:"PRODUCTS.CODE",include:!0},{dataKey:"name",_title:"PRODUCTS.NAME",include:!0},{dataKey:"billingFrequency",_title:"PRODUCTS.BILLING_FREQUENCY",include:!0},g(g({dataKey:"showInSelfRegistration",_title:"PRODUCTS.SHOW_FOR_SIGN_UP.SHORT",include:!0},n),{},{styles:g({},l)}),g(g({dataKey:"taxable",_title:"PRODUCTS.TAXABLE",include:!0},n),{},{styles:g({},l)}),{dataKey:"description",_title:"PRODUCTS.DESCRIPTION",include:!0}]};function c(){m()(i).forEach((function(e){return i[e].forEach((function(e){e.title=r.instant(e._title)}))}))}return c(),e.$on("$setTranslationsSuccess",c),i}])},lKYt:function(e,t){e.exports='<div id="memberUsageReport" class="gutter-v"> <form name="formMemberUsageReport"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <div class="gutter-v"> <report-dates model="vm.config.reportDates"></report-dates> <report-columns model="vm.config.reportColumns"></report-columns> </div> </div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <report-options model="vm.config.reportOptions"> <report-order-by model="vm.config.orderBy" report-columns="vm.config.reportColumns.columns"></report-order-by> </report-options> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="vm.downloadPdf()" ff-disabled="!vm.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="vm.downloadCsv()" ff-disabled="!vm.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="vm.pdf"></div> </ff-panel> </div> '},"o/Kf":function(e,t,r){"use strict";r.r(t);r("3dw1");var n=r("6RpP"),o=r.n(n);t.default=angular.module("deskworks.passportReservationUsageReportColumns",[]).factory("passportReservationUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"unitName",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.RESERVATION_UNIT"},{dataKey:"duration",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.HOURS",styles:{halign:"right"},pdf:function(e){return t("hoursMinutes")(e)},csv:function(e){return t("hoursMinutes")(e)}},{dataKey:"startTime",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.START_TIME",styles:{halign:"right"},pdf:function(e){var r;return o()(r="".concat(t("date")(e,"mediumDate")," ")).call(r,t("date")(e,"shortTime"))},csv:function(e){return t("date")(e,"medium")}},{dataKey:"endTime",_title:"PASSPORT_RESERVATION_USAGE_REPORT.COLUMNS.END_TIME",styles:{halign:"right"},pdf:function(e){var r;return o()(r="".concat(t("date")(e,"mediumDate")," ")).call(r,t("date")(e,"shortTime"))},csv:function(e){return t("date")(e,"medium")}}];function a(){n.forEach((function(e){e.title=r.instant(e._title)}))}return a(),e.$on("$setTranslationsSuccess",a),n}])},r4Q0:function(e,t){e.exports='<div id="passUsageReport" class="gutter-v"> <form name="formPassUsageReport"> <h1 class="page-title">{{state.getPageTitle()}}</h1> <div class="ff-grid gutter-v gutter-h"> <div flex="{lg: \'0 0 61%\', md: \'0 0 50%\'}"> <report-dates model="$ctrl.params"></report-dates> </div> <div flex="{lg: \'0 0 39%\', md: \'0 0 50%\'}"> <report-options model="$ctrl.params"> <report-order-by model="$ctrl.params.orderBy" report-columns="$ctrl.columns"></report-order-by> </report-options> </div> </div> <ff-btn-group class="buttons-bottom"> <ff-btn sense="download" ff-click="$ctrl.downloadPdf()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_PDF"></span> </ff-btn> <ff-btn sense="download" ff-click="$ctrl.downloadCsv()" ff-disabled="!$ctrl.pdf"> <span translate="REPORTS.BTN_CSV"></span> </ff-btn> </ff-btn-group> </form> <ff-panel> <ff-panel-header><span translate="REPORTS.PREVIEW.HEADER"></span></ff-panel-header> <div pdf-preview="$ctrl.pdf"></div> </ff-panel> </div> '},rlfb:function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.reports.memberUsageReportColumns",["deskworks.helper"]).factory("memberUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"date",_title:"MEMBER_USAGE_REPORT.COLUMNS.DATE",include:!0,defaultOrder:!0,pdf:function(e){return t("date")(e,"mediumDate")},csv:function(e){return t("date")(e,"shortDate")}},{dataKey:"userName",_title:"MEMBER_USAGE_REPORT.COLUMNS.USER_NAME",include:!0},{dataKey:"userEmail",_title:"MEMBER_USAGE_REPORT.COLUMNS.USER_EMAIL",include:!0},{dataKey:"checkInTime",_title:"MEMBER_USAGE_REPORT.COLUMNS.CHECK_IN",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortTime")}},{dataKey:"checkOutTime",_title:"MEMBER_USAGE_REPORT.COLUMNS.CHECK_OUT",include:!0,styles:{halign:"right"},pdf:function(e){return t("date")(e,"shortTime")},csv:function(e){return t("date")(e,"shortTime")}},{dataKey:"usageHours",_title:"MEMBER_USAGE_REPORT.COLUMNS.HOURS",include:!0,styles:{halign:"right"}},{dataKey:"usagePasses",_title:"MEMBER_USAGE_REPORT.COLUMNS.PASSES",include:!0,styles:{halign:"right"}}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},wASb:function(e,t,r){"use strict";r.r(t);r("3dw1");t.default=angular.module("deskworks.passUsageReportColumns",[]).factory("passUsageReportColumns",["$rootScope","$filter","$translate",function(e,t,r){var n=[{dataKey:"memberCompany",_title:"PASS_USAGE_REPORT.COLUMNS.COMPANY",include:!0,styles:{minCellWidth:200}},{dataKey:"memberName",_title:"PASS_USAGE_REPORT.COLUMNS.NAME",include:!0,defaultOrder:!0,styles:{minCellWidth:150}},{dataKey:"passesUsedCost",_title:"PASS_USAGE_REPORT.COLUMNS.PASSES_USED_COST",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"passCreditAppliedCost",_title:"PASS_USAGE_REPORT.COLUMNS.PASS_CREDIT_APPLIED_COST",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}},{dataKey:"costBalance",_title:"PASS_USAGE_REPORT.COLUMNS.COST_BALANCE",include:!0,styles:{cellWidth:"wrap",halign:"right"},pdf:function(e){return t("ncurrency")(e)},csv:function(e){return t("ncurrency")(e)}}];function o(){n.forEach((function(e){e.title=r.instant(e._title)}))}return o(),e.$on("$setTranslationsSuccess",o),n}])},xl4I:function(e,t,r){"use strict";r.r(t),t.default=angular.module("deskworks.PassUsageReport",["ngResource","deskworks.config"]).factory("PassUsageReport",["$resource","$filter","deskworksConfig",function(e,t,r){var n=e(r.getApiAbsUrl("/reports/day-pass-usage"),{centerId:"@centerId",fromDate:"@fromDate",toDate:"@toDate"},{query:{method:"GET",isArray:!0,cancellable:!0}}),o=null;return{query:function(e){return o&&o.$cancelRequest&&o.$cancelRequest(),(o=n.query({centerId:e.centerId||null,fromDate:t("date")(e.fromDate,"yyyy-MM-dd"),toDate:t("date")(e.toDate,"yyyy-MM-dd")})).$promise.then((function(e){return o=null,e}))}}}])}}]);