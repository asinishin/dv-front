{"version":3,"sources":["webpack:///./common/services/_utility/app-dim.service.js","webpack:///./common/services/_utility/auto-cache-factory.service.js","webpack:///./common/services/_utility/auto-save.service.js","webpack:///./common/services/_utility/date-filters.js","webpack:///./common/services/_utility/dates-deserializer.service.js","webpack:///./common/services/_utility/debounce.service.js","webpack:///./common/services/_utility/deserialize-numbers.service.js","webpack:///./common/services/_utility/helper.service.js","webpack:///./common/services/_utility/is-multi-site.service.js","webpack:///./common/services/_utility/nats.service.js","webpack:///./common/services/_utility/rc-helper.service.js","webpack:///./common/services/_utility/resolve-gtm.service.js","webpack:///./common/services/_utility/resolve-timezone.service.js","webpack:///./common/services/_utility/route-helper.service.js","webpack:///./common/services/_utility/security-DEPRECATED.service.js","webpack:///./common/services/_utility/set-locale.service.js","webpack:///./common/services/_utility/set-translations.service.js","webpack:///./common/services/_utility/state.service.js","webpack:///./common/services/_utility/tmhDynamicLocale.js","webpack:///./common/services/_utility/user-tasks-policy.service.js","webpack:///./common/services/accounting/bulk-invoicing.service.js","webpack:///./common/services/billing/cc-validator.service.js","webpack:///./common/services/billing/opts-billing-frequency.service.js","webpack:///./common/services/billing/opts-discount-type.service.js","webpack:///./common/services/billing/opts-months-of-discount.service.js","webpack:///./common/services/billing/opts-notice-period.service.js","webpack:///./common/services/billing/opts-payment-billing-method.service.js","webpack:///./common/services/billing/opts-recurring-charge-status.service.js","webpack:///./common/services/billing/opts-recurring-charge-terminate.service.js","webpack:///./common/services/billing/opts-refund-method.service.js","webpack:///./common/services/billing/opts-renewal-notice-period.service.js","webpack:///./common/services/billing/opts-renewal-term.service.js","webpack:///./common/services/billing/purchase.service.js","webpack:///./common/services/billing/recurring-charge.service.js","webpack:///./common/services/billing/security-deposit-record.service.js","webpack:///./common/services/check-in.service.js"],"names":["angular","module","factory","$rootScope","dim","appDim","provider","disableCache","$get","caches","autoCacheFactory","cacheId","expiryTime","size","data","stats","id","put","key","value","isUndefined","time","Date","now","get","remove","removeAll","destroy","info","extend","forEach","cache","emptyAll","$q","debounce","wrap","saveMethod","globalForm","debounceTime","field","save","form","$$form","$invalid","when","$$autoSaving","catch","then","call","$setPristine","finally","config","$provide","decorator","dateFilterDecorator","$delegate","date","format","timezone","moment","toDate","input","hour","Math","floor","minute","second","millisecond","helper","isDateString","length","tz","defaultZone","name","datesDeserializer","$filter","predicate","offset","fromJson","isArray","item","path","split","recursion","level","$timeout","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","cancel","deserializeNumbers","isNaN","$window","$compile","$templateCache","findByKeyValue","array","i","findIndexByKeyValue","findIndex","isObject","match","every","find","idx","dateString","isString","isMobile","navigator","userAgent","isIE","test","window","document","uniqueID","MSInputMethodContext","interpolateRoute","string","params","result","segment","push","segmentMatch","join","unique","toString","random","substr","uid","isUid","str","String","stripUid","pointFirstInvalid","selector","invalid","querySelector","focus","blur","element","trim","val","indexSoft","arr","keys","isDefined","toLowerCase","j","searchSoft","scrollTo","el","pageYOffset","getBoundingClientRect","top","purify","obj","exclude","dashCase","some","exKey","toDashCase","pick","object","paths","reduce","transcludeElement","$scope","$element","$attrs","templateUrl","attrsExclude","after","transcludeAttrs","attrs","attr","replace","letter","pos","delimiter","rgb2hex","rgb","hex","x","parseInt","hex2rgbArr","findParentElement","predicateFn","parent","toNumber","isFinite","round","fractions","factor","$translate","text","end","instant","isNumber","n","zeros","onlyUnit","monthsCount","weeksCount","daysCount","hoursCount","minCount","secCount","passCount","ms","h","m","sub","index","indexOf","state","$watch","cordova","flush","getLoggedUserId","newVal","oldVal","setDwSiteCookie","$on","location","href","url","expDate","setTime","getTime","expires","toGMTString","domain","hostname","cookie","plugins","CookieManagementPlugin","console","log","isMultiSite","tenantLock","deskworksConfig","NATS","Error","connect","getWsUrl","getApiOrigin","nats","publish","wrapPublish","subscribe","wrapSubscribe","request","wrapRequest","subject","msg","opt_reply","opt_callback","warn","interpolate","toJson","opts","callback","cb","isFunction","cbOrig","reply","$apply","opt_msg","opt_options","getSiteId","getCurrentCenterId","weekStart","isMoment","clone","startOf","weekEnd","endOf","floorDate","threshold","minutes","dateToStr","checkIntersection","from1","to1","from2","to2","dwAlerts","setupService","gtmContainerId","getSetupSettings","err","error","settings","w","d","s","l","event","f","getElementsByTagName","createElement","dl","async","src","parentNode","insertBefore","$route","$location","centerService","promise","current","reloadOnSearch","resolveTimezone","all","timezones","queryTimezones","centers","queryCenters","centerId","search","center","centerTimezone","setDefault","names","add","zone","getCenters","service","session","authPromise","auth","signInUrl","isAnonymous","user","setParam","getPath","setPath","getCentersPromise","selectUser","isUserSelected","reject","$http","requestCurrentUserPromise","login","pass","rememberMe","post","getApiAbsUrl","password","response","currentUser","logout","delete","requestCurrentUser","isAuthenticated","success","isAdmin","admin","$locale","tmhDynamicLocale","locale","currentLocale","set","dtf","DATETIME_FORMATS","nf","NUMBER_FORMATS","timeFormat","shortTime","mediumDate","weekDate","fullDate","iso","DECIMAL_SEP","GROUP_SEP","updateLocale","week","dow","FIRSTDAYOFWEEK","$emit","$translatePartialLoader","translations","addPart","part","use","refresh","lang","noop","userProfileService","centersPromise","pageTitle","username","getCurrentUserId","setCurrentUserId","getCurrentUser","setCurrentUser","getLoggedUser","setLoggedUserCenter","centerName","isLoggedAdmin","isLoggedMember","isRole","isLoggedNonMember","isLoggedRole","role","isMasterProfile","undefined","setCurrentCenterId","getUserCenters","self","reservationUnitsCount","currentCenterId","getCurrentCenter","setCurrentCenter","currentCenter","getParam","resetParams","$$search","back","history","getPageTitle","setPageTitle","title","prohibitBack","controllers","message","next","$$route","controller","showError","preventDefault","stopMonitoringCurrentCenter","startMonitoringCurrentCenter","$event","skipResetParams","root","define","exports","makeStateful","$stateful","constant","STORAGE_KEY","defaultLocale","localeLocationPattern","nodeToAppend","storageFactory","storage","storageKey","storageGet","storagePut","promiseCache","activeLocale","extraProperties","importLocale","localeId","errorCallback","loadLocale","localeUrl","localeCache","overrideValues","oldObject","newObject","cachedLocale","deferred","defer","resolve","$evalAsync","$broadcast","localInjector","injector","externalLocale","$applyAsync","appendScriptTo","nodeElement","useStorage","storageName","useCookieStorage","version","minor","addLocalePatternValue","$injector","tmhDynamicLocaleCache","localeLocation","initialLocale","loadLocaleFn","baseProperties","angularVersion","full","$cacheFactory","run","UserTasks","routeHelper","userTasksPolicy","ignoredBranches","routeBranch","query","groups","rb","found","group","tasks","task","$resource","desDates","res","method","transformResponse","resCharges","getInvoices","$promise","sendEmails","getPurchases","billPurchases","types","VISA","MASTERCARD","AMERICAN_EXPRESS","DINERS_CLUB","DISCOVER","JCB","UNIONPAY","MAESTRO","CVV","CID","CVC","CVN","testOrder","prefixPattern","exactPattern","dupe","source","JSON","parse","niceType","type","gaps","lengths","code","isAmex","creditCardType","cardNumber","prefixResults","exactResults","getTypeInfo","verification","card","isPotentiallyValid","isValid","potentialTypes","cardType","maxLength","luhn10","max","identifier","sum","alt","num","charAt","_name","months","translate","opt","paymentMethodKey","forceSubmit","desNums","resPurchase","update","resPurchaseItem","resCharge","resDiscount","resRefund","resPayment","resDeposit","resStaffHelp","resConsolidate","resDiscountCode","userId","purchaseId","productId","billDate","dueDate","open","order","paid","credit","createPurchase","registration","attachedReservationUnitId","membershipStartDate","createPurchaseForReservation","createCharge","custom","createDiscount","receivedAt","amount","assignment","createRefund","deletePurchaseItem","itemId","createPayment","createDeposit","createStaffHelp","createDiscountCode","queryConsolidations","consolidate","sourcePurchaseId","optsBillingFrequency","optsRecurringChargeStatus","optsNoticePeriod","optsDiscountType","optsMonthsOfDiscount","optsRecurringChargeTerminate","optsRenewalTerm","new","charge","lastBillDate","nextBillDate","status","billingFrequency","quantity","entryDate","startDate","noticePeriod","discountType","discountTrialOccurrences","discountStartDate","renewalDate","renewalTerm","renewalNoticePeriod","isNew","unresolve","recurringId","userName","memberName","priceListProduct","options","priceListProducts","priceListProductId","terminate","discountTypeId","noticeDate","updateCharge","deleteCharge","setUseForCheckInBilling","useForCheckInBilling","notes","discountValue","resCheckIn","resCheckOut","checkIn","accessCardNumber","checkOut"],"mappings":"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","file":"main~._common_services__.js?_rev=f449dd7d66b1fb3ff48c","sourcesContent":["export default angular.module('deskworks.appDim', [])\n\n  .factory('appDim', $rootScope => dim => {\n    $rootScope.appDim = dim;\n  });\n","/**\n * Automatic cache factory provider. Provides interface the same as standard $cacheFactory, but supports auto expiration.\n * Cache can be disabled globally through autoCacheFactoryProvider.disableCache\n */\nexport default angular.module('autoCacheFactory', [])\n  .provider('autoCacheFactory', function() {\n    const provider = this;\n    provider.disableCache = false;\n\n    provider.$get = function() {\n      const caches = {};\n\n      function autoCacheFactory(cacheId, expiryTime) {\n        let size = 0, data = {};\n        let stats = { id: cacheId, expiryTime: expiryTime || 0 };\n\n        if (!(cacheId in caches)) {\n          caches[cacheId] = {\n            /**\n             * Put data to cache\n             */\n            put: function(key, value) {\n              if (angular.isUndefined(value) || provider.disableCache || !stats.expiryTime) return;\n              if (!(key in data)) size++;\n              data[key] = { value: value, time: Date.now() };\n              return value;\n            },\n\n            /**\n             * Get data from cache\n             */\n            get: function(key) {\n              if (key in data && (Date.now() - data[key].time) > stats.expiryTime * 1000) this.remove(key);\n              if (key in data) return data[key].value;\n            },\n\n            /**\n             * Remove data from cache\n             */\n            remove: function(key) {\n              if (key in data) size--;\n              delete data[key];\n            },\n\n            /**\n             * Remove all data from cache\n             */\n            removeAll: function() {\n              data = {};\n              size = 0;\n            },\n\n            /**\n             * Destroy cache\n             */\n            destroy: function() {\n              data = null;\n              stats = null;\n              delete caches[cacheId];\n            },\n\n            /**\n             * Get cache info\n             */\n            info: function() {\n              return angular.extend({}, stats, { size: size });\n            }\n          };\n        }\n\n        return caches[cacheId];\n      }\n\n      /**\n       * Get info about all caches\n       */\n      autoCacheFactory.info = function() {\n        const info = {};\n        angular.forEach(caches, (cache, cacheId) => { info[cacheId] = cache.info(); });\n        return info;\n      };\n\n      /**\n       * Get access to cache object by cacheId\n       */\n      autoCacheFactory.get = function(cacheId) {\n        return caches[cacheId];\n      };\n\n      /**\n       * Empty all caches\n       */\n      autoCacheFactory.emptyAll = function() {\n        angular.forEach(caches, cache => { cache.removeAll(); });\n      };\n\n      return autoCacheFactory;\n    };\n\n    return provider;\n  });\n","/**\n * autoSave - service for simple auto-saving, provides wrap function which debounces passed save callback\n * and prevents simultaneous saving. Also, checks for passed ngForm (optional) validity.\n */\nexport default angular.module('autoSave', ['debounce'])\n\n  .factory('autoSave', function($q, debounce) {\n\n    return { wrap };\n\n    function wrap(saveMethod, globalForm) {\n      const debounceTime = 1000;\n\n      return debounce(function(field) { return save(field || this); }, debounceTime);\n\n      function save(field) {\n        const form = globalForm || field.$$form;\n        if (form && form.$invalid) return;\n\n        return $q.when(field.$$autoSaving)\n          .catch(() => {}) // reject -> resolve\n          .then(() => {\n            field.$$autoSaving = $q.when(saveMethod.call(field, field));\n            field.$$autoSaving\n              .then(() => { if (form) form.$setPristine(); })\n              .finally(() => { delete field.$$autoSaving; });\n            return field.$$autoSaving;\n          });\n      }\n    }\n  });\n","export default angular.module('dateFilters', ['deskworks.helper'])\n\n  /**\n   * Standard date filter decorator for moment dates with timezones support\n   */\n  .config(function($provide) {\n    $provide.decorator('dateFilter', function dateFilterDecorator($delegate) {\n      return function(date, format, timezone) {\n        if (date instanceof moment) return $delegate(date.toDate(), format, date.format('ZZ'));\n        return $delegate(date, format, timezone);\n      };\n    });\n  })\n\n  /**\n   * Converts numeric time to date (12 -> 12:00, 22.5 -> 22:30)\n   */\n  .filter('numTimeToDate', function() { 'ngInject';\n    return function(input) {\n      return moment().hour(Math.floor(+input)).minute(+input % 1 ? 30 : 0).second(0).millisecond(0);\n    };\n  })\n\n  /**\n   * Converts date string to Date object\n   */\n  .filter('toDate', function(helper) { 'ngInject';\n    return function(input) {\n      if (!helper.isDateString(input)) return input; // skip non-date strings\n\n      // 16:45:00 or 16:45\n      if (input.length <= 8) return moment.tz(input, 'HH:mm:ss', moment.defaultZone.name);\n\n      // 2015-02-24 and more\n      return moment.tz(input, moment.defaultZone.name);\n    };\n  });\n","/**\n * JSON deserializer with deserialization of ISO date strings to Date objects.\n * Should be used as $resource.method.transformResponse handler, e.g.:\n *\n * query: {\n *   method: 'GET',\n *   isArray: true,\n *   transformResponse: [datesDeserializer('lastPollDate')]\n * }\n *\n * Accepts predicate - one or an array of keys in response object/array which contain dates.\n */\nexport default angular.module('datesDeserializer', [])\n\n  .factory('datesDeserializer', function datesDeserializer($filter) {\n    const toDate = $filter('toDate');\n\n    return (predicate, offset) => {\n\n      return (data) => {\n        if (!data) return data;\n\n        data = angular.fromJson(data);\n\n        angular.forEach(angular.isArray(data) ? data : [data], (item) => {\n          if (!item) return;\n\n          angular.forEach(angular.isArray(predicate) ? predicate : [predicate], (key) => {\n            const path = key.split('.');\n\n            /**\n             * Recursively process each path segment, iterate through each intermediate node (array), find the last node and convert it to Date.\n             */\n            recursion(0, item);\n            function recursion(level, data) {\n              if (!data) return;\n\n              if (level < path.length - 1) { // intermediate segment\n                if (angular.isArray(data[path[level]])) {\n                  data[path[level]].forEach(item => recursion(level + 1, item));\n                }\n                // // Uncomment for processing objects in addition to arrays\n                // else if (angular.isObject(data[path[level]])) {\n                //   Object.keys(data[path[level]]).forEach(key => recursion(level + 1, data[path[level]][key]));\n                // }\n              } else if (level < path.length) { // last segment, convert date\n                data[path[level]] = toDate(data[path[level]]);\n              }\n            }\n          });\n        });\n\n        return data;\n      };\n    };\n  });\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n */\nangular.module('debounce', [])\n  .factory('debounce', function($timeout) { 'use strict';\n    return function debounce(func, wait, immediate) {\n      var timeout;\n      return function() {\n        var context = this, args = arguments;\n        var later = function() {\n          timeout = null;\n          if(!immediate) return func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        $timeout.cancel(timeout);\n        timeout = $timeout(later, wait);\n        if(callNow) return func.apply(context, args);\n        return timeout;\n      };\n    };\n  });\n","/**\n * JSON deserializer with deserialization of string numbers.\n * Should be used as $resource.method.transformResponse handler, e.g.:\n *\n * query: {\n *   method: 'GET',\n *   isArray: true,\n *   transformResponse: [angular.fromJson, numbersDeserializer]\n * }\n *\n * Accepts predicate - one or an array of keys in response object/array which contain numbers.\n */\nangular.module('deserializeNumbers', ['deskworks.helper'])\n  .factory('deserializeNumbers', function deserializeNumbers(helper) { 'use strict';\n\n    return function(predicate) {\n\n      return function(data) {\n        if(!data) return data;\n\n        angular.forEach(angular.isArray(data) ? data : [data], function(item) {\n          if(!item) return;\n\n          angular.forEach(angular.isArray(predicate) ? predicate : [predicate], function(key) {\n            var path = key.split('.');\n\n            /**\n             * Recursively process each path segment, iterate through each intermediate node (array), find the last node and convert it to number.\n             */\n            recursion(0, item);\n            function recursion(level, data) {\n              if(!data) return;\n\n              if(level < path.length - 1) { // intermediate segment\n                if(angular.isArray(data[path[level]])) {\n                  data[path[level]].forEach(function(item) {\n                    recursion(level + 1, item);\n                  });\n                }\n                // // Uncomment for processing objects in addition to arrays\n                // else if(angular.isObject(data[path[level]])) {\n                //   Object.keys(data[path[level]]).forEach(function(key) {\n                //     recursion(level + 1, data[path[level]][key]);\n                //   });\n                // }\n              } else if(level < path.length) { // last segment, convert number\n                if(data[path[level]] && !isNaN(+data[path[level]])) {\n                  data[path[level]] = +data[path[level]];\n                }\n              }\n            }\n          });\n        });\n\n        // return angular.fromJson(data);\n        return data;\n      };\n\n    };\n  });\n","/**\n * Various helpers.\n */\nexport default angular.module('deskworks.helper', [])\n\n  .factory('helper', function($window, $timeout, $compile, $templateCache, $filter) {\n    return {\n      /**\n       * Searches array of objects for object[key] == value\n       * @param array - where to search\n       * @param key - key to search\n       * @param value - value to compare\n       * @returns {*} - object found or null\n       */\n      findByKeyValue: function(array, key, value) {\n        if (angular.isArray(array) && key) {\n          for (var i = 0; i < array.length; i++) {\n            if (array[i] && array[i][key] == value) return array[i];\n          }\n        }\n      },\n\n      /**\n       * Searches array of objects for object[key] == value\n       * @param array - where to search\n       * @param key - key to search\n       * @param value - value to compare\n       * @returns {number} - index of object found or -1\n       */\n      findIndexByKeyValue: function(array, key, value) {\n        if (angular.isArray(array) && key) {\n          for (var i = 0; i < array.length; i++) {\n            if (array[i] && array[i][key] == value) return i;\n          }\n        }\n        return -1;\n      },\n\n      /**\n       * Improved version of findIndexByKeyValue\n       * @param array\n       * @param predicate - object { property1: 'value1', property2: 'value2' }\n       * @returns {*}\n       */\n      findIndex: function(array, predicate) {\n        if ((predicate || predicate === 0) && !angular.isObject(predicate)) predicate = { id: predicate };\n        if (!angular.isArray(array) || !predicate) return;\n        for (let i = 0; i < array.length; i++) {\n          /* jshint ignore:start */\n          const match = Object.keys(predicate).every(key => array[i] && array[i][key] == predicate[key]);\n          /* jshint ignore:end */\n          if (match) return i;\n        }\n        return -1;\n      },\n\n      /**\n       * Improved version of findByKeyValue\n       * @param array\n       * @param predicate - object { property1: 'value1', property2: 'value2' }\n       * @returns {*}\n       */\n      find: function(array, predicate) {\n        const idx = this.findIndex(array, predicate);\n        if (idx >= 0) return array[idx];\n      },\n\n      /**\n       * Tests if dateString matches short/full date pattern\n       * @param dateString\n       * @returns {boolean}\n       */\n      isDateString: function(dateString) {\n        return angular.isString(dateString) && (\n          !!(dateString.match(/^\\d\\d\\d\\d-\\d\\d-\\d\\d(?:T\\d\\d:\\d\\d:\\d\\d(?:(?:(?:-|\\+)\\d\\d:?\\d\\d)|(?:\\.\\d\\d\\d\\d?)?Z)?)?$/i) ||\n          // !!(dateString.match(/^\\d\\d\\d\\d-\\d\\d-\\d\\d(?:T\\d\\d:\\d\\d:\\d\\d(?:(?:-|\\+)\\d\\d:?\\d\\d)?)?$/i) ||\n          dateString.match(/^\\d\\d:\\d\\d(?::?\\d\\d)?$/i))\n        );\n      },\n\n      /**\n       * Checks if we are running on a mobile platform\n       * @returns {boolean} - true if on mobile platform, false otherwise\n       */\n      isMobile: function isMobile() {\n        if($window.navigator.userAgent && ($window.navigator.userAgent.match(/Android/i) ||\n            $window.navigator.userAgent.match(/webOS/i) ||\n            $window.navigator.userAgent.match(/iPhone/i) ||\n            $window.navigator.userAgent.match(/iPad/i) ||\n            $window.navigator.userAgent.match(/iPod/i) ||\n            $window.navigator.userAgent.match(/BlackBerry/i) ||\n            $window.navigator.userAgent.match(/Windows Phone/i))) {\n          return true;\n        }\n      },\n\n      isIE: function isIE() {\n        return /msie\\s|trident\\/|edge\\//i.test(window.navigator.userAgent) && !!(document.uniqueID || window.MSInputMethodContext);\n      },\n\n      /**\n       * Interpolates route path template with params\n       */\n      interpolateRoute: function(string, params) {\n        const result = [];\n        angular.forEach((string || '').split(':'), function(segment, i) {\n          if (i === 0) {\n            result.push(segment);\n          } else {\n            var segmentMatch = segment.match(/(\\w+)(?:[?*])?(.*)/);\n            var key = segmentMatch[1];\n            result.push(params[key]);\n            result.push(segmentMatch[2] || '');\n          }\n        });\n        return result.join('');\n      },\n\n      /**\n       * Unique string generator\n       */\n      unique: function() {\n        return Date.now().toString(36) + Math.random().toString(36).substr(2, 5);\n      },\n\n      /**\n       * UID generator\n       */\n      uid: function() {\n        return 'dwuid' + Date.now() + Math.floor(Math.random() * Date.now() + Math.random() * Date.now());\n      },\n\n      /**\n       * Checks if string starts from dwuid prefix\n       */\n      isUid: function(str) {\n        return !!String(str).match(/^dwuid\\d+/);\n      },\n\n      /**\n       * Strips dwuid prefixed strings, converts them to undefined.\n       * Useful in services when need to hide auto-generated data.\n       */\n      stripUid: function(str) {\n        if (!String(str).match(/^dwuid\\d+/)) return str;\n      },\n\n      /**\n       * Finds first invalid control in given container and focuses it.\n       */\n      pointFirstInvalid: function(selector) {\n        const invalid = document.querySelector(selector + ' .ng-invalid:not(ng-form):not(form):not([ng-form]):not([disabled])');\n        if (invalid) {\n          $timeout(() => {\n            invalid.focus();\n            invalid.blur();\n            invalid.focus();\n          });\n        }\n        return invalid;\n      },\n\n      /**\n       * Focus element with given selector\n       */\n      focus: function(selector) {\n        $timeout(() => {\n          const element = document.querySelector(selector);\n          if (element) element.focus();\n        });\n      },\n\n      /**\n       * Converts to string and trims, not fails on null/undefined\n       */\n      trim: function(val) {\n        return angular.isUndefined(val) || val === null ? '' : String(val).trim();\n      },\n\n      /**\n       * Soft search in array-of-objects. Auto-trims and lower-cases before comparison\n       */\n      indexSoft: function(arr, keys, val) {\n        if (angular.isArray(arr) && angular.isArray(keys) && angular.isDefined(val)) {\n          val = String(val).trim().toLowerCase();\n          for (let i = 0; i < arr.length; i++) {\n            for (let j = 0; j < keys.length; j++) {\n              if (String(arr[i][keys[j]]).trim().toLowerCase() === val) {\n                return i;\n              }\n            }\n          }\n        }\n        return -1;\n      },\n\n      /**\n       * Soft search in array-of-objects. Auto-trims and lower-cases before comparison\n       */\n      searchSoft: function(arr, keys, val) {\n        if (angular.isArray(arr) && angular.isArray(keys) && angular.isDefined(val)) {\n          val = String(val).trim().toLowerCase();\n          for (let i = 0; i < arr.length; i++) {\n            for (let j = 0; j < keys.length; j++) {\n              if (String(arr[i][keys[j]]).trim().toLowerCase() === val) {\n                return arr[i];\n              }\n            }\n          }\n        }\n      },\n\n      /**\n       * Scroll window to specified selector\n       */\n      scrollTo: function(selector) {\n        const el = document.querySelector(selector);\n        if (el) $window.scrollTo(0, $window.pageYOffset + el.getBoundingClientRect().top);\n      },\n\n      /**\n       * Purify object from hidden $ and $$ properties, optionally exclude keys of specified array/object.\n       * Optionally, convert to dashCase (ngClick -> ng-click).\n       */\n      purify: function(obj, exclude, dashCase) {\n        const helper = this;\n        const result = {};\n        exclude = angular.isArray(exclude) ? exclude : Object.keys(exclude || {});\n\n        Object.keys(obj).forEach(key => {\n          if (key[0] !== '$' && !exclude.some(exKey => key === exKey)) {\n            result[dashCase ? helper.toDashCase(key) : key] = obj[key];\n          }\n        });\n\n        return result;\n      },\n\n      /**\n       * Pick properties from object into a new object\n       */\n      pick: (object, paths) => paths.reduce((obj, path) => (obj[path] = object[path], obj), {}),\n\n      /**\n       * Transcludes element with recompiling template and transcluding attributes\n       */\n      transcludeElement: function($scope, $element, $attrs, templateUrl, attrsExclude) {\n        const helper = this;\n        return $element.after(helper.transcludeAttrs($compile($templateCache.get(templateUrl))($scope), $attrs, attrsExclude));\n      },\n\n      /**\n       * Transcludes attributes to element\n       */\n      transcludeAttrs: function(element, attrs, attrsExclude) {\n        const helper = this;\n        return element.attr(helper.purify(attrs, attrsExclude, true));\n      },\n\n      /**\n       * Convert camelCase to dash-case (ngRepeat -> ng-repeat)\n       */\n      toDashCase: function(str) {\n        return str.replace(/[A-Z]/g, function(letter, pos) {\n          return (pos ? '-' : '') + letter.toLowerCase();\n        });\n      },\n\n      /**\n       * Joins array of strings with delimiter, but skips undefined/null/empty strings\n       */\n      join: function(array, delimiter) {\n        return array\n          .filter(function(val) { return val; })\n          .join(delimiter);\n      },\n\n      /**\n       * Converts color from rgb(1, 1, 1) to #010101\n       */\n      rgb2hex: function(rgb) {\n        if (!rgb || /^#[0-9A-F]{6}$/i.test(rgb)) return rgb;\n        rgb = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\n        function hex(x) {\n          return ('0' + parseInt(x).toString(16)).slice(-2);\n        }\n        return '#' + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\n      },\n\n      /**\n       * Converts #rgb color string to array: '#0a0b0c' -> [10, 11, 12]\n       */\n      hex2rgbArr: function(rgb) {\n        if ((typeof rgb === 'string') && /^#[0-9A-Fa-f]{6}$/.test(rgb)) {\n          const hex = parseInt(rgb.substr(1), 16);\n          return [(hex >> 16) & 255, (hex >> 8) & 255, (hex & 255)];\n        }\n        return rgb;\n      },\n\n      /**\n       * Find parent element by predicateFn, search up to 5 parent nodes\n       */\n      findParentElement: function(element, predicateFn) {\n        element = angular.element(element).parent();\n        for (let i = 0; i < 5 && element.length; i++) {\n          if (predicateFn(element)) return element;\n          element = element.parent();\n        }\n      },\n\n      /**\n       * Converts value to number or 0\n       */\n      toNumber: function(val) {\n        val = +val;\n        return !isNaN(val) && isFinite(val) ? val : 0;\n      },\n\n      /**\n       * Rounds number to specified number of fraction digits (default: 2)\n       */\n      round: function(val, fractions) {\n        if (isNaN(+val)) return val;\n        const factor = +('1000000'.slice(0, (fractions || 2) + 1));\n        return Math.round(val * factor) / factor;\n      }\n    };\n  })\n\n  /**\n   * Yesno filter converts boolean true/false to human-friendly Yes/No\n   */\n  .filter('yesno', function($translate) { 'ngInject';\n    return function(text, length, end) {\n      return $translate.instant(text ? 'GLOBAL.YES' : 'GLOBAL.NO');\n    };\n  })\n\n  /**\n   * Pre filter replaces all whitespaces to &nbsp;\n   */\n  .filter('pre', function() { 'ngInject';\n    return function(text, length, end) {\n      return angular.isString(text) ? text.replace(/\\s/g, '&nbsp;') : '';\n    };\n  })\n\n  /**\n   * Negative currency filter. Wraps standard currency filter, but fixes processing negative values.\n   */\n  .filter('ncurrency', function($filter) { 'ngInject';\n    return $filter('currency'); // since Angular 1.4 standard currency filter is ok with negative amounts\n  })\n\n  /**\n   * Wrapper for standard date filter. Has no parameters to standardize date format globally.\n   */\n  .filter('price', function($filter) { 'ngInject';\n    return function(text, length, end) {\n      return angular.isNumber(text) || angular.isString(text) ? $filter('number')(text, 2).replace(',', '') : '0.00';\n    };\n  })\n\n  /**\n   * Converts null to dash\n   */\n  .filter('nd', function($filter) { 'ngInject';\n    return function(text, length, end) {\n      return text || '-';\n    };\n  })\n\n  /**\n   * Padds number with zeros to fixed width string\n   */\n  .filter('zpad', function() { 'ngInject';\n    return function(input, n) {\n      input = '' + (input || ''); // Force to string conversion\n\n      if (input.length >= n) return input;\n\n      const zeros = '00000000';\n      return (zeros + input).slice(-1 * n);\n    };\n  })\n\n  /**\n   * Months filter - adds month/months with translation\n   */\n  .filter('months', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const result = $translate.instant('GLOBAL.MONTHS_FILTER', { monthsCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Weeks filter - adds week/weeks with translation\n   */\n  .filter('weeks', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const result = $translate.instant('GLOBAL.WEEKS_FILTER', { weeksCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Days filter - adds day/days with translation\n   */\n  .filter('days', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const result = $translate.instant('GLOBAL.DAYS_FILTER', { daysCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Hours filter - adds hour/hours with translation\n   */\n  .filter('hours', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const result = $translate.instant('GLOBAL.HOURS_FILTER', { hoursCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Minutes filter - adds minute/minutes with translation\n   */\n  .filter('minutes', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const result = $translate.instant('GLOBAL.MINUTES_FILTER', { minCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Seconds filter - adds second/seconds with translation\n   */\n  .filter('seconds', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const result = $translate.instant('GLOBAL.SECONDS_FILTER', { secCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Passes filter - adds pass/passes with translation\n   */\n  .filter('passes', function($translate) { 'ngInject';\n    return function(text, onlyUnit) {\n      const  result = $translate.instant('GLOBAL.PASSES_FILTER', { passCount: text }, 'messageformat');\n      if (onlyUnit) return result.replace(/\\d+\\s*/, '');\n      return result;\n    };\n  })\n\n  /**\n   * Hours/minutes duration filter - stringify number of ms into HHh MMm\n   */\n  .filter('hoursMinutes', function($filter, helper) { 'ngInject';\n    return ms => {\n      if (!angular.isNumber(ms)) return ms;\n      const h = Math.floor(ms / 3600000);\n      const m = Math.round((ms / 3600000 - h) * 60);\n      return helper.join([\n        h ? h + $filter('hours')(h, true)[0] : null,\n        $filter('zpad')(m, 2) + $filter('minutes')(m, true)[0],\n      ], ' ');\n    }\n  })\n\n  /**\n   * Highlights substring in a string with <strong>\n   */\n  .filter('highlight', function() { 'ngInject';\n    return function(input, sub) {\n      if(!input || !sub || input.length === 0 || sub.length === 0) return input;\n\n      input = String(input);\n      const index = input.toLowerCase().indexOf(sub.toLowerCase());\n\n      if (index >= 0) {\n        return [input.slice(0, index), '<strong>', input.slice(index, index + sub.length), '</strong>', input.slice(index + sub.length)].join('');\n      }\n\n      return input;\n    };\n  })\n\n  /**\n   * Checks if param is an array, returns true/false\n   */\n  .filter('isArray', function() { 'ngInject';\n    return function(input, sub) {\n      return angular.isArray(input);\n    };\n  })\n\n  /**\n   * Checks if param is a string, returns true/false\n   */\n  .filter('isString', function() { 'ngInject';\n    return function(input, sub) {\n      return angular.isString(input);\n    };\n  })\n\n  /**\n   * Join array to string with delimiters filter\n   */\n  .filter('join', function(helper) { 'ngInject';\n    return function(array, delimiter) {\n      return helper.join(array, delimiter);\n    };\n  })\n\n  /**\n   * Rounds number to specified number of fraction digits (default: 2)\n   */\n  .filter('round', function(helper) { 'ngInject';\n    return helper.round;\n  });\n","angular.module('deskworks.isMultiSite', ['deskworks.state'])\n\n  .factory('isMultiSite', function($rootScope, state) { 'use strict';\n    $rootScope.$watch(() => window.cordova, flush);\n\n    $rootScope.$watch(() => state.getLoggedUserId(), (newVal, oldVal) => {\n      if (!newVal && oldVal) { // just logged out\n        setDwSiteCookie(null);\n      }\n    });\n\n    $rootScope.$on('$routeChangeSuccess', () => {\n      if (window.cordova && state.getLoggedUserId()) { // store DwSiteCookie for cordova with authorized users only\n        setDwSiteCookie(location.href);\n      }\n    });\n\n    function setDwSiteCookie(value = null) {\n      const url = value || '';\n      const expDate = new Date(); expDate.setTime(expDate.getTime() + 30 * 24 * 3600000);\n      const expires = value ? expDate.toGMTString() : 'Thu, 01 Jan 1970 00:00:01 GMT';\n      const domain = window.location.hostname.toLowerCase().split('.').slice(-2).join('.');\n      document.cookie = `DwSiteCookie=${url}; expires=${expires}; domain=.satellitedeskworks.com; path=/`;\n      if (domain.indexOf('.satellitedeskworks.com') < 0) { // if tenant has custom domain, duplicate for that domain\n        document.cookie = `DwSiteCookie=${url}; expires=${expires}; domain=${domain}; path=/`;\n      }\n      flush();\n    }\n\n    function flush() { // flush cookies in CookieManager to not miss cookies on Android\n      if (!window.cordova || !window.cordova.plugins || !window.cordova.plugins.CookieManagementPlugin) return;\n      window.cordova.plugins.CookieManagementPlugin.flush();\n      console.log('DEBUG: flush cookies');\n    }\n\n    return function isMultiSite() {\n      return !!window.cordova && !window.cordova.tenantLock;\n    };\n  });\n","/**\n * Update $locale settings according to passed settings\n */\nangular.module('NATS', [])\n\n  .factory('NATS', function($rootScope, $window, deskworksConfig, state) { 'use strict';\n    if(!$window.NATS) throw new Error('Missing websocket-nats dependency.');\n\n    return angular.extend({}, $window.NATS, { connect: connect });\n\n    function connect(url) {\n      url = url || deskworksConfig.getWsUrl();\n\n      if (!url) {\n        const match = deskworksConfig.getApiOrigin().match(/^(.*:)\\/\\/([A-Za-z0-9\\-\\.]+)(:[0-9]+)?(.*)$/i);\n        if (match && match[2]) url = `${match[1].replace('http', 'ws')}://${match[2]}${match[3] || ''}/nats`;\n      }\n\n      if (!url) throw new Error('NATS.connect: missing url');\n\n      var nats = $window.NATS.connect(url);\n\n      nats.publish = wrapPublish(nats.publish);\n      nats.subscribe = wrapSubscribe(nats.subscribe);\n      nats.request = wrapRequest(nats.request);\n\n      return nats;\n    }\n    function wrapPublish(publish) {\n      return function(subject, msg, opt_reply, opt_callback) {\n        if(opt_reply || opt_callback) console.warn('we have opt_reply and opt_callback unimplemented in nats.publish');\n\n        subject = interpolate(subject);\n        if(angular.isObject(msg) || angular.isArray(msg)) msg = angular.toJson(msg);\n\n        return publish.call(this, subject, msg);\n      };\n    }\n\n    function wrapSubscribe(subscribe) {\n      return function(subject, opts, callback) {\n        var cb = angular.isFunction(opts) ? opts : callback;\n        subject = interpolate(subject);\n\n        if(cb) {\n          var cbOrig = cb;\n          cb = function(msg, reply, subject) { // wrap callback for $rootScope.$apply and JSON deserialization\n            return $rootScope.$apply(function() {\n              return cbOrig.call(null, msg && angular.fromJson(msg), reply, subject);\n            });\n          };\n        }\n\n        return subscribe.call(this,\n          subject,\n          angular.isFunction(opts) ? cb : opts,\n          angular.isFunction(callback) ? cb : callback\n        );\n      };\n    }\n\n    function wrapRequest(request) {\n      return function(subject, opt_msg, opt_options, callback) {\n        console.warn('we have nats.request unimplemented');\n        return request.call(this, subject, opt_msg, opt_options, callback);\n      };\n    }\n\n    function interpolate(subject) {\n      return subject && subject\n        .replace(/:siteId/, deskworksConfig.getSiteId())\n        .replace(/:centerId/, state.getCurrentCenterId());\n    }\n  });\n","/**\n * Reservation Calendar helper service\n */\nexport default angular.module('deskworks.rcHelper', [])\n\n  .factory('rcHelper', function($filter) { 'use strict';\n\n    return {\n      /**\n       * Calculate week start from specified date\n       */\n      weekStart: function(date) {\n        return (moment.isMoment(date) ? date.clone() : moment()).startOf('week');\n      },\n\n      /**\n     * Calculate week end from specified date\n     */\n      weekEnd: function(date) {\n        return (moment.isMoment(date) ? date.clone() : moment()).endOf('week');\n      },\n\n      /**\n       * Floor date to threshold in minutes (e.g. 2016-07-02T14:23:00 / threshold=30 -> 2016-07-02T14:00:00)\n       */\n      floorDate: function(date, threshold) {\n        date.minutes(Math.floor(date.minutes() / threshold) * threshold, 0, 0);\n        return date;\n      },\n\n      /**\n       * Stringify date to reservation calendar format\n       */\n      dateToStr: function(date) {\n        return $filter('date')(date, 'yyyy-MM-ddTHH:mm:00Z');\n      },\n\n      /**\n       * Check if from1/to1 frame intersects with from2/to2 frame\n       */\n      checkIntersection: function(from1, to1, from2, to2) {\n        return from1 <= to2 && from1 >= from2 || to1 <= to2 && to1 >= from2 || from1 <= from2 && to1 >= to2;\n      }\n    };\n  });\n","/**\n * Google Tag Manager initialization\n */\nangular.module('resolveGtm', [])\n  .factory('resolveGtm', function(dwAlerts, setupService) { 'use strict';\n    var gtmContainerId;\n\n    return function() {\n      return setupService.getSetupSettings()\n        .catch(function(err) { return dwAlerts.error(err, 'Failed to get setup settings.'); })\n        .then(function(settings) {\n          if(settings.gtmContainerId && settings.gtmContainerId !== gtmContainerId) {\n            gtmContainerId = settings.gtmContainerId;\n            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n              j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n              'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n            })(window,document,'script','dataLayer',gtmContainerId);\n          }\n        });\n    };\n  });\n","export default angular.module('resolveTimezone', [])\n\n  .factory('resolveTimezone', function($rootScope, $q, $route, $location, dwAlerts, helper, setupService, centerService) {\n    let promise;\n\n    $rootScope.$on('CHANGE-CENTER', function() {\n      if (!$route.current.reloadOnSearch) resolveTimezone();\n    });\n\n    return resolveTimezone;\n\n    function resolveTimezone() {\n      if (promise) return promise;\n      promise = $q.all({ timezones: queryTimezones(), centers: queryCenters() })\n        .then(result => {\n          if (!result.centers.length) return;\n\n          let centerId = $route.current.params.centerId === 'new' ? null : +$route.current.params.centerId;\n          centerId = centerId || $location.search().center && +$location.search().center || result.centers[0].id;\n          const centerTimezone = (helper.find(result.centers, centerId) || result.centers[0]).timezone;\n          const timezone = helper.find(result.timezones, centerTimezone);\n          if (timezone) moment.tz.setDefault(timezone.tz.split('|')[0]);\n        })\n        .finally(() => { promise = null; });\n\n      return promise;\n    }\n\n    function queryTimezones() {\n      return setupService.queryTimezones()\n        .catch(err => dwAlerts.error(err, 'Failed to query timezones.'))\n        .then(result => {\n          if (moment.tz.names().length < result.length) moment.tz.add(result.map(zone => zone.tz));\n          return result;\n        });\n    }\n\n    function queryCenters() {\n      return centerService.getCenters()\n        .catch(err => dwAlerts.error(err, 'Failed to query centers.'));\n    }\n  });\n","/**\n * Provides special promises to be used in route.resolve only.\n * routePromises.auth - redirects to sing-in if not authenticated\n * routePromises.selectUser - redirects to select user if not selected\n */\nangular.module('deskworks.routeHelper', [\n  'deskworks.state',\n  'session',\n])\n\n  .service('routeHelper', function(dwAlerts, $q, $timeout, session, state) { 'use strict';\n\n    let authPromise;\n\n    /**\n     * Returns authentication promise, redirects to sign-in if not authenticated.\n     * @param signInUrl - optional custom sign-in URL, used instead of default '/sign-in'\n     * @returns {Promise} - should be used in route.resolve\n     */\n    this.auth = function(signInUrl) {\n      if (signInUrl === null) {\n        return (authPromise || session.wait())\n          .then(() => {\n            if (session.isAnonymous()) throw null;\n            return session.user;\n          });\n      }\n\n      if (authPromise) return authPromise;\n\n      authPromise = session.wait()\n        .then(() => {\n          if (session.isAnonymous()) {\n            // Don't set redirect if custom sign-in is used (see Member Sign Up and Simple Reservation with Non-Member Sign Up)\n            if (!signInUrl) state.setParam('redirect', state.getPath());\n            state.setPath(signInUrl || '/sign-in', true);\n            throw null;\n          }\n        })\n        .then(() => state.getCentersPromise()) // wait for center auto-selection\n        .finally(() => { authPromise = null; });\n\n      return authPromise;\n    };\n\n    /**\n     * Returns select current user promise, redirects to user-search if not selected\n     * @returns {Promise} - should be used in route.resolve\n     */\n    this.selectUser = function() {\n      if(state.isUserSelected()) {\n        return $q.when();\n      } else {\n        if(state.getPath() !== '/user-search') {\n          state.setParam('redirect', state.getPath());\n          state.setPath('/user-search');\n        }\n        return $q.reject();\n      }\n    };\n  });","angular.module('security', [\n  'deskworks.config'\n])\n\n  .factory('security', function($http, $q, deskworksConfig) {\n    var requestCurrentUserPromise;\n\n    // The public API of the service\n    var service = {\n      /**\n       * Attempt to authenticate a user by the given email and password\n       */\n      login: function(user, pass, rememberMe) {\n        requestCurrentUserPromise = $http.post(deskworksConfig.getApiAbsUrl('/sessions'), { login: user, password: pass, rememberMe: rememberMe });\n\n        requestCurrentUserPromise.then(function(response) {\n          service.currentUser = response.data.user;\n        });\n\n        return requestCurrentUserPromise;\n      },\n\n      /**\n       * Logout the current user\n       */\n      logout: function () {\n        return $http.delete(deskworksConfig.getApiAbsUrl('/sessions/123')).then(function () {\n          requestCurrentUserPromise = null;\n          service.currentUser = null;\n        });\n      },\n\n      /**\n       * Ask the backend to see if a user is already authenticated - this may be from a previous session.\n       */\n      requestCurrentUser: function () {\n        // Prevent multiple requests\n        if(requestCurrentUserPromise) {\n          return requestCurrentUserPromise;\n        }\n\n        if(service.isAuthenticated()) {\n          requestCurrentUserPromise = $q.when(service.currentUser);\n        } else {\n          requestCurrentUserPromise = $http.get(deskworksConfig.getApiAbsUrl('/sessions/123')).then(function(response) {\n            if(angular.isDefined(response.data.success) && !response.data.success) {\n              return $q.reject();\n            } else {\n              service.currentUser = response.data.user;\n              return $q.when(service.currentUser);\n            }\n          });\n        }\n\n        return requestCurrentUserPromise;\n      },\n\n      // Information about the current user\n      currentUser: null,\n\n      /**\n       * Is the current user authenticated?\n       */\n      isAuthenticated: function () {\n        return !!service.currentUser;\n      },\n\n      /**\n       * Is the current user an administrator?\n       */\n      isAdmin: function () {\n        return !!(service.currentUser && service.currentUser.admin);\n      }\n    };\n\n    return service;\n  });\n","/**\n * Update $locale settings according to passed settings\n */\nexport default angular.module('setLocale', ['tmh.dynamicLocale'])\n\n  .factory('setLocale', function($locale, $rootScope, tmhDynamicLocale, dwAlerts, helper) {\n    return function(settings) {\n      settings = settings || {};\n      settings.locale = settings.locale || 'en-us';\n\n      $rootScope.currentLocale = settings.locale; // for <html lang=\"{{currentLocale}}\">\n\n      return tmhDynamicLocale.set(settings.locale)\n        .catch(err => dwAlerts.error(err, 'Failed to set ' + settings.locale + ' locale.'))\n        .then(() => {\n          const dtf = $locale.DATETIME_FORMATS;\n          const nf = $locale.NUMBER_FORMATS;\n\n          $locale.timeFormat = settings.timeFormat;\n\n          dtf.shortTime = $locale.timeFormat === 24 ? 'HH:mm' : 'hh:mm a';\n          dtf.mediumDate = dtf.mediumDate.replace(/ '\\u0433'.$/, '');\n          dtf.weekDate = dtf.fullDate.replace(/ '\\u0433'.$/, '').replace('EEEE', 'EEE').replace('MMMM', 'MMM');\n\n          dtf.iso = 'yyyy-MM-ddTHH:mm:ssZ';\n\n          nf.DECIMAL_SEP = '.';\n          nf.GROUP_SEP = ',';\n\n          // set moment locale for correct first-day-of-week\n          moment.updateLocale($locale.id, { week : { dow : dtf.FIRSTDAYOFWEEK ? 0 : 1 } });\n          moment.locale($locale.id);\n\n          $rootScope.$emit('$setLocaleSuccess');\n          return $locale;\n        });\n    };\n  });\n","/**\n * Loads translations for given module and locale\n */\nangular.module('setTranslations', ['pascalprecht.translate'])\n\n  .factory('setTranslations', function($translatePartialLoader, $translate, $rootScope) { 'use strict';\n    return function(translations, locale) {\n      $translatePartialLoader.addPart('_global');\n      translations.forEach(function(part) { $translatePartialLoader.addPart(part); });\n\n      return $translate.use(locale.split('-')[0])\n        .then(function() { return $translate.refresh(); })\n        .then(function() { $rootScope.$emit('$setTranslationsSuccess'); });\n    };\n  })\n\n  /**\n   * $translatePartialLoader error handler - receives each translation partial loading error\n   */\n  .factory('$translateErrorHandler', function($q, dwAlerts) {\n    return function(part, lang, response) {\n      if(lang !== 'en') return $q.when(); // skip error for non-English language\n      return dwAlerts.error('Failed to load ' + part + '-' + lang + ' translation.')\n        .catch(angular.noop); // don't stop on translation loading errors\n    };\n  });\n\n","angular.module('deskworks.state', [\n  'ngRoute',\n  'session',\n  'deskworks.center.service',\n  'deskworks.userProfile.service',\n  'deskworks.helper',\n  'autoCacheFactory'\n])\n  .factory('state', function($rootScope, $location, $q, $route, $timeout, $window, session,\n                             centerService, userProfileService, helper, autoCacheFactory, resolveTimezone) { 'use strict';\n\n    var currentUser;\n    var centers = [];\n    var centersPromise; // for chaining routeHelper.auth with centers auto-selection\n    var pageTitle = '';\n\n    // At startup, check if we already authenticated and emit LOGIN\n    session.wait()\n      .then(function() {\n        if(!session.isAnonymous()) {\n          $rootScope.$emit('LOGIN');\n        }\n      });\n\n    var state = {\n      /**\n       * Login with username and password\n       */\n      login: function(username, password, rememberMe) {\n        return session.login(username, password, rememberMe)\n          .then(function() {\n            $rootScope.$emit('LOGIN');\n            return session.user;\n          });\n      },\n\n      /**\n       * Logout current user\n       */\n      logout: function(opts) {\n        return session.logout()\n          .then(function() { $rootScope.$emit('LOGOUT', opts); });\n      },\n\n      /**\n       * If user is defined in location.search, returns this currentUserId.\n       * Otherwise returns loggedUserId.\n       */\n      getCurrentUserId: function() {\n        if(angular.isDefined($location.search().user)) return +$location.search().user;\n        return session.user && session.user.id;\n      },\n\n      /**\n       * Set currentUserId.\n       * @param id\n       */\n      setCurrentUserId: function(id) {\n        $location.search('user', id || null);\n      },\n\n      /**\n       * Get currentUser.\n       */\n      getCurrentUser: function() {\n        return currentUser || session.user;\n      },\n\n      /**\n       * Set currentUser.\n       * @param user\n       */\n      setCurrentUser: function(user) {\n        currentUser = user;\n        this.setCurrentUserId((user || {}).id);\n      },\n\n      /**\n       * Get loggedUserId.\n       */\n      getLoggedUserId: function() {\n        return session.user && session.user.id;\n      },\n\n      /**\n       * Get loggedUser.\n       */\n      getLoggedUser: function() {\n        return session.user;\n      },\n\n      /**\n       * Set centerId and centerName for currently logged user. Used only in member self-registration on New Membership step\n       */\n      setLoggedUserCenter: function(id, name) {\n        session.user.centerId = id;\n        session.user.centerName = name;\n      },\n\n      /**\n       * Check if loggedUser is admin.\n       * @returns {*|boolean}\n       */\n      isLoggedAdmin: session.isAdmin,\n\n      /**\n       * Check if loggedUser is member.\n       * @returns {*|boolean}\n       */\n      isLoggedMember: function() {\n        return session.isRole('member');\n      },\n\n      /**\n       * Check if loggedUser is nonMember.\n       * @returns {*|boolean}\n       */\n      isLoggedNonMember: function() {\n        return session.isRole('nonMember');\n      },\n\n      /**\n       * Check if loggedUser is role.\n       * @returns {*|boolean}\n       */\n      isLoggedRole: function(role) {\n        return session.isRole(role);\n      },\n\n      /**\n       * Check if currentUser selected\n       * @returns {*|boolean}\n       */\n      isUserSelected: function() {\n        return angular.isDefined($location.search().user) || (session.user && !this.isLoggedAdmin());\n      },\n\n      /**\n       * Checks if co-member switched to master profile\n       */\n      isMasterProfile: function() {\n        return !this.isLoggedAdmin() && state.getLoggedUserId() && this.getLoggedUserId() != this.getCurrentUserId(); // important != comparison as getCurrentUserId() can return string\n      },\n\n      getCurrentCenterId: function() {\n        var center = $location.search().center;\n        return angular.isDefined(center) && center !== null ? +center : undefined;\n      },\n      setCurrentCenterId: function(id) {\n        $location.search('center', id ? +id : null);\n        $rootScope.$emit('CHANGE-CENTER');\n      },\n      getUserCenters: function() {\n        var self = this;\n        return centers.filter(function(center) { return self.isLoggedAdmin() || center.reservationUnitsCount > 0; });\n      },\n      currentCenterId: function(id) { // Getter/Setter format for bind to ng-model in Center Selector\n        if(angular.isDefined(id)) {\n          this.setCurrentCenterId(+id);\n        }\n        return this.getCurrentCenterId();\n      },\n      getCurrentCenter: function() {\n        return helper.findByKeyValue(centers, 'id', this.getCurrentCenterId());\n      },\n      setCurrentCenter: function(center) {\n        if(center) {\n          this.setCurrentCenterId(center.id);\n        }\n      },\n      currentCenter: function(center) { // Getter/Setter format for bind to ng-model in Center Selector\n        if(angular.isDefined(center)) {\n          this.setCurrentCenter(center);\n        }\n        return this.getCurrentCenter();\n      },\n\n      getParam: function(name) {\n        return $location.search()[name];\n      },\n      setParam: function(name, val) {\n        return $location.search(name, angular.isDefined(val) ? val : null);\n      },\n\n      resetParams: function(params) {\n        var user = $location.search().user;\n        var center = $location.search().center;\n        $location.$$search = angular.isDefined(params) ? params : {};\n        if(angular.isDefined(user)) {\n          $location.search('user', user);\n        }\n        if(angular.isDefined(center)) {\n          $location.search('center', center);\n        }\n        return this;\n      },\n\n      getPath: function() {\n        return $location.path();\n      },\n      setPath: function(path, replace) {\n        if(replace) {\n          $location.replace();\n        }\n        $location.path(path);\n        return $timeout(15000); // promise for button spins\n      },\n      back: function() {\n        $window.history.back();\n        return $timeout(15000); // promise for button spins\n      },\n\n      getPageTitle: function() {\n        return pageTitle;\n      },\n      setPageTitle: function(title) {\n        pageTitle = title;\n        return title;\n      },\n\n      replace: function() {\n        $location.replace();\n        return this;\n      },\n\n      getCentersPromise: function() {\n        return centersPromise; // for chaining routeHelper.auth with centers auto-selection\n      },\n\n      // Prohibits transition to specified controllers, used to prohibit Back button\n      prohibitBack: function(controllers, message, $scope) {\n        $scope = $scope || $rootScope;\n        return $scope.$on('$routeChangeStart', function(event, next, current){\n          if(next.$$route && controllers.indexOf(next.$$route.controller) >= 0) {\n            $scope.showError(message || 'Back is not allowed.');\n            event.preventDefault();\n          }\n        });\n      }\n    };\n\n    /**\n     * Reset page title on changing route\n     */\n    $rootScope.$on('$routeChangeSuccess', function() {\n      pageTitle = '';\n    });\n\n    /**\n     * Watch for selected user ID in $location.search, load current user profile and emit CHANGE-USER event\n     */\n    $rootScope.$watch(function() { return $location.search().user; }, function(newVal) {\n      if(newVal) {\n        resolveTimezone()\n          .then(function() {\n            userProfileService.get(state.getCurrentCenterId(), newVal)\n              .then(function(user) {\n                currentUser = user;\n                $rootScope.$emit('CHANGE-USER');\n              });\n          });\n      } else {\n        currentUser = {};\n        $rootScope.$emit('CHANGE-USER');\n        //$route.reload();\n      }\n    });\n\n    /**\n     * Starts monitoring and forcing correct center id in search params (?center=1).\n     */\n    var stopMonitoringCurrentCenter;\n    function startMonitoringCurrentCenter() {\n      centersPromise.then(function(result) {\n\n        if(stopMonitoringCurrentCenter) stopMonitoringCurrentCenter();\n\n        /*** $routeChangeStart listener ***/\n        stopMonitoringCurrentCenter = $rootScope.$on('$routeChangeStart', function() {\n          if(centers && centers.length > 0 && !helper.findByKeyValue(centers, 'id', state.getCurrentCenterId())) {\n            state.setCurrentCenterId(session.user.centerId || centers[0].id);\n          }\n        });\n\n        if(!state.getCurrentCenterId()) {\n          state.replace(); // Enable replacing history state on this digest\n\n          // Select current centerId on startup\n          var centerId = session.user.centerId;\n\n          // If current center is invalid, set the first center as current\n          if(centers && centers.length > 0 && !helper.findByKeyValue(centers, 'id', centerId)) {\n            centerId = centers[0].id;\n          }\n          state.setCurrentCenterId(centerId);\n        }\n      });\n    }\n\n    /**\n     * LOGIN listener\n     */\n    $rootScope.$on('LOGIN', function() {\n      autoCacheFactory.emptyAll();\n      $rootScope.$emit('CENTERS:REFRESH');\n      startMonitoringCurrentCenter();\n    });\n\n    /**\n     * LOGOUT listener\n     */\n    $rootScope.$on('LOGOUT', function($event, opts) {\n      opts = opts || {};\n      if(stopMonitoringCurrentCenter) {\n        stopMonitoringCurrentCenter();\n        stopMonitoringCurrentCenter = null;\n      }\n\n      autoCacheFactory.emptyAll();\n\n      if(!opts.skipResetParams) {\n        state.resetParams();\n        $location.search('user', null);\n        $location.search('center', null);\n      }\n      centers = [];\n    });\n\n    /**\n     * CHANGE-CENTER listener\n     */\n    $rootScope.$on('CHANGE-CENTER', function() {\n      autoCacheFactory.emptyAll();\n    });\n\n    /**\n     * CENTERS:REFRESH listener\n     */\n    $rootScope.$on('CENTERS:REFRESH', function() {\n      centersPromise = centerService.getCenters()\n        .then(function(result) {\n          centers = result;\n          return result;\n        })\n        .catch(function(err) {\n          return $rootScope.showError(err, 'CENTERS:REFRESH failed to load centers list');\n        });\n    });\n\n    /**\n     * CurrentUser:refresh listener\n     */\n    $rootScope.$on('CurrentUser:refresh', function() {\n      userProfileService.get(state.getCurrentCenterId(), state.getCurrentUserId()).then(function(user) {\n        currentUser = user;\n      });\n    });\n\n    return state;\n  });\n","/**\n * Angular Dynamic Locale - 0.1.37\n * https://github.com/lgalfaso/angular-dynamic-locale\n * License: MIT\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    factory();\n  }\n}(this, function () {\n  'use strict';\n  angular.module('tmh.dynamicLocale', []).config(['$provide', function($provide) {\n    function makeStateful($delegate) {\n      $delegate.$stateful = true;\n      return $delegate;\n    }\n\n    $provide.decorator('dateFilter', ['$delegate', makeStateful]);\n    $provide.decorator('numberFilter', ['$delegate', makeStateful]);\n    $provide.decorator('currencyFilter', ['$delegate', makeStateful]);\n\n  }])\n    .constant('tmhDynamicLocale.STORAGE_KEY', 'tmhDynamicLocale.locale')\n    .provider('tmhDynamicLocale', ['tmhDynamicLocale.STORAGE_KEY', function(STORAGE_KEY) {\n\n      var defaultLocale,\n        localeLocationPattern = 'angular/i18n/angular-locale_{{locale}}.js',\n        nodeToAppend,\n        storageFactory = 'tmhDynamicLocaleStorageCache',\n        storage,\n        storageKey = STORAGE_KEY,\n        storageGet = 'get',\n        storagePut = 'put',\n        promiseCache = {},\n        activeLocale,\n        extraProperties = {};\n\n      /**\n       * Webpack-compatible replacement for loadScript\n       */\n      function importLocale(localeId, callback, errorCallback, $timeout) {\n        import(/* webpackMode: \"lazy-once\" */ `angular-i18n/angular-locale_${localeId}.js`)\n          .then(callback)\n          .catch(function(err) {\n            console.error('ERROR:', err);\n            errorCallback();\n          });\n      }\n\n      // function loadScript(url, callback, errorCallback, $timeout) {\n        // var script = document.createElement('script'),\n        //   element = nodeToAppend ? nodeToAppend : document.getElementsByTagName(\"body\")[0],\n        //   removed = false;\n        //\n        // script.type = 'text/javascript';\n        // if (script.readyState) { // IE\n        //   script.onreadystatechange = function () {\n        //     if (script.readyState === 'complete' ||\n        //       script.readyState === 'loaded') {\n        //       script.onreadystatechange = null;\n        //       $timeout(\n        //         function () {\n        //           if (removed) return;\n        //           removed = true;\n        //           if (script.parentNode === element) {\n        //             element.removeChild(script);\n        //           }\n        //           callback();\n        //         }, 30, false);\n        //     }\n        //   };\n        // } else { // Others\n        //   script.onload = function () {\n        //     if (removed) return;\n        //     removed = true;\n        //     if (script.parentNode === element) {\n        //       element.removeChild(script);\n        //     }\n        //     callback();\n        //   };\n        //   script.onerror = function () {\n        //     if (removed) return;\n        //     removed = true;\n        //     if (script.parentNode === element) {\n        //       element.removeChild(script);\n        //     }\n        //     errorCallback();\n        //   };\n        // }\n        // script.src = url;\n        // script.async = true;\n        // element.appendChild(script);\n      // }\n\n      /**\n       * Loads a locale and replaces the properties from the current locale with the new locale information\n       *\n       * @param {string} localeUrl The path to the new locale\n       * @param {Object} $locale The locale at the curent scope\n       * @param {string} localeId The locale id to load\n       * @param {Object} $rootScope The application $rootScope\n       * @param {Object} $q The application $q\n       * @param {Object} localeCache The current locale cache\n       * @param {Object} $timeout The application $timeout\n       */\n      function loadLocale(localeUrl, $locale, localeId, $rootScope, $q, localeCache, $timeout) {\n\n        function overrideValues(oldObject, newObject) {\n          if (activeLocale !== localeId) {\n            return;\n          }\n          angular.forEach(oldObject, function(value, key) {\n            if (!newObject[key]) {\n              delete oldObject[key];\n            } else if (angular.isArray(newObject[key])) {\n              oldObject[key].length = newObject[key].length;\n            }\n          });\n          angular.forEach(newObject, function(value, key) {\n            if (angular.isArray(newObject[key]) || angular.isObject(newObject[key])) {\n              if (!oldObject[key]) {\n                oldObject[key] = angular.isArray(newObject[key]) ? [] : {};\n              }\n              overrideValues(oldObject[key], newObject[key]);\n            } else {\n              oldObject[key] = newObject[key];\n            }\n          });\n        }\n\n\n        if (promiseCache[localeId]) {\n          activeLocale = localeId;\n          return promiseCache[localeId];\n        }\n\n        var cachedLocale,\n          deferred = $q.defer();\n        if (localeId === activeLocale) {\n          deferred.resolve($locale);\n        } else if ((cachedLocale = localeCache.get(localeId))) {\n          activeLocale = localeId;\n          $rootScope.$evalAsync(function() {\n            overrideValues($locale, cachedLocale);\n            storage[storagePut](storageKey, localeId);\n            $rootScope.$broadcast('$localeChangeSuccess', localeId, $locale);\n            deferred.resolve($locale);\n          });\n        } else {\n          activeLocale = localeId;\n          promiseCache[localeId] = deferred.promise;\n          // loadScript(localeUrl, function() {\n          importLocale(localeId, function() {\n            // Create a new injector with the new locale\n            var localInjector = angular.injector(['ngLocale']),\n              externalLocale = localInjector.get('$locale');\n\n            overrideValues($locale, externalLocale);\n            localeCache.put(localeId, externalLocale);\n            delete promiseCache[localeId];\n\n            $rootScope.$applyAsync(function() {\n              storage[storagePut](storageKey, localeId);\n              $rootScope.$broadcast('$localeChangeSuccess', localeId, $locale);\n              deferred.resolve($locale);\n            });\n          }, function() {\n            delete promiseCache[localeId];\n\n            $rootScope.$applyAsync(function() {\n              if (activeLocale === localeId) {\n                activeLocale = $locale.id;\n              }\n              $rootScope.$broadcast('$localeChangeError', localeId);\n              deferred.reject(localeId);\n            });\n          }, $timeout);\n        }\n        return deferred.promise;\n      }\n\n      this.localeLocationPattern = function(value) {\n        if (value) {\n          localeLocationPattern = value;\n          return this;\n        } else {\n          return localeLocationPattern;\n        }\n      };\n\n      this.appendScriptTo = function(nodeElement) {\n        nodeToAppend = nodeElement;\n      };\n\n      this.useStorage = function(storageName) {\n        storageFactory = storageName;\n        storageGet = 'get';\n        storagePut = 'put';\n      };\n\n      this.useCookieStorage = function() {\n        if (angular.version.minor < 7) {\n          this.useStorage('$cookieStore');\n        } else {\n          this.useStorage('$cookies');\n          storageGet = 'getObject';\n          storagePut = 'putObject';\n        }\n      };\n\n      this.defaultLocale = function(value) {\n        defaultLocale = value;\n      };\n\n      this.storageKey = function(value) {\n        if (value) {\n          storageKey = value;\n          return this;\n        } else {\n          return storageKey;\n        }\n      };\n\n      this.addLocalePatternValue = function(key, value) {\n        extraProperties[key] = value;\n      };\n\n      this.$get = ['$rootScope', '$injector', '$interpolate', '$locale', '$q', 'tmhDynamicLocaleCache', '$timeout', function($rootScope, $injector, interpolate, locale, $q, tmhDynamicLocaleCache, $timeout) {\n        var localeLocation = interpolate(localeLocationPattern);\n\n        storage = $injector.get(storageFactory);\n        $rootScope.$evalAsync(function() {\n          var initialLocale;\n          if ((initialLocale = (storage[storageGet](storageKey) || defaultLocale))) {\n            loadLocaleFn(initialLocale);\n          }\n        });\n        return {\n          /**\n           * @ngdoc method\n           * @description\n           * @param {string} value Sets the locale to the new locale. Changing the locale will trigger\n           *    a background task that will retrieve the new locale and configure the current $locale\n           *    instance with the information from the new locale\n           */\n          set: loadLocaleFn,\n          /**\n           * @ngdoc method\n           * @description Returns the configured locale\n           */\n          get: function() {\n            return activeLocale;\n          }\n        };\n\n        function loadLocaleFn(localeId) {\n          var baseProperties = {locale: localeId, angularVersion: angular.version.full};\n          return loadLocale(localeLocation(angular.extend({}, extraProperties, baseProperties)), locale, localeId, $rootScope, $q, tmhDynamicLocaleCache, $timeout);\n        }\n      }];\n    }]).provider('tmhDynamicLocaleCache', function() {\n    this.$get = ['$cacheFactory', function($cacheFactory) {\n      return $cacheFactory('tmh.dynamicLocales');\n    }];\n  }).provider('tmhDynamicLocaleStorageCache', function() {\n    this.$get = ['$cacheFactory', function($cacheFactory) {\n      return $cacheFactory('tmh.dynamicLocales.store');\n    }];\n  }).run(['tmhDynamicLocale', angular.noop]);\n\n  return 'tmh.dynamicLocale';\n\n}));\n","angular.module('userTasksPolicy', [\n  'session',\n  'deskworks.routeHelper',\n  'deskworks.UserTasks.service'\n])\n\n  .factory('userTasksPolicy', function($rootScope, $q, $route, dwAlerts, helper, state, session, UserTasks, routeHelper) { 'use strict';\n    var promise;\n\n    $rootScope.$on('CHANGE-CENTER', function() {\n      if(!$route.current.reloadOnSearch) userTasksPolicy();\n    });\n\n    return userTasksPolicy;\n\n    function userTasksPolicy() {\n      var ignoredBranches = ['dashboard', 'sign-in', 'sign-out'];\n\n      if($route.current.$$route.userTasksPolicy === false) return $q.resolve({});\n      if(ignoredBranches.indexOf($route.current.$$route.routeBranch) >= 0) return $q.resolve({});\n      if(promise) return promise;\n\n      promise = session.wait()\n        .then(function() {\n          return state.getCentersPromise(); // wait for center auto-selection\n        })\n        .then(function() {\n          return UserTasks.query(state.getCurrentCenterId(), state.isMasterProfile() && state.getCurrentUserId())\n            .catch(function(err) { return dwAlerts.error(err, 'userTasksPolicy: failed to query user-tasks.'); });\n        })\n        .then(function(groups) {\n          if($route.current.$$route.userTasksPolicy === false) return $q.resolve({});\n          if(ignoredBranches.indexOf($route.current.$$route.routeBranch) >= 0) return $q.resolve({});\n\n          var rb = '/' + $route.current.$$route.routeBranch;\n          var found = groups.some(function(group) {\n            return group.tasks.some(function(task) {\n              return task.url === rb;\n            });\n          });\n\n          if(found) return $q.resolve();\n\n          state.resetParams().setPath('/dashboard');\n          return $q.reject();\n        })\n        .finally(function() { promise = null; });\n\n      return promise;\n    }\n\n  });\n","angular.module('deskworks.accounting.bulkInvoicing.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.helper',\n  'datesDeserializer'\n])\n\n  .factory('bulkInvoicingService', function($resource, datesDeserializer, deskworksConfig, helper) { 'use strict';\n    var desDates = datesDeserializer(['date', 'items.date']);\n\n    var res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/send-invoices'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] }\n    });\n\n    var resCharges = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/bulk-charges'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] }\n    });\n\n    return {\n      getInvoices: function(centerId) {\n        return res.query({ centerId: centerId }).$promise;\n      },\n      sendEmails: function(centerId, data) {\n        return res.save({ centerId: centerId }, data).$promise;\n      },\n\n      /**\n       * Bulk Charges\n       */\n      getPurchases: function(centerId) {\n        return resCharges.query({ centerId: centerId }).$promise;\n      },\n      billPurchases: function(centerId, data) {\n        return resCharges.save({ centerId: centerId }, data).$promise;\n      }\n    };\n  });\n","/**\n * Utility for validation credit card numbers and determining their types.\n * Card Validator (https://github.com/braintree/card-validator)\n * Credit Card Type (https://github.com/braintree/credit-card-type)\n */\nangular.module('ccValidator', [])\n\n  .factory('ccValidator', function() { 'use strict';\n    /**\n     * Credit Card Type v5.0.4 (https://github.com/braintree/credit-card-type)\n     */\n    var types = {};\n    var VISA = 'visa';\n    var MASTERCARD = 'master';\n    var AMERICAN_EXPRESS = 'american_express';\n    var DINERS_CLUB = 'diners-club';\n    var DISCOVER = 'discover';\n    var JCB = 'jcb';\n    var UNIONPAY = 'unionpay';\n    var MAESTRO = 'maestro';\n    var CVV = 'CVV';\n    var CID = 'CID';\n    var CVC = 'CVC';\n    var CVN = 'CVN';\n    var testOrder = [\n      VISA,\n      MASTERCARD,\n      AMERICAN_EXPRESS,\n      DINERS_CLUB,\n      DISCOVER,\n      JCB,\n      UNIONPAY,\n      MAESTRO\n    ];\n\n    function clone(x) {\n      var prefixPattern, exactPattern, dupe;\n\n      if (!x) { return null; }\n\n      prefixPattern = x.prefixPattern.source;\n      exactPattern = x.exactPattern.source;\n      dupe = JSON.parse(JSON.stringify(x));\n      dupe.prefixPattern = prefixPattern;\n      dupe.exactPattern = exactPattern;\n\n      return dupe;\n    }\n\n    types[VISA] = {\n      niceType: 'Visa',\n      type: VISA,\n      prefixPattern: /^4$/,\n      exactPattern: /^4\\d*$/,\n      gaps: [4, 8, 12],\n      lengths: [16, 18, 19],\n      code: {\n        name: CVV,\n        size: 3\n      }\n    };\n\n    types[MASTERCARD] = {\n      niceType: 'MasterCard',\n      type: MASTERCARD,\n      prefixPattern: /^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,\n      exactPattern: /^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\\d*$/,\n      gaps: [4, 8, 12],\n      lengths: [16],\n      code: {\n        name: CVC,\n        size: 3\n      }\n    };\n\n    types[AMERICAN_EXPRESS] = {\n      niceType: 'American Express',\n      type: AMERICAN_EXPRESS,\n      prefixPattern: /^(3|34|37)$/,\n      exactPattern: /^3[47]\\d*$/,\n      isAmex: true,\n      gaps: [4, 10],\n      lengths: [15],\n      code: {\n        name: CID,\n        size: 4\n      }\n    };\n\n    types[DINERS_CLUB] = {\n      niceType: 'Diners Club',\n      type: DINERS_CLUB,\n      prefixPattern: /^(3|3[0689]|30[0-5])$/,\n      exactPattern: /^3(0[0-5]|[689])\\d*$/,\n      gaps: [4, 10],\n      lengths: [14, 16, 19],\n      code: {\n        name: CVV,\n        size: 3\n      }\n    };\n\n    types[DISCOVER] = {\n      niceType: 'Discover',\n      type: DISCOVER,\n      prefixPattern: /^(6|60|601|6011|65|64|64[4-9])$/,\n      exactPattern: /^(6011|65|64[4-9])\\d*$/,\n      gaps: [4, 8, 12],\n      lengths: [16, 19],\n      code: {\n        name: CID,\n        size: 3\n      }\n    };\n\n    types[JCB] = {\n      niceType: 'JCB',\n      type: JCB,\n      prefixPattern: /^(2|21|213|2131|1|18|180|1800|3|35)$/,\n      exactPattern: /^(2131|1800|35)\\d*$/,\n      gaps: [4, 8, 12],\n      lengths: [16],\n      code: {\n        name: CVV,\n        size: 3\n      }\n    };\n\n    types[UNIONPAY] = {\n      niceType: 'UnionPay',\n      type: UNIONPAY,\n      prefixPattern: /^((6|62|62\\d|(621(?!83|88|98|99))|622(?!06)|627[02,06,07]|628(?!0|1)|629[1,2])|622018)$/,\n      exactPattern: /^(((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[02,06,07]|628(?!0|1)|629[1,2]))\\d*|622018\\d{12})$/,\n      gaps: [4, 8, 12],\n      lengths: [16, 17, 18, 19],\n      code: {\n        name: CVN,\n        size: 3\n      }\n    };\n\n    types[MAESTRO] = {\n      niceType: 'Maestro',\n      type: MAESTRO,\n      prefixPattern: /^(5|5[06-9]|6\\d*)$/,\n      exactPattern: /^(5[06-9]|6[37])\\d*$/,\n      gaps: [4, 8, 12],\n      lengths: [12, 13, 14, 15, 16, 17, 18, 19],\n      code: {\n        name: CVC,\n        size: 3\n      }\n    };\n\n    function creditCardType(cardNumber) {\n      var type, value, i;\n      var prefixResults = [];\n      var exactResults = [];\n\n      if (!(typeof cardNumber === 'string' || cardNumber instanceof String)) {\n        return [];\n      }\n\n      for (i = 0; i < testOrder.length; i++) {\n        type = testOrder[i];\n        value = types[type];\n\n        if (cardNumber.length === 0) {\n          prefixResults.push(clone(value));\n          continue;\n        }\n\n        if (value.exactPattern.test(cardNumber)) {\n          exactResults.push(clone(value));\n        } else if (value.prefixPattern.test(cardNumber)) {\n          prefixResults.push(clone(value));\n        }\n      }\n\n      return exactResults.length ? exactResults : prefixResults;\n    }\n\n    creditCardType.getTypeInfo = function (type) {\n      return clone(types[type]);\n    };\n\n    creditCardType.types = {\n      VISA: VISA,\n      MASTERCARD: MASTERCARD,\n      AMERICAN_EXPRESS: AMERICAN_EXPRESS,\n      DINERS_CLUB: DINERS_CLUB,\n      DISCOVER: DISCOVER,\n      JCB: JCB,\n      UNIONPAY: UNIONPAY,\n      MAESTRO: MAESTRO\n    };\n\n\n    return cardNumber;\n\n    /**\n     * Card Validator v4.1.0 (https://github.com/braintree/card-validator)\n     */\n    function verification(card, isPotentiallyValid, isValid) {\n      return { card: card, isPotentiallyValid: isPotentiallyValid, isValid: isValid };\n    }\n\n    function cardNumber(value) {\n      var potentialTypes, cardType, isPotentiallyValid, isValid, i, maxLength;\n\n      if (typeof value === 'number') {\n        value = String(value);\n      }\n\n      if (typeof value !== 'string') { return verification(null, false, false); }\n\n      value = value.replace(/\\-|\\s/g, '');\n\n      if (!/^\\d*$/.test(value)) { return verification(null, false, false); }\n\n      potentialTypes = creditCardType(value);\n\n      if (potentialTypes.length === 0) {\n        return verification(null, false, false);\n      } else if (potentialTypes.length !== 1) {\n        return verification(null, true, false);\n      }\n\n      cardType = potentialTypes[0];\n\n      if (cardType.type === 'unionpay') {  // UnionPay is not Luhn 10 compliant\n        isValid = true;\n      } else {\n        isValid = luhn10(value);\n      }\n\n      maxLength = Math.max.apply(null, cardType.lengths);\n\n      for (i = 0; i < cardType.lengths.length; i++) {\n        if (cardType.lengths[i] === value.length) {\n          isPotentiallyValid = value.length !== maxLength || isValid;\n          return verification(cardType, isPotentiallyValid, isValid);\n        }\n      }\n\n      return verification(cardType, value.length < maxLength, false);\n    }\n\n    /**\n     * Luhn algorithm implementation\n     */\n    function luhn10(identifier) {\n      var sum = 0;\n      var alt = false;\n      var i = identifier.length - 1;\n      var num;\n\n      while (i >= 0) {\n        num = parseInt(identifier.charAt(i), 10);\n        if (alt) {\n          num *= 2;\n          if (num > 9) {\n            num = (num % 10) + 1; // eslint-disable-line no-extra-parens\n          }\n        }\n        alt = !alt;\n        sum += num;\n        i--;\n      }\n\n      return sum % 10 === 0;\n    }\n  });\n","/**\n * Options for Billing Frequency in Setup / Recurring Billing\n */\nangular.module('deskworks.billing.optsBillingFrequency', [])\n\n  .factory('optsBillingFrequency', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'monthly', _name: 'RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.MONTHLY', months: 1 },\n      { id: 'quarterly', _name: 'RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.QUARTERLY', months: 3 },\n      { id: 'semiAnnual', _name: 'RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.SEMI_ANNUAL', months: 6 },\n      { id: 'annual', _name: 'RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.ANNUAL', months: 12 },\n      { id: 'asNeeded', _name: 'RECURRING_BILLING.GENERAL.BILLING_FREQUENCY.AS_NEEDED' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Discount Type in Billing / Recurring Billing\n */\nangular.module('deskworks.billing.optsDiscountType', [])\n\n  .factory('optsDiscountType', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 0, _name: 'RECURRING_BILLING.DISCOUNT.TYPE.NO' },\n      { id: 1, _name: 'RECURRING_BILLING.DISCOUNT.TYPE.$' },\n      { id: 2, _name: 'RECURRING_BILLING.DISCOUNT.TYPE.%' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for 'Months of Discount' in Recurring Billing\n */\nangular.module('deskworks.userProfile.optsMonthsOfDiscount', [])\n\n  .factory('optsMonthsOfDiscount', function($rootScope, $translate) { 'use strict';\n    var opts = [{ id: 1, _name: 'RECURRING_BILLING.DISCOUNT.MONTHS.SINGLE' }];\n\n    for(var i = 2; i < 25; i++) {\n      opts.push({ id: i, name: String(i) });\n    }\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts[0].name = $translate.instant(opts[0]._name); }\n\n    return opts;\n  });\n","/**\n * Options for Notice Period in Billing / Recurring Billing\n */\nangular.module('deskworks.billing.optsNoticePeriod', [])\n\n  .factory('optsNoticePeriod', function($rootScope, $filter) { 'use strict';\n    var opts = [\n      { id: 10, name: '10 days' },\n      { id: 15, name: '15 days' },\n      { id: 30, name: '30 days' },\n      { id: 60, name: '60 days' },\n      { id: 90, name: '90 days' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $filter('days')(opt.id); }); }\n\n    return opts;\n  });\n","/**\n * Options for Purchase -> Payment -> Billing Method\n */\nexport default angular.module('deskworks.optsPaymentBillingMethod', [])\n\n  .factory('optsPaymentBillingMethod', function($rootScope, $translate) {\n    const opts = [\n      { id: 'cc', _name: 'PURCHASE.PAYMENT.METHOD.CC', paymentMethodKey: 'creditCards' },\n      { id: 'ach', _name: 'PURCHASE.PAYMENT.METHOD.ACH', paymentMethodKey: 'eChecks' },\n      { id: 'cash', _name: 'PURCHASE.PAYMENT.METHOD.CASH' },\n      { id: 'check', _name: 'PURCHASE.PAYMENT.METHOD.CHECK' },\n      { id: 'writeOff', _name: 'PURCHASE.PAYMENT.METHOD.WRITE_OFF' },\n      { id: 'wireTransfer', _name: 'PURCHASE.PAYMENT.METHOD.WIRE_TRANSFER' },\n      { id: 'other', _name: 'PURCHASE.PAYMENT.METHOD.OTHER' },\n      { id: 'securityDeposit', _name: 'PURCHASE.PAYMENT.METHOD.SECURITY_DEPOSIT' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Recurring Charge Status in Billing / Recurring Billing\n */\nangular.module('deskworks.billing.optsRecurringChargeStatus', [])\n\n  .factory('optsRecurringChargeStatus', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'active', _name: 'RECURRING_BILLING.STATUS_NOTES.STATUS.ACTIVE' },\n      { id: 'inactive', _name: 'RECURRING_BILLING.STATUS_NOTES.STATUS.INACTIVE' },\n      { id: 'deleted', _name: 'RECURRING_BILLING.STATUS_NOTES.STATUS.DELETED' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Recurring Charge Terminate (for billingFrequency 'asNeeded' only) in Billing / Recurring Billing\n */\nangular.module('deskworks.billing.optsRecurringChargeTerminate', [])\n\n  .factory('optsRecurringChargeTerminate', function($rootScope, $translate) { 'use strict';\n    var opts = [\n      { id: 'never', _name: 'RECURRING_BILLING.DATES.TERMINATE.NEVER' },\n      { id: 'usedUp', _name: 'RECURRING_BILLING.DATES.TERMINATE.WHEN_USED_UP' }\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(function(opt) { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Purchase -> Refund -> Billing Method\n */\nexport default angular.module('deskworks.optsRefundBillingMethod', [])\n\n  .factory('optsRefundBillingMethod', function($rootScope, $translate) {\n    const opts = [\n      { id: 'cc', _name: 'PURCHASE.REFUND.METHOD.CC', forceSubmit: true, paymentMethodKey: 'creditCards' },\n      { id: 'ach', _name: 'PURCHASE.REFUND.METHOD.ACH' },\n      { id: 'cash', _name: 'PURCHASE.REFUND.METHOD.CASH' },\n      { id: 'check', _name: 'PURCHASE.REFUND.METHOD.CHECK' },\n      { id: 'writeOff', _name: 'PURCHASE.REFUND.METHOD.WRITE_OFF' },\n      { id: 'other', _name: 'PURCHASE.REFUND.METHOD.OTHER' },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $translate.instant(opt._name); }); }\n\n    return opts;\n  });\n","/**\n * Options for Renewal Notice Period in Billing / Recurring Billing\n */\nangular.module('deskworks.billing.optsRenewalNoticePeriod', [])\n\n  .factory('optsRenewalNoticePeriod', function($rootScope, $filter, $translate) { 'use strict';\n    const opts = [\n      { id: null, _name: 'RECURRING_BILLING.RENEWAL_NOTICE_PERIOD.NO_NOTICE' },\n      { id: 10 },\n      { id: 30 },\n      { id: 37 },\n      { id: 60 },\n      { id: 67 },\n      { id: 90 },\n      { id: 120 },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() {\n      opts.forEach(opt => {\n        opt.name = opt._name ? $translate.instant(opt._name) : $filter('days')(opt.id);\n      });\n    }\n\n    return opts;\n  });\n","/**\n * Options for Renewal Term in Billing / Recurring Billing\n */\nangular.module('deskworks.billing.optsRenewalTerm', [])\n\n  .factory('optsRenewalTerm', function($rootScope, $filter) { 'use strict';\n    const opts = [\n      { id: 1 },\n      { id: 3 },\n      { id: 6 },\n      { id: 12 },\n      { id: 24 },\n    ];\n\n    translate();\n    $rootScope.$on('$setTranslationsSuccess', translate);\n    function translate() { opts.forEach(opt => { opt.name = $filter('months')(opt.id); }); }\n\n    return opts;\n  });\n","export default angular.module('deskworks.purchase.service', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer',\n  'deserializeNumbers',\n])\n\n  .factory('purchaseService', function($resource, $filter, $timeout, deskworksConfig, helper, datesDeserializer, deserializeNumbers) {\n    const desDates = datesDeserializer([\n      'open.firstOpened', 'paid.firstOpened', 'credit.firstOpened',\n      'open.lastModified', 'paid.lastModified', 'credit.lastModified',\n      'items.billedAt', 'items.createdAt', 'billDate', 'dueDate',\n    ]);\n\n    const desNums = deserializeNumbers(['items.amount', 'items.price', 'items.quantity']);\n\n    const resPurchase = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId'), {}, {\n      query: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates, desNums] },\n      update: { method: 'PUT' },\n    });\n    const resPurchaseItem = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/items/:itemId'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resCharge = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/charges'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resDiscount = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/discounts'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resRefund = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/refunds'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resPayment = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/payments'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resDeposit = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/security-deposits'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resStaffHelp = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/staff-helps'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resConsolidate = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/consolidations'), {}, {\n      update: { method: 'PUT' },\n    });\n    const resDiscountCode = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/purchases/:purchaseId/discount-codes'));\n\n    return {\n      /**\n       * Purchase\n       */\n      get: function(centerId, userId, purchaseId, productId) { // productId is for obtaining priceList on server-side during member self-registration\n        return resPurchase.get({ centerId: centerId || 0, userId: userId, purchaseId: purchaseId, productId: productId }).$promise;\n      },\n\n      update: function(centerId, userId, purchaseId, data) {\n        data.billDate = $filter('date')(data.billDate, 'yyyy-MM-dd');\n        data.dueDate = $filter('date')(data.dueDate, 'yyyy-MM-dd');\n        return resPurchase.update({ centerId, userId, purchaseId }, data).$promise;\n      },\n\n      getPurchases: function(centerId, userId) { // TODO: deprecated for the sake of query, get rid of it\n        return resPurchase.query({ centerId: centerId || 0, userId: userId }).$promise;\n      },\n\n      query: function(centerId, userId) { // concatenates open + paid + credit\n        return resPurchase.query({ centerId: centerId || 0, userId: userId }).$promise\n          .then(result => result.open.map(order => (order.type = 'open', order))\n            .concat(result.paid.map(order => (order.type = 'paid', order)))\n            .concat(result.credit.map(order => (order.type = 'credit', order))));\n      },\n\n      createPurchase: function(centerId, userId, registration, productId, attachedReservationUnitId, membershipStartDate) {\n        return resPurchase.save({\n          centerId: centerId || 0,\n          userId: userId,\n          registration: registration,\n          productId: productId || undefined,\n          attachedReservationUnitId: attachedReservationUnitId || undefined,\n          membershipStartDate: membershipStartDate || undefined,\n        }, {}).$promise;\n      },\n\n      createPurchaseForReservation: function(centerId, userId, data) {\n        return resPurchase.save({ centerId: centerId || 0, userId }, data).$promise;\n      },\n\n      /**\n       * Purchase => Charges\n       */\n      createCharge: function(centerId, userId, purchaseId, data, custom, registration, productId) { // registration/productId is for obtaining priceList on server-side during member self-registration\n        return resCharge.save({\n          centerId: centerId || 0,\n          userId: userId,\n          purchaseId: purchaseId,\n          custom: custom,\n          registration: registration || undefined,\n          productId: productId,\n        }, data).$promise;\n      },\n\n      createDiscount: function(centerId, userId, purchaseId, data) {\n        data = angular.extend({}, data);\n        if (moment.isMoment(data.receivedAt)) data.receivedAt = $filter('date')(data.receivedAt, 'yyyy-MM-dd');\n        data.amount = +data.amount;\n        Object.keys(data.assignment || {}).forEach(key => data.assignment[key] = isNaN(+data.assignment[key]) ? 0 : +data.assignment[key] );\n\n        return resDiscount.save({ centerId: centerId || 0, userId: userId, purchaseId: purchaseId }, data).$promise;\n      },\n\n      createRefund: function(centerId, userId, purchaseId, data) {\n        data = angular.extend({}, data);\n        if (moment.isMoment(data.receivedAt)) data.receivedAt = $filter('date')(data.receivedAt, 'yyyy-MM-dd');\n        data.amount = +data.amount;\n\n        return resRefund.save({ centerId: centerId || 0, userId: userId, purchaseId: purchaseId }, data).$promise;\n      },\n\n      /**\n       * Purchase => Items\n       */\n      deletePurchaseItem: function(centerId, userId, purchaseId, itemId) {\n        return resPurchaseItem.delete({\n          centerId: centerId || 0, userId: userId, purchaseId: purchaseId, itemId: itemId,\n        }).$promise;\n      },\n\n      /**\n       * Purchase => Payments\n       */\n      createPayment: function(centerId, userId, purchaseId, data, registration, productId, membershipStartDate) {\n        let obj;\n        if (angular.isObject(centerId)) { obj = centerId; data = userId; }\n\n        data = angular.extend({}, data);\n        if (moment.isMoment(data.receivedAt)) data.receivedAt = $filter('date')(data.receivedAt, 'yyyy-MM-dd');\n        if (data.amount) data.amount = +data.amount;\n\n        return resPayment.save(obj || {\n          centerId: centerId || 0,\n          userId: userId,\n          purchaseId: purchaseId,\n          registration: registration,\n          productId: productId,\n          membershipStartDate: membershipStartDate,\n        }, data).$promise;\n      },\n\n      /**\n       * Purchase => Deposits\n       */\n      createDeposit: function(centerId, userId, purchaseId, data, registration, productId) {\n        data = angular.extend({}, data);\n        if (moment.isMoment(data.receivedAt)) data.receivedAt = $filter('date')(data.receivedAt, 'yyyy-MM-dd');\n        data.amount = +data.amount;\n\n        return resDeposit.save({\n          centerId: centerId || 0,\n          userId: userId,\n          purchaseId: purchaseId,\n          registration: registration,\n          productId: productId,\n        }, data).$promise;\n      },\n\n      /**\n       * Purchase => Staff Help\n       */\n      createStaffHelp: function(centerId, userId, purchaseId, registration, productId) {\n        return resStaffHelp.save({\n          centerId: centerId || 0, userId: userId, purchaseId: purchaseId, registration: registration, productId: productId,\n        }, {}).$promise;\n      },\n\n      /**\n       *\n       * @param params.centerId\n       * @param params.userId\n       * @param params.purchaseId\n       * @param params.code\n       */\n      createDiscountCode: params => {\n        return resDiscountCode.save(helper.pick(params, ['centerId', 'userId', 'purchaseId']), { code: params.code }).$promise;\n      },\n\n      /**\n       * Query purchases to consolidate\n       * @param params.centerId\n       * @param params.userId\n       * @param params.purchaseId\n       * @returns {Resource.$promise}\n       */\n      queryConsolidations: params => resConsolidate.query(params).$promise,\n\n      /**\n       * Purchase => Consolidate Order With Purchase\n       */\n      consolidate: (centerId, userId, purchaseId, sourcePurchaseId) =>\n        resConsolidate.save({ centerId, userId, purchaseId }, { sourcePurchaseId }).$promise,\n    };\n  });\n","angular.module('deskworks.recurringCharge.service', [\n  'ngResource',\n  'deskworks.config',\n  'deskworks.billing.optsBillingFrequency',\n  'deskworks.billing.optsRecurringChargeStatus',\n  'deskworks.billing.optsNoticePeriod',\n  'deskworks.billing.optsDiscountType',\n  'deskworks.userProfile.optsMonthsOfDiscount',\n  'deskworks.billing.optsRecurringChargeTerminate',\n  'datesDeserializer',\n])\n\n  .factory('recurringChargeService', function($resource, $q, $timeout, $filter, deskworksConfig, helper, datesDeserializer,\n                                              optsBillingFrequency, optsRecurringChargeStatus, optsNoticePeriod,\n                                              optsDiscountType, optsMonthsOfDiscount, optsRecurringChargeTerminate, optsRenewalTerm) { 'use strict';\n    const toDate = $filter('toDate');\n    const desDates = datesDeserializer(['lastBillDate', 'nextBillDate', 'entryDate', 'startDate', 'discountStartDate', 'terminate', 'noticeDate', 'renewalDate']);\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/recurring-charges/:recurringId'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] },\n      get: { method: 'GET', isArray: false, transformResponse: [angular.fromJson, desDates] },\n      update: { method: 'PUT' },\n    });\n\n    return {\n\n      /**\n       * Returns new Recurring Charge template\n       */\n      new: () => {\n        const charge = {};\n\n        charge.id = helper.uid();\n        charge.lastBillDate = moment();\n        charge.nextBillDate = moment().add(1, 'M');\n        charge.status = optsRecurringChargeStatus[0];\n        charge.billingFrequency = optsBillingFrequency[0];\n        charge.quantity = 1;\n        charge.entryDate = moment();\n        charge.startDate = moment();\n        charge.noticePeriod = optsNoticePeriod[2];\n        charge.discountType = optsDiscountType[0];\n        charge.discountTrialOccurrences = optsMonthsOfDiscount[0];\n        charge.discountStartDate = moment();\n        charge.renewalDate = moment().add(1, 'M');\n        charge.renewalTerm = optsRenewalTerm[0].id;\n        charge.renewalNoticePeriod = null;\n\n        return charge;\n      },\n\n      isNew: charge => charge && helper.isUid(charge.id),\n\n      save: function(centerId, userId, charge) {\n        const self = this;\n\n        if (helper.isUid(charge.id)) {\n          return res.save({ centerId, userId }, self.unresolve(charge)).$promise\n            .then(result => {\n              charge.id = result.id;\n              return result;\n            });\n        } else {\n          return res.update({ centerId, userId, recurringId: charge.id }, self.unresolve(charge)).$promise;\n        }\n      },\n\n\n      /**\n       * Get Recurring Charges List\n       */\n      query: (centerId, userId) =>\n        res.query({ centerId, userId }).$promise\n          .then(result => {\n            angular.forEach(result, charge => {\n              charge.status = helper.find(optsRecurringChargeStatus, charge.status);\n            });\n            return result;\n          }),\n\n      /**\n       * Get Recurring Charge\n       */\n      get: (centerId, userId, recurringId) =>\n        res.get({ centerId, userId, recurringId }).$promise\n          .then(charge => {\n            charge.userName = charge.memberName;\n\n            // Initializing New Charge\n            if (recurringId === 'new') {\n              charge.lastBillDate = moment();\n              charge.nextBillDate = moment().add(1, 'M');\n              charge.status = optsRecurringChargeStatus[0];\n              charge.billingFrequency = optsBillingFrequency[0];\n              charge.quantity = 1;\n              charge.entryDate = moment();\n              charge.startDate = moment();\n              charge.noticePeriod = optsNoticePeriod[2];\n              charge.discountType = optsDiscountType[0];\n              charge.discountTrialOccurrences = optsMonthsOfDiscount[0];\n              charge.discountStartDate = moment();\n              charge.renewalDate = moment().add(1, 'M');\n              charge.renewalTerm = optsRenewalTerm[0].id;\n              charge.renewalNoticePeriod = null;\n            } else {\n              // Existing Charge, convert strings/IDs to objects\n              charge.status = helper.find(optsRecurringChargeStatus, charge.status);\n\n              charge.priceListProduct = helper.find(charge.options.priceListProducts, charge.priceListProductId);\n              if (charge.priceListProduct) {\n                charge.billingFrequency = helper.find(optsBillingFrequency, charge.priceListProduct.billingFrequency);\n              }\n\n              // charge.startDate = toDate(charge.startDate);\n\n              if (charge.terminate && charge.billingFrequency) {\n                charge.terminate = charge.billingFrequency.id === 'asNeeded' ? helper.find(optsRecurringChargeTerminate, charge.terminate) : charge.terminate;\n              }\n\n              charge.noticePeriod = helper.find(optsNoticePeriod, charge.noticePeriod);\n\n              charge.discountType = helper.find(optsDiscountType, charge.discountTypeId) || optsDiscountType[0];\n              charge.discountTrialOccurrences = helper.find(optsMonthsOfDiscount, charge.discountTrialOccurrences) || optsMonthsOfDiscount[0];\n            }\n\n            return charge;\n          }),\n\n      /**\n       * Create Recurring Charge\n       */\n      createCharge: (centerId, userId, data) => {\n        data.startDate = $filter('date')(data.startDate, 'yyyy-MM-dd');\n        data.lastBillDate = $filter('date')(data.lastBillDate, 'yyyy-MM-dd');\n        data.nextBillDate = $filter('date')(data.nextBillDate, 'yyyy-MM-dd');\n        data.noticeDate = moment.isMoment(data.noticeDate) ? $filter('date')(data.noticeDate, 'yyyy-MM-dd') : data.noticeDate;\n        data.terminate = moment.isMoment(data.terminate) ? $filter('date')(data.terminate, 'yyyy-MM-dd') : data.terminate;\n        data.discountStartDate = $filter('date')(data.discountStartDate, 'yyyy-MM-dd');\n        if (data.renewalDate) data.renewalDate = moment.isMoment(data.renewalDate) ? $filter('date')(data.renewalDate, 'yyyy-MM-dd') : data.renewalDate;\n\n        return res.save({ centerId, userId }, data).$promise;\n      },\n\n      /**\n       * Update Recurring Charge\n       */\n      updateCharge: (centerId, userId, recurringId, data) => {\n        data.startDate = $filter('date')(data.startDate, 'yyyy-MM-dd');\n        data.lastBillDate = $filter('date')(data.lastBillDate, 'yyyy-MM-dd');\n        data.nextBillDate = $filter('date')(data.nextBillDate, 'yyyy-MM-dd');\n        data.noticeDate = moment.isMoment(data.noticeDate) ? $filter('date')(data.noticeDate, 'yyyy-MM-dd') : data.noticeDate;\n        data.terminate = moment.isMoment(data.terminate) ? $filter('date')(data.terminate, 'yyyy-MM-dd') : data.terminate;\n        data.discountStartDate = $filter('date')(data.discountStartDate, 'yyyy-MM-dd');\n        if (data.renewalDate) data.renewalDate = moment.isMoment(data.renewalDate) ? $filter('date')(data.renewalDate, 'yyyy-MM-dd') : data.renewalDate;\n\n        return res.update({ centerId, userId, recurringId }, data).$promise;\n      },\n\n      /**\n       * Delete Recurring Charge\n       */\n      deleteCharge: (centerId, userId, recurringId) =>\n        res.delete({ centerId, userId, recurringId }).$promise,\n\n      /**\n       * Update Recurring Charge with useForCheckInBilling: true\n       */\n      setUseForCheckInBilling: (centerId, userId, recurringId) =>\n        res.update({ centerId, userId, recurringId }, { useForCheckInBilling: true }).$promise,\n\n      /**\n       * Convert resolved Recurring Charge to data ready for POST/PUT\n       */\n      unresolve: charge => {\n        const data = {\n          name: charge.name,\n          priceListProductId: charge.priceListProduct ? charge.priceListProduct.id : null,\n          nextBillDate: $filter('date')(charge.nextBillDate, 'yyyy-MM-dd'),\n          lastBillDate: $filter('date')(charge.lastBillDate, 'yyyy-MM-dd'),\n          noticeDate: $filter('date')(charge.noticeDate, 'yyyy-MM-dd'),\n          terminate: $filter('date')(charge.terminate, 'yyyy-MM-dd'),\n          renewalDate: $filter('date')(charge.renewalDate, 'yyyy-MM-dd'),\n          renewalTerm: charge.renewalTerm,\n          renewalNoticePeriod: charge.renewalNoticePeriod,\n          quantity: charge.quantity,\n          noticePeriod: charge.noticePeriod ? charge.noticePeriod.id : charge.noticePeriod,\n          status: charge.status ? charge.status.id : charge.status,\n          notes: charge.notes,\n          attachedReservationUnitId: charge.attachedReservationUnitId || null,\n        };\n\n        data.discountStartDate = $filter('date')(charge.discountStartDate, 'yyyy-MM-dd');\n\n        if (charge.discountType && charge.discountType.id) {\n          data.discountTypeId = charge.discountType.id;\n          data.discountValue = charge.discountValue;\n          if (charge.discountTrialOccurrences) {\n            data.discountTrialOccurrences = charge.discountTrialOccurrences.id;\n          }\n        } else {\n          data.discountTypeId = 0;\n        }\n\n        return data;\n      }\n    };\n  });\n","export default angular.module('deskworks.SecurityDepositRecord', [\n  'ngResource',\n  'deskworks.config',\n  'datesDeserializer',\n])\n\n  .factory('SecurityDepositRecord', function($resource, deskworksConfig, datesDeserializer) {\n    const desDates = datesDeserializer(['date']);\n\n    const res = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/user-profiles/:userId/security-deposit-records'), {}, {\n      query: { method: 'GET', isArray: true, transformResponse: [angular.fromJson, desDates] },\n    });\n\n    return {\n      query: params => res.query(params).$promise,\n    };\n  });\n","angular.module('deskworks.checkIn.service', [\n\t'ngResource',\n\t'deskworks.config'\n])\n\n\t.factory('checkInService', function($resource, deskworksConfig, helper) {\n\t\t'use strict';\n\n\t\tvar resCheckIn = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/check-in'));\n\t\tvar resCheckOut = $resource(deskworksConfig.getApiAbsUrl('/centers/:centerId/check-out'));\n\n\t\treturn {\n\t\t\tcheckIn: function(centerId, params) {\n\t\t\t\tvar data = {\n\t\t\t\t\taccessCardNumber: params.accessCardNumber || undefined,\n\t\t\t\t\tlogin: params.login || undefined,\n\t\t\t\t\tpassword: params.password || undefined\n\t\t\t\t};\n\n\t\t\t\treturn resCheckIn.save({centerId: centerId}, data).$promise;\n\t\t\t},\n\t\t\tcheckOut: function(centerId, params) {\n\t\t\t\tvar data = {\n\t\t\t\t\taccessCardNumber: params.accessCardNumber || undefined,\n\t\t\t\t\tlogin: params.login || undefined,\n\t\t\t\t\tpassword: params.password || undefined\n\t\t\t\t};\n\n\t\t\t\treturn resCheckOut.save({centerId: centerId}, data).$promise;\n\t\t\t}\n\t\t};\n\t});\n"],"sourceRoot":""}